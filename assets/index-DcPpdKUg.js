var T5=Object.defineProperty;var A5=(t,e,n)=>e in t?T5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var O0=(t,e,n)=>A5(t,typeof e!="symbol"?e+"":e,n);function C5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function la(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var I0={exports:{}},hf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eC;function O5(){if(eC)return hf;eC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return hf.Fragment=e,hf.jsx=n,hf.jsxs=n,hf}var tC;function I5(){return tC||(tC=1,I0.exports=O5()),I0.exports}var _=I5(),N0={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nC;function N5(){if(nC)return Ve;nC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function x(q){return q===null||typeof q!="object"?null:(q=b&&q[b]||q["@@iterator"],typeof q=="function"?q:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function I(q,J,de){this.props=q,this.context=J,this.refs=T,this.updater=de||S}I.prototype.isReactComponent={},I.prototype.setState=function(q,J){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,J,"setState")},I.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function M(){}M.prototype=I.prototype;function j(q,J,de){this.props=q,this.context=J,this.refs=T,this.updater=de||S}var $=j.prototype=new M;$.constructor=j,E($,I.prototype),$.isPureReactComponent=!0;var B=Array.isArray;function F(){}var N={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function k(q,J,de){var ye=de.ref;return{$$typeof:t,type:q,key:J,ref:ye!==void 0?ye:null,props:de}}function U(q,J){return k(q.type,J,q.props)}function L(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function V(q){var J={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(de){return J[de]})}var R=/\/+/g;function ue(q,J){return typeof q=="object"&&q!==null&&q.key!=null?V(""+q.key):J.toString(36)}function pe(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(F,F):(q.status="pending",q.then(function(J){q.status==="pending"&&(q.status="fulfilled",q.value=J)},function(J){q.status==="pending"&&(q.status="rejected",q.reason=J)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function G(q,J,de,ye,be){var Ce=typeof q;(Ce==="undefined"||Ce==="boolean")&&(q=null);var Te=!1;if(q===null)Te=!0;else switch(Ce){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(q.$$typeof){case t:case e:Te=!0;break;case m:return Te=q._init,G(Te(q._payload),J,de,ye,be)}}if(Te)return be=be(q),Te=ye===""?"."+ue(q,0):ye,B(be)?(de="",Te!=null&&(de=Te.replace(R,"$&/")+"/"),G(be,J,de,"",function(Pe){return Pe})):be!=null&&(L(be)&&(be=U(be,de+(be.key==null||q&&q.key===be.key?"":(""+be.key).replace(R,"$&/")+"/")+Te)),J.push(be)),1;Te=0;var et=ye===""?".":ye+":";if(B(q))for(var le=0;le<q.length;le++)ye=q[le],Ce=et+ue(ye,le),Te+=G(ye,J,de,Ce,be);else if(le=x(q),typeof le=="function")for(q=le.call(q),le=0;!(ye=q.next()).done;)ye=ye.value,Ce=et+ue(ye,le++),Te+=G(ye,J,de,Ce,be);else if(Ce==="object"){if(typeof q.then=="function")return G(pe(q),J,de,ye,be);throw J=String(q),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Te}function te(q,J,de){if(q==null)return q;var ye=[],be=0;return G(q,ye,"","",function(Ce){return J.call(de,Ce,be++)}),ye}function se(q){if(q._status===-1){var J=q._result;J=J(),J.then(function(de){(q._status===0||q._status===-1)&&(q._status=1,q._result=de)},function(de){(q._status===0||q._status===-1)&&(q._status=2,q._result=de)}),q._status===-1&&(q._status=0,q._result=J)}if(q._status===1)return q._result.default;throw q._result}var X=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},ve={map:te,forEach:function(q,J,de){te(q,function(){J.apply(this,arguments)},de)},count:function(q){var J=0;return te(q,function(){J++}),J},toArray:function(q){return te(q,function(J){return J})||[]},only:function(q){if(!L(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Ve.Activity=g,Ve.Children=ve,Ve.Component=I,Ve.Fragment=n,Ve.Profiler=i,Ve.PureComponent=j,Ve.StrictMode=r,Ve.Suspense=d,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(q){return N.H.useMemoCache(q)}},Ve.cache=function(q){return function(){return q.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(q,J,de){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ye=E({},q.props),be=q.key;if(J!=null)for(Ce in J.key!==void 0&&(be=""+J.key),J)!P.call(J,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&J.ref===void 0||(ye[Ce]=J[Ce]);var Ce=arguments.length-2;if(Ce===1)ye.children=de;else if(1<Ce){for(var Te=Array(Ce),et=0;et<Ce;et++)Te[et]=arguments[et+2];ye.children=Te}return k(q.type,be,ye)},Ve.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},Ve.createElement=function(q,J,de){var ye,be={},Ce=null;if(J!=null)for(ye in J.key!==void 0&&(Ce=""+J.key),J)P.call(J,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(be[ye]=J[ye]);var Te=arguments.length-2;if(Te===1)be.children=de;else if(1<Te){for(var et=Array(Te),le=0;le<Te;le++)et[le]=arguments[le+2];be.children=et}if(q&&q.defaultProps)for(ye in Te=q.defaultProps,Te)be[ye]===void 0&&(be[ye]=Te[ye]);return k(q,Ce,be)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(q){return{$$typeof:u,render:q}},Ve.isValidElement=L,Ve.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:se}},Ve.memo=function(q,J){return{$$typeof:h,type:q,compare:J===void 0?null:J}},Ve.startTransition=function(q){var J=N.T,de={};N.T=de;try{var ye=q(),be=N.S;be!==null&&be(de,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(F,X)}catch(Ce){X(Ce)}finally{J!==null&&de.types!==null&&(J.types=de.types),N.T=J}},Ve.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ve.use=function(q){return N.H.use(q)},Ve.useActionState=function(q,J,de){return N.H.useActionState(q,J,de)},Ve.useCallback=function(q,J){return N.H.useCallback(q,J)},Ve.useContext=function(q){return N.H.useContext(q)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(q,J){return N.H.useDeferredValue(q,J)},Ve.useEffect=function(q,J){return N.H.useEffect(q,J)},Ve.useEffectEvent=function(q){return N.H.useEffectEvent(q)},Ve.useId=function(){return N.H.useId()},Ve.useImperativeHandle=function(q,J,de){return N.H.useImperativeHandle(q,J,de)},Ve.useInsertionEffect=function(q,J){return N.H.useInsertionEffect(q,J)},Ve.useLayoutEffect=function(q,J){return N.H.useLayoutEffect(q,J)},Ve.useMemo=function(q,J){return N.H.useMemo(q,J)},Ve.useOptimistic=function(q,J){return N.H.useOptimistic(q,J)},Ve.useReducer=function(q,J,de){return N.H.useReducer(q,J,de)},Ve.useRef=function(q){return N.H.useRef(q)},Ve.useState=function(q){return N.H.useState(q)},Ve.useSyncExternalStore=function(q,J,de){return N.H.useSyncExternalStore(q,J,de)},Ve.useTransition=function(){return N.H.useTransition()},Ve.version="19.2.0",Ve}var rC;function Wc(){return rC||(rC=1,N0.exports=N5()),N0.exports}var C=Wc();const up=la(C),R5=C5({__proto__:null,default:up},[C]);var R0={exports:{}},mf={},P0={exports:{}},D0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iC;function P5(){return iC||(iC=1,(function(t){function e(G,te){var se=G.length;G.push(te);e:for(;0<se;){var X=se-1>>>1,ve=G[X];if(0<i(ve,te))G[X]=te,G[se]=ve,se=X;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var te=G[0],se=G.pop();if(se!==te){G[0]=se;e:for(var X=0,ve=G.length,q=ve>>>1;X<q;){var J=2*(X+1)-1,de=G[J],ye=J+1,be=G[ye];if(0>i(de,se))ye<ve&&0>i(be,de)?(G[X]=be,G[ye]=se,X=ye):(G[X]=de,G[J]=se,X=J);else if(ye<ve&&0>i(be,se))G[X]=be,G[ye]=se,X=ye;else break e}}return te}function i(G,te){var se=G.sortIndex-te.sortIndex;return se!==0?se:G.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],m=1,g=null,b=3,x=!1,S=!1,E=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function $(G){for(var te=n(h);te!==null;){if(te.callback===null)r(h);else if(te.startTime<=G)r(h),te.sortIndex=te.expirationTime,e(d,te);else break;te=n(h)}}function B(G){if(E=!1,$(G),!S)if(n(d)!==null)S=!0,F||(F=!0,V());else{var te=n(h);te!==null&&pe(B,te.startTime-G)}}var F=!1,N=-1,P=5,k=-1;function U(){return T?!0:!(t.unstable_now()-k<P)}function L(){if(T=!1,F){var G=t.unstable_now();k=G;var te=!0;try{e:{S=!1,E&&(E=!1,M(N),N=-1),x=!0;var se=b;try{t:{for($(G),g=n(d);g!==null&&!(g.expirationTime>G&&U());){var X=g.callback;if(typeof X=="function"){g.callback=null,b=g.priorityLevel;var ve=X(g.expirationTime<=G);if(G=t.unstable_now(),typeof ve=="function"){g.callback=ve,$(G),te=!0;break t}g===n(d)&&r(d),$(G)}else r(d);g=n(d)}if(g!==null)te=!0;else{var q=n(h);q!==null&&pe(B,q.startTime-G),te=!1}}break e}finally{g=null,b=se,x=!1}te=void 0}}finally{te?V():F=!1}}}var V;if(typeof j=="function")V=function(){j(L)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ue=R.port2;R.port1.onmessage=L,V=function(){ue.postMessage(null)}}else V=function(){I(L,0)};function pe(G,te){N=I(function(){G(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(G){switch(b){case 1:case 2:case 3:var te=3;break;default:te=b}var se=b;b=te;try{return G()}finally{b=se}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var se=b;b=G;try{return te()}finally{b=se}},t.unstable_scheduleCallback=function(G,te,se){var X=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?X+se:X):se=X,G){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=se+ve,G={id:m++,callback:te,priorityLevel:G,startTime:se,expirationTime:ve,sortIndex:-1},se>X?(G.sortIndex=se,e(h,G),n(d)===null&&G===n(h)&&(E?(M(N),N=-1):E=!0,pe(B,se-X))):(G.sortIndex=ve,e(d,G),S||x||(S=!0,F||(F=!0,V()))),G},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(G){var te=b;return function(){var se=b;b=te;try{return G.apply(this,arguments)}finally{b=se}}}})(D0)),D0}var aC;function D5(){return aC||(aC=1,P0.exports=P5()),P0.exports}var M0={exports:{}},zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC;function M5(){if(sC)return zn;sC=1;var t=Wc();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,zn.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(d,h,null,m)},zn.flushSync=function(d){var h=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=m,r.d.f()}},zn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},zn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},zn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,g=u(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:x}):m==="script"&&r.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},zn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},zn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=u(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},zn.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},zn.requestFormReset=function(d){r.d.r(d)},zn.unstable_batchedUpdates=function(d,h){return d(h)},zn.useFormState=function(d,h,m){return l.H.useFormState(d,h,m)},zn.useFormStatus=function(){return l.H.useHostTransitionStatus()},zn.version="19.2.0",zn}var oC;function _P(){if(oC)return M0.exports;oC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),M0.exports=M5(),M0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lC;function j5(){if(lC)return mf;lC=1;var t=D5(),e=Wc(),n=_P();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var c=a,f=o;;){var y=c.return;if(y===null)break;var v=y.alternate;if(v===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===c)return d(y),a;if(v===f)return d(y),o;v=v.sibling}throw Error(r(188))}if(c.return!==f.return)c=y,f=v;else{for(var A=!1,D=y.child;D;){if(D===c){A=!0,c=y,f=v;break}if(D===f){A=!0,f=y,c=v;break}D=D.sibling}if(!A){for(D=v.child;D;){if(D===c){A=!0,c=v,f=y;break}if(D===f){A=!0,f=v,c=y;break}D=D.sibling}if(!A)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:o}function m(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=m(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function V(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var R=Symbol.for("react.client.reference");function ue(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===R?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case I:return"Profiler";case T:return"StrictMode";case B:return"Suspense";case F:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case j:return a.displayName||"Context";case M:return(a._context.displayName||"Context")+".Consumer";case $:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return o=a.displayName||null,o!==null?o:ue(a.type)||"Memo";case P:o=a._payload,a=a._init;try{return ue(a(o))}catch{}}return null}var pe=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},X=[],ve=-1;function q(a){return{current:a}}function J(a){0>ve||(a.current=X[ve],X[ve]=null,ve--)}function de(a,o){ve++,X[ve]=a.current,a.current=o}var ye=q(null),be=q(null),Ce=q(null),Te=q(null);function et(a,o){switch(de(Ce,o),de(be,a),de(ye,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?EA(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=EA(o),a=SA(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}J(ye),de(ye,a)}function le(){J(ye),J(be),J(Ce)}function Pe(a){a.memoizedState!==null&&de(Te,a);var o=ye.current,c=SA(o,a.type);o!==c&&(de(be,a),de(ye,c))}function oe(a){be.current===a&&(J(ye),J(be)),Te.current===a&&(J(Te),cf._currentValue=se)}var ae,Qe;function ze(a){if(ae===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);ae=o&&o[1]||"",Qe=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+a+Qe}var Dt=!1;function At(a,o){if(!a||Dt)return"";Dt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(re){var ee=re}Reflect.construct(a,[],he)}else{try{he.call()}catch(re){ee=re}a.call(he.prototype)}}else{try{throw Error()}catch(re){ee=re}(he=a())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(re){if(re&&ee&&typeof re.stack=="string")return[re.stack,ee.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),A=v[0],D=v[1];if(A&&D){var H=A.split(`
`),Z=D.split(`
`);for(y=f=0;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;for(;y<Z.length&&!Z[y].includes("DetermineComponentFrameRoot");)y++;if(f===H.length||y===Z.length)for(f=H.length-1,y=Z.length-1;1<=f&&0<=y&&H[f]!==Z[y];)y--;for(;1<=f&&0<=y;f--,y--)if(H[f]!==Z[y]){if(f!==1||y!==1)do if(f--,y--,0>y||H[f]!==Z[y]){var ce=`
`+H[f].replace(" at new "," at ");return a.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",a.displayName)),ce}while(1<=f&&0<=y);break}}}finally{Dt=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?ze(c):""}function Ln(a,o){switch(a.tag){case 26:case 27:case 5:return ze(a.type);case 16:return ze("Lazy");case 13:return a.child!==o&&o!==null?ze("Suspense Fallback"):ze("Suspense");case 19:return ze("SuspenseList");case 0:case 15:return At(a.type,!1);case 11:return At(a.type.render,!1);case 1:return At(a.type,!0);case 31:return ze("Activity");default:return""}}function ti(a){try{var o="",c=null;do o+=Ln(a,c),c=a,a=a.return;while(a);return o}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Rt=Object.prototype.hasOwnProperty,Mt=t.unstable_scheduleCallback,ni=t.unstable_cancelCallback,wl=t.unstable_shouldYield,ho=t.unstable_requestPaint,hn=t.unstable_now,Ci=t.unstable_getCurrentPriorityLevel,pr=t.unstable_ImmediatePriority,du=t.unstable_UserBlockingPriority,ss=t.unstable_NormalPriority,Ry=t.unstable_LowPriority,Yd=t.unstable_IdlePriority,Wd=t.log,Xd=t.unstable_setDisableYieldValue,ri=null,Tn=null;function Pr(a){if(typeof Wd=="function"&&Xd(a),Tn&&typeof Tn.setStrictMode=="function")try{Tn.setStrictMode(ri,a)}catch{}}var Lt=Math.clz32?Math.clz32:Zd,Qd=Math.log,El=Math.LN2;function Zd(a){return a>>>=0,a===0?32:31-(Qd(a)/El|0)|0}var Oi=256,mo=262144,Ht=4194304;function Ii(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ni(a,o,c){var f=a.pendingLanes;if(f===0)return 0;var y=0,v=a.suspendedLanes,A=a.pingedLanes;a=a.warmLanes;var D=f&134217727;return D!==0?(f=D&~v,f!==0?y=Ii(f):(A&=D,A!==0?y=Ii(A):c||(c=D&~a,c!==0&&(y=Ii(c))))):(D=f&~v,D!==0?y=Ii(D):A!==0?y=Ii(A):c||(c=f&~a,c!==0&&(y=Ii(c)))),y===0?0:o!==0&&o!==y&&(o&v)===0&&(v=y&-y,c=o&-o,v>=c||v===32&&(c&4194048)!==0)?o:y}function ii(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Py(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jd(){var a=Ht;return Ht<<=1,(Ht&62914560)===0&&(Ht=4194304),a}function Ri(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function po(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Dy(a,o,c,f,y,v){var A=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var D=a.entanglements,H=a.expirationTimes,Z=a.hiddenUpdates;for(c=A&~c;0<c;){var ce=31-Lt(c),he=1<<ce;D[ce]=0,H[ce]=-1;var ee=Z[ce];if(ee!==null)for(Z[ce]=null,ce=0;ce<ee.length;ce++){var re=ee[ce];re!==null&&(re.lane&=-536870913)}c&=~he}f!==0&&go(a,f,0),v!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=v&~(A&~o))}function go(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var f=31-Lt(o);a.entangledLanes|=o,a.entanglements[f]=a.entanglements[f]|1073741824|c&261930}function hu(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var f=31-Lt(c),y=1<<f;y&o|a[f]&o&&(a[f]|=o),c&=~y}}function mu(a,o){var c=o&-o;return c=(c&42)!==0?1:yo(c),(c&(a.suspendedLanes|o))!==0?0:c}function yo(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ca(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function eh(){var a=te.p;return a!==0?a:(a=window.event,a===void 0?32:KA(a.type))}function ai(a,o){var c=te.p;try{return te.p=a,o()}finally{te.p=c}}var si=Math.random().toString(36).slice(2),Gt="__reactFiber$"+si,mn="__reactProps$"+si,Pi="__reactContainer$"+si,Sl="__reactEvents$"+si,My="__reactListeners$"+si,th="__reactHandles$"+si,nh="__reactResources$"+si,Di="__reactMarker$"+si;function Tl(a){delete a[Gt],delete a[mn],delete a[Sl],delete a[My],delete a[th]}function Mi(a){var o=a[Gt];if(o)return o;for(var c=a.parentNode;c;){if(o=c[Pi]||c[Gt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=RA(a);a!==null;){if(c=a[Gt])return c;a=RA(a)}return o}a=c,c=a.parentNode}return null}function Dr(a){if(a=a[Gt]||a[Pi]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function gr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function ji(a){var o=a[nh];return o||(o=a[nh]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Kt(a){a[Di]=!0}var pu=new Set,gu={};function ki(a,o){Li(a,o),Li(a+"Capture",o)}function Li(a,o){for(gu[a]=o,a=0;a<o.length;a++)pu.add(o[a])}var yu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vu={},bu={};function rh(a){return Rt.call(bu,a)?!0:Rt.call(vu,a)?!1:yu.test(a)?bu[a]=!0:(vu[a]=!0,!1)}function Al(a,o,c){if(rh(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function yr(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function Yt(a,o,c,f){if(f===null)a.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+f)}}function pn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function os(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function _u(a,o,c){var f=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,v=f.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(A){c=""+A,v.call(this,A)}}),Object.defineProperty(a,o,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function ot(a){if(!a._valueTracker){var o=os(a)?"checked":"value";a._valueTracker=_u(a,o,""+a[o])}}function vo(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return a&&(f=os(a)?a.checked?"true":"false":a.value),a=f,a!==c?(o.setValue(a),!0):!1}function zi(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var bo=/[\n"\\]/g;function er(a){return a.replace(bo,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Cl(a,o,c,f,y,v,A,D){a.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.type=A:a.removeAttribute("type"),o!=null?A==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+pn(o)):a.value!==""+pn(o)&&(a.value=""+pn(o)):A!=="submit"&&A!=="reset"||a.removeAttribute("value"),o!=null?xu(a,A,pn(o)):c!=null?xu(a,A,pn(c)):f!=null&&a.removeAttribute("value"),y==null&&v!=null&&(a.defaultChecked=!!v),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.name=""+pn(D):a.removeAttribute("name")}function ih(a,o,c,f,y,v,A,D){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),o!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||o!=null)){ot(a);return}c=c!=null?""+pn(c):"",o=o!=null?""+pn(o):c,D||o===a.value||(a.value=o),a.defaultValue=o}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=D?a.checked:!!f,a.defaultChecked=!!f,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.name=A),ot(a)}function xu(a,o,c){o==="number"&&zi(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function ls(a,o,c,f){if(a=a.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=o.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&f&&(a[c].defaultSelected=!0)}else{for(c=""+pn(c),o=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,f&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function ah(a,o,c){if(o!=null&&(o=""+pn(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+pn(c):""}function cs(a,o,c,f){if(o==null){if(f!=null){if(c!=null)throw Error(r(92));if(pe(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),o=c}c=pn(o),a.defaultValue=c,f=a.textContent,f===c&&f!==""&&f!==null&&(a.value=f),ot(a)}function tr(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var sh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wu(a,o,c){var f=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":f?a.setProperty(o,c):typeof c!="number"||c===0||sh.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function Eu(a,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var y in o)f=o[y],o.hasOwnProperty(y)&&c[y]!==f&&wu(a,y,f)}else for(var v in o)o.hasOwnProperty(v)&&wu(a,v,o[v])}function Ol(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Il(a){return us.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function oi(){}var Su=null;function Mr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var fs=null,Vi=null;function _o(a){var o=Dr(a);if(o&&(a=o.stateNode)){var c=a[mn]||null;e:switch(a=o.stateNode,o.type){case"input":if(Cl(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+er(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==a&&f.form===a.form){var y=f[mn]||null;if(!y)throw Error(r(90));Cl(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)f=c[o],f.form===a.form&&vo(f)}break e;case"textarea":ah(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&ls(a,!!c.multiple,o,!1)}}}var Nl=!1;function ds(a,o,c){if(Nl)return a(o,c);Nl=!0;try{var f=a(o);return f}finally{if(Nl=!1,(fs!==null||Vi!==null)&&(em(),fs&&(o=fs,a=Vi,Vi=fs=null,_o(o),a)))for(o=0;o<a.length;o++)_o(a[o])}}function li(a,o){var c=a.stateNode;if(c===null)return null;var f=c[mn]||null;if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xo=!1;if(jr)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){xo=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{xo=!1}var Ui=null,Tu=null,wo=null;function Au(){if(wo)return wo;var a,o=Tu,c=o.length,f,y="value"in Ui?Ui.value:Ui.textContent,v=y.length;for(a=0;a<c&&o[a]===y[a];a++);var A=c-a;for(f=1;f<=A&&o[c-f]===y[v-f];f++);return wo=y.slice(a,1<f?1-f:void 0)}function Eo(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function ua(){return!0}function ci(){return!1}function An(a){function o(c,f,y,v,A){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var D in a)a.hasOwnProperty(D)&&(c=a[D],this[D]=c?c(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ua:ci,this.isPropagationStopped=ci,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ua)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ua)},persist:function(){},isPersistent:ua}),o}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bi=An(fa),hs=g({},fa,{view:0,detail:0}),Cu=An(hs),ms,Rl,qi,Pl=g({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==qi&&(qi&&a.type==="mousemove"?(ms=a.screenX-qi.screenX,Rl=a.screenY-qi.screenY):Rl=ms=0,qi=a),ms)},movementY:function(a){return"movementY"in a?a.movementY:Rl}}),Ou=An(Pl),So=g({},Pl,{dataTransfer:0}),lh=An(So),ch=g({},hs,{relatedTarget:0}),To=An(ch),Iu=g({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),uh=An(Iu),Dl=g({},fa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),fh=An(Dl),dh=g({},fa,{data:0}),$i=An(dh),hh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ph={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gh(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=ph[a])?!!o[a]:!1}function ps(){return gh}var Kn=g({},hs,{key:function(a){if(a.key){var o=hh[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Eo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?mh[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(a){return a.type==="keypress"?Eo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Eo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),yh=An(Kn),vh=g({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),da=An(vh),p=g({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),w=An(p),O=g({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=An(O),W=g({},Pl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=An(W),_e=g({},fa,{newState:0,oldState:0}),Be=An(_e),zt=[9,13,27,32],it=jr&&"CompositionEvent"in window,Ct=null;jr&&"documentMode"in document&&(Ct=document.documentMode);var kr=jr&&"TextEvent"in window&&!Ct,Fi=jr&&(!it||Ct&&8<Ct&&11>=Ct),ui=" ",fi=!1;function Ao(a,o){switch(a){case"keyup":return zt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ml(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var jl=!1;function WL(a,o){switch(a){case"compositionend":return Ml(o);case"keypress":return o.which!==32?null:(fi=!0,ui);case"textInput":return a=o.data,a===ui&&fi?null:a;default:return null}}function XL(a,o){if(jl)return a==="compositionend"||!it&&Ao(a,o)?(a=Au(),wo=Tu=Ui=null,jl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Fi&&o.locale!=="ko"?null:o.data;default:return null}}var QL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ME(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!QL[a.type]:o==="textarea"}function jE(a,o,c,f){fs?Vi?Vi.push(f):Vi=[f]:fs=f,o=om(o,"onChange"),0<o.length&&(c=new Bi("onChange","change",null,c,f),a.push({event:c,listeners:o}))}var Nu=null,Ru=null;function ZL(a){yA(a,0)}function bh(a){var o=gr(a);if(vo(o))return a}function kE(a,o){if(a==="change")return o}var LE=!1;if(jr){var jy;if(jr){var ky="oninput"in document;if(!ky){var zE=document.createElement("div");zE.setAttribute("oninput","return;"),ky=typeof zE.oninput=="function"}jy=ky}else jy=!1;LE=jy&&(!document.documentMode||9<document.documentMode)}function VE(){Nu&&(Nu.detachEvent("onpropertychange",UE),Ru=Nu=null)}function UE(a){if(a.propertyName==="value"&&bh(Ru)){var o=[];jE(o,Ru,a,Mr(a)),ds(ZL,o)}}function JL(a,o,c){a==="focusin"?(VE(),Nu=o,Ru=c,Nu.attachEvent("onpropertychange",UE)):a==="focusout"&&VE()}function e6(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return bh(Ru)}function t6(a,o){if(a==="click")return bh(o)}function n6(a,o){if(a==="input"||a==="change")return bh(o)}function r6(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var vr=typeof Object.is=="function"?Object.is:r6;function Pu(a,o){if(vr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!Rt.call(o,y)||!vr(a[y],o[y]))return!1}return!0}function BE(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function qE(a,o){var c=BE(a);a=0;for(var f;c;){if(c.nodeType===3){if(f=a+c.textContent.length,a<=o&&f>=o)return{node:c,offset:o-a};a=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=BE(c)}}function $E(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?$E(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function FE(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=zi(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=zi(a.document)}return o}function Ly(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var i6=jr&&"documentMode"in document&&11>=document.documentMode,kl=null,zy=null,Du=null,Vy=!1;function HE(a,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Vy||kl==null||kl!==zi(f)||(f=kl,"selectionStart"in f&&Ly(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Du&&Pu(Du,f)||(Du=f,f=om(zy,"onSelect"),0<f.length&&(o=new Bi("onSelect","select",null,o,c),a.push({event:o,listeners:f}),o.target=kl)))}function Co(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var Ll={animationend:Co("Animation","AnimationEnd"),animationiteration:Co("Animation","AnimationIteration"),animationstart:Co("Animation","AnimationStart"),transitionrun:Co("Transition","TransitionRun"),transitionstart:Co("Transition","TransitionStart"),transitioncancel:Co("Transition","TransitionCancel"),transitionend:Co("Transition","TransitionEnd")},Uy={},GE={};jr&&(GE=document.createElement("div").style,"AnimationEvent"in window||(delete Ll.animationend.animation,delete Ll.animationiteration.animation,delete Ll.animationstart.animation),"TransitionEvent"in window||delete Ll.transitionend.transition);function Oo(a){if(Uy[a])return Uy[a];if(!Ll[a])return a;var o=Ll[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in GE)return Uy[a]=o[c];return a}var KE=Oo("animationend"),YE=Oo("animationiteration"),WE=Oo("animationstart"),a6=Oo("transitionrun"),s6=Oo("transitionstart"),o6=Oo("transitioncancel"),XE=Oo("transitionend"),QE=new Map,By="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");By.push("scrollEnd");function di(a,o){QE.set(a,o),ki(o,[a])}var _h=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Lr=[],zl=0,qy=0;function xh(){for(var a=zl,o=qy=zl=0;o<a;){var c=Lr[o];Lr[o++]=null;var f=Lr[o];Lr[o++]=null;var y=Lr[o];Lr[o++]=null;var v=Lr[o];if(Lr[o++]=null,f!==null&&y!==null){var A=f.pending;A===null?y.next=y:(y.next=A.next,A.next=y),f.pending=y}v!==0&&ZE(c,y,v)}}function wh(a,o,c,f){Lr[zl++]=a,Lr[zl++]=o,Lr[zl++]=c,Lr[zl++]=f,qy|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function $y(a,o,c,f){return wh(a,o,c,f),Eh(a)}function Io(a,o){return wh(a,null,null,o),Eh(a)}function ZE(a,o,c){a.lanes|=c;var f=a.alternate;f!==null&&(f.lanes|=c);for(var y=!1,v=a.return;v!==null;)v.childLanes|=c,f=v.alternate,f!==null&&(f.childLanes|=c),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(y=!0)),a=v,v=v.return;return a.tag===3?(v=a.stateNode,y&&o!==null&&(y=31-Lt(c),a=v.hiddenUpdates,f=a[y],f===null?a[y]=[o]:f.push(o),o.lane=c|536870912),v):null}function Eh(a){if(50<tf)throw tf=0,Zv=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Vl={};function l6(a,o,c,f){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(a,o,c,f){return new l6(a,o,c,f)}function Fy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ha(a,o){var c=a.alternate;return c===null?(c=br(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function JE(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Sh(a,o,c,f,y,v){var A=0;if(f=a,typeof a=="function")Fy(a)&&(A=1);else if(typeof a=="string")A=h5(a,c,ye.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=br(31,c,o,y),a.elementType=k,a.lanes=v,a;case E:return No(c.children,y,v,o);case T:A=8,y|=24;break;case I:return a=br(12,c,o,y|2),a.elementType=I,a.lanes=v,a;case B:return a=br(13,c,o,y),a.elementType=B,a.lanes=v,a;case F:return a=br(19,c,o,y),a.elementType=F,a.lanes=v,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case j:A=10;break e;case M:A=9;break e;case $:A=11;break e;case N:A=14;break e;case P:A=16,f=null;break e}A=29,c=Error(r(130,a===null?"null":typeof a,"")),f=null}return o=br(A,c,o,y),o.elementType=a,o.type=f,o.lanes=v,o}function No(a,o,c,f){return a=br(7,a,f,o),a.lanes=c,a}function Hy(a,o,c){return a=br(6,a,null,o),a.lanes=c,a}function eS(a){var o=br(18,null,null,0);return o.stateNode=a,o}function Gy(a,o,c){return o=br(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var tS=new WeakMap;function zr(a,o){if(typeof a=="object"&&a!==null){var c=tS.get(a);return c!==void 0?c:(o={value:a,source:o,stack:ti(o)},tS.set(a,o),o)}return{value:a,source:o,stack:ti(o)}}var Ul=[],Bl=0,Th=null,Mu=0,Vr=[],Ur=0,gs=null,Hi=1,Gi="";function ma(a,o){Ul[Bl++]=Mu,Ul[Bl++]=Th,Th=a,Mu=o}function nS(a,o,c){Vr[Ur++]=Hi,Vr[Ur++]=Gi,Vr[Ur++]=gs,gs=a;var f=Hi;a=Gi;var y=32-Lt(f)-1;f&=~(1<<y),c+=1;var v=32-Lt(o)+y;if(30<v){var A=y-y%5;v=(f&(1<<A)-1).toString(32),f>>=A,y-=A,Hi=1<<32-Lt(o)+y|c<<y|f,Gi=v+a}else Hi=1<<v|c<<y|f,Gi=a}function Ky(a){a.return!==null&&(ma(a,1),nS(a,1,0))}function Yy(a){for(;a===Th;)Th=Ul[--Bl],Ul[Bl]=null,Mu=Ul[--Bl],Ul[Bl]=null;for(;a===gs;)gs=Vr[--Ur],Vr[Ur]=null,Gi=Vr[--Ur],Vr[Ur]=null,Hi=Vr[--Ur],Vr[Ur]=null}function rS(a,o){Vr[Ur++]=Hi,Vr[Ur++]=Gi,Vr[Ur++]=gs,Hi=o.id,Gi=o.overflow,gs=a}var Cn=null,xt=null,Ze=!1,ys=null,Br=!1,Wy=Error(r(519));function vs(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ju(zr(o,a)),Wy}function iS(a){var o=a.stateNode,c=a.type,f=a.memoizedProps;switch(o[Gt]=a,o[mn]=f,c){case"dialog":He("cancel",o),He("close",o);break;case"iframe":case"object":case"embed":He("load",o);break;case"video":case"audio":for(c=0;c<rf.length;c++)He(rf[c],o);break;case"source":He("error",o);break;case"img":case"image":case"link":He("error",o),He("load",o);break;case"details":He("toggle",o);break;case"input":He("invalid",o),ih(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":He("invalid",o);break;case"textarea":He("invalid",o),cs(o,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||f.suppressHydrationWarning===!0||xA(o.textContent,c)?(f.popover!=null&&(He("beforetoggle",o),He("toggle",o)),f.onScroll!=null&&He("scroll",o),f.onScrollEnd!=null&&He("scrollend",o),f.onClick!=null&&(o.onclick=oi),o=!0):o=!1,o||vs(a,!0)}function aS(a){for(Cn=a.return;Cn;)switch(Cn.tag){case 5:case 31:case 13:Br=!1;return;case 27:case 3:Br=!0;return;default:Cn=Cn.return}}function ql(a){if(a!==Cn)return!1;if(!Ze)return aS(a),Ze=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||h0(a.type,a.memoizedProps)),c=!c),c&&xt&&vs(a),aS(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));xt=NA(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));xt=NA(a)}else o===27?(o=xt,Ps(a.type)?(a=v0,v0=null,xt=a):xt=o):xt=Cn?$r(a.stateNode.nextSibling):null;return!0}function Ro(){xt=Cn=null,Ze=!1}function Xy(){var a=ys;return a!==null&&(ar===null?ar=a:ar.push.apply(ar,a),ys=null),a}function ju(a){ys===null?ys=[a]:ys.push(a)}var Qy=q(null),Po=null,pa=null;function bs(a,o,c){de(Qy,o._currentValue),o._currentValue=c}function ga(a){a._currentValue=Qy.current,J(Qy)}function Zy(a,o,c){for(;a!==null;){var f=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),a===c)break;a=a.return}}function Jy(a,o,c,f){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var v=y.dependencies;if(v!==null){var A=y.child;v=v.firstContext;e:for(;v!==null;){var D=v;v=y;for(var H=0;H<o.length;H++)if(D.context===o[H]){v.lanes|=c,D=v.alternate,D!==null&&(D.lanes|=c),Zy(v.return,c,a),f||(A=null);break e}v=D.next}}else if(y.tag===18){if(A=y.return,A===null)throw Error(r(341));A.lanes|=c,v=A.alternate,v!==null&&(v.lanes|=c),Zy(A,c,a),A=null}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===a){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}}function $l(a,o,c,f){a=null;for(var y=o,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var A=y.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var D=y.type;vr(y.pendingProps.value,A.value)||(a!==null?a.push(D):a=[D])}}else if(y===Te.current){if(A=y.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(cf):a=[cf])}y=y.return}a!==null&&Jy(o,a,c,f),o.flags|=262144}function Ah(a){for(a=a.firstContext;a!==null;){if(!vr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Do(a){Po=a,pa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function On(a){return sS(Po,a)}function Ch(a,o){return Po===null&&Do(a),sS(a,o)}function sS(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},pa===null){if(a===null)throw Error(r(308));pa=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else pa=pa.next=o;return c}var c6=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,f){a.push(f)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},u6=t.unstable_scheduleCallback,f6=t.unstable_NormalPriority,Wt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ev(){return{controller:new c6,data:new Map,refCount:0}}function ku(a){a.refCount--,a.refCount===0&&u6(f6,function(){a.controller.abort()})}var Lu=null,tv=0,Fl=0,Hl=null;function d6(a,o){if(Lu===null){var c=Lu=[];tv=0,Fl=i0(),Hl={status:"pending",value:void 0,then:function(f){c.push(f)}}}return tv++,o.then(oS,oS),o}function oS(){if(--tv===0&&Lu!==null){Hl!==null&&(Hl.status="fulfilled");var a=Lu;Lu=null,Fl=0,Hl=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function h6(a,o){var c=[],f={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){f.status="fulfilled",f.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(f.status="rejected",f.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),f}var lS=G.S;G.S=function(a,o){HT=hn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&d6(a,o),lS!==null&&lS(a,o)};var Mo=q(null);function nv(){var a=Mo.current;return a!==null?a:yt.pooledCache}function Oh(a,o){o===null?de(Mo,Mo.current):de(Mo,o.pool)}function cS(){var a=nv();return a===null?null:{parent:Wt._currentValue,pool:a}}var Gl=Error(r(460)),rv=Error(r(474)),Ih=Error(r(542)),Nh={then:function(){}};function uS(a){return a=a.status,a==="fulfilled"||a==="rejected"}function fS(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(oi,oi),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,hS(a),a;default:if(typeof o.status=="string")o.then(oi,oi);else{if(a=yt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(f){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=f}},function(f){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,hS(a),a}throw ko=o,Gl}}function jo(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(ko=c,Gl):c}}var ko=null;function dS(){if(ko===null)throw Error(r(459));var a=ko;return ko=null,a}function hS(a){if(a===Gl||a===Ih)throw Error(r(483))}var Kl=null,zu=0;function Rh(a){var o=zu;return zu+=1,Kl===null&&(Kl=[]),fS(Kl,a,o)}function Vu(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Ph(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function mS(a){function o(Y,K){if(a){var Q=Y.deletions;Q===null?(Y.deletions=[K],Y.flags|=16):Q.push(K)}}function c(Y,K){if(!a)return null;for(;K!==null;)o(Y,K),K=K.sibling;return null}function f(Y){for(var K=new Map;Y!==null;)Y.key!==null?K.set(Y.key,Y):K.set(Y.index,Y),Y=Y.sibling;return K}function y(Y,K){return Y=ha(Y,K),Y.index=0,Y.sibling=null,Y}function v(Y,K,Q){return Y.index=Q,a?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<K?(Y.flags|=67108866,K):Q):(Y.flags|=67108866,K)):(Y.flags|=1048576,K)}function A(Y){return a&&Y.alternate===null&&(Y.flags|=67108866),Y}function D(Y,K,Q,fe){return K===null||K.tag!==6?(K=Hy(Q,Y.mode,fe),K.return=Y,K):(K=y(K,Q),K.return=Y,K)}function H(Y,K,Q,fe){var Ie=Q.type;return Ie===E?ce(Y,K,Q.props.children,fe,Q.key):K!==null&&(K.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===P&&jo(Ie)===K.type)?(K=y(K,Q.props),Vu(K,Q),K.return=Y,K):(K=Sh(Q.type,Q.key,Q.props,null,Y.mode,fe),Vu(K,Q),K.return=Y,K)}function Z(Y,K,Q,fe){return K===null||K.tag!==4||K.stateNode.containerInfo!==Q.containerInfo||K.stateNode.implementation!==Q.implementation?(K=Gy(Q,Y.mode,fe),K.return=Y,K):(K=y(K,Q.children||[]),K.return=Y,K)}function ce(Y,K,Q,fe,Ie){return K===null||K.tag!==7?(K=No(Q,Y.mode,fe,Ie),K.return=Y,K):(K=y(K,Q),K.return=Y,K)}function he(Y,K,Q){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Hy(""+K,Y.mode,Q),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return Q=Sh(K.type,K.key,K.props,null,Y.mode,Q),Vu(Q,K),Q.return=Y,Q;case S:return K=Gy(K,Y.mode,Q),K.return=Y,K;case P:return K=jo(K),he(Y,K,Q)}if(pe(K)||V(K))return K=No(K,Y.mode,Q,null),K.return=Y,K;if(typeof K.then=="function")return he(Y,Rh(K),Q);if(K.$$typeof===j)return he(Y,Ch(Y,K),Q);Ph(Y,K)}return null}function ee(Y,K,Q,fe){var Ie=K!==null?K.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ie!==null?null:D(Y,K,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:return Q.key===Ie?H(Y,K,Q,fe):null;case S:return Q.key===Ie?Z(Y,K,Q,fe):null;case P:return Q=jo(Q),ee(Y,K,Q,fe)}if(pe(Q)||V(Q))return Ie!==null?null:ce(Y,K,Q,fe,null);if(typeof Q.then=="function")return ee(Y,K,Rh(Q),fe);if(Q.$$typeof===j)return ee(Y,K,Ch(Y,Q),fe);Ph(Y,Q)}return null}function re(Y,K,Q,fe,Ie){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Y=Y.get(Q)||null,D(K,Y,""+fe,Ie);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case x:return Y=Y.get(fe.key===null?Q:fe.key)||null,H(K,Y,fe,Ie);case S:return Y=Y.get(fe.key===null?Q:fe.key)||null,Z(K,Y,fe,Ie);case P:return fe=jo(fe),re(Y,K,Q,fe,Ie)}if(pe(fe)||V(fe))return Y=Y.get(Q)||null,ce(K,Y,fe,Ie,null);if(typeof fe.then=="function")return re(Y,K,Q,Rh(fe),Ie);if(fe.$$typeof===j)return re(Y,K,Q,Ch(K,fe),Ie);Ph(K,fe)}return null}function Se(Y,K,Q,fe){for(var Ie=null,tt=null,Ae=K,$e=K=0,Ke=null;Ae!==null&&$e<Q.length;$e++){Ae.index>$e?(Ke=Ae,Ae=null):Ke=Ae.sibling;var nt=ee(Y,Ae,Q[$e],fe);if(nt===null){Ae===null&&(Ae=Ke);break}a&&Ae&&nt.alternate===null&&o(Y,Ae),K=v(nt,K,$e),tt===null?Ie=nt:tt.sibling=nt,tt=nt,Ae=Ke}if($e===Q.length)return c(Y,Ae),Ze&&ma(Y,$e),Ie;if(Ae===null){for(;$e<Q.length;$e++)Ae=he(Y,Q[$e],fe),Ae!==null&&(K=v(Ae,K,$e),tt===null?Ie=Ae:tt.sibling=Ae,tt=Ae);return Ze&&ma(Y,$e),Ie}for(Ae=f(Ae);$e<Q.length;$e++)Ke=re(Ae,Y,$e,Q[$e],fe),Ke!==null&&(a&&Ke.alternate!==null&&Ae.delete(Ke.key===null?$e:Ke.key),K=v(Ke,K,$e),tt===null?Ie=Ke:tt.sibling=Ke,tt=Ke);return a&&Ae.forEach(function(Ls){return o(Y,Ls)}),Ze&&ma(Y,$e),Ie}function De(Y,K,Q,fe){if(Q==null)throw Error(r(151));for(var Ie=null,tt=null,Ae=K,$e=K=0,Ke=null,nt=Q.next();Ae!==null&&!nt.done;$e++,nt=Q.next()){Ae.index>$e?(Ke=Ae,Ae=null):Ke=Ae.sibling;var Ls=ee(Y,Ae,nt.value,fe);if(Ls===null){Ae===null&&(Ae=Ke);break}a&&Ae&&Ls.alternate===null&&o(Y,Ae),K=v(Ls,K,$e),tt===null?Ie=Ls:tt.sibling=Ls,tt=Ls,Ae=Ke}if(nt.done)return c(Y,Ae),Ze&&ma(Y,$e),Ie;if(Ae===null){for(;!nt.done;$e++,nt=Q.next())nt=he(Y,nt.value,fe),nt!==null&&(K=v(nt,K,$e),tt===null?Ie=nt:tt.sibling=nt,tt=nt);return Ze&&ma(Y,$e),Ie}for(Ae=f(Ae);!nt.done;$e++,nt=Q.next())nt=re(Ae,Y,$e,nt.value,fe),nt!==null&&(a&&nt.alternate!==null&&Ae.delete(nt.key===null?$e:nt.key),K=v(nt,K,$e),tt===null?Ie=nt:tt.sibling=nt,tt=nt);return a&&Ae.forEach(function(S5){return o(Y,S5)}),Ze&&ma(Y,$e),Ie}function pt(Y,K,Q,fe){if(typeof Q=="object"&&Q!==null&&Q.type===E&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:e:{for(var Ie=Q.key;K!==null;){if(K.key===Ie){if(Ie=Q.type,Ie===E){if(K.tag===7){c(Y,K.sibling),fe=y(K,Q.props.children),fe.return=Y,Y=fe;break e}}else if(K.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===P&&jo(Ie)===K.type){c(Y,K.sibling),fe=y(K,Q.props),Vu(fe,Q),fe.return=Y,Y=fe;break e}c(Y,K);break}else o(Y,K);K=K.sibling}Q.type===E?(fe=No(Q.props.children,Y.mode,fe,Q.key),fe.return=Y,Y=fe):(fe=Sh(Q.type,Q.key,Q.props,null,Y.mode,fe),Vu(fe,Q),fe.return=Y,Y=fe)}return A(Y);case S:e:{for(Ie=Q.key;K!==null;){if(K.key===Ie)if(K.tag===4&&K.stateNode.containerInfo===Q.containerInfo&&K.stateNode.implementation===Q.implementation){c(Y,K.sibling),fe=y(K,Q.children||[]),fe.return=Y,Y=fe;break e}else{c(Y,K);break}else o(Y,K);K=K.sibling}fe=Gy(Q,Y.mode,fe),fe.return=Y,Y=fe}return A(Y);case P:return Q=jo(Q),pt(Y,K,Q,fe)}if(pe(Q))return Se(Y,K,Q,fe);if(V(Q)){if(Ie=V(Q),typeof Ie!="function")throw Error(r(150));return Q=Ie.call(Q),De(Y,K,Q,fe)}if(typeof Q.then=="function")return pt(Y,K,Rh(Q),fe);if(Q.$$typeof===j)return pt(Y,K,Ch(Y,Q),fe);Ph(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,K!==null&&K.tag===6?(c(Y,K.sibling),fe=y(K,Q),fe.return=Y,Y=fe):(c(Y,K),fe=Hy(Q,Y.mode,fe),fe.return=Y,Y=fe),A(Y)):c(Y,K)}return function(Y,K,Q,fe){try{zu=0;var Ie=pt(Y,K,Q,fe);return Kl=null,Ie}catch(Ae){if(Ae===Gl||Ae===Ih)throw Ae;var tt=br(29,Ae,null,Y.mode);return tt.lanes=fe,tt.return=Y,tt}finally{}}}var Lo=mS(!0),pS=mS(!1),_s=!1;function iv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function av(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function xs(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ws(a,o,c){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(at&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,o=Eh(a),ZE(a,null,c),o}return wh(a,f,o,c),Eh(a)}function Uu(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var f=o.lanes;f&=a.pendingLanes,c|=f,o.lanes=c,hu(a,c)}}function sv(a,o){var c=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?y=v=A:v=v.next=A,c=c.next}while(c!==null);v===null?y=v=o:v=v.next=o}else y=v=o;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var ov=!1;function Bu(){if(ov){var a=Hl;if(a!==null)throw a}}function qu(a,o,c,f){ov=!1;var y=a.updateQueue;_s=!1;var v=y.firstBaseUpdate,A=y.lastBaseUpdate,D=y.shared.pending;if(D!==null){y.shared.pending=null;var H=D,Z=H.next;H.next=null,A===null?v=Z:A.next=Z,A=H;var ce=a.alternate;ce!==null&&(ce=ce.updateQueue,D=ce.lastBaseUpdate,D!==A&&(D===null?ce.firstBaseUpdate=Z:D.next=Z,ce.lastBaseUpdate=H))}if(v!==null){var he=y.baseState;A=0,ce=Z=H=null,D=v;do{var ee=D.lane&-536870913,re=ee!==D.lane;if(re?(Ge&ee)===ee:(f&ee)===ee){ee!==0&&ee===Fl&&(ov=!0),ce!==null&&(ce=ce.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Se=a,De=D;ee=o;var pt=c;switch(De.tag){case 1:if(Se=De.payload,typeof Se=="function"){he=Se.call(pt,he,ee);break e}he=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=De.payload,ee=typeof Se=="function"?Se.call(pt,he,ee):Se,ee==null)break e;he=g({},he,ee);break e;case 2:_s=!0}}ee=D.callback,ee!==null&&(a.flags|=64,re&&(a.flags|=8192),re=y.callbacks,re===null?y.callbacks=[ee]:re.push(ee))}else re={lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ce===null?(Z=ce=re,H=he):ce=ce.next=re,A|=ee;if(D=D.next,D===null){if(D=y.shared.pending,D===null)break;re=D,D=re.next,re.next=null,y.lastBaseUpdate=re,y.shared.pending=null}}while(!0);ce===null&&(H=he),y.baseState=H,y.firstBaseUpdate=Z,y.lastBaseUpdate=ce,v===null&&(y.shared.lanes=0),Cs|=A,a.lanes=A,a.memoizedState=he}}function gS(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function yS(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)gS(c[a],o)}var Yl=q(null),Dh=q(0);function vS(a,o){a=Ta,de(Dh,a),de(Yl,o),Ta=a|o.baseLanes}function lv(){de(Dh,Ta),de(Yl,Yl.current)}function cv(){Ta=Dh.current,J(Yl),J(Dh)}var _r=q(null),qr=null;function Es(a){var o=a.alternate;de(Vt,Vt.current&1),de(_r,a),qr===null&&(o===null||Yl.current!==null||o.memoizedState!==null)&&(qr=a)}function uv(a){de(Vt,Vt.current),de(_r,a),qr===null&&(qr=a)}function bS(a){a.tag===22?(de(Vt,Vt.current),de(_r,a),qr===null&&(qr=a)):Ss()}function Ss(){de(Vt,Vt.current),de(_r,_r.current)}function xr(a){J(_r),qr===a&&(qr=null),J(Vt)}var Vt=q(0);function Mh(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||g0(c)||y0(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ya=0,qe=null,ht=null,Xt=null,jh=!1,Wl=!1,zo=!1,kh=0,$u=0,Xl=null,m6=0;function jt(){throw Error(r(321))}function fv(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!vr(a[c],o[c]))return!1;return!0}function dv(a,o,c,f,y,v){return ya=v,qe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=a===null||a.memoizedState===null?nT:Cv,zo=!1,v=c(f,y),zo=!1,Wl&&(v=xS(o,c,f,y)),_S(a),v}function _S(a){G.H=Gu;var o=ht!==null&&ht.next!==null;if(ya=0,Xt=ht=qe=null,jh=!1,$u=0,Xl=null,o)throw Error(r(300));a===null||Qt||(a=a.dependencies,a!==null&&Ah(a)&&(Qt=!0))}function xS(a,o,c,f){qe=a;var y=0;do{if(Wl&&(Xl=null),$u=0,Wl=!1,25<=y)throw Error(r(301));if(y+=1,Xt=ht=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}G.H=rT,v=o(c,f)}while(Wl);return v}function p6(){var a=G.H,o=a.useState()[0];return o=typeof o.then=="function"?Fu(o):o,a=a.useState()[0],(ht!==null?ht.memoizedState:null)!==a&&(qe.flags|=1024),o}function hv(){var a=kh!==0;return kh=0,a}function mv(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function pv(a){if(jh){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}jh=!1}ya=0,Xt=ht=qe=null,Wl=!1,$u=kh=0,Xl=null}function Yn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?qe.memoizedState=Xt=a:Xt=Xt.next=a,Xt}function Ut(){if(ht===null){var a=qe.alternate;a=a!==null?a.memoizedState:null}else a=ht.next;var o=Xt===null?qe.memoizedState:Xt.next;if(o!==null)Xt=o,ht=a;else{if(a===null)throw qe.alternate===null?Error(r(467)):Error(r(310));ht=a,a={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Xt===null?qe.memoizedState=Xt=a:Xt=Xt.next=a}return Xt}function Lh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fu(a){var o=$u;return $u+=1,Xl===null&&(Xl=[]),a=fS(Xl,a,o),o=qe,(Xt===null?o.memoizedState:Xt.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?nT:Cv),a}function zh(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Fu(a);if(a.$$typeof===j)return On(a)}throw Error(r(438,String(a)))}function gv(a){var o=null,c=qe.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var f=qe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Lh(),qe.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),f=0;f<a;f++)c[f]=U;return o.index++,c}function va(a,o){return typeof o=="function"?o(a):o}function Vh(a){var o=Ut();return yv(o,ht,a)}function yv(a,o,c){var f=a.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=c;var y=a.baseQueue,v=f.pending;if(v!==null){if(y!==null){var A=y.next;y.next=v.next,v.next=A}o.baseQueue=y=v,f.pending=null}if(v=a.baseState,y===null)a.memoizedState=v;else{o=y.next;var D=A=null,H=null,Z=o,ce=!1;do{var he=Z.lane&-536870913;if(he!==Z.lane?(Ge&he)===he:(ya&he)===he){var ee=Z.revertLane;if(ee===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),he===Fl&&(ce=!0);else if((ya&ee)===ee){Z=Z.next,ee===Fl&&(ce=!0);continue}else he={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(D=H=he,A=v):H=H.next=he,qe.lanes|=ee,Cs|=ee;he=Z.action,zo&&c(v,he),v=Z.hasEagerState?Z.eagerState:c(v,he)}else ee={lane:he,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(D=H=ee,A=v):H=H.next=ee,qe.lanes|=he,Cs|=he;Z=Z.next}while(Z!==null&&Z!==o);if(H===null?A=v:H.next=D,!vr(v,a.memoizedState)&&(Qt=!0,ce&&(c=Hl,c!==null)))throw c;a.memoizedState=v,a.baseState=A,a.baseQueue=H,f.lastRenderedState=v}return y===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function vv(a){var o=Ut(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var f=c.dispatch,y=c.pending,v=o.memoizedState;if(y!==null){c.pending=null;var A=y=y.next;do v=a(v,A.action),A=A.next;while(A!==y);vr(v,o.memoizedState)||(Qt=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),c.lastRenderedState=v}return[v,f]}function wS(a,o,c){var f=qe,y=Ut(),v=Ze;if(v){if(c===void 0)throw Error(r(407));c=c()}else c=o();var A=!vr((ht||y).memoizedState,c);if(A&&(y.memoizedState=c,Qt=!0),y=y.queue,xv(TS.bind(null,f,y,a),[a]),y.getSnapshot!==o||A||Xt!==null&&Xt.memoizedState.tag&1){if(f.flags|=2048,Ql(9,{destroy:void 0},SS.bind(null,f,y,c,o),null),yt===null)throw Error(r(349));v||(ya&127)!==0||ES(f,o,c)}return c}function ES(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=qe.updateQueue,o===null?(o=Lh(),qe.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function SS(a,o,c,f){o.value=c,o.getSnapshot=f,AS(o)&&CS(a)}function TS(a,o,c){return c(function(){AS(o)&&CS(a)})}function AS(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!vr(a,c)}catch{return!0}}function CS(a){var o=Io(a,2);o!==null&&sr(o,a,2)}function bv(a){var o=Yn();if(typeof a=="function"){var c=a;if(a=c(),zo){Pr(!0);try{c()}finally{Pr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:a},o}function OS(a,o,c,f){return a.baseState=c,yv(a,ht,typeof f=="function"?f:va)}function g6(a,o,c,f,y){if(qh(a))throw Error(r(485));if(a=o.action,a!==null){var v={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){v.listeners.push(A)}};G.T!==null?c(!0):v.isTransition=!1,f(v),c=o.pending,c===null?(v.next=o.pending=v,IS(o,v)):(v.next=c.next,o.pending=c.next=v)}}function IS(a,o){var c=o.action,f=o.payload,y=a.state;if(o.isTransition){var v=G.T,A={};G.T=A;try{var D=c(y,f),H=G.S;H!==null&&H(A,D),NS(a,o,D)}catch(Z){_v(a,o,Z)}finally{v!==null&&A.types!==null&&(v.types=A.types),G.T=v}}else try{v=c(y,f),NS(a,o,v)}catch(Z){_v(a,o,Z)}}function NS(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){RS(a,o,f)},function(f){return _v(a,o,f)}):RS(a,o,c)}function RS(a,o,c){o.status="fulfilled",o.value=c,PS(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,IS(a,c)))}function _v(a,o,c){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=c,PS(o),o=o.next;while(o!==f)}a.action=null}function PS(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function DS(a,o){return o}function MS(a,o){if(Ze){var c=yt.formState;if(c!==null){e:{var f=qe;if(Ze){if(xt){t:{for(var y=xt,v=Br;y.nodeType!==8;){if(!v){y=null;break t}if(y=$r(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){xt=$r(y.nextSibling),f=y.data==="F!";break e}}vs(f)}f=!1}f&&(o=c[0])}}return c=Yn(),c.memoizedState=c.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:DS,lastRenderedState:o},c.queue=f,c=JS.bind(null,qe,f),f.dispatch=c,f=bv(!1),v=Av.bind(null,qe,!1,f.queue),f=Yn(),y={state:o,dispatch:null,action:a,pending:null},f.queue=y,c=g6.bind(null,qe,y,v,c),y.dispatch=c,f.memoizedState=a,[o,c,!1]}function jS(a){var o=Ut();return kS(o,ht,a)}function kS(a,o,c){if(o=yv(a,o,DS)[0],a=Vh(va)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Fu(o)}catch(A){throw A===Gl?Ih:A}else f=o;o=Ut();var y=o.queue,v=y.dispatch;return c!==o.memoizedState&&(qe.flags|=2048,Ql(9,{destroy:void 0},y6.bind(null,y,c),null)),[f,v,a]}function y6(a,o){a.action=o}function LS(a){var o=Ut(),c=ht;if(c!==null)return kS(o,c,a);Ut(),o=o.memoizedState,c=Ut();var f=c.queue.dispatch;return c.memoizedState=a,[o,f,!1]}function Ql(a,o,c,f){return a={tag:a,create:c,deps:f,inst:o,next:null},o=qe.updateQueue,o===null&&(o=Lh(),qe.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(f=c.next,c.next=a,a.next=f,o.lastEffect=a),a}function zS(){return Ut().memoizedState}function Uh(a,o,c,f){var y=Yn();qe.flags|=a,y.memoizedState=Ql(1|o,{destroy:void 0},c,f===void 0?null:f)}function Bh(a,o,c,f){var y=Ut();f=f===void 0?null:f;var v=y.memoizedState.inst;ht!==null&&f!==null&&fv(f,ht.memoizedState.deps)?y.memoizedState=Ql(o,v,c,f):(qe.flags|=a,y.memoizedState=Ql(1|o,v,c,f))}function VS(a,o){Uh(8390656,8,a,o)}function xv(a,o){Bh(2048,8,a,o)}function v6(a){qe.flags|=4;var o=qe.updateQueue;if(o===null)o=Lh(),qe.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function US(a){var o=Ut().memoizedState;return v6({ref:o,nextImpl:a}),function(){if((at&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function BS(a,o){return Bh(4,2,a,o)}function qS(a,o){return Bh(4,4,a,o)}function $S(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function FS(a,o,c){c=c!=null?c.concat([a]):null,Bh(4,4,$S.bind(null,o,a),c)}function wv(){}function HS(a,o){var c=Ut();o=o===void 0?null:o;var f=c.memoizedState;return o!==null&&fv(o,f[1])?f[0]:(c.memoizedState=[a,o],a)}function GS(a,o){var c=Ut();o=o===void 0?null:o;var f=c.memoizedState;if(o!==null&&fv(o,f[1]))return f[0];if(f=a(),zo){Pr(!0);try{a()}finally{Pr(!1)}}return c.memoizedState=[f,o],f}function Ev(a,o,c){return c===void 0||(ya&1073741824)!==0&&(Ge&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=KT(),qe.lanes|=a,Cs|=a,c)}function KS(a,o,c,f){return vr(c,o)?c:Yl.current!==null?(a=Ev(a,c,f),vr(a,o)||(Qt=!0),a):(ya&42)===0||(ya&1073741824)!==0&&(Ge&261930)===0?(Qt=!0,a.memoizedState=c):(a=KT(),qe.lanes|=a,Cs|=a,o)}function YS(a,o,c,f,y){var v=te.p;te.p=v!==0&&8>v?v:8;var A=G.T,D={};G.T=D,Av(a,!1,o,c);try{var H=y(),Z=G.S;if(Z!==null&&Z(D,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ce=h6(H,f);Hu(a,o,ce,Sr(a))}else Hu(a,o,f,Sr(a))}catch(he){Hu(a,o,{then:function(){},status:"rejected",reason:he},Sr())}finally{te.p=v,A!==null&&D.types!==null&&(A.types=D.types),G.T=A}}function b6(){}function Sv(a,o,c,f){if(a.tag!==5)throw Error(r(476));var y=WS(a).queue;YS(a,y,o,se,c===null?b6:function(){return XS(a),c(f)})}function WS(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:se},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function XS(a){var o=WS(a);o.next===null&&(o=a.alternate.memoizedState),Hu(a,o.next.queue,{},Sr())}function Tv(){return On(cf)}function QS(){return Ut().memoizedState}function ZS(){return Ut().memoizedState}function _6(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=Sr();a=xs(c);var f=ws(o,a,c);f!==null&&(sr(f,o,c),Uu(f,o,c)),o={cache:ev()},a.payload=o;return}o=o.return}}function x6(a,o,c){var f=Sr();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},qh(a)?eT(o,c):(c=$y(a,o,c,f),c!==null&&(sr(c,a,f),tT(c,o,f)))}function JS(a,o,c){var f=Sr();Hu(a,o,c,f)}function Hu(a,o,c,f){var y={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(qh(a))eT(o,y);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var A=o.lastRenderedState,D=v(A,c);if(y.hasEagerState=!0,y.eagerState=D,vr(D,A))return wh(a,o,y,0),yt===null&&xh(),!1}catch{}finally{}if(c=$y(a,o,y,f),c!==null)return sr(c,a,f),tT(c,o,f),!0}return!1}function Av(a,o,c,f){if(f={lane:2,revertLane:i0(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},qh(a)){if(o)throw Error(r(479))}else o=$y(a,c,f,2),o!==null&&sr(o,a,2)}function qh(a){var o=a.alternate;return a===qe||o!==null&&o===qe}function eT(a,o){Wl=jh=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function tT(a,o,c){if((c&4194048)!==0){var f=o.lanes;f&=a.pendingLanes,c|=f,o.lanes=c,hu(a,c)}}var Gu={readContext:On,use:zh,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt};Gu.useEffectEvent=jt;var nT={readContext:On,use:zh,useCallback:function(a,o){return Yn().memoizedState=[a,o===void 0?null:o],a},useContext:On,useEffect:VS,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,Uh(4194308,4,$S.bind(null,o,a),c)},useLayoutEffect:function(a,o){return Uh(4194308,4,a,o)},useInsertionEffect:function(a,o){Uh(4,2,a,o)},useMemo:function(a,o){var c=Yn();o=o===void 0?null:o;var f=a();if(zo){Pr(!0);try{a()}finally{Pr(!1)}}return c.memoizedState=[f,o],f},useReducer:function(a,o,c){var f=Yn();if(c!==void 0){var y=c(o);if(zo){Pr(!0);try{c(o)}finally{Pr(!1)}}}else y=o;return f.memoizedState=f.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},f.queue=a,a=a.dispatch=x6.bind(null,qe,a),[f.memoizedState,a]},useRef:function(a){var o=Yn();return a={current:a},o.memoizedState=a},useState:function(a){a=bv(a);var o=a.queue,c=JS.bind(null,qe,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:wv,useDeferredValue:function(a,o){var c=Yn();return Ev(c,a,o)},useTransition:function(){var a=bv(!1);return a=YS.bind(null,qe,a.queue,!0,!1),Yn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var f=qe,y=Yn();if(Ze){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),yt===null)throw Error(r(349));(Ge&127)!==0||ES(f,o,c)}y.memoizedState=c;var v={value:c,getSnapshot:o};return y.queue=v,VS(TS.bind(null,f,v,a),[a]),f.flags|=2048,Ql(9,{destroy:void 0},SS.bind(null,f,v,c,o),null),c},useId:function(){var a=Yn(),o=yt.identifierPrefix;if(Ze){var c=Gi,f=Hi;c=(f&~(1<<32-Lt(f)-1)).toString(32)+c,o="_"+o+"R_"+c,c=kh++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=m6++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Tv,useFormState:MS,useActionState:MS,useOptimistic:function(a){var o=Yn();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Av.bind(null,qe,!0,c),c.dispatch=o,[a,o]},useMemoCache:gv,useCacheRefresh:function(){return Yn().memoizedState=_6.bind(null,qe)},useEffectEvent:function(a){var o=Yn(),c={impl:a};return o.memoizedState=c,function(){if((at&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Cv={readContext:On,use:zh,useCallback:HS,useContext:On,useEffect:xv,useImperativeHandle:FS,useInsertionEffect:BS,useLayoutEffect:qS,useMemo:GS,useReducer:Vh,useRef:zS,useState:function(){return Vh(va)},useDebugValue:wv,useDeferredValue:function(a,o){var c=Ut();return KS(c,ht.memoizedState,a,o)},useTransition:function(){var a=Vh(va)[0],o=Ut().memoizedState;return[typeof a=="boolean"?a:Fu(a),o]},useSyncExternalStore:wS,useId:QS,useHostTransitionStatus:Tv,useFormState:jS,useActionState:jS,useOptimistic:function(a,o){var c=Ut();return OS(c,ht,a,o)},useMemoCache:gv,useCacheRefresh:ZS};Cv.useEffectEvent=US;var rT={readContext:On,use:zh,useCallback:HS,useContext:On,useEffect:xv,useImperativeHandle:FS,useInsertionEffect:BS,useLayoutEffect:qS,useMemo:GS,useReducer:vv,useRef:zS,useState:function(){return vv(va)},useDebugValue:wv,useDeferredValue:function(a,o){var c=Ut();return ht===null?Ev(c,a,o):KS(c,ht.memoizedState,a,o)},useTransition:function(){var a=vv(va)[0],o=Ut().memoizedState;return[typeof a=="boolean"?a:Fu(a),o]},useSyncExternalStore:wS,useId:QS,useHostTransitionStatus:Tv,useFormState:LS,useActionState:LS,useOptimistic:function(a,o){var c=Ut();return ht!==null?OS(c,ht,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:gv,useCacheRefresh:ZS};rT.useEffectEvent=US;function Ov(a,o,c,f){o=a.memoizedState,c=c(f,o),c=c==null?o:g({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Iv={enqueueSetState:function(a,o,c){a=a._reactInternals;var f=Sr(),y=xs(f);y.payload=o,c!=null&&(y.callback=c),o=ws(a,y,f),o!==null&&(sr(o,a,f),Uu(o,a,f))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var f=Sr(),y=xs(f);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=ws(a,y,f),o!==null&&(sr(o,a,f),Uu(o,a,f))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=Sr(),f=xs(c);f.tag=2,o!=null&&(f.callback=o),o=ws(a,f,c),o!==null&&(sr(o,a,c),Uu(o,a,c))}};function iT(a,o,c,f,y,v,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,v,A):o.prototype&&o.prototype.isPureReactComponent?!Pu(c,f)||!Pu(y,v):!0}function aT(a,o,c,f){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==a&&Iv.enqueueReplaceState(o,o.state,null)}function Vo(a,o){var c=o;if("ref"in o){c={};for(var f in o)f!=="ref"&&(c[f]=o[f])}if(a=a.defaultProps){c===o&&(c=g({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function sT(a){_h(a)}function oT(a){console.error(a)}function lT(a){_h(a)}function $h(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function cT(a,o,c){try{var f=a.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Nv(a,o,c){return c=xs(c),c.tag=3,c.payload={element:null},c.callback=function(){$h(a,o)},c}function uT(a){return a=xs(a),a.tag=3,a}function fT(a,o,c,f){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var v=f.value;a.payload=function(){return y(v)},a.callback=function(){cT(o,c,f)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(a.callback=function(){cT(o,c,f),typeof y!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var D=f.stack;this.componentDidCatch(f.value,{componentStack:D!==null?D:""})})}function w6(a,o,c,f,y){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=c.alternate,o!==null&&$l(o,c,y,!0),c=_r.current,c!==null){switch(c.tag){case 31:case 13:return qr===null?tm():c.alternate===null&&kt===0&&(kt=3),c.flags&=-257,c.flags|=65536,c.lanes=y,f===Nh?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([f]):o.add(f),t0(a,f,y)),!1;case 22:return c.flags|=65536,f===Nh?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([f]):c.add(f)),t0(a,f,y)),!1}throw Error(r(435,c.tag))}return t0(a,f,y),tm(),!1}if(Ze)return o=_r.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,f!==Wy&&(a=Error(r(422),{cause:f}),ju(zr(a,c)))):(f!==Wy&&(o=Error(r(423),{cause:f}),ju(zr(o,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,f=zr(f,c),y=Nv(a.stateNode,f,y),sv(a,y),kt!==4&&(kt=2)),!1;var v=Error(r(520),{cause:f});if(v=zr(v,c),ef===null?ef=[v]:ef.push(v),kt!==4&&(kt=2),o===null)return!0;f=zr(f,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=Nv(c.stateNode,f,a),sv(c,a),!1;case 1:if(o=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Os===null||!Os.has(v))))return c.flags|=65536,y&=-y,c.lanes|=y,y=uT(y),fT(y,a,c,f),sv(c,y),!1}c=c.return}while(c!==null);return!1}var Rv=Error(r(461)),Qt=!1;function In(a,o,c,f){o.child=a===null?pS(o,null,c,f):Lo(o,a.child,c,f)}function dT(a,o,c,f,y){c=c.render;var v=o.ref;if("ref"in f){var A={};for(var D in f)D!=="ref"&&(A[D]=f[D])}else A=f;return Do(o),f=dv(a,o,c,A,v,y),D=hv(),a!==null&&!Qt?(mv(a,o,y),ba(a,o,y)):(Ze&&D&&Ky(o),o.flags|=1,In(a,o,f,y),o.child)}function hT(a,o,c,f,y){if(a===null){var v=c.type;return typeof v=="function"&&!Fy(v)&&v.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=v,mT(a,o,v,f,y)):(a=Sh(c.type,null,f,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(v=a.child,!Vv(a,y)){var A=v.memoizedProps;if(c=c.compare,c=c!==null?c:Pu,c(A,f)&&a.ref===o.ref)return ba(a,o,y)}return o.flags|=1,a=ha(v,f),a.ref=o.ref,a.return=o,o.child=a}function mT(a,o,c,f,y){if(a!==null){var v=a.memoizedProps;if(Pu(v,f)&&a.ref===o.ref)if(Qt=!1,o.pendingProps=f=v,Vv(a,y))(a.flags&131072)!==0&&(Qt=!0);else return o.lanes=a.lanes,ba(a,o,y)}return Pv(a,o,c,f,y)}function pT(a,o,c,f){var y=f.children,v=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((o.flags&128)!==0){if(v=v!==null?v.baseLanes|c:c,a!==null){for(f=o.child=a.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;f=y&~v}else f=0,o.child=null;return gT(a,o,v,c,f)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Oh(o,v!==null?v.cachePool:null),v!==null?vS(o,v):lv(),bS(o);else return f=o.lanes=536870912,gT(a,o,v!==null?v.baseLanes|c:c,c,f)}else v!==null?(Oh(o,v.cachePool),vS(o,v),Ss(),o.memoizedState=null):(a!==null&&Oh(o,null),lv(),Ss());return In(a,o,y,c),o.child}function Ku(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function gT(a,o,c,f,y){var v=nv();return v=v===null?null:{parent:Wt._currentValue,pool:v},o.memoizedState={baseLanes:c,cachePool:v},a!==null&&Oh(o,null),lv(),bS(o),a!==null&&$l(a,o,f,!0),o.childLanes=y,null}function Fh(a,o){return o=Gh({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function yT(a,o,c){return Lo(o,a.child,null,c),a=Fh(o,o.pendingProps),a.flags|=2,xr(o),o.memoizedState=null,a}function E6(a,o,c){var f=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Ze){if(f.mode==="hidden")return a=Fh(o,f),o.lanes=536870912,Ku(null,a);if(uv(o),(a=xt)?(a=IA(a,Br),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:gs!==null?{id:Hi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},c=eS(a),c.return=o,o.child=c,Cn=o,xt=null)):a=null,a===null)throw vs(o);return o.lanes=536870912,null}return Fh(o,f)}var v=a.memoizedState;if(v!==null){var A=v.dehydrated;if(uv(o),y)if(o.flags&256)o.flags&=-257,o=yT(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Qt||$l(a,o,c,!1),y=(c&a.childLanes)!==0,Qt||y){if(f=yt,f!==null&&(A=mu(f,c),A!==0&&A!==v.retryLane))throw v.retryLane=A,Io(a,A),sr(f,a,A),Rv;tm(),o=yT(a,o,c)}else a=v.treeContext,xt=$r(A.nextSibling),Cn=o,Ze=!0,ys=null,Br=!1,a!==null&&rS(o,a),o=Fh(o,f),o.flags|=4096;return o}return a=ha(a.child,{mode:f.mode,children:f.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Hh(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function Pv(a,o,c,f,y){return Do(o),c=dv(a,o,c,f,void 0,y),f=hv(),a!==null&&!Qt?(mv(a,o,y),ba(a,o,y)):(Ze&&f&&Ky(o),o.flags|=1,In(a,o,c,y),o.child)}function vT(a,o,c,f,y,v){return Do(o),o.updateQueue=null,c=xS(o,f,c,y),_S(a),f=hv(),a!==null&&!Qt?(mv(a,o,v),ba(a,o,v)):(Ze&&f&&Ky(o),o.flags|=1,In(a,o,c,v),o.child)}function bT(a,o,c,f,y){if(Do(o),o.stateNode===null){var v=Vl,A=c.contextType;typeof A=="object"&&A!==null&&(v=On(A)),v=new c(f,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Iv,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=f,v.state=o.memoizedState,v.refs={},iv(o),A=c.contextType,v.context=typeof A=="object"&&A!==null?On(A):Vl,v.state=o.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(Ov(o,c,A,f),v.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(A=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),A!==v.state&&Iv.enqueueReplaceState(v,v.state,null),qu(o,f,v,y),Bu(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(a===null){v=o.stateNode;var D=o.memoizedProps,H=Vo(c,D);v.props=H;var Z=v.context,ce=c.contextType;A=Vl,typeof ce=="object"&&ce!==null&&(A=On(ce));var he=c.getDerivedStateFromProps;ce=typeof he=="function"||typeof v.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,ce||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D||Z!==A)&&aT(o,v,f,A),_s=!1;var ee=o.memoizedState;v.state=ee,qu(o,f,v,y),Bu(),Z=o.memoizedState,D||ee!==Z||_s?(typeof he=="function"&&(Ov(o,c,he,f),Z=o.memoizedState),(H=_s||iT(o,c,H,f,ee,Z,A))?(ce||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=Z),v.props=f,v.state=Z,v.context=A,f=H):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{v=o.stateNode,av(a,o),A=o.memoizedProps,ce=Vo(c,A),v.props=ce,he=o.pendingProps,ee=v.context,Z=c.contextType,H=Vl,typeof Z=="object"&&Z!==null&&(H=On(Z)),D=c.getDerivedStateFromProps,(Z=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==he||ee!==H)&&aT(o,v,f,H),_s=!1,ee=o.memoizedState,v.state=ee,qu(o,f,v,y),Bu();var re=o.memoizedState;A!==he||ee!==re||_s||a!==null&&a.dependencies!==null&&Ah(a.dependencies)?(typeof D=="function"&&(Ov(o,c,D,f),re=o.memoizedState),(ce=_s||iT(o,c,ce,f,ee,re,H)||a!==null&&a.dependencies!==null&&Ah(a.dependencies))?(Z||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,re,H),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,re,H)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===a.memoizedProps&&ee===a.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&ee===a.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=re),v.props=f,v.state=re,v.context=H,f=ce):(typeof v.componentDidUpdate!="function"||A===a.memoizedProps&&ee===a.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&ee===a.memoizedState||(o.flags|=1024),f=!1)}return v=f,Hh(a,o),f=(o.flags&128)!==0,v||f?(v=o.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,a!==null&&f?(o.child=Lo(o,a.child,null,y),o.child=Lo(o,null,c,y)):In(a,o,c,y),o.memoizedState=v.state,a=o.child):a=ba(a,o,y),a}function _T(a,o,c,f){return Ro(),o.flags|=256,In(a,o,c,f),o.child}var Dv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mv(a){return{baseLanes:a,cachePool:cS()}}function jv(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=Er),a}function xT(a,o,c){var f=o.pendingProps,y=!1,v=(o.flags&128)!==0,A;if((A=v)||(A=a!==null&&a.memoizedState===null?!1:(Vt.current&2)!==0),A&&(y=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,a===null){if(Ze){if(y?Es(o):Ss(),(a=xt)?(a=IA(a,Br),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:gs!==null?{id:Hi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},c=eS(a),c.return=o,o.child=c,Cn=o,xt=null)):a=null,a===null)throw vs(o);return y0(a)?o.lanes=32:o.lanes=536870912,null}var D=f.children;return f=f.fallback,y?(Ss(),y=o.mode,D=Gh({mode:"hidden",children:D},y),f=No(f,y,c,null),D.return=o,f.return=o,D.sibling=f,o.child=D,f=o.child,f.memoizedState=Mv(c),f.childLanes=jv(a,A,c),o.memoizedState=Dv,Ku(null,f)):(Es(o),kv(o,D))}var H=a.memoizedState;if(H!==null&&(D=H.dehydrated,D!==null)){if(v)o.flags&256?(Es(o),o.flags&=-257,o=Lv(a,o,c)):o.memoizedState!==null?(Ss(),o.child=a.child,o.flags|=128,o=null):(Ss(),D=f.fallback,y=o.mode,f=Gh({mode:"visible",children:f.children},y),D=No(D,y,c,null),D.flags|=2,f.return=o,D.return=o,f.sibling=D,o.child=f,Lo(o,a.child,null,c),f=o.child,f.memoizedState=Mv(c),f.childLanes=jv(a,A,c),o.memoizedState=Dv,o=Ku(null,f));else if(Es(o),y0(D)){if(A=D.nextSibling&&D.nextSibling.dataset,A)var Z=A.dgst;A=Z,f=Error(r(419)),f.stack="",f.digest=A,ju({value:f,source:null,stack:null}),o=Lv(a,o,c)}else if(Qt||$l(a,o,c,!1),A=(c&a.childLanes)!==0,Qt||A){if(A=yt,A!==null&&(f=mu(A,c),f!==0&&f!==H.retryLane))throw H.retryLane=f,Io(a,f),sr(A,a,f),Rv;g0(D)||tm(),o=Lv(a,o,c)}else g0(D)?(o.flags|=192,o.child=a.child,o=null):(a=H.treeContext,xt=$r(D.nextSibling),Cn=o,Ze=!0,ys=null,Br=!1,a!==null&&rS(o,a),o=kv(o,f.children),o.flags|=4096);return o}return y?(Ss(),D=f.fallback,y=o.mode,H=a.child,Z=H.sibling,f=ha(H,{mode:"hidden",children:f.children}),f.subtreeFlags=H.subtreeFlags&65011712,Z!==null?D=ha(Z,D):(D=No(D,y,c,null),D.flags|=2),D.return=o,f.return=o,f.sibling=D,o.child=f,Ku(null,f),f=o.child,D=a.child.memoizedState,D===null?D=Mv(c):(y=D.cachePool,y!==null?(H=Wt._currentValue,y=y.parent!==H?{parent:H,pool:H}:y):y=cS(),D={baseLanes:D.baseLanes|c,cachePool:y}),f.memoizedState=D,f.childLanes=jv(a,A,c),o.memoizedState=Dv,Ku(a.child,f)):(Es(o),c=a.child,a=c.sibling,c=ha(c,{mode:"visible",children:f.children}),c.return=o,c.sibling=null,a!==null&&(A=o.deletions,A===null?(o.deletions=[a],o.flags|=16):A.push(a)),o.child=c,o.memoizedState=null,c)}function kv(a,o){return o=Gh({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Gh(a,o){return a=br(22,a,null,o),a.lanes=0,a}function Lv(a,o,c){return Lo(o,a.child,null,c),a=kv(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function wT(a,o,c){a.lanes|=o;var f=a.alternate;f!==null&&(f.lanes|=o),Zy(a.return,o,c)}function zv(a,o,c,f,y,v){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y,treeForkCount:v}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=f,A.tail=c,A.tailMode=y,A.treeForkCount=v)}function ET(a,o,c){var f=o.pendingProps,y=f.revealOrder,v=f.tail;f=f.children;var A=Vt.current,D=(A&2)!==0;if(D?(A=A&1|2,o.flags|=128):A&=1,de(Vt,A),In(a,o,f,c),f=Ze?Mu:0,!D&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&wT(a,c,o);else if(a.tag===19)wT(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=o.child,y=null;c!==null;)a=c.alternate,a!==null&&Mh(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),zv(o,!1,y,c,v,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&Mh(a)===null){o.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}zv(o,!0,c,null,v,f);break;case"together":zv(o,!1,null,null,void 0,f);break;default:o.memoizedState=null}return o.child}function ba(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),Cs|=o.lanes,(c&o.childLanes)===0)if(a!==null){if($l(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,c=ha(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=ha(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function Vv(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Ah(a)))}function S6(a,o,c){switch(o.tag){case 3:et(o,o.stateNode.containerInfo),bs(o,Wt,a.memoizedState.cache),Ro();break;case 27:case 5:Pe(o);break;case 4:et(o,o.stateNode.containerInfo);break;case 10:bs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,uv(o),null;break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Es(o),o.flags|=128,null):(c&o.child.childLanes)!==0?xT(a,o,c):(Es(o),a=ba(a,o,c),a!==null?a.sibling:null);Es(o);break;case 19:var y=(a.flags&128)!==0;if(f=(c&o.childLanes)!==0,f||($l(a,o,c,!1),f=(c&o.childLanes)!==0),y){if(f)return ET(a,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),de(Vt,Vt.current),f)break;return null;case 22:return o.lanes=0,pT(a,o,c,o.pendingProps);case 24:bs(o,Wt,a.memoizedState.cache)}return ba(a,o,c)}function ST(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)Qt=!0;else{if(!Vv(a,c)&&(o.flags&128)===0)return Qt=!1,S6(a,o,c);Qt=(a.flags&131072)!==0}else Qt=!1,Ze&&(o.flags&1048576)!==0&&nS(o,Mu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var f=o.pendingProps;if(a=jo(o.elementType),o.type=a,typeof a=="function")Fy(a)?(f=Vo(a,f),o.tag=1,o=bT(null,o,a,f,c)):(o.tag=0,o=Pv(null,o,a,f,c));else{if(a!=null){var y=a.$$typeof;if(y===$){o.tag=11,o=dT(null,o,a,f,c);break e}else if(y===N){o.tag=14,o=hT(null,o,a,f,c);break e}}throw o=ue(a)||a,Error(r(306,o,""))}}return o;case 0:return Pv(a,o,o.type,o.pendingProps,c);case 1:return f=o.type,y=Vo(f,o.pendingProps),bT(a,o,f,y,c);case 3:e:{if(et(o,o.stateNode.containerInfo),a===null)throw Error(r(387));f=o.pendingProps;var v=o.memoizedState;y=v.element,av(a,o),qu(o,f,null,c);var A=o.memoizedState;if(f=A.cache,bs(o,Wt,f),f!==v.cache&&Jy(o,[Wt],c,!0),Bu(),f=A.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=_T(a,o,f,c);break e}else if(f!==y){y=zr(Error(r(424)),o),ju(y),o=_T(a,o,f,c);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(xt=$r(a.firstChild),Cn=o,Ze=!0,ys=null,Br=!0,c=pS(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ro(),f===y){o=ba(a,o,c);break e}In(a,o,f,c)}o=o.child}return o;case 26:return Hh(a,o),a===null?(c=jA(o.type,null,o.pendingProps,null))?o.memoizedState=c:Ze||(c=o.type,a=o.pendingProps,f=lm(Ce.current).createElement(c),f[Gt]=o,f[mn]=a,Nn(f,c,a),Kt(f),o.stateNode=f):o.memoizedState=jA(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Pe(o),a===null&&Ze&&(f=o.stateNode=PA(o.type,o.pendingProps,Ce.current),Cn=o,Br=!0,y=xt,Ps(o.type)?(v0=y,xt=$r(f.firstChild)):xt=y),In(a,o,o.pendingProps.children,c),Hh(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Ze&&((y=f=xt)&&(f=e5(f,o.type,o.pendingProps,Br),f!==null?(o.stateNode=f,Cn=o,xt=$r(f.firstChild),Br=!1,y=!0):y=!1),y||vs(o)),Pe(o),y=o.type,v=o.pendingProps,A=a!==null?a.memoizedProps:null,f=v.children,h0(y,v)?f=null:A!==null&&h0(y,A)&&(o.flags|=32),o.memoizedState!==null&&(y=dv(a,o,p6,null,null,c),cf._currentValue=y),Hh(a,o),In(a,o,f,c),o.child;case 6:return a===null&&Ze&&((a=c=xt)&&(c=t5(c,o.pendingProps,Br),c!==null?(o.stateNode=c,Cn=o,xt=null,a=!0):a=!1),a||vs(o)),null;case 13:return xT(a,o,c);case 4:return et(o,o.stateNode.containerInfo),f=o.pendingProps,a===null?o.child=Lo(o,null,f,c):In(a,o,f,c),o.child;case 11:return dT(a,o,o.type,o.pendingProps,c);case 7:return In(a,o,o.pendingProps,c),o.child;case 8:return In(a,o,o.pendingProps.children,c),o.child;case 12:return In(a,o,o.pendingProps.children,c),o.child;case 10:return f=o.pendingProps,bs(o,o.type,f.value),In(a,o,f.children,c),o.child;case 9:return y=o.type._context,f=o.pendingProps.children,Do(o),y=On(y),f=f(y),o.flags|=1,In(a,o,f,c),o.child;case 14:return hT(a,o,o.type,o.pendingProps,c);case 15:return mT(a,o,o.type,o.pendingProps,c);case 19:return ET(a,o,c);case 31:return E6(a,o,c);case 22:return pT(a,o,c,o.pendingProps);case 24:return Do(o),f=On(Wt),a===null?(y=nv(),y===null&&(y=yt,v=ev(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=c),y=v),o.memoizedState={parent:f,cache:y},iv(o),bs(o,Wt,y)):((a.lanes&c)!==0&&(av(a,o),qu(o,null,null,c),Bu()),y=a.memoizedState,v=o.memoizedState,y.parent!==f?(y={parent:f,cache:f},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),bs(o,Wt,f)):(f=v.cache,bs(o,Wt,f),f!==y.cache&&Jy(o,[Wt],c,!0))),In(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function _a(a){a.flags|=4}function Uv(a,o,c,f,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(QT())a.flags|=8192;else throw ko=Nh,rv}else a.flags&=-16777217}function TT(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!UA(o))if(QT())a.flags|=8192;else throw ko=Nh,rv}function Kh(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Jd():536870912,a.lanes|=o,tc|=o)}function Yu(a,o){if(!Ze)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function wt(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,f=0;if(o)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=f,a.childLanes=c,o}function T6(a,o,c){var f=o.pendingProps;switch(Yy(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(o),null;case 1:return wt(o),null;case 3:return c=o.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),ga(Wt),le(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(ql(o)?_a(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Xy())),wt(o),null;case 26:var y=o.type,v=o.memoizedState;return a===null?(_a(o),v!==null?(wt(o),TT(o,v)):(wt(o),Uv(o,y,null,f,c))):v?v!==a.memoizedState?(_a(o),wt(o),TT(o,v)):(wt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==f&&_a(o),wt(o),Uv(o,y,a,f,c)),null;case 27:if(oe(o),c=Ce.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==f&&_a(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return wt(o),null}a=ye.current,ql(o)?iS(o):(a=PA(y,f,c),o.stateNode=a,_a(o))}return wt(o),null;case 5:if(oe(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==f&&_a(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return wt(o),null}if(v=ye.current,ql(o))iS(o);else{var A=lm(Ce.current);switch(v){case 1:v=A.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:v=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":v=A.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":v=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":v=A.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof f.is=="string"?A.createElement("select",{is:f.is}):A.createElement("select"),f.multiple?v.multiple=!0:f.size&&(v.size=f.size);break;default:v=typeof f.is=="string"?A.createElement(y,{is:f.is}):A.createElement(y)}}v[Gt]=o,v[mn]=f;e:for(A=o.child;A!==null;){if(A.tag===5||A.tag===6)v.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break e;for(;A.sibling===null;){if(A.return===null||A.return===o)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}o.stateNode=v;e:switch(Nn(v,y,f),y){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&_a(o)}}return wt(o),Uv(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==f&&_a(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(r(166));if(a=Ce.current,ql(o)){if(a=o.stateNode,c=o.memoizedProps,f=null,y=Cn,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}a[Gt]=o,a=!!(a.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||xA(a.nodeValue,c)),a||vs(o,!0)}else a=lm(a).createTextNode(f),a[Gt]=o,o.stateNode=a}return wt(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(f=ql(o),c!==null){if(a===null){if(!f)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Gt]=o}else Ro(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;wt(o),a=!1}else c=Xy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(xr(o),o):(xr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return wt(o),null;case 13:if(f=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=ql(o),f!==null&&f.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Gt]=o}else Ro(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;wt(o),y=!1}else y=Xy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(xr(o),o):(xr(o),null)}return xr(o),(o.flags&128)!==0?(o.lanes=c,o):(c=f!==null,a=a!==null&&a.memoizedState!==null,c&&(f=o.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool),v=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==y&&(f.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),Kh(o,o.updateQueue),wt(o),null);case 4:return le(),a===null&&l0(o.stateNode.containerInfo),wt(o),null;case 10:return ga(o.type),wt(o),null;case 19:if(J(Vt),f=o.memoizedState,f===null)return wt(o),null;if(y=(o.flags&128)!==0,v=f.rendering,v===null)if(y)Yu(f,!1);else{if(kt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(v=Mh(a),v!==null){for(o.flags|=128,Yu(f,!1),a=v.updateQueue,o.updateQueue=a,Kh(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)JE(c,a),c=c.sibling;return de(Vt,Vt.current&1|2),Ze&&ma(o,f.treeForkCount),o.child}a=a.sibling}f.tail!==null&&hn()>Zh&&(o.flags|=128,y=!0,Yu(f,!1),o.lanes=4194304)}else{if(!y)if(a=Mh(v),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,Kh(o,a),Yu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!Ze)return wt(o),null}else 2*hn()-f.renderingStartTime>Zh&&c!==536870912&&(o.flags|=128,y=!0,Yu(f,!1),o.lanes=4194304);f.isBackwards?(v.sibling=o.child,o.child=v):(a=f.last,a!==null?a.sibling=v:o.child=v,f.last=v)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=hn(),a.sibling=null,c=Vt.current,de(Vt,y?c&1|2:c&1),Ze&&ma(o,f.treeForkCount),a):(wt(o),null);case 22:case 23:return xr(o),cv(),f=o.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(c&536870912)!==0&&(o.flags&128)===0&&(wt(o),o.subtreeFlags&6&&(o.flags|=8192)):wt(o),c=o.updateQueue,c!==null&&Kh(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048),a!==null&&J(Mo),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ga(Wt),wt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function A6(a,o){switch(Yy(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return ga(Wt),le(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return oe(o),null;case 31:if(o.memoizedState!==null){if(xr(o),o.alternate===null)throw Error(r(340));Ro()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(xr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Ro()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return J(Vt),null;case 4:return le(),null;case 10:return ga(o.type),null;case 22:case 23:return xr(o),cv(),a!==null&&J(Mo),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return ga(Wt),null;case 25:return null;default:return null}}function AT(a,o){switch(Yy(o),o.tag){case 3:ga(Wt),le();break;case 26:case 27:case 5:oe(o);break;case 4:le();break;case 31:o.memoizedState!==null&&xr(o);break;case 13:xr(o);break;case 19:J(Vt);break;case 10:ga(o.type);break;case 22:case 23:xr(o),cv(),a!==null&&J(Mo);break;case 24:ga(Wt)}}function Wu(a,o){try{var c=o.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&a)===a){f=void 0;var v=c.create,A=c.inst;f=v(),A.destroy=f}c=c.next}while(c!==y)}}catch(D){ct(o,o.return,D)}}function Ts(a,o,c){try{var f=o.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var v=y.next;f=v;do{if((f.tag&a)===a){var A=f.inst,D=A.destroy;if(D!==void 0){A.destroy=void 0,y=o;var H=c,Z=D;try{Z()}catch(ce){ct(y,H,ce)}}}f=f.next}while(f!==v)}}catch(ce){ct(o,o.return,ce)}}function CT(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{yS(o,c)}catch(f){ct(a,a.return,f)}}}function OT(a,o,c){c.props=Vo(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(f){ct(a,o,f)}}function Xu(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof c=="function"?a.refCleanup=c(f):c.current=f}}catch(y){ct(a,o,y)}}function Ki(a,o){var c=a.ref,f=a.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(y){ct(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){ct(a,o,y)}else c.current=null}function IT(a){var o=a.type,c=a.memoizedProps,f=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(y){ct(a,a.return,y)}}function Bv(a,o,c){try{var f=a.stateNode;Y6(f,a.type,c,o),f[mn]=o}catch(y){ct(a,a.return,y)}}function NT(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ps(a.type)||a.tag===4}function qv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||NT(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ps(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function $v(a,o,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=oi));else if(f!==4&&(f===27&&Ps(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for($v(a,o,c),a=a.sibling;a!==null;)$v(a,o,c),a=a.sibling}function Yh(a,o,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(f!==4&&(f===27&&Ps(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Yh(a,o,c),a=a.sibling;a!==null;)Yh(a,o,c),a=a.sibling}function RT(a){var o=a.stateNode,c=a.memoizedProps;try{for(var f=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Nn(o,f,c),o[Gt]=a,o[mn]=c}catch(v){ct(a,a.return,v)}}var xa=!1,Zt=!1,Fv=!1,PT=typeof WeakSet=="function"?WeakSet:Set,gn=null;function C6(a,o){if(a=a.containerInfo,f0=pm,a=FE(a),Ly(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var A=0,D=-1,H=-1,Z=0,ce=0,he=a,ee=null;t:for(;;){for(var re;he!==c||y!==0&&he.nodeType!==3||(D=A+y),he!==v||f!==0&&he.nodeType!==3||(H=A+f),he.nodeType===3&&(A+=he.nodeValue.length),(re=he.firstChild)!==null;)ee=he,he=re;for(;;){if(he===a)break t;if(ee===c&&++Z===y&&(D=A),ee===v&&++ce===f&&(H=A),(re=he.nextSibling)!==null)break;he=ee,ee=he.parentNode}he=re}c=D===-1||H===-1?null:{start:D,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(d0={focusedElem:a,selectionRange:c},pm=!1,gn=o;gn!==null;)if(o=gn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,gn=a;else for(;gn!==null;){switch(o=gn,v=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&v!==null){a=void 0,c=o,y=v.memoizedProps,v=v.memoizedState,f=c.stateNode;try{var Se=Vo(c.type,y);a=f.getSnapshotBeforeUpdate(Se,v),f.__reactInternalSnapshotBeforeUpdate=a}catch(De){ct(c,c.return,De)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)p0(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":p0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,gn=a;break}gn=o.return}}function DT(a,o,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Ea(a,c),f&4&&Wu(5,c);break;case 1:if(Ea(a,c),f&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(A){ct(c,c.return,A)}else{var y=Vo(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(A){ct(c,c.return,A)}}f&64&&CT(c),f&512&&Xu(c,c.return);break;case 3:if(Ea(a,c),f&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{yS(a,o)}catch(A){ct(c,c.return,A)}}break;case 27:o===null&&f&4&&RT(c);case 26:case 5:Ea(a,c),o===null&&f&4&&IT(c),f&512&&Xu(c,c.return);break;case 12:Ea(a,c);break;case 31:Ea(a,c),f&4&&kT(a,c);break;case 13:Ea(a,c),f&4&&LT(a,c),f&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=k6.bind(null,c),n5(a,c))));break;case 22:if(f=c.memoizedState!==null||xa,!f){o=o!==null&&o.memoizedState!==null||Zt,y=xa;var v=Zt;xa=f,(Zt=o)&&!v?Sa(a,c,(c.subtreeFlags&8772)!==0):Ea(a,c),xa=y,Zt=v}break;case 30:break;default:Ea(a,c)}}function MT(a){var o=a.alternate;o!==null&&(a.alternate=null,MT(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Tl(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ot=null,nr=!1;function wa(a,o,c){for(c=c.child;c!==null;)jT(a,o,c),c=c.sibling}function jT(a,o,c){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(ri,c)}catch{}switch(c.tag){case 26:Zt||Ki(c,o),wa(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Zt||Ki(c,o);var f=Ot,y=nr;Ps(c.type)&&(Ot=c.stateNode,nr=!1),wa(a,o,c),sf(c.stateNode),Ot=f,nr=y;break;case 5:Zt||Ki(c,o);case 6:if(f=Ot,y=nr,Ot=null,wa(a,o,c),Ot=f,nr=y,Ot!==null)if(nr)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(c.stateNode)}catch(v){ct(c,o,v)}else try{Ot.removeChild(c.stateNode)}catch(v){ct(c,o,v)}break;case 18:Ot!==null&&(nr?(a=Ot,CA(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),cc(a)):CA(Ot,c.stateNode));break;case 4:f=Ot,y=nr,Ot=c.stateNode.containerInfo,nr=!0,wa(a,o,c),Ot=f,nr=y;break;case 0:case 11:case 14:case 15:Ts(2,c,o),Zt||Ts(4,c,o),wa(a,o,c);break;case 1:Zt||(Ki(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"&&OT(c,o,f)),wa(a,o,c);break;case 21:wa(a,o,c);break;case 22:Zt=(f=Zt)||c.memoizedState!==null,wa(a,o,c),Zt=f;break;default:wa(a,o,c)}}function kT(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{cc(a)}catch(c){ct(o,o.return,c)}}}function LT(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{cc(a)}catch(c){ct(o,o.return,c)}}function O6(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new PT),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new PT),o;default:throw Error(r(435,a.tag))}}function Wh(a,o){var c=O6(a);o.forEach(function(f){if(!c.has(f)){c.add(f);var y=L6.bind(null,a,f);f.then(y,y)}})}function rr(a,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f],v=a,A=o,D=A;e:for(;D!==null;){switch(D.tag){case 27:if(Ps(D.type)){Ot=D.stateNode,nr=!1;break e}break;case 5:Ot=D.stateNode,nr=!1;break e;case 3:case 4:Ot=D.stateNode.containerInfo,nr=!0;break e}D=D.return}if(Ot===null)throw Error(r(160));jT(v,A,y),Ot=null,nr=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)zT(o,a),o=o.sibling}var hi=null;function zT(a,o){var c=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:rr(o,a),ir(a),f&4&&(Ts(3,a,a.return),Wu(3,a),Ts(5,a,a.return));break;case 1:rr(o,a),ir(a),f&512&&(Zt||c===null||Ki(c,c.return)),f&64&&xa&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var y=hi;if(rr(o,a),ir(a),f&512&&(Zt||c===null||Ki(c,c.return)),f&4){var v=c!==null?c.memoizedState:null;if(f=a.memoizedState,c===null)if(f===null)if(a.stateNode===null){e:{f=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":v=y.getElementsByTagName("title")[0],(!v||v[Di]||v[Gt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(f),y.head.insertBefore(v,y.querySelector("head > title"))),Nn(v,f,c),v[Gt]=a,Kt(v),f=v;break e;case"link":var A=zA("link","href",y).get(f+(c.href||""));if(A){for(var D=0;D<A.length;D++)if(v=A[D],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(D,1);break t}}v=y.createElement(f),Nn(v,f,c),y.head.appendChild(v);break;case"meta":if(A=zA("meta","content",y).get(f+(c.content||""))){for(D=0;D<A.length;D++)if(v=A[D],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(D,1);break t}}v=y.createElement(f),Nn(v,f,c),y.head.appendChild(v);break;default:throw Error(r(468,f))}v[Gt]=a,Kt(v),f=v}a.stateNode=f}else VA(y,a.type,a.stateNode);else a.stateNode=LA(y,f,a.memoizedProps);else v!==f?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,f===null?VA(y,a.type,a.stateNode):LA(y,f,a.memoizedProps)):f===null&&a.stateNode!==null&&Bv(a,a.memoizedProps,c.memoizedProps)}break;case 27:rr(o,a),ir(a),f&512&&(Zt||c===null||Ki(c,c.return)),c!==null&&f&4&&Bv(a,a.memoizedProps,c.memoizedProps);break;case 5:if(rr(o,a),ir(a),f&512&&(Zt||c===null||Ki(c,c.return)),a.flags&32){y=a.stateNode;try{tr(y,"")}catch(Se){ct(a,a.return,Se)}}f&4&&a.stateNode!=null&&(y=a.memoizedProps,Bv(a,y,c!==null?c.memoizedProps:y)),f&1024&&(Fv=!0);break;case 6:if(rr(o,a),ir(a),f&4){if(a.stateNode===null)throw Error(r(162));f=a.memoizedProps,c=a.stateNode;try{c.nodeValue=f}catch(Se){ct(a,a.return,Se)}}break;case 3:if(fm=null,y=hi,hi=cm(o.containerInfo),rr(o,a),hi=y,ir(a),f&4&&c!==null&&c.memoizedState.isDehydrated)try{cc(o.containerInfo)}catch(Se){ct(a,a.return,Se)}Fv&&(Fv=!1,VT(a));break;case 4:f=hi,hi=cm(a.stateNode.containerInfo),rr(o,a),ir(a),hi=f;break;case 12:rr(o,a),ir(a);break;case 31:rr(o,a),ir(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Wh(a,f)));break;case 13:rr(o,a),ir(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Qh=hn()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Wh(a,f)));break;case 22:y=a.memoizedState!==null;var H=c!==null&&c.memoizedState!==null,Z=xa,ce=Zt;if(xa=Z||y,Zt=ce||H,rr(o,a),Zt=ce,xa=Z,ir(a),f&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||H||xa||Zt||Uo(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){H=c=o;try{if(v=H.stateNode,y)A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{D=H.stateNode;var he=H.memoizedProps.style,ee=he!=null&&he.hasOwnProperty("display")?he.display:null;D.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Se){ct(H,H.return,Se)}}}else if(o.tag===6){if(c===null){H=o;try{H.stateNode.nodeValue=y?"":H.memoizedProps}catch(Se){ct(H,H.return,Se)}}}else if(o.tag===18){if(c===null){H=o;try{var re=H.stateNode;y?OA(re,!0):OA(H.stateNode,!1)}catch(Se){ct(H,H.return,Se)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=a.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Wh(a,c))));break;case 19:rr(o,a),ir(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Wh(a,f)));break;case 30:break;case 21:break;default:rr(o,a),ir(a)}}function ir(a){var o=a.flags;if(o&2){try{for(var c,f=a.return;f!==null;){if(NT(f)){c=f;break}f=f.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,v=qv(a);Yh(a,v,y);break;case 5:var A=c.stateNode;c.flags&32&&(tr(A,""),c.flags&=-33);var D=qv(a);Yh(a,D,A);break;case 3:case 4:var H=c.stateNode.containerInfo,Z=qv(a);$v(a,Z,H);break;default:throw Error(r(161))}}catch(ce){ct(a,a.return,ce)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function VT(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;VT(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Ea(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)DT(a,o.alternate,o),o=o.sibling}function Uo(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Ts(4,o,o.return),Uo(o);break;case 1:Ki(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&OT(o,o.return,c),Uo(o);break;case 27:sf(o.stateNode);case 26:case 5:Ki(o,o.return),Uo(o);break;case 22:o.memoizedState===null&&Uo(o);break;case 30:Uo(o);break;default:Uo(o)}a=a.sibling}}function Sa(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,y=a,v=o,A=v.flags;switch(v.tag){case 0:case 11:case 15:Sa(y,v,c),Wu(4,v);break;case 1:if(Sa(y,v,c),f=v,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Z){ct(f,f.return,Z)}if(f=v,y=f.updateQueue,y!==null){var D=f.stateNode;try{var H=y.shared.hiddenCallbacks;if(H!==null)for(y.shared.hiddenCallbacks=null,y=0;y<H.length;y++)gS(H[y],D)}catch(Z){ct(f,f.return,Z)}}c&&A&64&&CT(v),Xu(v,v.return);break;case 27:RT(v);case 26:case 5:Sa(y,v,c),c&&f===null&&A&4&&IT(v),Xu(v,v.return);break;case 12:Sa(y,v,c);break;case 31:Sa(y,v,c),c&&A&4&&kT(y,v);break;case 13:Sa(y,v,c),c&&A&4&&LT(y,v);break;case 22:v.memoizedState===null&&Sa(y,v,c),Xu(v,v.return);break;case 30:break;default:Sa(y,v,c)}o=o.sibling}}function Hv(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&ku(c))}function Gv(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&ku(a))}function mi(a,o,c,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)UT(a,o,c,f),o=o.sibling}function UT(a,o,c,f){var y=o.flags;switch(o.tag){case 0:case 11:case 15:mi(a,o,c,f),y&2048&&Wu(9,o);break;case 1:mi(a,o,c,f);break;case 3:mi(a,o,c,f),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&ku(a)));break;case 12:if(y&2048){mi(a,o,c,f),a=o.stateNode;try{var v=o.memoizedProps,A=v.id,D=v.onPostCommit;typeof D=="function"&&D(A,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(H){ct(o,o.return,H)}}else mi(a,o,c,f);break;case 31:mi(a,o,c,f);break;case 13:mi(a,o,c,f);break;case 23:break;case 22:v=o.stateNode,A=o.alternate,o.memoizedState!==null?v._visibility&2?mi(a,o,c,f):Qu(a,o):v._visibility&2?mi(a,o,c,f):(v._visibility|=2,Zl(a,o,c,f,(o.subtreeFlags&10256)!==0||!1)),y&2048&&Hv(A,o);break;case 24:mi(a,o,c,f),y&2048&&Gv(o.alternate,o);break;default:mi(a,o,c,f)}}function Zl(a,o,c,f,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var v=a,A=o,D=c,H=f,Z=A.flags;switch(A.tag){case 0:case 11:case 15:Zl(v,A,D,H,y),Wu(8,A);break;case 23:break;case 22:var ce=A.stateNode;A.memoizedState!==null?ce._visibility&2?Zl(v,A,D,H,y):Qu(v,A):(ce._visibility|=2,Zl(v,A,D,H,y)),y&&Z&2048&&Hv(A.alternate,A);break;case 24:Zl(v,A,D,H,y),y&&Z&2048&&Gv(A.alternate,A);break;default:Zl(v,A,D,H,y)}o=o.sibling}}function Qu(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,f=o,y=f.flags;switch(f.tag){case 22:Qu(c,f),y&2048&&Hv(f.alternate,f);break;case 24:Qu(c,f),y&2048&&Gv(f.alternate,f);break;default:Qu(c,f)}o=o.sibling}}var Zu=8192;function Jl(a,o,c){if(a.subtreeFlags&Zu)for(a=a.child;a!==null;)BT(a,o,c),a=a.sibling}function BT(a,o,c){switch(a.tag){case 26:Jl(a,o,c),a.flags&Zu&&a.memoizedState!==null&&m5(c,hi,a.memoizedState,a.memoizedProps);break;case 5:Jl(a,o,c);break;case 3:case 4:var f=hi;hi=cm(a.stateNode.containerInfo),Jl(a,o,c),hi=f;break;case 22:a.memoizedState===null&&(f=a.alternate,f!==null&&f.memoizedState!==null?(f=Zu,Zu=16777216,Jl(a,o,c),Zu=f):Jl(a,o,c));break;default:Jl(a,o,c)}}function qT(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Ju(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];gn=f,FT(f,a)}qT(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)$T(a),a=a.sibling}function $T(a){switch(a.tag){case 0:case 11:case 15:Ju(a),a.flags&2048&&Ts(9,a,a.return);break;case 3:Ju(a);break;case 12:Ju(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Xh(a)):Ju(a);break;default:Ju(a)}}function Xh(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];gn=f,FT(f,a)}qT(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Ts(8,o,o.return),Xh(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Xh(o));break;default:Xh(o)}a=a.sibling}}function FT(a,o){for(;gn!==null;){var c=gn;switch(c.tag){case 0:case 11:case 15:Ts(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ku(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,gn=f;else e:for(c=a;gn!==null;){f=gn;var y=f.sibling,v=f.return;if(MT(f),f===c){gn=null;break e}if(y!==null){y.return=v,gn=y;break e}gn=v}}}var I6={getCacheForType:function(a){var o=On(Wt),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return On(Wt).controller.signal}},N6=typeof WeakMap=="function"?WeakMap:Map,at=0,yt=null,Fe=null,Ge=0,lt=0,wr=null,As=!1,ec=!1,Kv=!1,Ta=0,kt=0,Cs=0,Bo=0,Yv=0,Er=0,tc=0,ef=null,ar=null,Wv=!1,Qh=0,HT=0,Zh=1/0,Jh=null,Os=null,sn=0,Is=null,nc=null,Aa=0,Xv=0,Qv=null,GT=null,tf=0,Zv=null;function Sr(){return(at&2)!==0&&Ge!==0?Ge&-Ge:G.T!==null?i0():eh()}function KT(){if(Er===0)if((Ge&536870912)===0||Ze){var a=mo;mo<<=1,(mo&3932160)===0&&(mo=262144),Er=a}else Er=536870912;return a=_r.current,a!==null&&(a.flags|=32),Er}function sr(a,o,c){(a===yt&&(lt===2||lt===9)||a.cancelPendingCommit!==null)&&(rc(a,0),Ns(a,Ge,Er,!1)),po(a,c),((at&2)===0||a!==yt)&&(a===yt&&((at&2)===0&&(Bo|=c),kt===4&&Ns(a,Ge,Er,!1)),Yi(a))}function YT(a,o,c){if((at&6)!==0)throw Error(r(327));var f=!c&&(o&127)===0&&(o&a.expiredLanes)===0||ii(a,o),y=f?D6(a,o):e0(a,o,!0),v=f;do{if(y===0){ec&&!f&&Ns(a,o,0,!1);break}else{if(c=a.current.alternate,v&&!R6(c)){y=e0(a,o,!1),v=!1;continue}if(y===2){if(v=o,a.errorRecoveryDisabledLanes&v)var A=0;else A=a.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;e:{var D=a;y=ef;var H=D.current.memoizedState.isDehydrated;if(H&&(rc(D,A).flags|=256),A=e0(D,A,!1),A!==2){if(Kv&&!H){D.errorRecoveryDisabledLanes|=v,Bo|=v,y=4;break e}v=ar,ar=y,v!==null&&(ar===null?ar=v:ar.push.apply(ar,v))}y=A}if(v=!1,y!==2)continue}}if(y===1){rc(a,0),Ns(a,o,0,!0);break}e:{switch(f=a,v=y,v){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ns(f,o,Er,!As);break e;case 2:ar=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=Qh+300-hn(),10<y)){if(Ns(f,o,Er,!As),Ni(f,0,!0)!==0)break e;Aa=o,f.timeoutHandle=TA(WT.bind(null,f,c,ar,Jh,Wv,o,Er,Bo,tc,As,v,"Throttled",-0,0),y);break e}WT(f,c,ar,Jh,Wv,o,Er,Bo,tc,As,v,null,-0,0)}}break}while(!0);Yi(a)}function WT(a,o,c,f,y,v,A,D,H,Z,ce,he,ee,re){if(a.timeoutHandle=-1,he=o.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},BT(o,v,he);var Se=(v&62914560)===v?Qh-hn():(v&4194048)===v?HT-hn():0;if(Se=p5(he,Se),Se!==null){Aa=v,a.cancelPendingCommit=Se(rA.bind(null,a,o,v,c,f,y,A,D,H,ce,he,null,ee,re)),Ns(a,v,A,!Z);return}}rA(a,o,v,c,f,y,A,D,H)}function R6(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var y=c[f],v=y.getSnapshot;y=y.value;try{if(!vr(v(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ns(a,o,c,f){o&=~Yv,o&=~Bo,a.suspendedLanes|=o,a.pingedLanes&=~o,f&&(a.warmLanes|=o),f=a.expirationTimes;for(var y=o;0<y;){var v=31-Lt(y),A=1<<v;f[v]=-1,y&=~A}c!==0&&go(a,c,o)}function em(){return(at&6)===0?(nf(0),!1):!0}function Jv(){if(Fe!==null){if(lt===0)var a=Fe.return;else a=Fe,pa=Po=null,pv(a),Kl=null,zu=0,a=Fe;for(;a!==null;)AT(a.alternate,a),a=a.return;Fe=null}}function rc(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,Q6(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Aa=0,Jv(),yt=a,Fe=c=ha(a.current,null),Ge=o,lt=0,wr=null,As=!1,ec=ii(a,o),Kv=!1,tc=Er=Yv=Bo=Cs=kt=0,ar=ef=null,Wv=!1,(o&8)!==0&&(o|=o&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=o;0<f;){var y=31-Lt(f),v=1<<y;o|=a[y],f&=~v}return Ta=o,xh(),c}function XT(a,o){qe=null,G.H=Gu,o===Gl||o===Ih?(o=dS(),lt=3):o===rv?(o=dS(),lt=4):lt=o===Rv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,wr=o,Fe===null&&(kt=1,$h(a,zr(o,a.current)))}function QT(){var a=_r.current;return a===null?!0:(Ge&4194048)===Ge?qr===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?a===qr:!1}function ZT(){var a=G.H;return G.H=Gu,a===null?Gu:a}function JT(){var a=G.A;return G.A=I6,a}function tm(){kt=4,As||(Ge&4194048)!==Ge&&_r.current!==null||(ec=!0),(Cs&134217727)===0&&(Bo&134217727)===0||yt===null||Ns(yt,Ge,Er,!1)}function e0(a,o,c){var f=at;at|=2;var y=ZT(),v=JT();(yt!==a||Ge!==o)&&(Jh=null,rc(a,o)),o=!1;var A=kt;e:do try{if(lt!==0&&Fe!==null){var D=Fe,H=wr;switch(lt){case 8:Jv(),A=6;break e;case 3:case 2:case 9:case 6:_r.current===null&&(o=!0);var Z=lt;if(lt=0,wr=null,ic(a,D,H,Z),c&&ec){A=0;break e}break;default:Z=lt,lt=0,wr=null,ic(a,D,H,Z)}}P6(),A=kt;break}catch(ce){XT(a,ce)}while(!0);return o&&a.shellSuspendCounter++,pa=Po=null,at=f,G.H=y,G.A=v,Fe===null&&(yt=null,Ge=0,xh()),A}function P6(){for(;Fe!==null;)eA(Fe)}function D6(a,o){var c=at;at|=2;var f=ZT(),y=JT();yt!==a||Ge!==o?(Jh=null,Zh=hn()+500,rc(a,o)):ec=ii(a,o);e:do try{if(lt!==0&&Fe!==null){o=Fe;var v=wr;t:switch(lt){case 1:lt=0,wr=null,ic(a,o,v,1);break;case 2:case 9:if(uS(v)){lt=0,wr=null,tA(o);break}o=function(){lt!==2&&lt!==9||yt!==a||(lt=7),Yi(a)},v.then(o,o);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:uS(v)?(lt=0,wr=null,tA(o)):(lt=0,wr=null,ic(a,o,v,7));break;case 5:var A=null;switch(Fe.tag){case 26:A=Fe.memoizedState;case 5:case 27:var D=Fe;if(A?UA(A):D.stateNode.complete){lt=0,wr=null;var H=D.sibling;if(H!==null)Fe=H;else{var Z=D.return;Z!==null?(Fe=Z,nm(Z)):Fe=null}break t}}lt=0,wr=null,ic(a,o,v,5);break;case 6:lt=0,wr=null,ic(a,o,v,6);break;case 8:Jv(),kt=6;break e;default:throw Error(r(462))}}M6();break}catch(ce){XT(a,ce)}while(!0);return pa=Po=null,G.H=f,G.A=y,at=c,Fe!==null?0:(yt=null,Ge=0,xh(),kt)}function M6(){for(;Fe!==null&&!wl();)eA(Fe)}function eA(a){var o=ST(a.alternate,a,Ta);a.memoizedProps=a.pendingProps,o===null?nm(a):Fe=o}function tA(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=vT(c,o,o.pendingProps,o.type,void 0,Ge);break;case 11:o=vT(c,o,o.pendingProps,o.type.render,o.ref,Ge);break;case 5:pv(o);default:AT(c,o),o=Fe=JE(o,Ta),o=ST(c,o,Ta)}a.memoizedProps=a.pendingProps,o===null?nm(a):Fe=o}function ic(a,o,c,f){pa=Po=null,pv(o),Kl=null,zu=0;var y=o.return;try{if(w6(a,y,o,c,Ge)){kt=1,$h(a,zr(c,a.current)),Fe=null;return}}catch(v){if(y!==null)throw Fe=y,v;kt=1,$h(a,zr(c,a.current)),Fe=null;return}o.flags&32768?(Ze||f===1?a=!0:ec||(Ge&536870912)!==0?a=!1:(As=a=!0,(f===2||f===9||f===3||f===6)&&(f=_r.current,f!==null&&f.tag===13&&(f.flags|=16384))),nA(o,a)):nm(o)}function nm(a){var o=a;do{if((o.flags&32768)!==0){nA(o,As);return}a=o.return;var c=T6(o.alternate,o,Ta);if(c!==null){Fe=c;return}if(o=o.sibling,o!==null){Fe=o;return}Fe=o=a}while(o!==null);kt===0&&(kt=5)}function nA(a,o){do{var c=A6(a.alternate,a);if(c!==null){c.flags&=32767,Fe=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){Fe=a;return}Fe=a=c}while(a!==null);kt=6,Fe=null}function rA(a,o,c,f,y,v,A,D,H){a.cancelPendingCommit=null;do rm();while(sn!==0);if((at&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(v=o.lanes|o.childLanes,v|=qy,Dy(a,c,v,A,D,H),a===yt&&(Fe=yt=null,Ge=0),nc=o,Is=a,Aa=c,Xv=v,Qv=y,GT=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,z6(ss,function(){return lA(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=G.T,G.T=null,y=te.p,te.p=2,A=at,at|=4;try{C6(a,o,c)}finally{at=A,te.p=y,G.T=f}}sn=1,iA(),aA(),sA()}}function iA(){if(sn===1){sn=0;var a=Is,o=nc,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=G.T,G.T=null;var f=te.p;te.p=2;var y=at;at|=4;try{zT(o,a);var v=d0,A=FE(a.containerInfo),D=v.focusedElem,H=v.selectionRange;if(A!==D&&D&&D.ownerDocument&&$E(D.ownerDocument.documentElement,D)){if(H!==null&&Ly(D)){var Z=H.start,ce=H.end;if(ce===void 0&&(ce=Z),"selectionStart"in D)D.selectionStart=Z,D.selectionEnd=Math.min(ce,D.value.length);else{var he=D.ownerDocument||document,ee=he&&he.defaultView||window;if(ee.getSelection){var re=ee.getSelection(),Se=D.textContent.length,De=Math.min(H.start,Se),pt=H.end===void 0?De:Math.min(H.end,Se);!re.extend&&De>pt&&(A=pt,pt=De,De=A);var Y=qE(D,De),K=qE(D,pt);if(Y&&K&&(re.rangeCount!==1||re.anchorNode!==Y.node||re.anchorOffset!==Y.offset||re.focusNode!==K.node||re.focusOffset!==K.offset)){var Q=he.createRange();Q.setStart(Y.node,Y.offset),re.removeAllRanges(),De>pt?(re.addRange(Q),re.extend(K.node,K.offset)):(Q.setEnd(K.node,K.offset),re.addRange(Q))}}}}for(he=[],re=D;re=re.parentNode;)re.nodeType===1&&he.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<he.length;D++){var fe=he[D];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}pm=!!f0,d0=f0=null}finally{at=y,te.p=f,G.T=c}}a.current=o,sn=2}}function aA(){if(sn===2){sn=0;var a=Is,o=nc,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=G.T,G.T=null;var f=te.p;te.p=2;var y=at;at|=4;try{DT(a,o.alternate,o)}finally{at=y,te.p=f,G.T=c}}sn=3}}function sA(){if(sn===4||sn===3){sn=0,ho();var a=Is,o=nc,c=Aa,f=GT;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?sn=5:(sn=0,nc=Is=null,oA(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Os=null),ca(c),o=o.stateNode,Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(ri,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=G.T,y=te.p,te.p=2,G.T=null;try{for(var v=a.onRecoverableError,A=0;A<f.length;A++){var D=f[A];v(D.value,{componentStack:D.stack})}}finally{G.T=o,te.p=y}}(Aa&3)!==0&&rm(),Yi(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===Zv?tf++:(tf=0,Zv=a):tf=0,nf(0)}}function oA(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,ku(o)))}function rm(){return iA(),aA(),sA(),lA()}function lA(){if(sn!==5)return!1;var a=Is,o=Xv;Xv=0;var c=ca(Aa),f=G.T,y=te.p;try{te.p=32>c?32:c,G.T=null,c=Qv,Qv=null;var v=Is,A=Aa;if(sn=0,nc=Is=null,Aa=0,(at&6)!==0)throw Error(r(331));var D=at;if(at|=4,$T(v.current),UT(v,v.current,A,c),at=D,nf(0,!1),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(ri,v)}catch{}return!0}finally{te.p=y,G.T=f,oA(a,o)}}function cA(a,o,c){o=zr(c,o),o=Nv(a.stateNode,o,2),a=ws(a,o,2),a!==null&&(po(a,2),Yi(a))}function ct(a,o,c){if(a.tag===3)cA(a,a,c);else for(;o!==null;){if(o.tag===3){cA(o,a,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Os===null||!Os.has(f))){a=zr(c,a),c=uT(2),f=ws(o,c,2),f!==null&&(fT(c,f,o,a),po(f,2),Yi(f));break}}o=o.return}}function t0(a,o,c){var f=a.pingCache;if(f===null){f=a.pingCache=new N6;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(c)||(Kv=!0,y.add(c),a=j6.bind(null,a,o,c),o.then(a,a))}function j6(a,o,c){var f=a.pingCache;f!==null&&f.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,yt===a&&(Ge&c)===c&&(kt===4||kt===3&&(Ge&62914560)===Ge&&300>hn()-Qh?(at&2)===0&&rc(a,0):Yv|=c,tc===Ge&&(tc=0)),Yi(a)}function uA(a,o){o===0&&(o=Jd()),a=Io(a,o),a!==null&&(po(a,o),Yi(a))}function k6(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),uA(a,c)}function L6(a,o){var c=0;switch(a.tag){case 31:case 13:var f=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(o),uA(a,c)}function z6(a,o){return Mt(a,o)}var im=null,ac=null,n0=!1,am=!1,r0=!1,Rs=0;function Yi(a){a!==ac&&a.next===null&&(ac===null?im=ac=a:ac=ac.next=a),am=!0,n0||(n0=!0,U6())}function nf(a,o){if(!r0&&am){r0=!0;do for(var c=!1,f=im;f!==null;){if(a!==0){var y=f.pendingLanes;if(y===0)var v=0;else{var A=f.suspendedLanes,D=f.pingedLanes;v=(1<<31-Lt(42|a)+1)-1,v&=y&~(A&~D),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,mA(f,v))}else v=Ge,v=Ni(f,f===yt?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||ii(f,v)||(c=!0,mA(f,v));f=f.next}while(c);r0=!1}}function V6(){fA()}function fA(){am=n0=!1;var a=0;Rs!==0&&X6()&&(a=Rs);for(var o=hn(),c=null,f=im;f!==null;){var y=f.next,v=dA(f,o);v===0?(f.next=null,c===null?im=y:c.next=y,y===null&&(ac=c)):(c=f,(a!==0||(v&3)!==0)&&(am=!0)),f=y}sn!==0&&sn!==5||nf(a),Rs!==0&&(Rs=0)}function dA(a,o){for(var c=a.suspendedLanes,f=a.pingedLanes,y=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var A=31-Lt(v),D=1<<A,H=y[A];H===-1?((D&c)===0||(D&f)!==0)&&(y[A]=Py(D,o)):H<=o&&(a.expiredLanes|=D),v&=~D}if(o=yt,c=Ge,c=Ni(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,c===0||a===o&&(lt===2||lt===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&ni(f),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||ii(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(f!==null&&ni(f),ca(c)){case 2:case 8:c=du;break;case 32:c=ss;break;case 268435456:c=Yd;break;default:c=ss}return f=hA.bind(null,a),c=Mt(c,f),a.callbackPriority=o,a.callbackNode=c,o}return f!==null&&f!==null&&ni(f),a.callbackPriority=2,a.callbackNode=null,2}function hA(a,o){if(sn!==0&&sn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(rm()&&a.callbackNode!==c)return null;var f=Ge;return f=Ni(a,a===yt?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(YT(a,f,o),dA(a,hn()),a.callbackNode!=null&&a.callbackNode===c?hA.bind(null,a):null)}function mA(a,o){if(rm())return null;YT(a,o,!0)}function U6(){Z6(function(){(at&6)!==0?Mt(pr,V6):fA()})}function i0(){if(Rs===0){var a=Fl;a===0&&(a=Oi,Oi<<=1,(Oi&261888)===0&&(Oi=256)),Rs=a}return Rs}function pA(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Il(""+a)}function gA(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function B6(a,o,c,f,y){if(o==="submit"&&c&&c.stateNode===y){var v=pA((y[mn]||null).action),A=f.submitter;A&&(o=(o=A[mn]||null)?pA(o.formAction):A.getAttribute("formAction"),o!==null&&(v=o,A=null));var D=new Bi("action","action",null,f,y);a.push({event:D,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Rs!==0){var H=A?gA(y,A):new FormData(y);Sv(c,{pending:!0,data:H,method:y.method,action:v},null,H)}}else typeof v=="function"&&(D.preventDefault(),H=A?gA(y,A):new FormData(y),Sv(c,{pending:!0,data:H,method:y.method,action:v},v,H))},currentTarget:y}]})}}for(var a0=0;a0<By.length;a0++){var s0=By[a0],q6=s0.toLowerCase(),$6=s0[0].toUpperCase()+s0.slice(1);di(q6,"on"+$6)}di(KE,"onAnimationEnd"),di(YE,"onAnimationIteration"),di(WE,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(a6,"onTransitionRun"),di(s6,"onTransitionStart"),di(o6,"onTransitionCancel"),di(XE,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rf));function yA(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var f=a[c],y=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var A=f.length-1;0<=A;A--){var D=f[A],H=D.instance,Z=D.currentTarget;if(D=D.listener,H!==v&&y.isPropagationStopped())break e;v=D,y.currentTarget=Z;try{v(y)}catch(ce){_h(ce)}y.currentTarget=null,v=H}else for(A=0;A<f.length;A++){if(D=f[A],H=D.instance,Z=D.currentTarget,D=D.listener,H!==v&&y.isPropagationStopped())break e;v=D,y.currentTarget=Z;try{v(y)}catch(ce){_h(ce)}y.currentTarget=null,v=H}}}}function He(a,o){var c=o[Sl];c===void 0&&(c=o[Sl]=new Set);var f=a+"__bubble";c.has(f)||(vA(o,a,2,!1),c.add(f))}function o0(a,o,c){var f=0;o&&(f|=4),vA(c,a,f,o)}var sm="_reactListening"+Math.random().toString(36).slice(2);function l0(a){if(!a[sm]){a[sm]=!0,pu.forEach(function(c){c!=="selectionchange"&&(F6.has(c)||o0(c,!1,a),o0(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[sm]||(o[sm]=!0,o0("selectionchange",!1,o))}}function vA(a,o,c,f){switch(KA(o)){case 2:var y=v5;break;case 8:y=b5;break;default:y=E0}c=y.bind(null,o,c,a),y=void 0,!xo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?a.addEventListener(o,c,{capture:!0,passive:y}):a.addEventListener(o,c,!0):y!==void 0?a.addEventListener(o,c,{passive:y}):a.addEventListener(o,c,!1)}function c0(a,o,c,f,y){var v=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var A=f.tag;if(A===3||A===4){var D=f.stateNode.containerInfo;if(D===y)break;if(A===4)for(A=f.return;A!==null;){var H=A.tag;if((H===3||H===4)&&A.stateNode.containerInfo===y)return;A=A.return}for(;D!==null;){if(A=Mi(D),A===null)return;if(H=A.tag,H===5||H===6||H===26||H===27){f=v=A;continue e}D=D.parentNode}}f=f.return}ds(function(){var Z=v,ce=Mr(c),he=[];e:{var ee=QE.get(a);if(ee!==void 0){var re=Bi,Se=a;switch(a){case"keypress":if(Eo(c)===0)break e;case"keydown":case"keyup":re=yh;break;case"focusin":Se="focus",re=To;break;case"focusout":Se="blur",re=To;break;case"beforeblur":case"afterblur":re=To;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=lh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=w;break;case KE:case YE:case WE:re=uh;break;case XE:re=z;break;case"scroll":case"scrollend":re=Cu;break;case"wheel":re=ne;break;case"copy":case"cut":case"paste":re=fh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=da;break;case"toggle":case"beforetoggle":re=Be}var De=(o&4)!==0,pt=!De&&(a==="scroll"||a==="scrollend"),Y=De?ee!==null?ee+"Capture":null:ee;De=[];for(var K=Z,Q;K!==null;){var fe=K;if(Q=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||Q===null||Y===null||(fe=li(K,Y),fe!=null&&De.push(af(K,fe,Q))),pt)break;K=K.return}0<De.length&&(ee=new re(ee,Se,null,c,ce),he.push({event:ee,listeners:De}))}}if((o&7)===0){e:{if(ee=a==="mouseover"||a==="pointerover",re=a==="mouseout"||a==="pointerout",ee&&c!==Su&&(Se=c.relatedTarget||c.fromElement)&&(Mi(Se)||Se[Pi]))break e;if((re||ee)&&(ee=ce.window===ce?ce:(ee=ce.ownerDocument)?ee.defaultView||ee.parentWindow:window,re?(Se=c.relatedTarget||c.toElement,re=Z,Se=Se?Mi(Se):null,Se!==null&&(pt=s(Se),De=Se.tag,Se!==pt||De!==5&&De!==27&&De!==6)&&(Se=null)):(re=null,Se=Z),re!==Se)){if(De=Ou,fe="onMouseLeave",Y="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(De=da,fe="onPointerLeave",Y="onPointerEnter",K="pointer"),pt=re==null?ee:gr(re),Q=Se==null?ee:gr(Se),ee=new De(fe,K+"leave",re,c,ce),ee.target=pt,ee.relatedTarget=Q,fe=null,Mi(ce)===Z&&(De=new De(Y,K+"enter",Se,c,ce),De.target=Q,De.relatedTarget=pt,fe=De),pt=fe,re&&Se)t:{for(De=H6,Y=re,K=Se,Q=0,fe=Y;fe;fe=De(fe))Q++;fe=0;for(var Ie=K;Ie;Ie=De(Ie))fe++;for(;0<Q-fe;)Y=De(Y),Q--;for(;0<fe-Q;)K=De(K),fe--;for(;Q--;){if(Y===K||K!==null&&Y===K.alternate){De=Y;break t}Y=De(Y),K=De(K)}De=null}else De=null;re!==null&&bA(he,ee,re,De,!1),Se!==null&&pt!==null&&bA(he,pt,Se,De,!0)}}e:{if(ee=Z?gr(Z):window,re=ee.nodeName&&ee.nodeName.toLowerCase(),re==="select"||re==="input"&&ee.type==="file")var tt=kE;else if(ME(ee))if(LE)tt=n6;else{tt=e6;var Ae=JL}else re=ee.nodeName,!re||re.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Ol(Z.elementType)&&(tt=kE):tt=t6;if(tt&&(tt=tt(a,Z))){jE(he,tt,c,ce);break e}Ae&&Ae(a,ee,Z),a==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&xu(ee,"number",ee.value)}switch(Ae=Z?gr(Z):window,a){case"focusin":(ME(Ae)||Ae.contentEditable==="true")&&(kl=Ae,zy=Z,Du=null);break;case"focusout":Du=zy=kl=null;break;case"mousedown":Vy=!0;break;case"contextmenu":case"mouseup":case"dragend":Vy=!1,HE(he,c,ce);break;case"selectionchange":if(i6)break;case"keydown":case"keyup":HE(he,c,ce)}var $e;if(it)e:{switch(a){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else jl?Ao(a,c)&&(Ke="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ke="onCompositionStart");Ke&&(Fi&&c.locale!=="ko"&&(jl||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&jl&&($e=Au()):(Ui=ce,Tu="value"in Ui?Ui.value:Ui.textContent,jl=!0)),Ae=om(Z,Ke),0<Ae.length&&(Ke=new $i(Ke,a,null,c,ce),he.push({event:Ke,listeners:Ae}),$e?Ke.data=$e:($e=Ml(c),$e!==null&&(Ke.data=$e)))),($e=kr?WL(a,c):XL(a,c))&&(Ke=om(Z,"onBeforeInput"),0<Ke.length&&(Ae=new $i("onBeforeInput","beforeinput",null,c,ce),he.push({event:Ae,listeners:Ke}),Ae.data=$e)),B6(he,a,Z,c,ce)}yA(he,o)})}function af(a,o,c){return{instance:a,listener:o,currentTarget:c}}function om(a,o){for(var c=o+"Capture",f=[];a!==null;){var y=a,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=li(a,c),y!=null&&f.unshift(af(a,y,v)),y=li(a,o),y!=null&&f.push(af(a,y,v))),a.tag===3)return f;a=a.return}return[]}function H6(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function bA(a,o,c,f,y){for(var v=o._reactName,A=[];c!==null&&c!==f;){var D=c,H=D.alternate,Z=D.stateNode;if(D=D.tag,H!==null&&H===f)break;D!==5&&D!==26&&D!==27||Z===null||(H=Z,y?(Z=li(c,v),Z!=null&&A.unshift(af(c,Z,H))):y||(Z=li(c,v),Z!=null&&A.push(af(c,Z,H)))),c=c.return}A.length!==0&&a.push({event:o,listeners:A})}var G6=/\r\n?/g,K6=/\u0000|\uFFFD/g;function _A(a){return(typeof a=="string"?a:""+a).replace(G6,`
`).replace(K6,"")}function xA(a,o){return o=_A(o),_A(a)===o}function mt(a,o,c,f,y,v){switch(c){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||tr(a,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&tr(a,""+f);break;case"className":yr(a,"class",f);break;case"tabIndex":yr(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":yr(a,c,f);break;case"style":Eu(a,f,v);break;case"data":if(o!=="object"){yr(a,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=Il(""+f),a.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(o!=="input"&&mt(a,o,"name",y.name,y,null),mt(a,o,"formEncType",y.formEncType,y,null),mt(a,o,"formMethod",y.formMethod,y,null),mt(a,o,"formTarget",y.formTarget,y,null)):(mt(a,o,"encType",y.encType,y,null),mt(a,o,"method",y.method,y,null),mt(a,o,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=Il(""+f),a.setAttribute(c,f);break;case"onClick":f!=null&&(a.onclick=oi);break;case"onScroll":f!=null&&He("scroll",a);break;case"onScrollEnd":f!=null&&He("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}c=Il(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""+f):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":f===!0?a.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,f):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(c,f):a.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(c):a.setAttribute(c,f);break;case"popover":He("beforetoggle",a),He("toggle",a),Al(a,"popover",f);break;case"xlinkActuate":Yt(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Yt(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Yt(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Yt(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Yt(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Yt(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Yt(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Yt(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Yt(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Al(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=oh.get(c)||c,Al(a,c,f))}}function u0(a,o,c,f,y,v){switch(c){case"style":Eu(a,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof f=="string"?tr(a,f):(typeof f=="number"||typeof f=="bigint")&&tr(a,""+f);break;case"onScroll":f!=null&&He("scroll",a);break;case"onScrollEnd":f!=null&&He("scrollend",a);break;case"onClick":f!=null&&(a.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gu.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),v=a[mn]||null,v=v!=null?v[c]:null,typeof v=="function"&&a.removeEventListener(o,v,y),typeof f=="function")){typeof v!="function"&&v!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,f,y);break e}c in a?a[c]=f:f===!0?a.setAttribute(c,""):Al(a,c,f)}}}function Nn(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",a),He("load",a);var f=!1,y=!1,v;for(v in c)if(c.hasOwnProperty(v)){var A=c[v];if(A!=null)switch(v){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:mt(a,o,v,A,c,null)}}y&&mt(a,o,"srcSet",c.srcSet,c,null),f&&mt(a,o,"src",c.src,c,null);return;case"input":He("invalid",a);var D=v=A=y=null,H=null,Z=null;for(f in c)if(c.hasOwnProperty(f)){var ce=c[f];if(ce!=null)switch(f){case"name":y=ce;break;case"type":A=ce;break;case"checked":H=ce;break;case"defaultChecked":Z=ce;break;case"value":v=ce;break;case"defaultValue":D=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:mt(a,o,f,ce,c,null)}}ih(a,v,D,H,Z,A,y,!1);return;case"select":He("invalid",a),f=A=v=null;for(y in c)if(c.hasOwnProperty(y)&&(D=c[y],D!=null))switch(y){case"value":v=D;break;case"defaultValue":A=D;break;case"multiple":f=D;default:mt(a,o,y,D,c,null)}o=v,c=A,a.multiple=!!f,o!=null?ls(a,!!f,o,!1):c!=null&&ls(a,!!f,c,!0);return;case"textarea":He("invalid",a),v=y=f=null;for(A in c)if(c.hasOwnProperty(A)&&(D=c[A],D!=null))switch(A){case"value":f=D;break;case"defaultValue":y=D;break;case"children":v=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:mt(a,o,A,D,c,null)}cs(a,f,y,v);return;case"option":for(H in c)if(c.hasOwnProperty(H)&&(f=c[H],f!=null))switch(H){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:mt(a,o,H,f,c,null)}return;case"dialog":He("beforetoggle",a),He("toggle",a),He("cancel",a),He("close",a);break;case"iframe":case"object":He("load",a);break;case"video":case"audio":for(f=0;f<rf.length;f++)He(rf[f],a);break;case"image":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"embed":case"source":case"link":He("error",a),He("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(f=c[Z],f!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:mt(a,o,Z,f,c,null)}return;default:if(Ol(o)){for(ce in c)c.hasOwnProperty(ce)&&(f=c[ce],f!==void 0&&u0(a,o,ce,f,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(f=c[D],f!=null&&mt(a,o,D,f,c,null))}function Y6(a,o,c,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,A=null,D=null,H=null,Z=null,ce=null;for(re in c){var he=c[re];if(c.hasOwnProperty(re)&&he!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":H=he;default:f.hasOwnProperty(re)||mt(a,o,re,null,f,he)}}for(var ee in f){var re=f[ee];if(he=c[ee],f.hasOwnProperty(ee)&&(re!=null||he!=null))switch(ee){case"type":v=re;break;case"name":y=re;break;case"checked":Z=re;break;case"defaultChecked":ce=re;break;case"value":A=re;break;case"defaultValue":D=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,o));break;default:re!==he&&mt(a,o,ee,re,f,he)}}Cl(a,A,D,H,Z,ce,v,y);return;case"select":re=A=D=ee=null;for(v in c)if(H=c[v],c.hasOwnProperty(v)&&H!=null)switch(v){case"value":break;case"multiple":re=H;default:f.hasOwnProperty(v)||mt(a,o,v,null,f,H)}for(y in f)if(v=f[y],H=c[y],f.hasOwnProperty(y)&&(v!=null||H!=null))switch(y){case"value":ee=v;break;case"defaultValue":D=v;break;case"multiple":A=v;default:v!==H&&mt(a,o,y,v,f,H)}o=D,c=A,f=re,ee!=null?ls(a,!!c,ee,!1):!!f!=!!c&&(o!=null?ls(a,!!c,o,!0):ls(a,!!c,c?[]:"",!1));return;case"textarea":re=ee=null;for(D in c)if(y=c[D],c.hasOwnProperty(D)&&y!=null&&!f.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:mt(a,o,D,null,f,y)}for(A in f)if(y=f[A],v=c[A],f.hasOwnProperty(A)&&(y!=null||v!=null))switch(A){case"value":ee=y;break;case"defaultValue":re=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==v&&mt(a,o,A,y,f,v)}ah(a,ee,re);return;case"option":for(var Se in c)if(ee=c[Se],c.hasOwnProperty(Se)&&ee!=null&&!f.hasOwnProperty(Se))switch(Se){case"selected":a.selected=!1;break;default:mt(a,o,Se,null,f,ee)}for(H in f)if(ee=f[H],re=c[H],f.hasOwnProperty(H)&&ee!==re&&(ee!=null||re!=null))switch(H){case"selected":a.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:mt(a,o,H,ee,f,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in c)ee=c[De],c.hasOwnProperty(De)&&ee!=null&&!f.hasOwnProperty(De)&&mt(a,o,De,null,f,ee);for(Z in f)if(ee=f[Z],re=c[Z],f.hasOwnProperty(Z)&&ee!==re&&(ee!=null||re!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,o));break;default:mt(a,o,Z,ee,f,re)}return;default:if(Ol(o)){for(var pt in c)ee=c[pt],c.hasOwnProperty(pt)&&ee!==void 0&&!f.hasOwnProperty(pt)&&u0(a,o,pt,void 0,f,ee);for(ce in f)ee=f[ce],re=c[ce],!f.hasOwnProperty(ce)||ee===re||ee===void 0&&re===void 0||u0(a,o,ce,ee,f,re);return}}for(var Y in c)ee=c[Y],c.hasOwnProperty(Y)&&ee!=null&&!f.hasOwnProperty(Y)&&mt(a,o,Y,null,f,ee);for(he in f)ee=f[he],re=c[he],!f.hasOwnProperty(he)||ee===re||ee==null&&re==null||mt(a,o,he,ee,f,re)}function wA(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function W6(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var y=c[f],v=y.transferSize,A=y.initiatorType,D=y.duration;if(v&&D&&wA(A)){for(A=0,D=y.responseEnd,f+=1;f<c.length;f++){var H=c[f],Z=H.startTime;if(Z>D)break;var ce=H.transferSize,he=H.initiatorType;ce&&wA(he)&&(H=H.responseEnd,A+=ce*(H<D?1:(D-Z)/(H-Z)))}if(--f,o+=8*(v+A)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var f0=null,d0=null;function lm(a){return a.nodeType===9?a:a.ownerDocument}function EA(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function SA(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function h0(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var m0=null;function X6(){var a=window.event;return a&&a.type==="popstate"?a===m0?!1:(m0=a,!0):(m0=null,!1)}var TA=typeof setTimeout=="function"?setTimeout:void 0,Q6=typeof clearTimeout=="function"?clearTimeout:void 0,AA=typeof Promise=="function"?Promise:void 0,Z6=typeof queueMicrotask=="function"?queueMicrotask:typeof AA<"u"?function(a){return AA.resolve(null).then(a).catch(J6)}:TA;function J6(a){setTimeout(function(){throw a})}function Ps(a){return a==="head"}function CA(a,o){var c=o,f=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(f===0){a.removeChild(y),cc(o);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")sf(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,sf(c);for(var v=c.firstChild;v;){var A=v.nextSibling,D=v.nodeName;v[Di]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&v.rel.toLowerCase()==="stylesheet"||c.removeChild(v),v=A}}else c==="body"&&sf(a.ownerDocument.body);c=y}while(c);cc(o)}function OA(a,o){var c=a;a=0;do{var f=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=f}while(c)}function p0(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":p0(c),Tl(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function e5(a,o,c,f){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[Di])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=$r(a.nextSibling),a===null)break}return null}function t5(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=$r(a.nextSibling),a===null))return null;return a}function IA(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=$r(a.nextSibling),a===null))return null;return a}function g0(a){return a.data==="$?"||a.data==="$~"}function y0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function n5(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var f=function(){o(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function $r(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var v0=null;function NA(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return $r(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function RA(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function PA(a,o,c){switch(o=lm(c),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function sf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Tl(a)}var Fr=new Map,DA=new Set;function cm(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ca=te.d;te.d={f:r5,r:i5,D:a5,C:s5,L:o5,m:l5,X:u5,S:c5,M:f5};function r5(){var a=Ca.f(),o=em();return a||o}function i5(a){var o=Dr(a);o!==null&&o.tag===5&&o.type==="form"?XS(o):Ca.r(a)}var sc=typeof document>"u"?null:document;function MA(a,o,c){var f=sc;if(f&&typeof o=="string"&&o){var y=er(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),DA.has(y)||(DA.add(y),a={rel:a,crossOrigin:c,href:o},f.querySelector(y)===null&&(o=f.createElement("link"),Nn(o,"link",a),Kt(o),f.head.appendChild(o)))}}function a5(a){Ca.D(a),MA("dns-prefetch",a,null)}function s5(a,o){Ca.C(a,o),MA("preconnect",a,o)}function o5(a,o,c){Ca.L(a,o,c);var f=sc;if(f&&a&&o){var y='link[rel="preload"][as="'+er(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+er(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+er(c.imageSizes)+'"]')):y+='[href="'+er(a)+'"]';var v=y;switch(o){case"style":v=oc(a);break;case"script":v=lc(a)}Fr.has(v)||(a=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),Fr.set(v,a),f.querySelector(y)!==null||o==="style"&&f.querySelector(of(v))||o==="script"&&f.querySelector(lf(v))||(o=f.createElement("link"),Nn(o,"link",a),Kt(o),f.head.appendChild(o)))}}function l5(a,o){Ca.m(a,o);var c=sc;if(c&&a){var f=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+er(f)+'"][href="'+er(a)+'"]',v=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=lc(a)}if(!Fr.has(v)&&(a=g({rel:"modulepreload",href:a},o),Fr.set(v,a),c.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(lf(v)))return}f=c.createElement("link"),Nn(f,"link",a),Kt(f),c.head.appendChild(f)}}}function c5(a,o,c){Ca.S(a,o,c);var f=sc;if(f&&a){var y=ji(f).hoistableStyles,v=oc(a);o=o||"default";var A=y.get(v);if(!A){var D={loading:0,preload:null};if(A=f.querySelector(of(v)))D.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},c),(c=Fr.get(v))&&b0(a,c);var H=A=f.createElement("link");Kt(H),Nn(H,"link",a),H._p=new Promise(function(Z,ce){H.onload=Z,H.onerror=ce}),H.addEventListener("load",function(){D.loading|=1}),H.addEventListener("error",function(){D.loading|=2}),D.loading|=4,um(A,o,f)}A={type:"stylesheet",instance:A,count:1,state:D},y.set(v,A)}}}function u5(a,o){Ca.X(a,o);var c=sc;if(c&&a){var f=ji(c).hoistableScripts,y=lc(a),v=f.get(y);v||(v=c.querySelector(lf(y)),v||(a=g({src:a,async:!0},o),(o=Fr.get(y))&&_0(a,o),v=c.createElement("script"),Kt(v),Nn(v,"link",a),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(y,v))}}function f5(a,o){Ca.M(a,o);var c=sc;if(c&&a){var f=ji(c).hoistableScripts,y=lc(a),v=f.get(y);v||(v=c.querySelector(lf(y)),v||(a=g({src:a,async:!0,type:"module"},o),(o=Fr.get(y))&&_0(a,o),v=c.createElement("script"),Kt(v),Nn(v,"link",a),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(y,v))}}function jA(a,o,c,f){var y=(y=Ce.current)?cm(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=oc(c.href),c=ji(y).hoistableStyles,f=c.get(o),f||(f={type:"style",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=oc(c.href);var v=ji(y).hoistableStyles,A=v.get(a);if(A||(y=y.ownerDocument||y,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,A),(v=y.querySelector(of(a)))&&!v._p&&(A.instance=v,A.state.loading=5),Fr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Fr.set(a,c),v||d5(y,a,c,A.state))),o&&f===null)throw Error(r(528,""));return A}if(o&&f!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=lc(c),c=ji(y).hoistableScripts,f=c.get(o),f||(f={type:"script",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function oc(a){return'href="'+er(a)+'"'}function of(a){return'link[rel="stylesheet"]['+a+"]"}function kA(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function d5(a,o,c,f){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=a.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Nn(o,"link",c),Kt(o),a.head.appendChild(o))}function lc(a){return'[src="'+er(a)+'"]'}function lf(a){return"script[async]"+a}function LA(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var f=a.querySelector('style[data-href~="'+er(c.href)+'"]');if(f)return o.instance=f,Kt(f),f;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),Kt(f),Nn(f,"style",y),um(f,c.precedence,a),o.instance=f;case"stylesheet":y=oc(c.href);var v=a.querySelector(of(y));if(v)return o.state.loading|=4,o.instance=v,Kt(v),v;f=kA(c),(y=Fr.get(y))&&b0(f,y),v=(a.ownerDocument||a).createElement("link"),Kt(v);var A=v;return A._p=new Promise(function(D,H){A.onload=D,A.onerror=H}),Nn(v,"link",f),o.state.loading|=4,um(v,c.precedence,a),o.instance=v;case"script":return v=lc(c.src),(y=a.querySelector(lf(v)))?(o.instance=y,Kt(y),y):(f=c,(y=Fr.get(v))&&(f=g({},c),_0(f,y)),a=a.ownerDocument||a,y=a.createElement("script"),Kt(y),Nn(y,"link",f),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,um(f,c.precedence,a));return o.instance}function um(a,o,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,v=y,A=0;A<f.length;A++){var D=f[A];if(D.dataset.precedence===o)v=D;else if(v!==y)break}v?v.parentNode.insertBefore(a,v.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function b0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function _0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var fm=null;function zA(a,o,c){if(fm===null){var f=new Map,y=fm=new Map;y.set(c,f)}else y=fm,f=y.get(c),f||(f=new Map,y.set(c,f));if(f.has(a))return f;for(f.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var v=c[y];if(!(v[Di]||v[Gt]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var A=v.getAttribute(o)||"";A=a+A;var D=f.get(A);D?D.push(v):f.set(A,[v])}}return f}function VA(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function h5(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function UA(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function m5(a,o,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=oc(f.href),v=o.querySelector(of(y));if(v){o=v._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=dm.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=v,Kt(v);return}v=o.ownerDocument||o,f=kA(f),(y=Fr.get(y))&&b0(f,y),v=v.createElement("link"),Kt(v);var A=v;A._p=new Promise(function(D,H){A.onload=D,A.onerror=H}),Nn(v,"link",f),c.instance=v}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=dm.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var x0=0;function p5(a,o){return a.stylesheets&&a.count===0&&mm(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var f=setTimeout(function(){if(a.stylesheets&&mm(a,a.stylesheets),a.unsuspend){var v=a.unsuspend;a.unsuspend=null,v()}},6e4+o);0<a.imgBytes&&x0===0&&(x0=62500*W6());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&mm(a,a.stylesheets),a.unsuspend)){var v=a.unsuspend;a.unsuspend=null,v()}},(a.imgBytes>x0?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(f),clearTimeout(y)}}:null}function dm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mm(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var hm=null;function mm(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,hm=new Map,o.forEach(g5,a),hm=null,dm.call(a))}function g5(a,o){if(!(o.state.loading&4)){var c=hm.get(a);if(c)var f=c.get(null);else{c=new Map,hm.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var A=y[v];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),f=A)}f&&c.set(null,f)}y=o.instance,A=y.getAttribute("data-precedence"),v=c.get(A)||f,v===f&&c.set(null,y),c.set(A,y),this.count++,f=dm.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),v?v.parentNode.insertBefore(y,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var cf={$$typeof:j,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function y5(a,o,c,f,y,v,A,D,H){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function BA(a,o,c,f,y,v,A,D,H,Z,ce,he){return a=new y5(a,o,c,A,H,Z,ce,he,D),o=1,v===!0&&(o|=24),v=br(3,null,null,o),a.current=v,v.stateNode=a,o=ev(),o.refCount++,a.pooledCache=o,o.refCount++,v.memoizedState={element:f,isDehydrated:c,cache:o},iv(v),a}function qA(a){return a?(a=Vl,a):Vl}function $A(a,o,c,f,y,v){y=qA(y),f.context===null?f.context=y:f.pendingContext=y,f=xs(o),f.payload={element:c},v=v===void 0?null:v,v!==null&&(f.callback=v),c=ws(a,f,o),c!==null&&(sr(c,a,o),Uu(c,a,o))}function FA(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function w0(a,o){FA(a,o),(a=a.alternate)&&FA(a,o)}function HA(a){if(a.tag===13||a.tag===31){var o=Io(a,67108864);o!==null&&sr(o,a,67108864),w0(a,67108864)}}function GA(a){if(a.tag===13||a.tag===31){var o=Sr();o=yo(o);var c=Io(a,o);c!==null&&sr(c,a,o),w0(a,o)}}var pm=!0;function v5(a,o,c,f){var y=G.T;G.T=null;var v=te.p;try{te.p=2,E0(a,o,c,f)}finally{te.p=v,G.T=y}}function b5(a,o,c,f){var y=G.T;G.T=null;var v=te.p;try{te.p=8,E0(a,o,c,f)}finally{te.p=v,G.T=y}}function E0(a,o,c,f){if(pm){var y=S0(f);if(y===null)c0(a,o,f,gm,c),YA(a,f);else if(x5(y,a,o,c,f))f.stopPropagation();else if(YA(a,f),o&4&&-1<_5.indexOf(a)){for(;y!==null;){var v=Dr(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var A=Ii(v.pendingLanes);if(A!==0){var D=v;for(D.pendingLanes|=2,D.entangledLanes|=2;A;){var H=1<<31-Lt(A);D.entanglements[1]|=H,A&=~H}Yi(v),(at&6)===0&&(Zh=hn()+500,nf(0))}}break;case 31:case 13:D=Io(v,2),D!==null&&sr(D,v,2),em(),w0(v,2)}if(v=S0(f),v===null&&c0(a,o,f,gm,c),v===y)break;y=v}y!==null&&f.stopPropagation()}else c0(a,o,f,null,c)}}function S0(a){return a=Mr(a),T0(a)}var gm=null;function T0(a){if(gm=null,a=Mi(a),a!==null){var o=s(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=l(o),a!==null)return a;a=null}else if(c===31){if(a=u(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return gm=a,null}function KA(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ci()){case pr:return 2;case du:return 8;case ss:case Ry:return 32;case Yd:return 268435456;default:return 32}default:return 32}}var A0=!1,Ds=null,Ms=null,js=null,uf=new Map,ff=new Map,ks=[],_5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function YA(a,o){switch(a){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":uf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ff.delete(o.pointerId)}}function df(a,o,c,f,y,v){return a===null||a.nativeEvent!==v?(a={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:v,targetContainers:[y]},o!==null&&(o=Dr(o),o!==null&&HA(o)),a):(a.eventSystemFlags|=f,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function x5(a,o,c,f,y){switch(o){case"focusin":return Ds=df(Ds,a,o,c,f,y),!0;case"dragenter":return Ms=df(Ms,a,o,c,f,y),!0;case"mouseover":return js=df(js,a,o,c,f,y),!0;case"pointerover":var v=y.pointerId;return uf.set(v,df(uf.get(v)||null,a,o,c,f,y)),!0;case"gotpointercapture":return v=y.pointerId,ff.set(v,df(ff.get(v)||null,a,o,c,f,y)),!0}return!1}function WA(a){var o=Mi(a.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){a.blockedOn=o,ai(a.priority,function(){GA(c)});return}}else if(o===31){if(o=u(c),o!==null){a.blockedOn=o,ai(a.priority,function(){GA(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ym(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=S0(a.nativeEvent);if(c===null){c=a.nativeEvent;var f=new c.constructor(c.type,c);Su=f,c.target.dispatchEvent(f),Su=null}else return o=Dr(c),o!==null&&HA(o),a.blockedOn=c,!1;o.shift()}return!0}function XA(a,o,c){ym(a)&&c.delete(o)}function w5(){A0=!1,Ds!==null&&ym(Ds)&&(Ds=null),Ms!==null&&ym(Ms)&&(Ms=null),js!==null&&ym(js)&&(js=null),uf.forEach(XA),ff.forEach(XA)}function vm(a,o){a.blockedOn===o&&(a.blockedOn=null,A0||(A0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,w5)))}var bm=null;function QA(a){bm!==a&&(bm=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){bm===a&&(bm=null);for(var o=0;o<a.length;o+=3){var c=a[o],f=a[o+1],y=a[o+2];if(typeof f!="function"){if(T0(f||c)===null)continue;break}var v=Dr(c);v!==null&&(a.splice(o,3),o-=3,Sv(v,{pending:!0,data:y,method:c.method,action:f},f,y))}}))}function cc(a){function o(H){return vm(H,a)}Ds!==null&&vm(Ds,a),Ms!==null&&vm(Ms,a),js!==null&&vm(js,a),uf.forEach(o),ff.forEach(o);for(var c=0;c<ks.length;c++){var f=ks[c];f.blockedOn===a&&(f.blockedOn=null)}for(;0<ks.length&&(c=ks[0],c.blockedOn===null);)WA(c),c.blockedOn===null&&ks.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var y=c[f],v=c[f+1],A=y[mn]||null;if(typeof v=="function")A||QA(c);else if(A){var D=null;if(v&&v.hasAttribute("formAction")){if(y=v,A=v[mn]||null)D=A.formAction;else if(T0(y)!==null)continue}else D=A.action;typeof D=="function"?c[f+1]=D:(c.splice(f,3),f-=3),QA(c)}}}function ZA(){function a(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(A){return y=A})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function C0(a){this._internalRoot=a}_m.prototype.render=C0.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,f=Sr();$A(c,f,a,o,null,null)},_m.prototype.unmount=C0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;$A(a.current,2,null,a,null,null),em(),o[Pi]=null}};function _m(a){this._internalRoot=a}_m.prototype.unstable_scheduleHydration=function(a){if(a){var o=eh();a={blockedOn:null,target:a,priority:o};for(var c=0;c<ks.length&&o!==0&&o<ks[c].priority;c++);ks.splice(c,0,a),c===0&&WA(a)}};var JA=e.version;if(JA!=="19.2.0")throw Error(r(527,JA,"19.2.0"));te.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var E5={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xm.isDisabled&&xm.supportsFiber)try{ri=xm.inject(E5),Tn=xm}catch{}}return mf.createRoot=function(a,o){if(!i(a))throw Error(r(299));var c=!1,f="",y=sT,v=oT,A=lT;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),o=BA(a,1,!1,null,null,c,f,null,y,v,A,ZA),a[Pi]=o.current,l0(a),new C0(o)},mf.hydrateRoot=function(a,o,c){if(!i(a))throw Error(r(299));var f=!1,y="",v=sT,A=oT,D=lT,H=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.formState!==void 0&&(H=c.formState)),o=BA(a,1,!0,o,c??null,f,y,H,v,A,D,ZA),o.context=qA(null),c=o.current,f=Sr(),f=yo(f),y=xs(f),y.callback=null,ws(c,y,f),c=f,o.current.lanes=c,po(o,c),Yi(o),a[Pi]=o.current,l0(a),new _m(o)},mf.version="19.2.0",mf}var cC;function k5(){if(cC)return R0.exports;cC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),R0.exports=j5(),R0.exports}var L5=k5();const z5=la(L5);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U5=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),uC=t=>{const e=U5(t);return e.charAt(0).toUpperCase()+e.slice(1)},xP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),B5=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...u},d)=>C.createElement("svg",{ref:d,...q5,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:xP("lucide",i),...!s&&!B5(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,m])=>C.createElement(h,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(t,e)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement($5,{ref:s,iconNode:e,className:xP(`lucide-${V5(uC(t))}`,`lucide-${t}`,r),...i}));return n.displayName=uC(t),n};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Oc=ke("activity",F5);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],G5=ke("arrow-right",H5);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zf=ke("calendar",K5);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Cg=ke("camera",Y5);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wP=ke("check",W5);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Q5=ke("chevron-down",X5);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],N_=ke("chevron-right",Z5);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fp=ke("chevron-left",J5);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],tz=ke("chevron-up",ez);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rz=ke("circle-alert",nz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fC=ke("circle-check-big",iz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],EP=ke("clock",az);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],dp=ke("dumbbell",sz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],SP=ke("file-text",oz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],wm=ke("flame",lz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],uz=ke("globe",cz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],dz=ke("house",fz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],mz=ke("image",hz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],hp=ke("loader-circle",pz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],yz=ke("log-out",gz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],bz=ke("menu",vz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M5 12h14",key:"1ays0h"}]],xz=ke("minus",_z);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Ez=ke("moon",wz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Tz=ke("palette",Sz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Cz=ke("pause",Az);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Iz=ke("pen",Oz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Rz=ke("pencil",Nz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],mp=ke("play",Pz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Mz=ke("plus",Dz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],TP=ke("rotate-ccw",jz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],R_=ke("save",kz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],zz=ke("search",Lz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Uz=ke("settings",Vz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],qz=ke("sparkles",Bz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Fz=ke("sun",$z);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],pp=ke("target",Hz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Kz=ke("timer",Gz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ic=ke("trash-2",Yz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],P_=ke("trending-up",Wz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Qz=ke("type",Xz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],AP=ke("upload",Zz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],D_=ke("user",Jz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Vf=ke("utensils",eV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],nV=ke("video",tV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],iV=ke("volume-2",rV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],sV=ke("volume-x",aV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],i1=ke("x",oV),lV=()=>{};var dC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],u=t[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},OP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,u=l?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,m=s>>2,g=(s&3)<<4|u>>4;let b=(u&15)<<2|h>>6,x=h&63;d||(x=64,l||(b=64)),r.push(n[m],n[g],n[b],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new uV;const b=s<<2|u>>4;if(r.push(b),h!==64){const x=u<<4&240|h>>2;if(r.push(x),g!==64){const S=h<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fV=function(t){const e=CP(t);return OP.encodeByteArray(e,!0)},gp=function(t){return fV(t).replace(/\./g,"")},IP=function(t){try{return OP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=()=>dV().__FIREBASE_DEFAULTS__,mV=()=>{if(typeof process>"u"||typeof dC>"u")return;const t=dC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&IP(t[1]);return e&&JSON.parse(e)},Og=()=>{try{return lV()||hV()||mV()||pV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NP=t=>{var e,n;return(n=(e=Og())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},gV=t=>{const e=NP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},RP=()=>{var t;return(t=Og())==null?void 0:t.config},PP=t=>{var e;return(e=Og())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DP(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[gp(JSON.stringify(n)),gp(JSON.stringify(l)),""].join(".")}const Nf={};function bV(){const t={prod:[],emulator:[]};for(const e of Object.keys(Nf))Nf[e]?t.emulator.push(e):t.prod.push(e);return t}function _V(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hC=!1;function MP(t,e){if(typeof window>"u"||typeof document>"u"||!Xc(window.location.host)||Nf[t]===e||Nf[t]||hC)return;Nf[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",s=bV().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function h(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{hC=!0,l()},b}function m(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function g(){const b=_V(r),x=n("text"),S=document.getElementById(x)||document.createElement("span"),E=n("learnmore"),T=document.getElementById(E)||document.createElement("a"),I=n("preprendIcon"),M=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const j=b.element;u(j),m(T,E);const $=h();d(M,I),j.append(M,S,T,$),document.body.appendChild(j)}s?(S.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function wV(){var e;const t=(e=Og())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AV(){const t=Gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CV(){return!wV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OV(){try{return typeof indexedDB=="object"}catch{return!1}}function IV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV="FirebaseError";class Za extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NV,Object.setPrototypeOf(this,Za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fd.prototype.create)}}class fd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?RV(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Za(i,u,r)}}function RV(t,e){return t.replace(PV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const PV=/\{\$([^}]+)}/g;function DV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function al(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(mC(s)&&mC(l)){if(!al(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function MV(t,e){const n=new jV(t,e);return n.subscribe.bind(n)}class jV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=j0),i.error===void 0&&(i.error=j0),i.complete===void 0&&(i.complete=j0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function j0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t){return t&&t._delegate?t._delegate:t}class sl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LV=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VV(e))try{this.getOrInitializeService({instanceIdentifier:qo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qo){return this.instances.has(e)}getOptions(e=qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qo){return this.component?this.component.multipleInstances?e:qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function zV(t){return t===qo?void 0:t}function VV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const BV={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},qV=Ye.INFO,$V={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},FV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=$V[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class a1{constructor(e){this.name=e,this._logLevel=qV,this._logHandler=FV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const HV=(t,e)=>e.some(n=>t instanceof n);let pC,gC;function GV(){return pC||(pC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KV(){return gC||(gC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jP=new WeakMap,M_=new WeakMap,kP=new WeakMap,k0=new WeakMap,s1=new WeakMap;function YV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Ks(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&jP.set(n,t)}).catch(()=>{}),s1.set(e,t),e}function WV(t){if(M_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});M_.set(t,e)}let j_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return M_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XV(t){j_=t(j_)}function QV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(L0(this),e,...n);return kP.set(r,e.sort?e.sort():[e]),Ks(r)}:KV().includes(t)?function(...e){return t.apply(L0(this),e),Ks(jP.get(this))}:function(...e){return Ks(t.apply(L0(this),e))}}function ZV(t){return typeof t=="function"?QV(t):(t instanceof IDBTransaction&&WV(t),HV(t,GV())?new Proxy(t,j_):t)}function Ks(t){if(t instanceof IDBRequest)return YV(t);if(k0.has(t))return k0.get(t);const e=ZV(t);return e!==t&&(k0.set(t,e),s1.set(e,t)),e}const L0=t=>s1.get(t);function JV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),u=Ks(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Ks(l.result),d.oldVersion,d.newVersion,Ks(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const eU=["get","getKey","getAll","getAllKeys","count"],tU=["put","add","delete","clear"],z0=new Map;function yC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(z0.get(e))return z0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eU.includes(n)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&d.done]))[0]};return z0.set(e,s),s}XV(t=>({...t,get:(e,n,r)=>yC(e,n)||t.get(e,n,r),has:(e,n)=>!!yC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const k_="@firebase/app",vC="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new a1("@firebase/app"),iU="@firebase/app-compat",aU="@firebase/analytics-compat",sU="@firebase/analytics",oU="@firebase/app-check-compat",lU="@firebase/app-check",cU="@firebase/auth",uU="@firebase/auth-compat",fU="@firebase/database",dU="@firebase/data-connect",hU="@firebase/database-compat",mU="@firebase/functions",pU="@firebase/functions-compat",gU="@firebase/installations",yU="@firebase/installations-compat",vU="@firebase/messaging",bU="@firebase/messaging-compat",_U="@firebase/performance",xU="@firebase/performance-compat",wU="@firebase/remote-config",EU="@firebase/remote-config-compat",SU="@firebase/storage",TU="@firebase/storage-compat",AU="@firebase/firestore",CU="@firebase/ai",OU="@firebase/firestore-compat",IU="firebase",NU="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="[DEFAULT]",RU={[k_]:"fire-core",[iU]:"fire-core-compat",[sU]:"fire-analytics",[aU]:"fire-analytics-compat",[lU]:"fire-app-check",[oU]:"fire-app-check-compat",[cU]:"fire-auth",[uU]:"fire-auth-compat",[fU]:"fire-rtdb",[dU]:"fire-data-connect",[hU]:"fire-rtdb-compat",[mU]:"fire-fn",[pU]:"fire-fn-compat",[gU]:"fire-iid",[yU]:"fire-iid-compat",[vU]:"fire-fcm",[bU]:"fire-fcm-compat",[_U]:"fire-perf",[xU]:"fire-perf-compat",[wU]:"fire-rc",[EU]:"fire-rc-compat",[SU]:"fire-gcs",[TU]:"fire-gcs-compat",[AU]:"fire-fst",[OU]:"fire-fst-compat",[CU]:"fire-vertex","fire-js":"fire-js",[IU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp=new Map,PU=new Map,z_=new Map;function bC(t,e){try{t.container.addComponent(e)}catch(n){Va.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nc(t){const e=t.name;if(z_.has(e))return Va.debug(`There were multiple attempts to register component ${e}.`),!1;z_.set(e,t);for(const n of yp.values())bC(n,t);for(const n of PU.values())bC(n,t);return!0}function o1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new fd("app","Firebase",DU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=NU;function LP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:L_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ys.create("bad-app-name",{appName:String(i)});if(n||(n=RP()),!n)throw Ys.create("no-options");const s=yp.get(i);if(s){if(al(n,s.options)&&al(r,s.config))return s;throw Ys.create("duplicate-app",{appName:i})}const l=new UV(i);for(const d of z_.values())l.addComponent(d);const u=new MU(n,r,l);return yp.set(i,u),u}function zP(t=L_){const e=yp.get(t);if(!e&&t===L_&&RP())return LP();if(!e)throw Ys.create("no-app",{appName:t});return e}function Ws(t,e,n){let r=RU[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Va.warn(l.join(" "));return}Nc(new sl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="firebase-heartbeat-database",kU=1,Uf="firebase-heartbeat-store";let V0=null;function VP(){return V0||(V0=JV(jU,kU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ys.create("idb-open",{originalErrorMessage:t.message})})),V0}async function LU(t){try{const n=(await VP()).transaction(Uf),r=await n.objectStore(Uf).get(UP(t));return await n.done,r}catch(e){if(e instanceof Za)Va.warn(e.message);else{const n=Ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Va.warn(n.message)}}}async function _C(t,e){try{const r=(await VP()).transaction(Uf,"readwrite");await r.objectStore(Uf).put(e,UP(t)),await r.done}catch(n){if(n instanceof Za)Va.warn(n.message);else{const r=Ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Va.warn(r.message)}}}function UP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=1024,VU=30;class UU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>VU){const l=$U(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Va.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xC(),{heartbeatsToSend:r,unsentEntries:i}=BU(this._heartbeatsCache.heartbeats),s=gp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Va.warn(n),""}}}function xC(){return new Date().toISOString().substring(0,10)}function BU(t,e=zU){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),wC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OV()?IV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _C(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _C(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function wC(t){return gp(JSON.stringify({version:2,heartbeats:t})).length}function $U(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(t){Nc(new sl("platform-logger",e=>new nU(e),"PRIVATE")),Nc(new sl("heartbeat",e=>new UU(e),"PRIVATE")),Ws(k_,vC,t),Ws(k_,vC,"esm2020"),Ws("fire-js","")}FU("");var HU="firebase",GU="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws(HU,GU,"app");var EC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xs,BP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,P){function k(){}k.prototype=P.prototype,N.F=P.prototype,N.prototype=new k,N.prototype.constructor=N,N.D=function(U,L,V){for(var R=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)R[ue-2]=arguments[ue];return P.prototype[L].apply(U,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,P,k){k||(k=0);const U=Array(16);if(typeof P=="string")for(var L=0;L<16;++L)U[L]=P.charCodeAt(k++)|P.charCodeAt(k++)<<8|P.charCodeAt(k++)<<16|P.charCodeAt(k++)<<24;else for(L=0;L<16;++L)U[L]=P[k++]|P[k++]<<8|P[k++]<<16|P[k++]<<24;P=N.g[0],k=N.g[1],L=N.g[2];let V=N.g[3],R;R=P+(V^k&(L^V))+U[0]+3614090360&4294967295,P=k+(R<<7&4294967295|R>>>25),R=V+(L^P&(k^L))+U[1]+3905402710&4294967295,V=P+(R<<12&4294967295|R>>>20),R=L+(k^V&(P^k))+U[2]+606105819&4294967295,L=V+(R<<17&4294967295|R>>>15),R=k+(P^L&(V^P))+U[3]+3250441966&4294967295,k=L+(R<<22&4294967295|R>>>10),R=P+(V^k&(L^V))+U[4]+4118548399&4294967295,P=k+(R<<7&4294967295|R>>>25),R=V+(L^P&(k^L))+U[5]+1200080426&4294967295,V=P+(R<<12&4294967295|R>>>20),R=L+(k^V&(P^k))+U[6]+2821735955&4294967295,L=V+(R<<17&4294967295|R>>>15),R=k+(P^L&(V^P))+U[7]+4249261313&4294967295,k=L+(R<<22&4294967295|R>>>10),R=P+(V^k&(L^V))+U[8]+1770035416&4294967295,P=k+(R<<7&4294967295|R>>>25),R=V+(L^P&(k^L))+U[9]+2336552879&4294967295,V=P+(R<<12&4294967295|R>>>20),R=L+(k^V&(P^k))+U[10]+4294925233&4294967295,L=V+(R<<17&4294967295|R>>>15),R=k+(P^L&(V^P))+U[11]+2304563134&4294967295,k=L+(R<<22&4294967295|R>>>10),R=P+(V^k&(L^V))+U[12]+1804603682&4294967295,P=k+(R<<7&4294967295|R>>>25),R=V+(L^P&(k^L))+U[13]+4254626195&4294967295,V=P+(R<<12&4294967295|R>>>20),R=L+(k^V&(P^k))+U[14]+2792965006&4294967295,L=V+(R<<17&4294967295|R>>>15),R=k+(P^L&(V^P))+U[15]+1236535329&4294967295,k=L+(R<<22&4294967295|R>>>10),R=P+(L^V&(k^L))+U[1]+4129170786&4294967295,P=k+(R<<5&4294967295|R>>>27),R=V+(k^L&(P^k))+U[6]+3225465664&4294967295,V=P+(R<<9&4294967295|R>>>23),R=L+(P^k&(V^P))+U[11]+643717713&4294967295,L=V+(R<<14&4294967295|R>>>18),R=k+(V^P&(L^V))+U[0]+3921069994&4294967295,k=L+(R<<20&4294967295|R>>>12),R=P+(L^V&(k^L))+U[5]+3593408605&4294967295,P=k+(R<<5&4294967295|R>>>27),R=V+(k^L&(P^k))+U[10]+38016083&4294967295,V=P+(R<<9&4294967295|R>>>23),R=L+(P^k&(V^P))+U[15]+3634488961&4294967295,L=V+(R<<14&4294967295|R>>>18),R=k+(V^P&(L^V))+U[4]+3889429448&4294967295,k=L+(R<<20&4294967295|R>>>12),R=P+(L^V&(k^L))+U[9]+568446438&4294967295,P=k+(R<<5&4294967295|R>>>27),R=V+(k^L&(P^k))+U[14]+3275163606&4294967295,V=P+(R<<9&4294967295|R>>>23),R=L+(P^k&(V^P))+U[3]+4107603335&4294967295,L=V+(R<<14&4294967295|R>>>18),R=k+(V^P&(L^V))+U[8]+1163531501&4294967295,k=L+(R<<20&4294967295|R>>>12),R=P+(L^V&(k^L))+U[13]+2850285829&4294967295,P=k+(R<<5&4294967295|R>>>27),R=V+(k^L&(P^k))+U[2]+4243563512&4294967295,V=P+(R<<9&4294967295|R>>>23),R=L+(P^k&(V^P))+U[7]+1735328473&4294967295,L=V+(R<<14&4294967295|R>>>18),R=k+(V^P&(L^V))+U[12]+2368359562&4294967295,k=L+(R<<20&4294967295|R>>>12),R=P+(k^L^V)+U[5]+4294588738&4294967295,P=k+(R<<4&4294967295|R>>>28),R=V+(P^k^L)+U[8]+2272392833&4294967295,V=P+(R<<11&4294967295|R>>>21),R=L+(V^P^k)+U[11]+1839030562&4294967295,L=V+(R<<16&4294967295|R>>>16),R=k+(L^V^P)+U[14]+4259657740&4294967295,k=L+(R<<23&4294967295|R>>>9),R=P+(k^L^V)+U[1]+2763975236&4294967295,P=k+(R<<4&4294967295|R>>>28),R=V+(P^k^L)+U[4]+1272893353&4294967295,V=P+(R<<11&4294967295|R>>>21),R=L+(V^P^k)+U[7]+4139469664&4294967295,L=V+(R<<16&4294967295|R>>>16),R=k+(L^V^P)+U[10]+3200236656&4294967295,k=L+(R<<23&4294967295|R>>>9),R=P+(k^L^V)+U[13]+681279174&4294967295,P=k+(R<<4&4294967295|R>>>28),R=V+(P^k^L)+U[0]+3936430074&4294967295,V=P+(R<<11&4294967295|R>>>21),R=L+(V^P^k)+U[3]+3572445317&4294967295,L=V+(R<<16&4294967295|R>>>16),R=k+(L^V^P)+U[6]+76029189&4294967295,k=L+(R<<23&4294967295|R>>>9),R=P+(k^L^V)+U[9]+3654602809&4294967295,P=k+(R<<4&4294967295|R>>>28),R=V+(P^k^L)+U[12]+3873151461&4294967295,V=P+(R<<11&4294967295|R>>>21),R=L+(V^P^k)+U[15]+530742520&4294967295,L=V+(R<<16&4294967295|R>>>16),R=k+(L^V^P)+U[2]+3299628645&4294967295,k=L+(R<<23&4294967295|R>>>9),R=P+(L^(k|~V))+U[0]+4096336452&4294967295,P=k+(R<<6&4294967295|R>>>26),R=V+(k^(P|~L))+U[7]+1126891415&4294967295,V=P+(R<<10&4294967295|R>>>22),R=L+(P^(V|~k))+U[14]+2878612391&4294967295,L=V+(R<<15&4294967295|R>>>17),R=k+(V^(L|~P))+U[5]+4237533241&4294967295,k=L+(R<<21&4294967295|R>>>11),R=P+(L^(k|~V))+U[12]+1700485571&4294967295,P=k+(R<<6&4294967295|R>>>26),R=V+(k^(P|~L))+U[3]+2399980690&4294967295,V=P+(R<<10&4294967295|R>>>22),R=L+(P^(V|~k))+U[10]+4293915773&4294967295,L=V+(R<<15&4294967295|R>>>17),R=k+(V^(L|~P))+U[1]+2240044497&4294967295,k=L+(R<<21&4294967295|R>>>11),R=P+(L^(k|~V))+U[8]+1873313359&4294967295,P=k+(R<<6&4294967295|R>>>26),R=V+(k^(P|~L))+U[15]+4264355552&4294967295,V=P+(R<<10&4294967295|R>>>22),R=L+(P^(V|~k))+U[6]+2734768916&4294967295,L=V+(R<<15&4294967295|R>>>17),R=k+(V^(L|~P))+U[13]+1309151649&4294967295,k=L+(R<<21&4294967295|R>>>11),R=P+(L^(k|~V))+U[4]+4149444226&4294967295,P=k+(R<<6&4294967295|R>>>26),R=V+(k^(P|~L))+U[11]+3174756917&4294967295,V=P+(R<<10&4294967295|R>>>22),R=L+(P^(V|~k))+U[2]+718787259&4294967295,L=V+(R<<15&4294967295|R>>>17),R=k+(V^(L|~P))+U[9]+3951481745&4294967295,N.g[0]=N.g[0]+P&4294967295,N.g[1]=N.g[1]+(L+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+V&4294967295}r.prototype.v=function(N,P){P===void 0&&(P=N.length);const k=P-this.blockSize,U=this.C;let L=this.h,V=0;for(;V<P;){if(L==0)for(;V<=k;)i(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<P;)if(U[L++]=N.charCodeAt(V++),L==this.blockSize){i(this,U),L=0;break}}else for(;V<P;)if(U[L++]=N[V++],L==this.blockSize){i(this,U),L=0;break}}this.h=L,this.o+=P},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var P=1;P<N.length-8;++P)N[P]=0;P=this.o*8;for(var k=N.length-8;k<N.length;++k)N[k]=P&255,P/=256;for(this.v(N),N=Array(16),P=0,k=0;k<4;++k)for(let U=0;U<32;U+=8)N[P++]=this.g[k]>>>U&255;return N};function s(N,P){var k=u;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=P(N)}function l(N,P){this.h=P;const k=[];let U=!0;for(let L=N.length-1;L>=0;L--){const V=N[L]|0;U&&V==P||(k[L]=V,U=!1)}this.g=k}var u={};function d(N){return-128<=N&&N<128?s(N,function(P){return new l([P|0],P<0?-1:0)}):new l([N|0],N<0?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return g;if(N<0)return T(h(-N));const P=[];let k=1;for(let U=0;N>=k;U++)P[U]=N/k|0,k*=4294967296;return new l(P,0)}function m(N,P){if(N.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(N.charAt(0)=="-")return T(m(N.substring(1),P));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=h(Math.pow(P,8));let U=g;for(let V=0;V<N.length;V+=8){var L=Math.min(8,N.length-V);const R=parseInt(N.substring(V,V+L),P);L<8?(L=h(Math.pow(P,L)),U=U.j(L).add(h(R))):(U=U.j(k),U=U.add(h(R)))}return U}var g=d(0),b=d(1),x=d(16777216);t=l.prototype,t.m=function(){if(E(this))return-T(this).m();let N=0,P=1;for(let k=0;k<this.g.length;k++){const U=this.i(k);N+=(U>=0?U:4294967296+U)*P,P*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(S(this))return"0";if(E(this))return"-"+T(this).toString(N);const P=h(Math.pow(N,6));var k=this;let U="";for(;;){const L=$(k,P).g;k=I(k,L.j(P));let V=((k.g.length>0?k.g[0]:k.h)>>>0).toString(N);if(k=L,S(k))return V+U;for(;V.length<6;)V="0"+V;U=V+U}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function S(N){if(N.h!=0)return!1;for(let P=0;P<N.g.length;P++)if(N.g[P]!=0)return!1;return!0}function E(N){return N.h==-1}t.l=function(N){return N=I(this,N),E(N)?-1:S(N)?0:1};function T(N){const P=N.g.length,k=[];for(let U=0;U<P;U++)k[U]=~N.g[U];return new l(k,~N.h).add(b)}t.abs=function(){return E(this)?T(this):this},t.add=function(N){const P=Math.max(this.g.length,N.g.length),k=[];let U=0;for(let L=0;L<=P;L++){let V=U+(this.i(L)&65535)+(N.i(L)&65535),R=(V>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);U=R>>>16,V&=65535,R&=65535,k[L]=R<<16|V}return new l(k,k[k.length-1]&-2147483648?-1:0)};function I(N,P){return N.add(T(P))}t.j=function(N){if(S(this)||S(N))return g;if(E(this))return E(N)?T(this).j(T(N)):T(T(this).j(N));if(E(N))return T(this.j(T(N)));if(this.l(x)<0&&N.l(x)<0)return h(this.m()*N.m());const P=this.g.length+N.g.length,k=[];for(var U=0;U<2*P;U++)k[U]=0;for(U=0;U<this.g.length;U++)for(let L=0;L<N.g.length;L++){const V=this.i(U)>>>16,R=this.i(U)&65535,ue=N.i(L)>>>16,pe=N.i(L)&65535;k[2*U+2*L]+=R*pe,M(k,2*U+2*L),k[2*U+2*L+1]+=V*pe,M(k,2*U+2*L+1),k[2*U+2*L+1]+=R*ue,M(k,2*U+2*L+1),k[2*U+2*L+2]+=V*ue,M(k,2*U+2*L+2)}for(N=0;N<P;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=P;N<2*P;N++)k[N]=0;return new l(k,0)};function M(N,P){for(;(N[P]&65535)!=N[P];)N[P+1]+=N[P]>>>16,N[P]&=65535,P++}function j(N,P){this.g=N,this.h=P}function $(N,P){if(S(P))throw Error("division by zero");if(S(N))return new j(g,g);if(E(N))return P=$(T(N),P),new j(T(P.g),T(P.h));if(E(P))return P=$(N,T(P)),new j(T(P.g),P.h);if(N.g.length>30){if(E(N)||E(P))throw Error("slowDivide_ only works with positive integers.");for(var k=b,U=P;U.l(N)<=0;)k=B(k),U=B(U);var L=F(k,1),V=F(U,1);for(U=F(U,2),k=F(k,2);!S(U);){var R=V.add(U);R.l(N)<=0&&(L=L.add(k),V=R),U=F(U,1),k=F(k,1)}return P=I(N,L.j(P)),new j(L,P)}for(L=g;N.l(P)>=0;){for(k=Math.max(1,Math.floor(N.m()/P.m())),U=Math.ceil(Math.log(k)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),V=h(k),R=V.j(P);E(R)||R.l(N)>0;)k-=U,V=h(k),R=V.j(P);S(V)&&(V=b),L=L.add(V),N=I(N,R)}return new j(L,N)}t.B=function(N){return $(this,N).h},t.and=function(N){const P=Math.max(this.g.length,N.g.length),k=[];for(let U=0;U<P;U++)k[U]=this.i(U)&N.i(U);return new l(k,this.h&N.h)},t.or=function(N){const P=Math.max(this.g.length,N.g.length),k=[];for(let U=0;U<P;U++)k[U]=this.i(U)|N.i(U);return new l(k,this.h|N.h)},t.xor=function(N){const P=Math.max(this.g.length,N.g.length),k=[];for(let U=0;U<P;U++)k[U]=this.i(U)^N.i(U);return new l(k,this.h^N.h)};function B(N){const P=N.g.length+1,k=[];for(let U=0;U<P;U++)k[U]=N.i(U)<<1|N.i(U-1)>>>31;return new l(k,N.h)}function F(N,P){const k=P>>5;P%=32;const U=N.g.length-k,L=[];for(let V=0;V<U;V++)L[V]=P>0?N.i(V+k)>>>P|N.i(V+k+1)<<32-P:N.i(V+k);return new l(L,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,BP=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,Xs=l}).apply(typeof EC<"u"?EC:typeof self<"u"?self:typeof window<"u"?window:{});var Em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qP,Sf,$P,Km,V_,FP,HP,GP;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Em=="object"&&Em];for(var w=0;w<p.length;++w){var O=p[w];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(p,w){if(w)e:{var O=r;p=p.split(".");for(var z=0;z<p.length-1;z++){var W=p[z];if(!(W in O))break e;O=O[W]}p=p[p.length-1],z=O[p],w=w(z),w!=z&&w!=null&&e(O,p,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(w){var O=[],z;for(z in w)Object.prototype.hasOwnProperty.call(w,z)&&O.push([z,w[z]]);return O}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(p){var w=typeof p;return w=="object"&&p!=null||w=="function"}function d(p,w,O){return p.call.apply(p.bind,arguments)}function h(p,w,O){return h=d,h.apply(null,arguments)}function m(p,w){var O=Array.prototype.slice.call(arguments,1);return function(){var z=O.slice();return z.push.apply(z,arguments),p.apply(this,z)}}function g(p,w){function O(){}O.prototype=w.prototype,p.Z=w.prototype,p.prototype=new O,p.prototype.constructor=p,p.Ob=function(z,W,ne){for(var _e=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)_e[Be-2]=arguments[Be];return w.prototype[W].apply(z,_e)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function x(p){const w=p.length;if(w>0){const O=Array(w);for(let z=0;z<w;z++)O[z]=p[z];return O}return[]}function S(p,w){for(let z=1;z<arguments.length;z++){const W=arguments[z];var O=typeof W;if(O=O!="object"?O:W?Array.isArray(W)?"array":O:"null",O=="array"||O=="object"&&typeof W.length=="number"){O=p.length||0;const ne=W.length||0;p.length=O+ne;for(let _e=0;_e<ne;_e++)p[O+_e]=W[_e]}else p.push(W)}}class E{constructor(w,O){this.i=w,this.j=O,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function T(p){l.setTimeout(()=>{throw p},0)}function I(){var p=N;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}class M{constructor(){this.h=this.g=null}add(w,O){const z=j.get();z.set(w,O),this.h?this.h.next=z:this.g=z,this.h=z}}var j=new E(()=>new $,p=>p.reset());class ${constructor(){this.next=this.g=this.h=null}set(w,O){this.h=w,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let B,F=!1,N=new M,P=()=>{const p=Promise.resolve(void 0);B=()=>{p.then(k)}};function k(){for(var p;p=I();){try{p.h.call(p.g)}catch(O){T(O)}var w=j;w.j(p),w.h<100&&(w.h++,p.next=w.g,w.g=p)}F=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const O=()=>{};l.addEventListener("test",O,w),l.removeEventListener("test",O,w)}catch{}return p})();function R(p){return/^[\s\xa0]*$/.test(p)}function ue(p,w){L.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,w)}g(ue,L),ue.prototype.init=function(p,w){const O=this.type=p.type,z=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget,w||(O=="mouseover"?w=p.fromElement:O=="mouseout"&&(w=p.toElement)),this.relatedTarget=w,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),G=0;function te(p,w,O,z,W){this.listener=p,this.proxy=null,this.src=w,this.type=O,this.capture=!!z,this.ha=W,this.key=++G,this.da=this.fa=!1}function se(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function X(p,w,O){for(const z in p)w.call(O,p[z],z,p)}function ve(p,w){for(const O in p)w.call(void 0,p[O],O,p)}function q(p){const w={};for(const O in p)w[O]=p[O];return w}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(p,w){let O,z;for(let W=1;W<arguments.length;W++){z=arguments[W];for(O in z)p[O]=z[O];for(let ne=0;ne<J.length;ne++)O=J[ne],Object.prototype.hasOwnProperty.call(z,O)&&(p[O]=z[O])}}function ye(p){this.src=p,this.g={},this.h=0}ye.prototype.add=function(p,w,O,z,W){const ne=p.toString();p=this.g[ne],p||(p=this.g[ne]=[],this.h++);const _e=Ce(p,w,z,W);return _e>-1?(w=p[_e],O||(w.fa=!1)):(w=new te(w,this.src,ne,!!z,W),w.fa=O,p.push(w)),w};function be(p,w){const O=w.type;if(O in p.g){var z=p.g[O],W=Array.prototype.indexOf.call(z,w,void 0),ne;(ne=W>=0)&&Array.prototype.splice.call(z,W,1),ne&&(se(w),p.g[O].length==0&&(delete p.g[O],p.h--))}}function Ce(p,w,O,z){for(let W=0;W<p.length;++W){const ne=p[W];if(!ne.da&&ne.listener==w&&ne.capture==!!O&&ne.ha==z)return W}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),et={};function le(p,w,O,z,W){if(Array.isArray(w)){for(let ne=0;ne<w.length;ne++)le(p,w[ne],O,z,W);return null}return O=ti(O),p&&p[pe]?p.J(w,O,u(z)?!!z.capture:!1,W):Pe(p,w,O,!1,z,W)}function Pe(p,w,O,z,W,ne){if(!w)throw Error("Invalid event type");const _e=u(W)?!!W.capture:!!W;let Be=At(p);if(Be||(p[Te]=Be=new ye(p)),O=Be.add(w,O,z,_e,ne),O.proxy)return O;if(z=oe(),O.proxy=z,z.src=p,z.listener=O,p.addEventListener)V||(W=_e),W===void 0&&(W=!1),p.addEventListener(w.toString(),z,W);else if(p.attachEvent)p.attachEvent(ze(w.toString()),z);else if(p.addListener&&p.removeListener)p.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return O}function oe(){function p(O){return w.call(p.src,p.listener,O)}const w=Dt;return p}function ae(p,w,O,z,W){if(Array.isArray(w))for(var ne=0;ne<w.length;ne++)ae(p,w[ne],O,z,W);else z=u(z)?!!z.capture:!!z,O=ti(O),p&&p[pe]?(p=p.i,ne=String(w).toString(),ne in p.g&&(w=p.g[ne],O=Ce(w,O,z,W),O>-1&&(se(w[O]),Array.prototype.splice.call(w,O,1),w.length==0&&(delete p.g[ne],p.h--)))):p&&(p=At(p))&&(w=p.g[w.toString()],p=-1,w&&(p=Ce(w,O,z,W)),(O=p>-1?w[p]:null)&&Qe(O))}function Qe(p){if(typeof p!="number"&&p&&!p.da){var w=p.src;if(w&&w[pe])be(w.i,p);else{var O=p.type,z=p.proxy;w.removeEventListener?w.removeEventListener(O,z,p.capture):w.detachEvent?w.detachEvent(ze(O),z):w.addListener&&w.removeListener&&w.removeListener(z),(O=At(w))?(be(O,p),O.h==0&&(O.src=null,w[Te]=null)):se(p)}}}function ze(p){return p in et?et[p]:et[p]="on"+p}function Dt(p,w){if(p.da)p=!0;else{w=new ue(w,this);const O=p.listener,z=p.ha||p.src;p.fa&&Qe(p),p=O.call(z,w)}return p}function At(p){return p=p[Te],p instanceof ye?p:null}var Ln="__closure_events_fn_"+(Math.random()*1e9>>>0);function ti(p){return typeof p=="function"?p:(p[Ln]||(p[Ln]=function(w){return p.handleEvent(w)}),p[Ln])}function Rt(){U.call(this),this.i=new ye(this),this.M=this,this.G=null}g(Rt,U),Rt.prototype[pe]=!0,Rt.prototype.removeEventListener=function(p,w,O,z){ae(this,p,w,O,z)};function Mt(p,w){var O,z=p.G;if(z)for(O=[];z;z=z.G)O.push(z);if(p=p.M,z=w.type||w,typeof w=="string")w=new L(w,p);else if(w instanceof L)w.target=w.target||p;else{var W=w;w=new L(z,p),de(w,W)}W=!0;let ne,_e;if(O)for(_e=O.length-1;_e>=0;_e--)ne=w.g=O[_e],W=ni(ne,z,!0,w)&&W;if(ne=w.g=p,W=ni(ne,z,!0,w)&&W,W=ni(ne,z,!1,w)&&W,O)for(_e=0;_e<O.length;_e++)ne=w.g=O[_e],W=ni(ne,z,!1,w)&&W}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var p=this.i;for(const w in p.g){const O=p.g[w];for(let z=0;z<O.length;z++)se(O[z]);delete p.g[w],p.h--}}this.G=null},Rt.prototype.J=function(p,w,O,z){return this.i.add(String(p),w,!1,O,z)},Rt.prototype.K=function(p,w,O,z){return this.i.add(String(p),w,!0,O,z)};function ni(p,w,O,z){if(w=p.i.g[String(w)],!w)return!0;w=w.concat();let W=!0;for(let ne=0;ne<w.length;++ne){const _e=w[ne];if(_e&&!_e.da&&_e.capture==O){const Be=_e.listener,zt=_e.ha||_e.src;_e.fa&&be(p.i,_e),W=Be.call(zt,z)!==!1&&W}}return W&&!z.defaultPrevented}function wl(p,w){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=h(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(p,w||0)}function ho(p){p.g=wl(()=>{p.g=null,p.i&&(p.i=!1,ho(p))},p.l);const w=p.h;p.h=null,p.m.apply(null,w)}class hn extends U{constructor(w,O){super(),this.m=w,this.l=O,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ho(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ci(p){U.call(this),this.h=p,this.g={}}g(Ci,U);var pr=[];function du(p){X(p.g,function(w,O){this.g.hasOwnProperty(O)&&Qe(w)},p),p.g={}}Ci.prototype.N=function(){Ci.Z.N.call(this),du(this)},Ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ss=l.JSON.stringify,Ry=l.JSON.parse,Yd=class{stringify(p){return l.JSON.stringify(p,void 0)}parse(p){return l.JSON.parse(p,void 0)}};function Wd(){}function Xd(){}var ri={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Tn(){L.call(this,"d")}g(Tn,L);function Pr(){L.call(this,"c")}g(Pr,L);var Lt={},Qd=null;function El(){return Qd=Qd||new Rt}Lt.Ia="serverreachability";function Zd(p){L.call(this,Lt.Ia,p)}g(Zd,L);function Oi(p){const w=El();Mt(w,new Zd(w))}Lt.STAT_EVENT="statevent";function mo(p,w){L.call(this,Lt.STAT_EVENT,p),this.stat=w}g(mo,L);function Ht(p){const w=El();Mt(w,new mo(w,p))}Lt.Ja="timingevent";function Ii(p,w){L.call(this,Lt.Ja,p),this.size=w}g(Ii,L);function Ni(p,w){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){p()},w)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function Py(p,w,O,z,W,ne){p.info(function(){if(p.g)if(ne){var _e="",Be=ne.split("&");for(let it=0;it<Be.length;it++){var zt=Be[it].split("=");if(zt.length>1){const Ct=zt[0];zt=zt[1];const kr=Ct.split("_");_e=kr.length>=2&&kr[1]=="type"?_e+(Ct+"="+zt+"&"):_e+(Ct+"=redacted&")}}}else _e=null;else _e=ne;return"XMLHTTP REQ ("+z+") [attempt "+W+"]: "+w+`
`+O+`
`+_e})}function Jd(p,w,O,z,W,ne,_e){p.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+W+"]: "+w+`
`+O+`
`+ne+" "+_e})}function Ri(p,w,O,z){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+Dy(p,O)+(z?" "+z:"")})}function po(p,w){p.info(function(){return"TIMEOUT: "+w})}ii.prototype.info=function(){};function Dy(p,w){if(!p.g)return w;if(!w)return null;try{const ne=JSON.parse(w);if(ne){for(p=0;p<ne.length;p++)if(Array.isArray(ne[p])){var O=ne[p];if(!(O.length<2)){var z=O[1];if(Array.isArray(z)&&!(z.length<1)){var W=z[0];if(W!="noop"&&W!="stop"&&W!="close")for(let _e=1;_e<z.length;_e++)z[_e]=""}}}}return ss(ne)}catch{return w}}var go={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mu;function yo(){}g(yo,Wd),yo.prototype.g=function(){return new XMLHttpRequest},mu=new yo;function ca(p){return encodeURIComponent(String(p))}function eh(p){var w=1;p=p.split(":");const O=[];for(;w>0&&p.length;)O.push(p.shift()),w--;return p.length&&O.push(p.join(":")),O}function ai(p,w,O,z){this.j=p,this.i=w,this.l=O,this.S=z||1,this.V=new Ci(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var Gt={},mn={};function Pi(p,w,O){p.M=1,p.A=vo(Yt(w)),p.u=O,p.R=!0,Sl(p,null)}function Sl(p,w){p.F=Date.now(),Di(p),p.B=Yt(p.A);var O=p.B,z=p.S;Array.isArray(z)||(z=[String(z)]),Ol(O.i,"t",z),p.C=0,O=p.j.L,p.h=new si,p.g=ph(p.j,O?w:null,!p.u),p.P>0&&(p.O=new hn(h(p.Y,p,p.g),p.P)),w=p.V,O=p.g,z=p.ba;var W="readystatechange";Array.isArray(W)||(W&&(pr[0]=W.toString()),W=pr);for(let ne=0;ne<W.length;ne++){const _e=le(O,W[ne],z||w.handleEvent,!1,w.h||w);if(!_e)break;w.g[_e.key]=_e}w=p.J?q(p.J):{},p.u?(p.v||(p.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,w)):(p.v="GET",p.g.ea(p.B,p.v,null,w)),Oi(),Py(p.i,p.v,p.B,p.l,p.S,p.u)}ai.prototype.ba=function(p){p=p.target;const w=this.O;w&&ci(p)==3?w.j():this.Y(p)},ai.prototype.Y=function(p){try{if(p==this.g)e:{const Be=ci(this.g),zt=this.g.ya(),it=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||An(this.g)))){this.K||Be!=4||zt==7||(zt==8||it<=0?Oi(3):Oi(2)),Mi(this);var w=this.g.ca();this.X=w;var O=My(this);if(this.o=w==200,Jd(this.i,this.v,this.B,this.l,this.S,Be,w),this.o){if(this.U&&!this.L){t:{if(this.g){var z,W=this.g;if((z=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(z)){var ne=z;break t}}ne=null}if(p=ne)Ri(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ji(this,p);else{this.o=!1,this.m=3,Ht(12),gr(this),Dr(this);break e}}if(this.R){p=!0;let Ct;for(;!this.K&&this.C<O.length;)if(Ct=nh(this,O),Ct==mn){Be==4&&(this.m=4,Ht(14),p=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==Gt){this.m=4,Ht(15),Ri(this.i,this.l,O,"[Invalid Chunk]"),p=!1;break}else Ri(this.i,this.l,Ct,null),ji(this,Ct);if(th(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||O.length!=0||this.h.h||(this.m=1,Ht(16),p=!1),this.o=this.o&&p,!p)Ri(this.i,this.l,O,"[Invalid Chunked Response]"),gr(this),Dr(this);else if(O.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Iu(_e),_e.P=!0,Ht(11))}}else Ri(this.i,this.l,O,null),ji(this,O);Be==4&&gr(this),this.o&&!this.K&&(Be==4?fh(this.j,this):(this.o=!1,Di(this)))}else fa(this.g),w==400&&O.indexOf("Unknown SID")>0?(this.m=3,Ht(12)):(this.m=0,Ht(13)),gr(this),Dr(this)}}}catch{}finally{}};function My(p){if(!th(p))return p.g.la();const w=An(p.g);if(w==="")return"";let O="";const z=w.length,W=ci(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return gr(p),Dr(p),"";p.h.i=new l.TextDecoder}for(let ne=0;ne<z;ne++)p.h.h=!0,O+=p.h.i.decode(w[ne],{stream:!(W&&ne==z-1)});return w.length=0,p.h.g+=O,p.C=0,p.h.g}function th(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function nh(p,w){var O=p.C,z=w.indexOf(`
`,O);return z==-1?mn:(O=Number(w.substring(O,z)),isNaN(O)?Gt:(z+=1,z+O>w.length?mn:(w=w.slice(z,z+O),p.C=z+O,w)))}ai.prototype.cancel=function(){this.K=!0,gr(this)};function Di(p){p.T=Date.now()+p.H,Tl(p,p.H)}function Tl(p,w){if(p.D!=null)throw Error("WatchDog timer not null");p.D=Ni(h(p.aa,p),w)}function Mi(p){p.D&&(l.clearTimeout(p.D),p.D=null)}ai.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(po(this.i,this.B),this.M!=2&&(Oi(),Ht(17)),gr(this),this.m=2,Dr(this)):Tl(this,this.T-p)};function Dr(p){p.j.I==0||p.K||fh(p.j,p)}function gr(p){Mi(p);var w=p.O;w&&typeof w.dispose=="function"&&w.dispose(),p.O=null,du(p.V),p.g&&(w=p.g,p.g=null,w.abort(),w.dispose())}function ji(p,w){try{var O=p.j;if(O.I!=0&&(O.g==p||Li(O.h,p))){if(!p.L&&Li(O.h,p)&&O.I==3){try{var z=O.Ba.g.parse(w)}catch{z=null}if(Array.isArray(z)&&z.length==3){var W=z;if(W[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<p.F)Dl(O),ms(O);else break e;To(O),Ht(18)}}else O.xa=W[1],0<O.xa-O.K&&W[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=Ni(h(O.Va,O),6e3));ki(O.h)<=1&&O.ta&&(O.ta=void 0)}else $i(O,11)}else if((p.L||O.g==p)&&Dl(O),!R(w))for(W=O.Ba.g.parse(w),w=0;w<W.length;w++){let it=W[w];const Ct=it[0];if(!(Ct<=O.K))if(O.K=Ct,it=it[1],O.I==2)if(it[0]=="c"){O.M=it[1],O.ba=it[2];const kr=it[3];kr!=null&&(O.ka=kr,O.j.info("VER="+O.ka));const Fi=it[4];Fi!=null&&(O.za=Fi,O.j.info("SVER="+O.za));const ui=it[5];ui!=null&&typeof ui=="number"&&ui>0&&(z=1.5*ui,O.O=z,O.j.info("backChannelRequestTimeoutMs_="+z)),z=O;const fi=p.g;if(fi){const Ao=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ao){var ne=z.h;ne.g||Ao.indexOf("spdy")==-1&&Ao.indexOf("quic")==-1&&Ao.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(yu(ne,ne.h),ne.h=null))}if(z.G){const Ml=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ml&&(z.wa=Ml,ot(z.J,z.G,Ml))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-p.F,O.j.info("Handshake RTT: "+O.T+"ms")),z=O;var _e=p;if(z.na=mh(z,z.L?z.ba:null,z.W),_e.L){vu(z.h,_e);var Be=_e,zt=z.O;zt&&(Be.H=zt),Be.D&&(Mi(Be),Di(Be)),z.g=_e}else ch(z);O.i.length>0&&qi(O)}else it[0]!="stop"&&it[0]!="close"||$i(O,7);else O.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?$i(O,7):Cu(O):it[0]!="noop"&&O.l&&O.l.qa(it),O.A=0)}}Oi(4)}catch{}}var Kt=class{constructor(p,w){this.g=p,this.map=w}};function pu(p){this.l=p||10,l.PerformanceNavigationTiming?(p=l.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gu(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function ki(p){return p.h?1:p.g?p.g.size:0}function Li(p,w){return p.h?p.h==w:p.g?p.g.has(w):!1}function yu(p,w){p.g?p.g.add(w):p.h=w}function vu(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}pu.prototype.cancel=function(){if(this.i=bu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function bu(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let w=p.i;for(const O of p.g.values())w=w.concat(O.G);return w}return x(p.i)}var rh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Al(p,w){if(p){p=p.split("&");for(let O=0;O<p.length;O++){const z=p[O].indexOf("=");let W,ne=null;z>=0?(W=p[O].substring(0,z),ne=p[O].substring(z+1)):W=p[O],w(W,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function yr(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;p instanceof yr?(this.l=p.l,pn(this,p.j),this.o=p.o,this.g=p.g,os(this,p.u),this.h=p.h,_u(this,oh(p.i)),this.m=p.m):p&&(w=String(p).match(rh))?(this.l=!1,pn(this,w[1]||"",!0),this.o=zi(w[2]||""),this.g=zi(w[3]||"",!0),os(this,w[4]),this.h=zi(w[5]||"",!0),_u(this,w[6]||"",!0),this.m=zi(w[7]||"")):(this.l=!1,this.i=new cs(null,this.l))}yr.prototype.toString=function(){const p=[];var w=this.j;w&&p.push(bo(w,Cl,!0),":");var O=this.g;return(O||w=="file")&&(p.push("//"),(w=this.o)&&p.push(bo(w,Cl,!0),"@"),p.push(ca(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&p.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&p.push("/"),p.push(bo(O,O.charAt(0)=="/"?xu:ih,!0))),(O=this.i.toString())&&p.push("?",O),(O=this.m)&&p.push("#",bo(O,ah)),p.join("")},yr.prototype.resolve=function(p){const w=Yt(this);let O=!!p.j;O?pn(w,p.j):O=!!p.o,O?w.o=p.o:O=!!p.g,O?w.g=p.g:O=p.u!=null;var z=p.h;if(O)os(w,p.u);else if(O=!!p.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var W=w.h.lastIndexOf("/");W!=-1&&(z=w.h.slice(0,W+1)+z)}if(W=z,W==".."||W==".")z="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){z=W.lastIndexOf("/",0)==0,W=W.split("/");const ne=[];for(let _e=0;_e<W.length;){const Be=W[_e++];Be=="."?z&&_e==W.length&&ne.push(""):Be==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),z&&_e==W.length&&ne.push("")):(ne.push(Be),z=!0)}z=ne.join("/")}else z=W}return O?w.h=z:O=p.i.toString()!=="",O?_u(w,oh(p.i)):O=!!p.m,O&&(w.m=p.m),w};function Yt(p){return new yr(p)}function pn(p,w,O){p.j=O?zi(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function os(p,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);p.u=w}else p.u=null}function _u(p,w,O){w instanceof cs?(p.i=w,Il(p.i,p.l)):(O||(w=bo(w,ls)),p.i=new cs(w,p.l))}function ot(p,w,O){p.i.set(w,O)}function vo(p){return ot(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function zi(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function bo(p,w,O){return typeof p=="string"?(p=encodeURI(p).replace(w,er),O&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function er(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Cl=/[#\/\?@]/g,ih=/[#\?:]/g,xu=/[#\?]/g,ls=/[#\?@]/g,ah=/#/g;function cs(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function tr(p){p.g||(p.g=new Map,p.h=0,p.i&&Al(p.i,function(w,O){p.add(decodeURIComponent(w.replace(/\+/g," ")),O)}))}t=cs.prototype,t.add=function(p,w){tr(this),this.i=null,p=us(this,p);let O=this.g.get(p);return O||this.g.set(p,O=[]),O.push(w),this.h+=1,this};function sh(p,w){tr(p),w=us(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function wu(p,w){return tr(p),w=us(p,w),p.g.has(w)}t.forEach=function(p,w){tr(this),this.g.forEach(function(O,z){O.forEach(function(W){p.call(w,W,z,this)},this)},this)};function Eu(p,w){tr(p);let O=[];if(typeof w=="string")wu(p,w)&&(O=O.concat(p.g.get(us(p,w))));else for(p=Array.from(p.g.values()),w=0;w<p.length;w++)O=O.concat(p[w]);return O}t.set=function(p,w){return tr(this),this.i=null,p=us(this,p),wu(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},t.get=function(p,w){return p?(p=Eu(this,p),p.length>0?String(p[0]):w):w};function Ol(p,w,O){sh(p,w),O.length>0&&(p.i=null,p.g.set(us(p,w),x(O)),p.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],w=Array.from(this.g.keys());for(let z=0;z<w.length;z++){var O=w[z];const W=ca(O);O=Eu(this,O);for(let ne=0;ne<O.length;ne++){let _e=W;O[ne]!==""&&(_e+="="+ca(O[ne])),p.push(_e)}}return this.i=p.join("&")};function oh(p){const w=new cs;return w.i=p.i,p.g&&(w.g=new Map(p.g),w.h=p.h),w}function us(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function Il(p,w){w&&!p.j&&(tr(p),p.i=null,p.g.forEach(function(O,z){const W=z.toLowerCase();z!=W&&(sh(this,z),Ol(this,W,O))},p)),p.j=w}function oi(p,w){const O=new ii;if(l.Image){const z=new Image;z.onload=m(Mr,O,"TestLoadImage: loaded",!0,w,z),z.onerror=m(Mr,O,"TestLoadImage: error",!1,w,z),z.onabort=m(Mr,O,"TestLoadImage: abort",!1,w,z),z.ontimeout=m(Mr,O,"TestLoadImage: timeout",!1,w,z),l.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=p}else w(!1)}function Su(p,w){const O=new ii,z=new AbortController,W=setTimeout(()=>{z.abort(),Mr(O,"TestPingServer: timeout",!1,w)},1e4);fetch(p,{signal:z.signal}).then(ne=>{clearTimeout(W),ne.ok?Mr(O,"TestPingServer: ok",!0,w):Mr(O,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),Mr(O,"TestPingServer: error",!1,w)})}function Mr(p,w,O,z,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),z(O)}catch{}}function fs(){this.g=new Yd}function Vi(p){this.i=p.Sb||null,this.h=p.ab||!1}g(Vi,Wd),Vi.prototype.g=function(){return new _o(this.i,this.h)};function _o(p,w){Rt.call(this),this.H=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(_o,Rt),t=_o.prototype,t.open=function(p,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=w,this.readyState=1,li(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(w.body=p),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Nl(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function Nl(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?ds(this):li(this),this.readyState==3&&Nl(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,ds(this))},t.Na=function(p){this.g&&(this.response=p,ds(this))},t.ga=function(){this.g&&ds(this)};function ds(p){p.readyState=4,p.l=null,p.j=null,p.B=null,li(p)}t.setRequestHeader=function(p,w){this.A.append(p,w)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],w=this.h.entries();for(var O=w.next();!O.done;)O=O.value,p.push(O[0]+": "+O[1]),O=w.next();return p.join(`\r
`)};function li(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(_o.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function jr(p){let w="";return X(p,function(O,z){w+=z,w+=":",w+=O,w+=`\r
`}),w}function xo(p,w,O){e:{for(z in O){var z=!1;break e}z=!0}z||(O=jr(O),typeof p=="string"?O!=null&&ca(O):ot(p,w,O))}function dt(p){Rt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(dt,Rt);var Ui=/^https?$/i,Tu=["POST","PUT"];t=dt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,w,O,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mu.g(),this.g.onreadystatechange=b(h(this.Ca,this));try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(ne){wo(this,ne);return}if(p=O||"",O=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var W in z)O.set(W,z[W]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ne of z.keys())O.set(ne,z.get(ne));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(O.keys()).find(ne=>ne.toLowerCase()=="content-type"),W=l.FormData&&p instanceof l.FormData,!(Array.prototype.indexOf.call(Tu,w,void 0)>=0)||z||W||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,_e]of O)this.g.setRequestHeader(ne,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ne){wo(this,ne)}};function wo(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.o=5,Au(p),ua(p)}function Au(p){p.A||(p.A=!0,Mt(p,"complete"),Mt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Mt(this,"complete"),Mt(this,"abort"),ua(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ua(this,!0)),dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Eo(this):this.Xa())},t.Xa=function(){Eo(this)};function Eo(p){if(p.h&&typeof s<"u"){if(p.v&&ci(p)==4)setTimeout(p.Ca.bind(p),0);else if(Mt(p,"readystatechange"),ci(p)==4){p.h=!1;try{const ne=p.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var O;if(!(O=w)){var z;if(z=ne===0){let _e=String(p.D).match(rh)[1]||null;!_e&&l.self&&l.self.location&&(_e=l.self.location.protocol.slice(0,-1)),z=!Ui.test(_e?_e.toLowerCase():"")}O=z}if(O)Mt(p,"complete"),Mt(p,"success");else{p.o=6;try{var W=ci(p)>2?p.g.statusText:""}catch{W=""}p.l=W+" ["+p.ca()+"]",Au(p)}}finally{ua(p)}}}}function ua(p,w){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const O=p.g;p.g=null,w||Mt(p,"ready");try{O.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ci(p){return p.g?p.g.readyState:0}t.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var w=this.g.responseText;return p&&w.indexOf(p)==0&&(w=w.substring(p.length)),Ry(w)}};function An(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function fa(p){const w={};p=(p.g&&ci(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<p.length;z++){if(R(p[z]))continue;var O=eh(p[z]);const W=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const ne=w[W]||[];w[W]=ne,ne.push(O)}ve(w,function(z){return z.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bi(p,w,O){return O&&O.internalChannelParams&&O.internalChannelParams[p]||w}function hs(p){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bi("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bi("baseRetryDelayMs",5e3,p),this.Za=Bi("retryDelaySeedMs",1e4,p),this.Ta=Bi("forwardChannelMaxRetries",2,p),this.va=Bi("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new pu(p&&p.concurrentRequestLimit),this.Ba=new fs,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=hs.prototype,t.ka=8,t.I=1,t.connect=function(p,w,O,z){Ht(0),this.W=p,this.H=w||{},O&&z!==void 0&&(this.H.OSID=O,this.H.OAID=z),this.F=this.X,this.J=mh(this,null,this.W),qi(this)};function Cu(p){if(Rl(p),p.I==3){var w=p.V++,O=Yt(p.J);if(ot(O,"SID",p.M),ot(O,"RID",w),ot(O,"TYPE","terminate"),So(p,O),w=new ai(p,p.j,w),w.M=2,w.A=vo(Yt(O)),O=!1,l.navigator&&l.navigator.sendBeacon)try{O=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!O&&l.Image&&(new Image().src=w.A,O=!0),O||(w.g=ph(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Di(w)}hh(p)}function ms(p){p.g&&(Iu(p),p.g.cancel(),p.g=null)}function Rl(p){ms(p),p.v&&(l.clearTimeout(p.v),p.v=null),Dl(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&l.clearTimeout(p.m),p.m=null)}function qi(p){if(!gu(p.h)&&!p.m){p.m=!0;var w=p.Ea;B||P(),F||(B(),F=!0),N.add(w,p),p.D=0}}function Pl(p,w){return ki(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=w.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=Ni(h(p.Ea,p,w),dh(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const W=new ai(this,this.j,p);let ne=this.o;if(this.U&&(ne?(ne=q(ne),de(ne,this.U)):ne=this.U),this.u!==null||this.R||(W.J=ne,ne=null),this.S)e:{for(var w=0,O=0;O<this.i.length;O++){t:{var z=this.i[O];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(w+=z,w>4096){w=O;break e}if(w===4096||O===this.i.length-1){w=O+1;break e}}w=1e3}else w=1e3;w=lh(this,W,w),O=Yt(this.J),ot(O,"RID",p),ot(O,"CVER",22),this.G&&ot(O,"X-HTTP-Session-Id",this.G),So(this,O),ne&&(this.R?w="headers="+ca(jr(ne))+"&"+w:this.u&&xo(O,this.u,ne)),yu(this.h,W),this.Ra&&ot(O,"TYPE","init"),this.S?(ot(O,"$req",w),ot(O,"SID","null"),W.U=!0,Pi(W,O,null)):Pi(W,O,w),this.I=2}}else this.I==3&&(p?Ou(this,p):this.i.length==0||gu(this.h)||Ou(this))};function Ou(p,w){var O;w?O=w.l:O=p.V++;const z=Yt(p.J);ot(z,"SID",p.M),ot(z,"RID",O),ot(z,"AID",p.K),So(p,z),p.u&&p.o&&xo(z,p.u,p.o),O=new ai(p,p.j,O,p.D+1),p.u===null&&(O.J=p.o),w&&(p.i=w.G.concat(p.i)),w=lh(p,O,1e3),O.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),yu(p.h,O),Pi(O,z,w)}function So(p,w){p.H&&X(p.H,function(O,z){ot(w,z,O)}),p.l&&X({},function(O,z){ot(w,z,O)})}function lh(p,w,O){O=Math.min(p.i.length,O);const z=p.l?h(p.l.Ka,p.l,p):null;e:{var W=p.i;let Be=-1;for(;;){const zt=["count="+O];Be==-1?O>0?(Be=W[0].g,zt.push("ofs="+Be)):Be=0:zt.push("ofs="+Be);let it=!0;for(let Ct=0;Ct<O;Ct++){var ne=W[Ct].g;const kr=W[Ct].map;if(ne-=Be,ne<0)Be=Math.max(0,W[Ct].g-100),it=!1;else try{ne="req"+ne+"_"||"";try{var _e=kr instanceof Map?kr:Object.entries(kr);for(const[Fi,ui]of _e){let fi=ui;u(ui)&&(fi=ss(ui)),zt.push(ne+Fi+"="+encodeURIComponent(fi))}}catch(Fi){throw zt.push(ne+"type="+encodeURIComponent("_badmap")),Fi}}catch{z&&z(kr)}}if(it){_e=zt.join("&");break e}}_e=void 0}return p=p.i.splice(0,O),w.G=p,_e}function ch(p){if(!p.g&&!p.v){p.Y=1;var w=p.Da;B||P(),F||(B(),F=!0),N.add(w,p),p.A=0}}function To(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=Ni(h(p.Da,p),dh(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,uh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=Ni(h(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ht(10),ms(this),uh(this))};function Iu(p){p.B!=null&&(l.clearTimeout(p.B),p.B=null)}function uh(p){p.g=new ai(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var w=Yt(p.na);ot(w,"RID","rpc"),ot(w,"SID",p.M),ot(w,"AID",p.K),ot(w,"CI",p.F?"0":"1"),!p.F&&p.ia&&ot(w,"TO",p.ia),ot(w,"TYPE","xmlhttp"),So(p,w),p.u&&p.o&&xo(w,p.u,p.o),p.O&&(p.g.H=p.O);var O=p.g;p=p.ba,O.M=1,O.A=vo(Yt(w)),O.u=null,O.R=!0,Sl(O,p)}t.Va=function(){this.C!=null&&(this.C=null,ms(this),To(this),Ht(19))};function Dl(p){p.C!=null&&(l.clearTimeout(p.C),p.C=null)}function fh(p,w){var O=null;if(p.g==w){Dl(p),Iu(p),p.g=null;var z=2}else if(Li(p.h,w))O=w.G,vu(p.h,w),z=1;else return;if(p.I!=0){if(w.o)if(z==1){O=w.u?w.u.length:0,w=Date.now()-w.F;var W=p.D;z=El(),Mt(z,new Ii(z,O)),qi(p)}else ch(p);else if(W=w.m,W==3||W==0&&w.X>0||!(z==1&&Pl(p,w)||z==2&&To(p)))switch(O&&O.length>0&&(w=p.h,w.i=w.i.concat(O)),W){case 1:$i(p,5);break;case 4:$i(p,10);break;case 3:$i(p,6);break;default:$i(p,2)}}}function dh(p,w){let O=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(O*=2),O*w}function $i(p,w){if(p.j.info("Error code "+w),w==2){var O=h(p.bb,p),z=p.Ua;const W=!z;z=new yr(z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||pn(z,"https"),vo(z),W?oi(z.toString(),O):Su(z.toString(),O)}else Ht(2);p.I=0,p.l&&p.l.pa(w),hh(p),Rl(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function hh(p){if(p.I=0,p.ja=[],p.l){const w=bu(p.h);(w.length!=0||p.i.length!=0)&&(S(p.ja,w),S(p.ja,p.i),p.h.i.length=0,x(p.i),p.i.length=0),p.l.oa()}}function mh(p,w,O){var z=O instanceof yr?Yt(O):new yr(O);if(z.g!="")w&&(z.g=w+"."+z.g),os(z,z.u);else{var W=l.location;z=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;const ne=new yr(null);z&&pn(ne,z),w&&(ne.g=w),W&&os(ne,W),O&&(ne.h=O),z=ne}return O=p.G,w=p.wa,O&&w&&ot(z,O,w),ot(z,"VER",p.ka),So(p,z),z}function ph(p,w,O){if(w&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=p.Aa&&!p.ma?new dt(new Vi({ab:O})):new dt(p.ma),w.Fa(p.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gh(){}t=gh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ps(){}ps.prototype.g=function(p,w){return new Kn(p,w)};function Kn(p,w){Rt.call(this),this.g=new hs(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(p?p["X-WebChannel-Client-Profile"]=w.sa:p={"X-WebChannel-Client-Profile":w.sa}),this.g.U=p,(p=w&&w.Qb)&&!R(p)&&(this.g.u=p),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!R(w)&&(this.g.G=w,p=this.h,p!==null&&w in p&&(p=this.h,w in p&&delete p[w])),this.j=new da(this)}g(Kn,Rt),Kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){Cu(this.g)},Kn.prototype.o=function(p){var w=this.g;if(typeof p=="string"){var O={};O.__data__=p,p=O}else this.v&&(O={},O.__data__=ss(p),p=O);w.i.push(new Kt(w.Ya++,p)),w.I==3&&qi(w)},Kn.prototype.N=function(){this.g.l=null,delete this.j,Cu(this.g),delete this.g,Kn.Z.N.call(this)};function yh(p){Tn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){e:{for(const O in w){p=O;break e}p=void 0}(this.i=p)&&(p=this.i,w=w!==null&&p in w?w[p]:void 0),this.data=w}else this.data=p}g(yh,Tn);function vh(){Pr.call(this),this.status=1}g(vh,Pr);function da(p){this.g=p}g(da,gh),da.prototype.ra=function(){Mt(this.g,"a")},da.prototype.qa=function(p){Mt(this.g,new yh(p))},da.prototype.pa=function(p){Mt(this.g,new vh)},da.prototype.oa=function(){Mt(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,GP=function(){return new ps},HP=function(){return El()},FP=Lt,V_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},go.NO_ERROR=0,go.TIMEOUT=8,go.HTTP_ERROR=6,Km=go,hu.COMPLETE="complete",$P=hu,Xd.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,Sf=Xd,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,qP=dt}).apply(typeof Em<"u"?Em:typeof self<"u"?self:typeof window<"u"?window:{});const SC="@firebase/firestore",TC="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=new a1("@firebase/firestore");function mc(){return ol.logLevel}function we(t,...e){if(ol.logLevel<=Ye.DEBUG){const n=e.map(l1);ol.debug(`Firestore (${Zc}): ${t}`,...n)}}function Ua(t,...e){if(ol.logLevel<=Ye.ERROR){const n=e.map(l1);ol.error(`Firestore (${Zc}): ${t}`,...n)}}function Rc(t,...e){if(ol.logLevel<=Ye.WARN){const n=e.map(l1);ol.warn(`Firestore (${Zc}): ${t}`,...n)}}function l1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,KP(t,r,n)}function KP(t,e,n){let r=`FIRESTORE (${Zc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ua(r),new Error(r)}function st(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||KP(e,i,r)}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Za{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Bn.UNAUTHENTICATED)))}shutdown(){}}class YU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class WU{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new Qo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qo,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},u=d=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qo)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new YP(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new Bn(e)}}class XU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new XU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const r=s=>{s.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,we("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new AC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new AC(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=JU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function U_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return U0(i)===U0(s)?We(i,s):U0(i)?1:-1}return We(t.length,e.length)}const e9=55296,t9=57343;function U0(t){const e=t.charCodeAt(0);return e>=e9&&e<=t9}function Pc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="__name__";class Wi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Wi.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return We(e.length,n.length)}static compareSegments(e,n){const r=Wi.isNumericId(e),i=Wi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Wi.extractNumericId(e).compare(Wi.extractNumericId(n)):U_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xs.fromString(e.substring(4,e.length-2))}}class _t extends Wi{construct(e,n,r){return new _t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const n9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mn extends Wi{construct(e,n,r){return new Mn(e,n,r)}static isValidIdentifier(e){return n9.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CC}static keyField(){return new Mn([CC])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new xe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new xe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new xe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new xe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mn(n)}static emptyPath(){return new Mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(_t.fromString(e))}static fromName(e){return new Re(_t.fromString(e).popFirst(5))}static empty(){return new Re(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t,e,n){if(!n)throw new xe(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r9(t,e,n,r){if(e===!0&&r===!0)throw new xe(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OC(t){if(!Re.isDocumentKey(t))throw new xe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IC(t){if(Re.isDocumentKey(t))throw new xe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function XP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ig(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function Zo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ig(t);throw new xe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t,e){const n={typeString:t};return e&&(n.value=e),n}function hd(t,e){if(!XP(t))throw new xe(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new xe(me.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=-62135596800,RC=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*RC);return new St(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<NC)throw new xe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RC}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hd(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-NC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:nn("string",St._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new St(0,0))}static max(){return new Le(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=-1;function i9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new eo(i,Re.empty(),e)}function a9(t){return new eo(t.readTime,t.key,Bf)}class eo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new eo(Le.min(),Re.empty(),Bf)}static max(){return new eo(Le.max(),Re.empty(),Bf)}}function s9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==o9)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.reject(n)}static resolve(e){return new ge(((n,r)=>{n(e)}))}static reject(e){return new ge(((n,r)=>{r(e)}))}static waitFor(e){return new ge(((n,r)=>{let i=0,s=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++s,l&&s===i&&n()}),(d=>r(d)))})),l=!0,s===i&&n()}))}static or(e){let n=ge.resolve(!1);for(const r of e)n=n.next((i=>i?ge.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new ge(((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let d=0;d<s;d++){const h=d;n(e[h]).next((m=>{l[h]=m,++u,u===s&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new ge(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function c9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function eu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ng.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=-1;function Rg(t){return t==null}function vp(t){return t===0&&1/t==-1/0}function u9(t){return typeof t=="number"&&Number.isInteger(t)&&!vp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="";function f9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=PC(e)),e=d9(t.get(n),e);return PC(e)}function d9(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case QP:n+="";break;default:n+=s}}return n}function PC(t){return t+QP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||Pn.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sm(this.root,e,this.comparator,!0)}}class Sm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Pn.RED,this.left=i??Pn.EMPTY,this.right=s??Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new MC(this.data.getIterator())}getIteratorFrom(e){return new MC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class MC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new Cr([])}unionWith(e){let n=new ln(Mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new JP("Invalid base64 string: "+s):s}})(e);return new kn(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const h9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function to(t){if(st(!!t,39018),typeof t=="string"){let e=0;const n=h9.exec(t);if(st(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qt(t.seconds),nanos:qt(t.nanos)}}function qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function no(t){return typeof t=="string"?kn.fromBase64String(t):kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="server_timestamp",tD="__type__",nD="__previous_value__",rD="__local_write_time__";function f1(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[tD])==null?void 0:r.stringValue)===eD}function Pg(t){const e=t.mapValue.fields[nD];return f1(e)?Pg(e):e}function qf(t){const e=to(t.mapValue.fields[rD].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n,r,i,s,l,u,d,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m}}const bp="(default)";class $f{constructor(e,n){this.projectId=e,this.database=n||bp}static empty(){return new $f("","")}get isDefaultDatabase(){return this.database===bp}isEqual(e){return e instanceof $f&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="__type__",p9="__max__",Tm={mapValue:{}},aD="__vector__",_p="value";function ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?f1(t)?4:y9(t)?9007199254740991:g9(t)?10:11:Me(28295,{value:t})}function ra(t,e){if(t===e)return!0;const n=ro(t);if(n!==ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qf(t).isEqual(qf(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=to(i.timestampValue),u=to(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return no(i.bytesValue).isEqual(no(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return qt(i.geoPointValue.latitude)===qt(s.geoPointValue.latitude)&&qt(i.geoPointValue.longitude)===qt(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return qt(i.integerValue)===qt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=qt(i.doubleValue),u=qt(s.doubleValue);return l===u?vp(l)===vp(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Pc(t.arrayValue.values||[],e.arrayValue.values||[],ra);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(DC(l)!==DC(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!ra(l[d],u[d])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function Ff(t,e){return(t.values||[]).find((n=>ra(n,e)))!==void 0}function Dc(t,e){if(t===e)return 0;const n=ro(t),r=ro(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const u=qt(s.integerValue||s.doubleValue),d=qt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return jC(t.timestampValue,e.timestampValue);case 4:return jC(qf(t),qf(e));case 5:return U_(t.stringValue,e.stringValue);case 6:return(function(s,l){const u=no(s),d=no(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const u=s.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const m=We(u[h],d[h]);if(m!==0)return m}return We(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const u=We(qt(s.latitude),qt(l.latitude));return u!==0?u:We(qt(s.longitude),qt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return kC(t.arrayValue,e.arrayValue);case 10:return(function(s,l){var b,x,S,E;const u=s.fields||{},d=l.fields||{},h=(b=u[_p])==null?void 0:b.arrayValue,m=(x=d[_p])==null?void 0:x.arrayValue,g=We(((S=h==null?void 0:h.values)==null?void 0:S.length)||0,((E=m==null?void 0:m.values)==null?void 0:E.length)||0);return g!==0?g:kC(h,m)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Tm.mapValue&&l===Tm.mapValue)return 0;if(s===Tm.mapValue)return 1;if(l===Tm.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),h=l.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const b=U_(d[g],m[g]);if(b!==0)return b;const x=Dc(u[d[g]],h[m[g]]);if(x!==0)return x}return We(d.length,m.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function jC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=to(t),r=to(e),i=We(n.seconds,r.seconds);return i!==0?i:We(n.nanos,r.nanos)}function kC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Dc(n[i],r[i]);if(s)return s}return We(n.length,r.length)}function Mc(t){return B_(t)}function B_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=to(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return no(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Re.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=B_(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${B_(n.fields[l])}`;return i+"}"})(t.mapValue):Me(61005,{value:t})}function Ym(t){switch(ro(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pg(t);return e?16+Ym(e):16;case 5:return 2*t.stringValue.length;case 6:return no(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Ym(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return oo(r.fields,((s,l)=>{i+=s.length+Ym(l)})),i})(t.mapValue);default:throw Me(13486,{value:t})}}function LC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function q_(t){return!!t&&"integerValue"in t}function d1(t){return!!t&&"arrayValue"in t}function zC(t){return!!t&&"nullValue"in t}function VC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wm(t){return!!t&&"mapValue"in t}function g9(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[iD])==null?void 0:r.stringValue)===aD}function Rf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return oo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Rf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rf(t.arrayValue.values[n]);return e}return{...t}}function y9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===p9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.value=e}static empty(){return new ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rf(n)}setAll(e){let n=Mn.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Rf(l):i.push(u.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Wm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ra(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){oo(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new ur(Rf(this.value))}}function sD(t){const e=[];return oo(t.fields,((n,r)=>{const i=new Mn([n]);if(Wm(r)){const s=sD(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new Cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n,r,i,s,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new qn(e,0,Le.min(),Le.min(),Le.min(),ur.empty(),0)}static newFoundDocument(e,n,r,i){return new qn(e,1,n,Le.min(),r,i,0)}static newNoDocument(e,n){return new qn(e,2,n,Le.min(),Le.min(),ur.empty(),0)}static newUnknownDocument(e,n){return new qn(e,3,n,Le.min(),Le.min(),ur.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.position=e,this.inclusive=n}}function UC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Re.comparator(Re.fromName(l.referenceValue),n.key):r=Dc(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function BC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ra(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n="asc"){this.field=e,this.dir=n}}function v9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{}class tn extends oD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _9(e,n,r):n==="array-contains"?new E9(e,r):n==="in"?new S9(e,r):n==="not-in"?new T9(e,r):n==="array-contains-any"?new A9(e,r):new tn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new x9(e,r):new w9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Dc(n,this.value)):n!==null&&ro(this.value)===ro(n)&&this.matchesComparison(Dc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends oD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wi(e,n)}matches(e){return lD(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lD(t){return t.op==="and"}function cD(t){return b9(t)&&lD(t)}function b9(t){for(const e of t.filters)if(e instanceof wi)return!1;return!0}function $_(t){if(t instanceof tn)return t.field.canonicalString()+t.op.toString()+Mc(t.value);if(cD(t))return t.filters.map((e=>$_(e))).join(",");{const e=t.filters.map((n=>$_(n))).join(",");return`${t.op}(${e})`}}function uD(t,e){return t instanceof tn?(function(r,i){return i instanceof tn&&r.op===i.op&&r.field.isEqual(i.field)&&ra(r.value,i.value)})(t,e):t instanceof wi?(function(r,i){return i instanceof wi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,u)=>s&&uD(l,i.filters[u])),!0):!1})(t,e):void Me(19439)}function fD(t){return t instanceof tn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Mc(n.value)}`})(t):t instanceof wi?(function(n){return n.op.toString()+" {"+n.getFilters().map(fD).join(" ,")+"}"})(t):"Filter"}class _9 extends tn{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class x9 extends tn{constructor(e,n){super(e,"in",n),this.keys=dD("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class w9 extends tn{constructor(e,n){super(e,"not-in",n),this.keys=dD("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function dD(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Re.fromName(r.referenceValue)))}class E9 extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return d1(n)&&Ff(n.arrayValue,this.value)}}class S9 extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ff(this.value.arrayValue,n)}}class T9 extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ff(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ff(this.value.arrayValue,n)}}class A9 extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!d1(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ff(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,n=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.Te=null}}function qC(t,e=null,n=[],r=[],i=null,s=null,l=null){return new C9(t,e,n,r,i,s,l)}function h1(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>$_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Rg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Mc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Mc(r))).join(",")),e.Te=n}return e.Te}function m1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!v9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BC(t.startAt,e.startAt)&&BC(t.endAt,e.endAt)}function F_(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n=null,r=[],i=[],s=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function O9(t,e,n,r,i,s,l,u){return new md(t,e,n,r,i,s,l,u)}function p1(t){return new md(t)}function $C(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hD(t){return t.collectionGroup!==null}function Pf(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new ln(Mn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new wp(s,r))})),n.has(Mn.keyField().canonicalString())||e.Ie.push(new wp(Mn.keyField(),r))}return e.Ie}function Qi(t){const e=Ue(t);return e.Ee||(e.Ee=I9(e,Pf(t))),e.Ee}function I9(t,e){if(t.limitType==="F")return qC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new wp(i.field,s)}));const n=t.endAt?new xp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xp(t.startAt.position,t.startAt.inclusive):null;return qC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function H_(t,e){const n=t.filters.concat([e]);return new md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function G_(t,e,n){return new md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dg(t,e){return m1(Qi(t),Qi(e))&&t.limitType===e.limitType}function mD(t){return`${h1(Qi(t))}|lt:${t.limitType}`}function pc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>fD(i))).join(", ")}]`),Rg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Mc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Mc(i))).join(",")),`Target(${r})`})(Qi(t))}; limitType=${t.limitType})`}function Mg(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Re.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Pf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,d){const h=UC(l,u,d);return l.inclusive?h<=0:h<0})(r.startAt,Pf(r),i)||r.endAt&&!(function(l,u,d){const h=UC(l,u,d);return l.inclusive?h>=0:h>0})(r.endAt,Pf(r),i))})(t,e)}function N9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pD(t){return(e,n)=>{let r=!1;for(const i of Pf(t)){const s=R9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function R9(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):(function(s,l,u){const d=l.data.field(s),h=u.data.field(s);return d!==null&&h!==null?Dc(d,h):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return ZP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=new Pt(Re.comparator);function Ba(){return P9}const gD=new Pt(Re.comparator);function Tf(...t){let e=gD;for(const n of t)e=e.insert(n.key,n);return e}function yD(t){let e=gD;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Go(){return Df()}function vD(){return Df()}function Df(){return new gl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const D9=new Pt(Re.comparator),M9=new ln(Re.comparator);function Xe(...t){let e=M9;for(const n of t)e=e.add(n);return e}const j9=new ln(We);function k9(){return j9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vp(e)?"-0":e}}function bD(t){return{integerValue:""+t}}function L9(t,e){return u9(e)?bD(e):g1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this._=void 0}}function z9(t,e,n){return t instanceof Ep?(function(i,s){const l={fields:{[tD]:{stringValue:eD},[rD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&f1(s)&&(s=Pg(s)),s&&(l.fields[nD]=s),{mapValue:l}})(n,e):t instanceof Hf?xD(t,e):t instanceof Gf?wD(t,e):(function(i,s){const l=_D(i,s),u=FC(l)+FC(i.Ae);return q_(l)&&q_(i.Ae)?bD(u):g1(i.serializer,u)})(t,e)}function V9(t,e,n){return t instanceof Hf?xD(t,e):t instanceof Gf?wD(t,e):n}function _D(t,e){return t instanceof Sp?(function(r){return q_(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Ep extends jg{}class Hf extends jg{constructor(e){super(),this.elements=e}}function xD(t,e){const n=ED(e);for(const r of t.elements)n.some((i=>ra(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Gf extends jg{constructor(e){super(),this.elements=e}}function wD(t,e){let n=ED(e);for(const r of t.elements)n=n.filter((i=>!ra(i,r)));return{arrayValue:{values:n}}}class Sp extends jg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function FC(t){return qt(t.integerValue||t.doubleValue)}function ED(t){return d1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function U9(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Hf&&i instanceof Hf||r instanceof Gf&&i instanceof Gf?Pc(r.elements,i.elements,ra):r instanceof Sp&&i instanceof Sp?ra(r.Ae,i.Ae):r instanceof Ep&&i instanceof Ep})(t.transform,e.transform)}class B9{constructor(e,n){this.version=e,this.transformResults=n}}class Xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xr}static exists(e){return new Xr(void 0,e)}static updateTime(e){return new Xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kg{}function SD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new y1(t.key,Xr.none()):new pd(t.key,t.data,Xr.none());{const n=t.data,r=ur.empty();let i=new ln(Mn.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new lo(t.key,r,new Cr(i.toArray()),Xr.none())}}function q9(t,e,n){t instanceof pd?(function(i,s,l){const u=i.value.clone(),d=GC(i.fieldTransforms,s,l.transformResults);u.setAll(d),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof lo?(function(i,s,l){if(!Xm(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=GC(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(TD(i)),d.setAll(u),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Mf(t,e,n,r){return t instanceof pd?(function(s,l,u,d){if(!Xm(s.precondition,l))return u;const h=s.value.clone(),m=KC(s.fieldTransforms,d,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof lo?(function(s,l,u,d){if(!Xm(s.precondition,l))return u;const h=KC(s.fieldTransforms,d,l),m=l.data;return m.setAll(TD(s)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,l,u){return Xm(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function $9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=_D(r.transform,i||null);s!=null&&(n===null&&(n=ur.empty()),n.set(r.field,s))}return n||null}function HC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Pc(r,i,((s,l)=>U9(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pd extends kg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class lo extends kg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function TD(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function GC(t,e,n){const r=new Map;st(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,V9(l,u,n[i]))}return r}function KC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,z9(s,l,e))}return r}class y1 extends kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F9 extends kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&q9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vD();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=n.has(i.key)?null:u;const d=SD(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Le.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Pc(this.mutations,e.mutations,((n,r)=>HC(n,r)))&&Pc(this.baseMutations,e.baseMutations,((n,r)=>HC(n,r)))}}class v1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){st(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return D9})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new v1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,Je;function Y9(t){switch(t){case me.OK:return Me(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function AD(t){if(t===void 0)return Ua("GRPC error has no .code"),me.UNKNOWN;switch(t){case Jt.OK:return me.OK;case Jt.CANCELLED:return me.CANCELLED;case Jt.UNKNOWN:return me.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return me.INTERNAL;case Jt.UNAVAILABLE:return me.UNAVAILABLE;case Jt.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Jt.NOT_FOUND:return me.NOT_FOUND;case Jt.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Jt.ABORTED:return me.ABORTED;case Jt.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Jt.DATA_LOSS:return me.DATA_LOSS;default:return Me(39323,{code:t})}}(Je=Jt||(Jt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=new Xs([4294967295,4294967295],0);function YC(t){const e=W9().encode(t),n=new BP;return n.update(e),new Uint8Array(n.digest())}function WC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xs([n,r],0),new Xs([i,s],0)]}class b1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Af(`Invalid padding: ${n}`);if(r<0)throw new Af(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Af(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Af(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xs.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Xs.fromNumber(r)));return i.compare(X9)===1&&(i=new Xs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=YC(e),[r,i]=WC(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new b1(s,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=YC(e),[r,i]=WC(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Af extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lg(Le.min(),i,new Pt(We),Ba(),Xe())}}class gd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gd(r,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class CD{constructor(e,n){this.targetId=e,this.Ce=n}}class OD{constructor(e,n,r=kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class XC{constructor(){this.ve=0,this.Fe=QC(),this.Me=kn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),r=Xe();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Me(38017,{changeType:s})}})),new gd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=QC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Q9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ba(),this.Je=Am(),this.He=Am(),this.Ye=new Pt(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(F_(s))if(r===0){const l=new Re(s.path);this.et(n,l,qn.newNoDocument(l,Le.min()))}else st(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,u;try{l=no(r).toUint8Array()}catch(d){if(d instanceof JP)return Rc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new b1(l,i,s)}catch(d){return Rc(d instanceof Af?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const u=this.ot(l);if(u){if(s.current&&F_(u.target)){const d=new Re(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,qn.newNoDocument(d,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=Xe();this.He.forEach(((s,l)=>{let u=!0;l.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new Lg(e,n,this.Ye,this.je,r);return this.je=Ba(),this.Je=Am(),this.He=Am(),this.Ye=new Pt(We),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new XC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ln(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ln(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new XC),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Am(){return new Pt(Re.comparator)}function QC(){return new Pt(Re.comparator)}const Z9={asc:"ASCENDING",desc:"DESCENDING"},J9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e8={and:"AND",or:"OR"};class t8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function K_(t,e){return t.useProto3Json||Rg(e)?e:{value:e}}function Tp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ID(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function n8(t,e){return Tp(t,e.toTimestamp())}function Zi(t){return st(!!t,49232),Le.fromTimestamp((function(n){const r=to(n);return new St(r.seconds,r.nanos)})(t))}function _1(t,e){return Y_(t,e).canonicalString()}function Y_(t,e){const n=(function(i){return new _t(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ND(t){const e=_t.fromString(t);return st(jD(e),10190,{key:e.toString()}),e}function W_(t,e){return _1(t.databaseId,e.path)}function B0(t,e){const n=ND(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(PD(n))}function RD(t,e){return _1(t.databaseId,e)}function r8(t){const e=ND(t);return e.length===4?_t.emptyPath():PD(e)}function X_(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PD(t){return st(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ZC(t,e,n){return{name:W_(t,e),fields:n.value.mapValue.fields}}function i8(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Me(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,m){return h.useProto3Json?(st(m===void 0||typeof m=="string",58123),kn.fromBase64String(m||"")):(st(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),kn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(h){const m=h.code===void 0?me.UNKNOWN:AD(h.code);return new xe(m,h.message||"")})(l);n=new OD(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=B0(t,r.document.name),s=Zi(r.document.updateTime),l=r.document.createTime?Zi(r.document.createTime):Le.min(),u=new ur({mapValue:{fields:r.document.fields}}),d=qn.newFoundDocument(i,s,l,u),h=r.targetIds||[],m=r.removedTargetIds||[];n=new Qm(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=B0(t,r.document),s=r.readTime?Zi(r.readTime):Le.min(),l=qn.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Qm([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=B0(t,r.document),s=r.removedTargetIds||[];n=new Qm([],s,i,null)}else{if(!("filter"in e))return Me(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new K9(i,s),u=r.targetId;n=new CD(u,l)}}return n}function a8(t,e){let n;if(e instanceof pd)n={update:ZC(t,e.key,e.value)};else if(e instanceof y1)n={delete:W_(t,e.key)};else if(e instanceof lo)n={update:ZC(t,e.key,e.data),updateMask:m8(e.fieldMask)};else{if(!(e instanceof F9))return Me(16599,{Vt:e.type});n={verify:W_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const u=l.transform;if(u instanceof Ep)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Hf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Gf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Sp)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Me(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:n8(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Me(27497)})(t,e.precondition)),n}function s8(t,e){return t&&t.length>0?(st(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Zi(i.updateTime):Zi(s);return l.isEqual(Le.min())&&(l=Zi(s)),new B9(l,i.transformResults||[])})(n,e)))):[]}function o8(t,e){return{documents:[RD(t,e.path)]}}function l8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=RD(t,i);const s=(function(h){if(h.length!==0)return MD(wi.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((m=>(function(b){return{field:gc(b.field),direction:f8(b.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=K_(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function c8(t){let e=r8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){st(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=(function(g){const b=DD(g);return b instanceof wi&&cD(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((b=>(function(S){return new wp(yc(S.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(b)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let b;return b=typeof g=="object"?g.value:g,Rg(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(g){const b=!!g.before,x=g.values||[];return new xp(x,b)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const b=!g.before,x=g.values||[];return new xp(x,b)})(n.endAt)),O9(e,i,l,s,u,"F",d,h)}function u8(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DD(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yc(n.unaryFilter.field);return tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=yc(n.unaryFilter.field);return tn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=yc(n.unaryFilter.field);return tn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=yc(n.unaryFilter.field);return tn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return tn.create(yc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return wi.create(n.compositeFilter.filters.map((r=>DD(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function f8(t){return Z9[t]}function d8(t){return J9[t]}function h8(t){return e8[t]}function gc(t){return{fieldPath:t.canonicalString()}}function yc(t){return Mn.fromServerFormat(t.fieldPath)}function MD(t){return t instanceof tn?(function(n){if(n.op==="=="){if(VC(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NAN"}};if(zC(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VC(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NOT_NAN"}};if(zC(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gc(n.field),op:d8(n.op),value:n.value}}})(t):t instanceof wi?(function(n){const r=n.getFilters().map((i=>MD(i)));return r.length===1?r[0]:{compositeFilter:{op:h8(n.op),filters:r}}})(t):Me(54877,{filter:t})}function m8(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function jD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,r,i,s=Le.min(),l=Le.min(),u=kn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e){this.yt=e}}function g8(t){const e=c8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?G_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(){this.Cn=new v8}addToCollectionParentIndex(e,n){return this.Cn.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(eo.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(eo.min())}updateCollectionGroup(e,n,r){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class v8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ln(_t.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ln(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kD=41943040;class cr{static withCacheSize(e){return new cr(e,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(kD,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new jc(0)}static cr(){return new jc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="LruGarbageCollector",b8=1048576;function t2([t,e],[n,r]){const i=We(t,n);return i===0?We(e,r):i}class _8{constructor(e){this.Ir=e,this.buffer=new ln(t2),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();t2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class x8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(e2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){eu(n)?we(e2,"Ignoring IndexedDB error during garbage collection: ",n):await Jc(n)}await this.Vr(3e5)}))}}class w8{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ge.resolve(Ng.ce);const r=new _8(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(JC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JC):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,u,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),mc()<=Ye.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function E8(t,e){return new w8(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(){this.changes=new gl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ge.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Mf(r.mutation,i,Cr.empty(),St.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Xe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Xe()){const i=Go();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=Tf();return s.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Go();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Xe())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let s=Ba();const l=Df(),u=(function(){return Df()})();return n.forEach(((d,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof lo)?s=s.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),Mf(m.mutation,h,m.mutation.getFieldMask(),St.now())):l.set(h.key,Cr.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((h,m)=>l.set(h,m))),n.forEach(((h,m)=>u.set(h,new T8(m,l.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Df();let i=new Pt(((l,u)=>l-u)),s=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((d=>{const h=n.get(d);if(h===null)return;let m=r.get(d)||Cr.empty();m=u.applyToLocalView(h,m),r.set(d,m);const g=(i.get(u.batchId)||Xe()).add(d);i=i.insert(u.batchId,g)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,m=d.value,g=vD();m.forEach((b=>{if(!s.has(b)){const x=SD(n.get(b),r.get(b));x!==null&&g.set(b,x),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return ge.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Re.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ge.resolve(Go());let u=Bf,d=s;return l.next((h=>ge.forEach(h,((m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(m)?ge.resolve():this.remoteDocumentCache.getEntry(e,m).next((b=>{d=d.insert(m,b)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,d,h,Xe()))).next((m=>({batchId:u,changes:yD(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((r=>{let i=Tf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Tf();return this.indexManager.getCollectionParents(e,s).next((u=>ge.forEach(u,(d=>{const h=(function(g,b){return new md(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((m=>{m.forEach(((g,b)=>{l=l.insert(g,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((d,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,qn.newInvalidDocument(m)))}));let u=Tf();return l.forEach(((d,h)=>{const m=s.get(d);m!==void 0&&Mf(m.mutation,h,Cr.empty(),St.now()),Mg(n,h)&&(u=u.insert(d,h))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ge.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Zi(i.createTime)}})(n)),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:g8(i.bundledQuery),readTime:Zi(i.readTime)}})(n)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(){this.overlays=new Pt(Re.comparator),this.qr=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Go();return ge.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),ge.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),ge.resolve()}getOverlaysForCollection(e,n,r){const i=Go(),s=n.length+1,l=new Re(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pt(((h,m)=>h-m));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=s.get(h.largestBatchId);m===null&&(m=Go(),s=s.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=Go(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,m)=>u.set(h,m))),!(u.size()>=i)););return ge.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new G9(n,r));let s=this.qr.get(n);s===void 0&&(s=Xe(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.Qr=new ln(bn.$r),this.Ur=new ln(bn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new bn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new bn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Re(new _t([])),r=new bn(n,e),i=new bn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Re(new _t([])),r=new bn(n,e),i=new bn(n,e+1);let s=Xe();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new bn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Re.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ln(bn.$r)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new H9(s,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new bn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ge.resolve(l)}lookupMutationBatch(e,n){return ge.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return ge.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?u1:this.tr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bn(n,0),i=new bn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);s.push(u)})),ge.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ln(We);return n.forEach((i=>{const s=new bn(i,0),l=new bn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(u=>{r=r.add(u.Yr)}))})),ge.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Re.isDocumentKey(s)||(s=s.child(""));const l=new bn(new Re(s),0);let u=new ln(We);return this.Zr.forEachWhile((d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(d.Yr)),!0)}),l),ge.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){st(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ge.forEach(n.mutations,(i=>{const s=new bn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new bn(n,0),i=this.Zr.firstAfterOrEqual(r);return ge.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e){this.ri=e,this.docs=(function(){return new Pt(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ge.resolve(r?r.document.mutableCopy():qn.newInvalidDocument(n))}getEntries(e,n){let r=Ba();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qn.newInvalidDocument(i))})),ge.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ba();const l=n.path,u=new Re(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||s9(a9(m),r)<=0||(i.has(m.key)||Mg(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return ge.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Me(9500)}ii(e,n){return ge.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new P8(this)}getSize(e){return ge.resolve(this.size)}}class P8 extends S8{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ge.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e){this.persistence=e,this.si=new gl((n=>h1(n)),m1),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new x1,this.targetCount=0,this.ai=jc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ge.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new jc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.Pr(n),ge.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ge.waitFor(s).next((()=>i))}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ge.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ge.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),ge.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ge.resolve(r)}containsKey(e,n){return ge.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ng(0),this.li=!1,this.li=!0,this.hi=new I8,this.referenceDelegate=e(this),this.Pi=new D8(this),this.indexManager=new y8,this.remoteDocumentCache=(function(i){return new R8(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new p8(n),this.Ii=new C8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new O8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new N8(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new M8(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return ge.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class M8 extends l9{constructor(e){super(),this.currentSequenceNumber=e}}class w1{constructor(e){this.persistence=e,this.Ri=new x1,this.Vi=null}static mi(e){return new w1(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ge.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.fi,(r=>{const i=Re.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Le.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ge.or([()=>ge.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ap{constructor(e,n){this.persistence=e,this.pi=new gl((r=>f9(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=E8(this,n)}static mi(e,n){return new Ap(e,n)}Ei(){}di(e){return ge.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ge.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?ge.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,s.removeEntry(l,Le.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ge.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ge.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ym(e.data.value)),n}br(e,n,r){return ge.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ge.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Xe(),i=Xe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new E1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return CV()?8:c9(Gn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new j8;return this.Ss(e,n,l).next((u=>{if(s.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(mc()<=Ye.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",pc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ge.resolve()):(mc()<=Ye.DEBUG&&we("QueryEngine","Query:",pc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(mc()<=Ye.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",pc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):ge.resolve())}ys(e,n){if($C(n))return ge.resolve(null);let r=Qi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=G_(n,null,"F"),r=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=Xe(...s);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const h=this.Ds(n,u);return this.Cs(n,h,l,d.readTime)?this.ys(e,G_(n,null,"F")):this.vs(e,h,n,d)}))))})))))}ws(e,n,r,i){return $C(n)||i.isEqual(Le.min())?ge.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?ge.resolve(null):(mc()<=Ye.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pc(n)),this.vs(e,l,n,i9(i,Bf)).next((u=>u)))}))}Ds(e,n){let r=new ln(pD(e));return n.forEach(((i,s)=>{Mg(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return mc()<=Ye.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",pc(n)),this.ps.getDocumentsMatchingQuery(e,n,eo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="LocalStore",L8=3e8;class z8{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Pt(We),this.xs=new gl((s=>h1(s)),m1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function V8(t,e,n,r){return new z8(t,e,n,r)}async function zD(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],u=[];let d=Xe();for(const h of i){l.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of s){u.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:u})))}))}))}function U8(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,h,m){const g=h.batch,b=g.keys();let x=ge.resolve();return b.forEach((S=>{x=x.next((()=>m.getEntry(d,S))).next((E=>{const T=h.docVersions.get(S);st(T!==null,48541),E.version.compareTo(T)<0&&(g.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),m.addEntry(E)))}))})),x.next((()=>u.mutationQueue.removeMutationBatch(d,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=Xe();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function VD(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function B8(t,e){const n=Ue(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((m,g)=>{const b=i.get(g);if(!b)return;u.push(n.Pi.removeMatchingKeys(s,m.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,m.addedDocuments,g))));let x=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?x=x.withResumeToken(kn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,r)),i=i.insert(g,x),(function(E,T,I){return E.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=L8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(b,x,m)&&u.push(n.Pi.updateTargetData(s,x))}));let d=Ba(),h=Xe();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))})),u.push(q8(s,l,e.documentUpdates).next((m=>{d=m.ks,h=m.qs}))),!r.isEqual(Le.min())){const m=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(m)}return ge.waitFor(u).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,d,h))).next((()=>d))})).then((s=>(n.Ms=i,s)))}function q8(t,e,n){let r=Xe(),i=Xe();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=Ba();return n.forEach(((u,d)=>{const h=s.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Le.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):we(S1,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function $8(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=u1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function F8(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,ge.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Gs(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Q_(t,e,n){const r=Ue(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!eu(l))throw l;we(S1,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function n2(t,e,n){const r=Ue(t);let i=Le.min(),s=Xe();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,h,m){const g=Ue(d),b=g.xs.get(m);return b!==void 0?ge.resolve(g.Ms.get(b)):g.Pi.getTargetData(h,m)})(r,l,Qi(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{s=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Le.min(),n?s:Xe()))).next((u=>(H8(r,N9(e),u),{documents:u,Qs:s})))))}function H8(t,e,n){let r=t.Os.get(e)||Le.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class r2{constructor(){this.activeTargetIds=k9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class G8{constructor(){this.Mo=new r2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new r2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="ConnectivityMonitor";class a2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(i2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(i2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm=null;function Z_(){return Cm===null?Cm=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cm++,"0x"+Cm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="RestConnection",Y8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===bp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=Z_(),u=this.zo(e,n.toUriEncodedString());we(q0,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,s);const{host:h}=new URL(u),m=Xc(h);return this.Jo(e,u,d,r,m).then((g=>(we(q0,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw Rc(q0,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=Y8[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class Q8 extends W8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=Z_();return new Promise(((u,d)=>{const h=new qP;h.setWithCredentials(!0),h.listenOnce($P.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Km.NO_ERROR:const g=h.getResponseJson();we(Vn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case Km.TIMEOUT:we(Vn,`RPC '${e}' ${l} timed out`),d(new xe(me.DEADLINE_EXCEEDED,"Request time out"));break;case Km.HTTP_ERROR:const b=h.getStatus();if(we(Vn,`RPC '${e}' ${l} failed with status:`,b,"response text:",h.getResponseText()),b>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const E=(function(I){const M=I.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(M)>=0?M:me.UNKNOWN})(S.status);d(new xe(E,S.message))}else d(new xe(me.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new xe(me.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{we(Vn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);we(Vn,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=Z_(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=GP(),u=HP(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=s.join("");we(Vn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const g=l.createWebChannel(m,d);this.I_(g);let b=!1,x=!1;const S=new X8({Yo:T=>{x?we(Vn,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(b||(we(Vn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),b=!0),we(Vn,`RPC '${e}' stream ${i} sending:`,T),g.send(T))},Zo:()=>g.close()}),E=(T,I,M)=>{T.listen(I,(j=>{try{M(j)}catch($){setTimeout((()=>{throw $}),0)}}))};return E(g,Sf.EventType.OPEN,(()=>{x||(we(Vn,`RPC '${e}' stream ${i} transport opened.`),S.o_())})),E(g,Sf.EventType.CLOSE,(()=>{x||(x=!0,we(Vn,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(g))})),E(g,Sf.EventType.ERROR,(T=>{x||(x=!0,Rc(Vn,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),S.a_(new xe(me.UNAVAILABLE,"The operation could not be completed")))})),E(g,Sf.EventType.MESSAGE,(T=>{var I;if(!x){const M=T.data[0];st(!!M,16349);const j=M,$=(j==null?void 0:j.error)||((I=j[0])==null?void 0:I.error);if($){we(Vn,`RPC '${e}' stream ${i} received error:`,$);const B=$.status;let F=(function(k){const U=Jt[k];if(U!==void 0)return AD(U)})(B),N=$.message;F===void 0&&(F=me.INTERNAL,N="Unknown error status: "+B+" with message "+$.message),x=!0,S.a_(new xe(F,N)),g.close()}else we(Vn,`RPC '${e}' stream ${i} received:`,M),S.u_(M)}})),E(u,FP.STAT_EVENT,(T=>{T.stat===V_.PROXY?we(Vn,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===V_.NOPROXY&&we(Vn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function $0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t){return new t8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="PersistentStream";class BD{constructor(e,n,r,i,s,l,u,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new UD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(Ua(n.toString()),Ua("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new xe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(s2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(we(s2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Z8 extends BD{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=i8(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Le.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Le.min():l.readTime?Zi(l.readTime):Le.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=X_(this.serializer),n.addTarget=(function(s,l){let u;const d=l.target;if(u=F_(d)?{documents:o8(s,d)}:{query:l8(s,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=ID(s,l.resumeToken);const h=K_(s,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Le.min())>0){u.readTime=Tp(s,l.snapshotVersion.toTimestamp());const h=K_(s,l.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=u8(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=X_(this.serializer),n.removeTarget=e,this.q_(n)}}class J8 extends BD{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=s8(e.writeResults,e.commitTime),r=Zi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=X_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>a8(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{}class tB extends eB{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new xe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,Y_(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(me.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Y_(n,r),i,l,u,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(me.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class nB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ua(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="RemoteStore";class rB{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{yl(this)&&(we(ll,"Restarting streams for network reachability change."),await(async function(d){const h=Ue(d);h.Ea.add(4),await yd(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Vg(h)})(this))}))})),this.Ra=new nB(r,i)}}async function Vg(t){if(yl(t))for(const e of t.da)await e(!0)}async function yd(t){for(const e of t.da)await e(!1)}function qD(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),O1(n)?C1(n):tu(n).O_()&&A1(n,e))}function T1(t,e){const n=Ue(t),r=tu(n);n.Ia.delete(e),r.O_()&&$D(n,e),n.Ia.size===0&&(r.O_()?r.L_():yl(n)&&n.Ra.set("Unknown"))}function A1(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tu(t).Y_(e)}function $D(t,e){t.Va.Ue(e),tu(t).Z_(e)}function C1(t){t.Va=new Q9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),tu(t).start(),t.Ra.ua()}function O1(t){return yl(t)&&!tu(t).x_()&&t.Ia.size>0}function yl(t){return Ue(t).Ea.size===0}function FD(t){t.Va=void 0}async function iB(t){t.Ra.set("Online")}async function aB(t){t.Ia.forEach(((e,n)=>{A1(t,e)}))}async function sB(t,e){FD(t),O1(t)?(t.Ra.ha(e),C1(t)):t.Ra.set("Unknown")}async function oB(t,e,n){if(t.Ra.set("Online"),e instanceof OD&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){we(ll,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cp(t,r)}else if(e instanceof Qm?t.Va.Ze(e):e instanceof CD?t.Va.st(e):t.Va.tt(e),!n.isEqual(Le.min()))try{const r=await VD(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const u=s.Va.Tt(l);return u.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.Ia.get(h);m&&s.Ia.set(h,m.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,h)=>{const m=s.Ia.get(d);if(!m)return;s.Ia.set(d,m.withResumeToken(kn.EMPTY_BYTE_STRING,m.snapshotVersion)),$D(s,d);const g=new Gs(m.target,d,h,m.sequenceNumber);A1(s,g)})),s.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){we(ll,"Failed to raise snapshot:",r),await Cp(t,r)}}async function Cp(t,e,n){if(!eu(e))throw e;t.Ea.add(1),await yd(t),t.Ra.set("Offline"),n||(n=()=>VD(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(ll,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Vg(t)}))}function HD(t,e){return e().catch((n=>Cp(t,n,e)))}async function Ug(t){const e=Ue(t),n=io(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:u1;for(;lB(e);)try{const i=await $8(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,cB(e,i)}catch(i){await Cp(e,i)}GD(e)&&KD(e)}function lB(t){return yl(t)&&t.Ta.length<10}function cB(t,e){t.Ta.push(e);const n=io(t);n.O_()&&n.X_&&n.ea(e.mutations)}function GD(t){return yl(t)&&!io(t).x_()&&t.Ta.length>0}function KD(t){io(t).start()}async function uB(t){io(t).ra()}async function fB(t){const e=io(t);for(const n of t.Ta)e.ea(n.mutations)}async function dB(t,e,n){const r=t.Ta.shift(),i=v1.from(r,e,n);await HD(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Ug(t)}async function hB(t,e){e&&io(t).X_&&await(async function(r,i){if((function(l){return Y9(l)&&l!==me.ABORTED})(i.code)){const s=r.Ta.shift();io(r).B_(),await HD(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Ug(r)}})(t,e),GD(t)&&KD(t)}async function o2(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),we(ll,"RemoteStore received new credentials");const r=yl(n);n.Ea.add(3),await yd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Vg(n)}async function mB(t,e){const n=Ue(t);e?(n.Ea.delete(2),await Vg(n)):e||(n.Ea.add(2),await yd(n),n.Ra.set("Unknown"))}function tu(t){return t.ma||(t.ma=(function(n,r,i){const s=Ue(n);return s.sa(),new Z8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:iB.bind(null,t),t_:aB.bind(null,t),r_:sB.bind(null,t),H_:oB.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),O1(t)?C1(t):t.Ra.set("Unknown")):(await t.ma.stop(),FD(t))}))),t.ma}function io(t){return t.fa||(t.fa=(function(n,r,i){const s=Ue(n);return s.sa(),new J8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:uB.bind(null,t),r_:hB.bind(null,t),ta:fB.bind(null,t),na:dB.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ug(t)):(await t.fa.stop(),t.Ta.length>0&&(we(ll,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Qo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,u=new I1(e,n,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function N1(t,e){if(Ua("AsyncQueue",`${e}: ${t}`),eu(t))return new xe(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{static emptySet(e){return new xc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=Tf(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.ga=new Pt(Re.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class kc{constructor(e,n,r,i,s,l,u,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new kc(e,n,xc.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class gB{constructor(){this.queries=c2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ue(n),s=i.queries;i.queries=c2(),s.forEach(((l,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new xe(me.ABORTED,"Firestore shutting down"))}}function c2(){return new gl((t=>mD(t)),Dg)}async function yB(t,e){const n=Ue(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new pB,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=N1(l,`Initialization of query '${pc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&R1(n)}async function vB(t,e){const n=Ue(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bB(t,e){const n=Ue(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&R1(n)}function _B(t,e,n){const r=Ue(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function R1(t){t.Ca.forEach((e=>{e.next()}))}var J_,u2;(u2=J_||(J_={})).Ma="default",u2.Cache="cache";class xB{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new kc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==J_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.key=e}}class WD{constructor(e){this.key=e}}class wB{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=pD(e),this.tu=new xc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new l2,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,g)=>{const b=i.get(m),x=Mg(this.query,g)?g:null,S=!!b&&this.mutatedKeys.has(b.key),E=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let T=!1;b&&x?b.data.isEqual(x.data)?S!==E&&(r.track({type:3,doc:x}),T=!0):this.su(b,x)||(r.track({type:2,doc:x}),T=!0,(d&&this.eu(x,d)>0||h&&this.eu(x,h)<0)&&(u=!0)):!b&&x?(r.track({type:0,doc:x}),T=!0):b&&!x&&(r.track({type:1,doc:b}),T=!0,(d||h)&&(u=!0)),T&&(x?(l=l.add(x),s=E?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:u,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,g)=>(function(x,S){const E=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:T})}};return E(x)-E(S)})(m.type,g.type)||this.eu(m.doc,g.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,h=d!==this.Za;return this.Za=d,l.length!==0||h?{snapshot:new kc(this.query,e.tu,s,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new l2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new WD(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new YD(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return kc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const P1="SyncEngine";class EB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class SB{constructor(e){this.key=e,this.hu=!1}}class TB{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new gl((u=>mD(u)),Dg),this.Iu=new Map,this.Eu=new Set,this.du=new Pt(Re.comparator),this.Au=new Map,this.Ru=new x1,this.Vu={},this.mu=new Map,this.fu=jc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AB(t,e,n=!0){const r=tM(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await XD(r,e,n,!0),i}async function CB(t,e){const n=tM(t);await XD(n,e,!0,!1)}async function XD(t,e,n,r){const i=await F8(t.localStore,Qi(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await OB(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&qD(t.remoteStore,i),u}async function OB(t,e,n,r,i){t.pu=(g,b,x)=>(async function(E,T,I,M){let j=T.view.ru(I);j.Cs&&(j=await n2(E.localStore,T.query,!1).then((({documents:N})=>T.view.ru(N,j))));const $=M&&M.targetChanges.get(T.targetId),B=M&&M.targetMismatches.get(T.targetId)!=null,F=T.view.applyChanges(j,E.isPrimaryClient,$,B);return d2(E,T.targetId,F.au),F.snapshot})(t,g,b,x);const s=await n2(t.localStore,e,!0),l=new wB(e,s.Qs),u=l.ru(s.documents),d=gd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(u,t.isPrimaryClient,d);d2(t,n,h.au);const m=new EB(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function IB(t,e,n){const r=Ue(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!Dg(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Q_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&T1(r.remoteStore,i.targetId),ex(r,i.targetId)})).catch(Jc)):(ex(r,i.targetId),await Q_(r.localStore,i.targetId,!0))}async function NB(t,e){const n=Ue(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),T1(n.remoteStore,r.targetId))}async function RB(t,e,n){const r=zB(t);try{const i=await(function(l,u){const d=Ue(l),h=St.now(),m=u.reduce(((x,S)=>x.add(S.key)),Xe());let g,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let S=Ba(),E=Xe();return d.Ns.getEntries(x,m).next((T=>{S=T,S.forEach(((I,M)=>{M.isValidDocument()||(E=E.add(I))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,S))).next((T=>{g=T;const I=[];for(const M of u){const j=$9(M,g.get(M.key).overlayedDocument);j!=null&&I.push(new lo(M.key,j,sD(j.value.mapValue),Xr.exists(!0)))}return d.mutationQueue.addMutationBatch(x,h,I,u)})).next((T=>{b=T;const I=T.applyToLocalDocumentSet(g,E);return d.documentOverlayCache.saveOverlays(x,T.batchId,I)}))})).then((()=>({batchId:b.batchId,changes:yD(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,d){let h=l.Vu[l.currentUser.toKey()];h||(h=new Pt(We)),h=h.insert(u,d),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await vd(r,i.changes),await Ug(r.remoteStore)}catch(i){const s=N1(i,"Failed to persist write");n.reject(s)}}async function QD(t,e){const n=Ue(t);try{const r=await B8(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(st(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?st(l.hu,14607):i.removedDocuments.size>0&&(st(l.hu,42227),l.hu=!1))})),await vd(n,r,e)}catch(r){await Jc(r)}}function f2(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const d=Ue(l);d.onlineState=u;let h=!1;d.queries.forEach(((m,g)=>{for(const b of g.Sa)b.va(u)&&(h=!0)})),h&&R1(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function PB(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new Pt(Re.comparator);l=l.insert(s,qn.newNoDocument(s,Le.min()));const u=Xe().add(s),d=new Lg(Le.min(),new Map,new Pt(We),l,u);await QD(r,d),r.du=r.du.remove(s),r.Au.delete(e),D1(r)}else await Q_(r.localStore,e,!1).then((()=>ex(r,e,n))).catch(Jc)}async function DB(t,e){const n=Ue(t),r=e.batch.batchId;try{const i=await U8(n.localStore,e);JD(n,r,null),ZD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vd(n,i)}catch(i){await Jc(i)}}async function MB(t,e,n){const r=Ue(t);try{const i=await(function(l,u){const d=Ue(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return d.mutationQueue.lookupMutationBatch(h,u).next((g=>(st(g!==null,37113),m=g.keys(),d.mutationQueue.removeMutationBatch(h,g)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>d.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);JD(r,e,n),ZD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vd(r,i)}catch(i){await Jc(i)}}function ZD(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function JD(t,e,n){const r=Ue(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function ex(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||eM(t,r)}))}function eM(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(T1(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),D1(t))}function d2(t,e,n){for(const r of n)r instanceof YD?(t.Ru.addReference(r.key,e),jB(t,r)):r instanceof WD?(we(P1,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||eM(t,r.key)):Me(19791,{wu:r})}function jB(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(we(P1,"New document in limbo: "+n),t.Eu.add(r),D1(t))}function D1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Re(_t.fromString(e)),r=t.fu.next();t.Au.set(r,new SB(n)),t.du=t.du.insert(n,r),qD(t.remoteStore,new Gs(Qi(p1(n.path)),r,"TargetPurposeLimboResolution",Ng.ce))}}async function vd(t,e,n){const r=Ue(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,n).then((h=>{var m;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(h){i.push(h);const g=E1.As(d.targetId,h);s.push(g)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,h){const m=Ue(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ge.forEach(h,(b=>ge.forEach(b.Es,(x=>m.persistence.referenceDelegate.addReference(g,b.targetId,x))).next((()=>ge.forEach(b.ds,(x=>m.persistence.referenceDelegate.removeReference(g,b.targetId,x)))))))))}catch(g){if(!eu(g))throw g;we(S1,"Failed to update sequence numbers: "+g)}for(const g of h){const b=g.targetId;if(!g.fromCache){const x=m.Ms.get(b),S=x.snapshotVersion,E=x.withLastLimboFreeSnapshotVersion(S);m.Ms=m.Ms.insert(b,E)}}})(r.localStore,s))}async function kB(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){we(P1,"User change. New user:",e.toKey());const r=await zD(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((u=>{u.forEach((d=>{d.reject(new xe(me.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vd(n,r.Ls)}}function LB(t,e){const n=Ue(t),r=n.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let i=Xe();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function tM(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PB.bind(null,e),e.Pu.H_=bB.bind(null,e.eventManager),e.Pu.yu=_B.bind(null,e.eventManager),e}function zB(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MB.bind(null,e),e}class Op{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return V8(this.persistence,new k8,e.initialUser,this.serializer)}Cu(e){return new LD(w1.mi,this.serializer)}Du(e){return new G8}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Op.provider={build:()=>new Op};class VB extends Op{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof Ap,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new x8(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cr.withCacheSize(this.cacheSizeBytes):cr.DEFAULT;return new LD((r=>Ap.mi(r,n)),this.serializer)}}class tx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>f2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kB.bind(null,this.syncEngine),await mB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gB})()}createDatastore(e){const n=zg(e.databaseInfo.databaseId),r=(function(s){return new Q8(s)})(e.databaseInfo);return(function(s,l,u,d){return new tB(s,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,u){return new rB(r,i,s,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>f2(this.syncEngine,n,0)),(function(){return a2.v()?new a2:new K8})())}createSyncEngine(e,n){return(function(i,s,l,u,d,h,m){const g=new TB(i,s,l,u,d,h);return m&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=Ue(i);we(ll,"RemoteStore shutting down."),s.Ea.add(5),await yd(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}tx.provider={build:()=>new tx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ua("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="FirestoreClient";class BB{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bn.UNAUTHENTICATED,this.clientId=c1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{we(ao,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(we(ao,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=N1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function F0(t,e){t.asyncQueue.verifyOperationInProgress(),we(ao,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await zD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function h2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qB(t);we(ao,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>o2(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>o2(e.remoteStore,i))),t._onlineComponents=e}async function qB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(ao,"Using user provided OfflineComponentProvider");try{await F0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Rc("Error using user provided cache. Falling back to memory cache: "+n),await F0(t,new Op)}}else we(ao,"Using default OfflineComponentProvider"),await F0(t,new VB(void 0));return t._offlineComponents}async function nM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(ao,"Using user provided OnlineComponentProvider"),await h2(t,t._uninitializedComponentsProvider._online)):(we(ao,"Using default OnlineComponentProvider"),await h2(t,new tx))),t._onlineComponents}function $B(t){return nM(t).then((e=>e.syncEngine))}async function m2(t){const e=await nM(t),n=e.eventManager;return n.onListen=AB.bind(null,e.syncEngine),n.onUnlisten=IB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NB.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="firestore.googleapis.com",g2=!0;class y2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iM,this.ssl=g2}else this.host=e.host,this.ssl=e.ssl??g2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<b8)throw new xe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rM(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new xe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new xe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new xe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new KU;switch(r.type){case"firstParty":return new QU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=p2.get(n);r&&(we("ComponentProvider","Removing Datastore"),p2.delete(n),r.terminate())})(this),Promise.resolve()}}function FB(t,e,n,r={}){var h;t=Zo(t,Bg);const i=Xc(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(DP(`https://${u}`),MP("Firestore",!0)),s.host!==iM&&s.host!==u&&Rc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...s,host:u,ssl:i,emulatorOptions:r};if(!al(d,l)&&(t._setSettings(d),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=Bn.MOCK_USER;else{m=vV(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new xe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Bn(b)}t._authCredentials=new YU(new YP(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nu(this.firestore,e,this._query)}}class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(hd(n,rn._jsonSchema))return new rn(e,r||null,new Re(_t.fromString(n.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:nn("string",rn._jsonSchemaVersion),referencePath:nn("string")};class Qs extends nu{constructor(e,n,r){super(e,n,p1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new Re(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function Om(t,e,...n){if(t=xn(t),WP("collection","path",e),t instanceof Bg){const r=_t.fromString(e,...n);return IC(r),new Qs(t,null,r)}{if(!(t instanceof rn||t instanceof Qs))throw new xe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return IC(r),new Qs(t.firestore,null,r)}}function Oa(t,e,...n){if(t=xn(t),arguments.length===1&&(e=c1.newId()),WP("doc","path",e),t instanceof Bg){const r=_t.fromString(e,...n);return OC(r),new rn(t,null,new Re(r))}{if(!(t instanceof rn||t instanceof Qs))throw new xe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return OC(r),new rn(t.firestore,t instanceof Qs?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="AsyncQueue";class b2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UD(this,"async_queue_retry"),this._c=()=>{const r=$0();r&&we(v2,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=$0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=$0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!eu(e))throw e;we(v2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ua("INTERNAL UNHANDLED ERROR: ",_2(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=I1.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Me(47125,{Pc:_2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Kf extends Bg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new b2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new b2(e),this._firestoreClient=void 0,await e}}}function HB(t,e){const n=typeof t=="object"?t:zP(),r=typeof t=="string"?t:bp,i=o1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=gV("firestore");s&&FB(i,...s)}return i}function M1(t){if(t._terminated)throw new xe(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GB(t),t._firestoreClient}function GB(t){var r,i,s;const e=t._freezeSettings(),n=(function(u,d,h,m){return new m9(u,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,rM(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new BB(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yr(kn.fromBase64String(e))}catch(n){throw new xe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yr(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hd(e,Yr._jsonSchema))return Yr.fromBase64String(e.bytes)}}Yr._jsonSchemaVersion="firestore/bytes/1.0",Yr._jsonSchema={type:nn("string",Yr._jsonSchemaVersion),bytes:nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ji._jsonSchemaVersion}}static fromJSON(e){if(hd(e,Ji._jsonSchema))return new Ji(e.latitude,e.longitude)}}Ji._jsonSchemaVersion="firestore/geoPoint/1.0",Ji._jsonSchema={type:nn("string",Ji._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ea._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hd(e,ea._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ea(e.vectorValues);throw new xe(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ea._jsonSchemaVersion="firestore/vectorValue/1.0",ea._jsonSchema={type:nn("string",ea._jsonSchemaVersion),vectorValues:nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=/^__.*__$/;class YB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new lo(e,this.data,this.fieldMask,n,this.fieldTransforms):new pd(e,this.data,n,this.fieldTransforms)}}class aM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new lo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:t})}}class k1{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new k1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ip(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sM(this.Ac)&&KB.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class WB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zg(e)}Cc(e,n,r,i=!1){return new k1({Ac:e,methodName:n,Dc:r,path:Mn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function L1(t){const e=t._freezeSettings(),n=zg(t._databaseId);return new WB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oM(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);z1("Data must be an object, but it was:",l,r);const u=lM(r,l);let d,h;if(s.merge)d=new Cr(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const g of s.mergeFields){const b=nx(e,g,n);if(!l.contains(b))throw new xe(me.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);uM(m,b)||m.push(b)}d=new Cr(m),h=l.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,h=l.fieldTransforms;return new YB(new ur(u),d,h)}class bd extends j1{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bd}}function XB(t,e,n,r){const i=t.Cc(1,e,n);z1("Data must be an object, but it was:",i,r);const s=[],l=ur.empty();oo(r,((d,h)=>{const m=V1(e,d,n);h=xn(h);const g=i.yc(m);if(h instanceof bd)s.push(m);else{const b=_d(h,g);b!=null&&(s.push(m),l.set(m,b))}}));const u=new Cr(s);return new aM(l,u,i.fieldTransforms)}function QB(t,e,n,r,i,s){const l=t.Cc(1,e,n),u=[nx(e,r,n)],d=[i];if(s.length%2!=0)throw new xe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)u.push(nx(e,s[b])),d.push(s[b+1]);const h=[],m=ur.empty();for(let b=u.length-1;b>=0;--b)if(!uM(h,u[b])){const x=u[b];let S=d[b];S=xn(S);const E=l.yc(x);if(S instanceof bd)h.push(x);else{const T=_d(S,E);T!=null&&(h.push(x),m.set(x,T))}}const g=new Cr(h);return new aM(m,g,l.fieldTransforms)}function ZB(t,e,n,r=!1){return _d(n,t.Cc(r?4:3,e))}function _d(t,e){if(cM(t=xn(t)))return z1("Unsupported field value:",e,t),lM(t,e);if(t instanceof j1)return(function(r,i){if(!sM(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const u of r){let d=_d(u,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return L9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=St.fromDate(r);return{timestampValue:Tp(i.serializer,s)}}if(r instanceof St){const s=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Tp(i.serializer,s)}}if(r instanceof Ji)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yr)return{bytesValue:ID(i.serializer,r._byteString)};if(r instanceof rn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:_1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ea)return(function(l,u){return{mapValue:{fields:{[iD]:{stringValue:aD},[_p]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw u.Sc("VectorValues must only contain numeric values.");return g1(u.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Ig(r)}`)})(t,e)}function lM(t,e){const n={};return ZP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(t,((r,i)=>{const s=_d(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function cM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof Ji||t instanceof Yr||t instanceof rn||t instanceof j1||t instanceof ea)}function z1(t,e,n){if(!cM(n)||!XP(n)){const r=Ig(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function nx(t,e,n){if((e=xn(e))instanceof qg)return e._internalPath;if(typeof e=="string")return V1(t,e);throw Ip("Field path arguments must be of type string or ",t,!1,void 0,n)}const JB=new RegExp("[~\\*/\\[\\]]");function V1(t,e,n){if(e.search(JB)>=0)throw Ip(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qg(...e.split("."))._internalPath}catch{throw Ip(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ip(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new xe(me.INVALID_ARGUMENT,u+t+d)}function uM(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(U1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eq extends fM{data(){return super.data()}}function U1(t,e){return typeof e=="string"?V1(t,e):e instanceof qg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class B1{}class nq extends B1{}function w2(t,e,...n){let r=[];e instanceof B1&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((d=>d instanceof q1)).length,u=s.filter((d=>d instanceof $g)).length;if(l>1||l>0&&u>0)throw new xe(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class $g extends nq{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $g(e,n,r)}_apply(e){const n=this._parse(e);return dM(e._query,n),new nu(e.firestore,e.converter,H_(e._query,n))}_parse(e){const n=L1(e.firestore);return(function(s,l,u,d,h,m,g){let b;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new xe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){T2(g,m);const S=[];for(const E of g)S.push(S2(d,s,E));b={arrayValue:{values:S}}}else b=S2(d,s,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||T2(g,m),b=ZB(u,l,g,m==="in"||m==="not-in");return tn.create(h,m,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function E2(t,e,n){const r=e,i=U1("where",t);return $g._create(i,r,n)}class q1 extends B1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new q1(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:wi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const u=s.getFlattenedFilters();for(const d of u)dM(l,d),l=H_(l,d)})(e._query,n),new nu(e.firestore,e.converter,H_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function S2(t,e,n){if(typeof(n=xn(n))=="string"){if(n==="")throw new xe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hD(e)&&n.indexOf("/")!==-1)throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_t.fromString(n));if(!Re.isDocumentKey(r))throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return LC(t,new Re(r))}if(n instanceof rn)return LC(t,n._key);throw new xe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ig(n)}.`)}function T2(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dM(t,e){const n=(function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new xe(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rq{convertValue(e,n="none"){switch(ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(no(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oo(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[_p].arrayValue)==null?void 0:i.values)==null?void 0:s.map((l=>qt(l.doubleValue)));return new ea(n)}convertGeoPoint(e){return new Ji(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qf(e));default:return null}}convertTimestamp(e){const n=to(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_t.fromString(e);st(jD(r),9688,{name:e});const i=new $f(r.get(1),r.get(3)),s=new Re(r.popFirst(5));return i.isEqual(n)||Ua(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Cf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jo extends fM{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(U1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Jo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Jo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jo._jsonSchema={type:nn("string",Jo._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class Zm extends Jo{data(e={}){return super.data(e)}}class wc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Zm(this._firestore,this._userDataWriter,r.key,r,new Cf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const d=new Zm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Cf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const d=new Zm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Cf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:iq(u.type),doc:d,oldIndex:h,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=c1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}wc._jsonSchemaVersion="firestore/querySnapshot/1.0",wc._jsonSchema={type:nn("string",wc._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class mM extends rq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function pf(t,e,n){t=Zo(t,rn);const r=Zo(t.firestore,Kf),i=hM(t.converter,e,n);return pM(r,[oM(L1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Xr.none())])}function H0(t,...e){var d,h,m;t=xn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||x2(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(x2(e[r])){const g=e[r];e[r]=(d=g.next)==null?void 0:d.bind(g),e[r+1]=(h=g.error)==null?void 0:h.bind(g),e[r+2]=(m=g.complete)==null?void 0:m.bind(g)}let s,l,u;if(t instanceof rn)l=Zo(t.firestore,Kf),u=p1(t._key.path),s={next:g=>{e[r]&&e[r](aq(l,t,g))},error:e[r+1],complete:e[r+2]};else{const g=Zo(t,nu);l=Zo(g.firestore,Kf),u=g._query;const b=new mM(l);s={next:x=>{e[r]&&e[r](new wc(l,b,g,x))},error:e[r+1],complete:e[r+2]},tq(t._query)}return(function(b,x,S,E){const T=new UB(E),I=new xB(x,T,S);return b.asyncQueue.enqueueAndForget((async()=>yB(await m2(b),I))),()=>{T.Nu(),b.asyncQueue.enqueueAndForget((async()=>vB(await m2(b),I)))}})(M1(l),u,i,s)}function pM(t,e){return(function(r,i){const s=new Qo;return r.asyncQueue.enqueueAndForget((async()=>RB(await $B(r),i,s))),s.promise})(M1(t),e)}function aq(t,e,n){const r=n.docs.get(e._key),i=new mM(t);return new Jo(t,i,e._key,r,new Cf(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=L1(e)}set(e,n,r){this._verifyNotCommitted();const i=G0(e,this._firestore),s=hM(i.converter,n,r),l=oM(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Xr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=G0(e,this._firestore);let l;return l=typeof(n=xn(n))=="string"||n instanceof qg?QB(this._dataReader,"WriteBatch.update",s._key,n,r,i):XB(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(l.toMutation(s._key,Xr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=G0(e,this._firestore);return this._mutations=this._mutations.concat(new y1(n._key,Xr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function G0(t,e){if((t=xn(t)).firestore!==e)throw new xe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(){return new bd("deleteField")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t){return M1(t=Zo(t,Kf)),new sq(t,(e=>pM(t,e)))}(function(e,n=!0){(function(i){Zc=i})(Qc),Nc(new sl("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new Kf(new WU(r.getProvider("auth-internal")),new ZU(l,r.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new xe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $f(h.options.projectId,m)})(l,i),l);return s={useFetchStreams:n,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),Ws(SC,TC,e),Ws(SC,TC,"esm2020")})();function gM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oq=gM,yM=new fd("auth","Firebase",gM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=new a1("@firebase/auth");function lq(t,...e){Np.logLevel<=Ye.WARN&&Np.warn(`Auth (${Qc}): ${t}`,...e)}function Jm(t,...e){Np.logLevel<=Ye.ERROR&&Np.error(`Auth (${Qc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t,...e){throw F1(t,...e)}function _i(t,...e){return F1(t,...e)}function $1(t,e,n){const r={...oq(),[e]:n};return new fd("auth","Firebase",r).create(e,{appName:t.name})}function el(t){return $1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ia(t,"argument-error"),$1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function F1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yM.create(t,...e)}function je(t,e,...n){if(!t)throw F1(e,...n)}function Da(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jm(e),new Error(e)}function qa(t,e){t||Da(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function uq(){return C2()==="http:"||C2()==="https:"}function C2(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uq()||SV()||"connection"in navigator)?navigator.onLine:!0}function dq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n){this.shortDelay=e,this.longDelay=n,qa(n>e,"Short delay should be less than long delay!"),this.isMobile=xV()||TV()}get(){return fq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t,e){qa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Da("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Da("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Da("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pq=new xd(3e4,6e4);function G1(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ru(t,e,n,r,i={}){return bM(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=dd({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...s};return EV()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Xc(t.emulatorConfig.host)&&(h.credentials="include"),vM.fetch()(await _M(t,t.config.apiHost,n,u),h)})}async function bM(t,e,n){t._canInitEmulator=!1;const r={...hq,...e};try{const i=new yq(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Im(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Im(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Im(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Im(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw $1(t,m,h);ia(t,m)}}catch(i){if(i instanceof Za)throw i;ia(t,"network-request-failed",{message:String(i)})}}async function gq(t,e,n,r,i={}){const s=await ru(t,e,n,r,i);return"mfaPendingCredential"in s&&ia(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function _M(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?H1(t.config,i):`${t.config.apiScheme}://${i}`;return mq.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class yq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_i(this.auth,"network-request-failed")),pq.get())})}}function Im(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_i(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vq(t,e){return ru(t,"POST","/v1/accounts:delete",e)}async function Rp(t,e){return ru(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bq(t,e=!1){const n=xn(t),r=await n.getIdToken(e),i=K1(r);je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:jf(Y0(i.auth_time)),issuedAtTime:jf(Y0(i.iat)),expirationTime:jf(Y0(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Y0(t){return Number(t)*1e3}function K1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jm("JWT malformed, contained fewer than 3 sections"),null;try{const i=IP(n);return i?JSON.parse(i):(Jm("Failed to decode base64 JWT payload"),null)}catch(i){return Jm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function O2(t){const e=K1(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Za&&_q(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _q({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jf(this.lastLoginAt),this.creationTime=jf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pp(t){var g;const e=t.auth,n=await t.getIdToken(),r=await Yf(t,Rp(e,{idToken:n}));je(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(g=i.providerUserInfo)!=null&&g.length?xM(i.providerUserInfo):[],l=Eq(t.providerData,s),u=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=u?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new ix(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function wq(t){const e=xn(t);await Pp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Eq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sq(t,e){const n=await bM(t,{},async()=>{const r=dd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await _M(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&Xc(t.emulatorConfig.host)&&(d.credentials="include"),vM.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Tq(t,e){return ru(t,"POST","/v2/accounts:revokeToken",G1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=O2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Sq(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new Ec;return r&&(je(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(je(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(je(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ec,this.toJSON())}_performRefresh(){return Da("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new xq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ix(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Yf(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bq(this,e)}reload(){return wq(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(el(this.auth));const e=await this.getIdToken();return await Yf(this,vq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:g,emailVerified:b,isAnonymous:x,providerData:S,stsTokenManager:E}=n;je(g&&E,e,"internal-error");const T=Ec.fromJSON(this.name,E);je(typeof g=="string",e,"internal-error"),zs(r,e.name),zs(i,e.name),je(typeof b=="boolean",e,"internal-error"),je(typeof x=="boolean",e,"internal-error"),zs(s,e.name),zs(l,e.name),zs(u,e.name),zs(d,e.name),zs(h,e.name),zs(m,e.name);const I=new bi({uid:g,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:x,photoURL:l,phoneNumber:s,tenantId:u,stsTokenManager:T,createdAt:h,lastLoginAt:m});return S&&Array.isArray(S)&&(I.providerData=S.map(M=>({...M}))),d&&(I._redirectEventId=d),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ec;i.updateFromServerResponse(n);const s=new bi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Pp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];je(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?xM(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Ec;u.updateFromIdToken(r);const d=new bi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ix(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new Map;function Ma(t){qa(t instanceof Function,"Expected a class definition");let e=I2.get(t);return e?(qa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,I2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wM.type="NONE";const N2=wM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t,e,n){return`firebase:${t}:${e}:${n}`}class Sc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ep(this.userKey,i.apiKey,s),this.fullPersistenceKey=ep("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rp(this.auth,{idToken:e}).catch(()=>{});return n?bi._fromGetAccountInfoResponse(this.auth,n,e):null}return bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sc(Ma(N2),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Ma(N2);const l=ep(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const m=await h._get(l);if(m){let g;if(typeof m=="string"){const b=await Rp(e,{idToken:m}).catch(()=>{});if(!b)break;g=await bi._fromGetAccountInfoResponse(e,b,m)}else g=bi._fromJSON(e,m);h!==s&&(u=g),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new Sc(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new Sc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OM(e))return"Blackberry";if(IM(e))return"Webos";if(SM(e))return"Safari";if((e.includes("chrome/")||TM(e))&&!e.includes("edge/"))return"Chrome";if(CM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function EM(t=Gn()){return/firefox\//i.test(t)}function SM(t=Gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TM(t=Gn()){return/crios\//i.test(t)}function AM(t=Gn()){return/iemobile/i.test(t)}function CM(t=Gn()){return/android/i.test(t)}function OM(t=Gn()){return/blackberry/i.test(t)}function IM(t=Gn()){return/webos/i.test(t)}function Y1(t=Gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Aq(t=Gn()){var e;return Y1(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Cq(){return AV()&&document.documentMode===10}function NM(t=Gn()){return Y1(t)||CM(t)||IM(t)||OM(t)||/windows phone/i.test(t)||AM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t,e=[]){let n;switch(t){case"Browser":n=R2(Gn());break;case"Worker":n=`${R2(Gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iq(t,e={}){return ru(t,"GET","/v2/passwordPolicy",G1(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq=6;class Rq{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Nq,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P2(this),this.idTokenSubscription=new P2(this),this.beforeStateQueue=new Oq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ma(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Sc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rp(this,{idToken:e}),r=await bi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(pi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(s=this.redirectUser)==null?void 0:s._redirectEventId,u=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(el(this));const n=e?xn(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(el(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(el(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ma(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Iq(this),n=new Rq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Tq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ma(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await Sc.create(this,[Ma(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&lq(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Fg(t){return xn(t)}class P2{constructor(e){this.auth=e,this.observer=null,this.addObserver=MV(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Dq(t){W1=t}function Mq(t){return W1.loadJS(t)}function jq(){return W1.gapiScript}function kq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lq(t,e){const n=o1(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(al(s,e??{}))return i;ia(i,"already-initialized")}return n.initialize({options:e})}function zq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ma);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Vq(t,e,n){const r=Fg(t);je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=PM(e),{host:l,port:u}=Uq(e),d=u===null?"":`:${u}`,h={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),je(al(h,r.config.emulator)&&al(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Xc(l)?(DP(`${s}//${l}${d}`),MP("Auth",!0)):Bq()}function PM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Uq(t){const e=PM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:D2(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:D2(l)}}}function D2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Bq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Da("not implemented")}_getIdTokenResponse(e){return Da("not implemented")}_linkToIdToken(e,n){return Da("not implemented")}_getReauthenticationResolver(e){return Da("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(t,e){return gq(t,"POST","/v1/accounts:signInWithIdp",G1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qq="http://localhost";class cl extends DM{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new cl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ia("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new cl(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Tc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Tc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tc(e,n)}buildRequest(){const e={requestUri:qq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends X1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends wd{constructor(){super("facebook.com")}static credential(e){return cl._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends wd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return cl._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Na.credential(n,r)}catch{return null}}}Na.GOOGLE_SIGN_IN_METHOD="google.com";Na.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends wd{constructor(){super("github.com")}static credential(e){return cl._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.GITHUB_SIGN_IN_METHOD="github.com";$s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends wd{constructor(){super("twitter.com")}static credential(e,n){return cl._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fs.credential(n,r)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await bi._fromIdTokenResponse(e,r,i),l=M2(r);return new Lc({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=M2(r);return new Lc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function M2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends Za{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Dp(e,n,r,i)}}function MM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Dp._fromErrorAndOperation(t,s,e,r):s})}async function $q(t,e,n=!1){const r=await Yf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Lc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fq(t,e,n=!1){const{auth:r}=t;if(pi(r.app))return Promise.reject(el(r));const i="reauthenticate";try{const s=await Yf(t,MM(r,i,e,t),n);je(s.idToken,r,"internal-error");const l=K1(s.idToken);je(l,r,"internal-error");const{sub:u}=l;return je(t.uid===u,r,"user-mismatch"),Lc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ia(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hq(t,e,n=!1){if(pi(t.app))return Promise.reject(el(t));const r="signIn",i=await MM(t,r,e),s=await Lc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function Gq(t,e,n,r){return xn(t).onIdTokenChanged(e,n,r)}function Kq(t,e,n){return xn(t).beforeAuthStateChanged(e,n)}function Yq(t,e,n,r){return xn(t).onAuthStateChanged(e,n,r)}const Mp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mp,"1"),this.storage.removeItem(Mp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq=1e3,Xq=10;class kM extends jM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);Cq()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Xq):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Wq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kM.type="LOCAL";const Qq=kM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM extends jM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LM.type="SESSION";const zM=LM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(n.origin,s)),d=await Zq(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const h=Q1("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const b=g;if(b.data.eventId===h)switch(b.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(b.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(){return window}function e7(t){ta().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(){return typeof ta().WorkerGlobalScope<"u"&&typeof ta().importScripts=="function"}async function t7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function r7(){return VM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM="firebaseLocalStorageDb",i7=1,jp="firebaseLocalStorage",BM="fbase_key";class Ed{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gg(t,e){return t.transaction([jp],e?"readwrite":"readonly").objectStore(jp)}function a7(){const t=indexedDB.deleteDatabase(UM);return new Ed(t).toPromise()}function ax(){const t=indexedDB.open(UM,i7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jp,{keyPath:BM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jp)?e(r):(r.close(),await a7(),e(await ax()))})})}async function j2(t,e,n){const r=Gg(t,!0).put({[BM]:e,value:n});return new Ed(r).toPromise()}async function s7(t,e){const n=Gg(t,!1).get(e),r=await new Ed(n).toPromise();return r===void 0?null:r.value}function k2(t,e){const n=Gg(t,!0).delete(e);return new Ed(n).toPromise()}const o7=800,l7=3;class qM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ax(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>l7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hg._getInstance(r7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await t7(),!this.activeServiceWorker)return;this.sender=new Jq(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ax();return await j2(e,Mp,"1"),await k2(e,Mp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>j2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>s7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>k2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Gg(i,!1).getAll();return new Ed(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qM.type="LOCAL";const c7=qM;new xd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(t,e){return e?Ma(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1 extends DM{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function u7(t){return Hq(t.auth,new Z1(t),t.bypassAuthState)}function f7(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),Fq(n,new Z1(t),t.bypassAuthState)}async function d7(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),$q(n,new Z1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u7;case"linkViaPopup":case"linkViaRedirect":return d7;case"reauthViaPopup":case"reauthViaRedirect":return f7;default:ia(this.auth,"internal-error")}}resolve(e){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7=new xd(2e3,1e4);async function m7(t,e,n){if(pi(t.app))return Promise.reject(_i(t,"operation-not-supported-in-this-environment"));const r=Fg(t);cq(t,e,X1);const i=$M(r,n);return new Ko(r,"signInViaPopup",e,i).executeNotNull()}class Ko extends FM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){qa(this.filter.length===1,"Popup operations only handle one event");const e=Q1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h7.get())};e()}}Ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7="pendingRedirect",tp=new Map;class g7 extends FM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=tp.get(this.auth._key());if(!e){try{const r=await y7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tp.set(this.auth._key(),e)}return this.bypassAuthState||tp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y7(t,e){const n=_7(e),r=b7(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function v7(t,e){tp.set(t._key(),e)}function b7(t){return Ma(t._redirectPersistence)}function _7(t){return ep(p7,t.config.apiKey,t.name)}async function x7(t,e,n=!1){if(pi(t.app))return Promise.reject(el(t));const r=Fg(t),i=$M(r,e),l=await new g7(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=600*1e3;class E7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HM(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(_i(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w7&&this.cachedEventUids.clear(),this.cachedEventUids.has(L2(e))}saveEventToCache(e){this.cachedEventUids.add(L2(e)),this.lastProcessedEventTime=Date.now()}}function L2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function S7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T7(t,e={}){return ru(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C7=/^https?/;async function O7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await T7(t);for(const n of e)try{if(I7(n))return}catch{}ia(t,"unauthorized-domain")}function I7(t){const e=rx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!C7.test(n))return!1;if(A7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7=new xd(3e4,6e4);function z2(){const t=ta().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function R7(t){return new Promise((e,n)=>{var i,s,l;function r(){z2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z2(),n(_i(t,"network-request-failed"))},timeout:N7.get()})}if((s=(i=ta().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((l=ta().gapi)!=null&&l.load)r();else{const u=kq("iframefcb");return ta()[u]=()=>{gapi.load?r():n(_i(t,"network-request-failed"))},Mq(`${jq()}?onload=${u}`).catch(d=>n(d))}}).catch(e=>{throw np=null,e})}let np=null;function P7(t){return np=np||R7(t),np}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7=new xd(5e3,15e3),M7="__/auth/iframe",j7="emulator/auth/iframe",k7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z7(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?H1(e,j7):`https://${t.config.authDomain}/${M7}`,r={apiKey:e.apiKey,appName:t.name,v:Qc},i=L7.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${dd(r).slice(1)}`}async function V7(t){const e=await P7(t),n=ta().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:z7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k7,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=_i(t,"network-request-failed"),u=ta().setTimeout(()=>{s(l)},D7.get());function d(){ta().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B7=500,q7=600,$7="_blank",F7="http://localhost";class V2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H7(t,e,n,r=B7,i=q7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...U7,width:r.toString(),height:i.toString(),top:s,left:l},h=Gn().toLowerCase();n&&(u=TM(h)?$7:n),EM(h)&&(e=e||F7,d.scrollbars="yes");const m=Object.entries(d).reduce((b,[x,S])=>`${b}${x}=${S},`,"");if(Aq(h)&&u!=="_self")return G7(e||"",u),new V2(null);const g=window.open(e||"",u,m);je(g,t,"popup-blocked");try{g.focus()}catch{}return new V2(g)}function G7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7="__/auth/handler",Y7="emulator/auth/handler",W7=encodeURIComponent("fac");async function U2(t,e,n,r,i,s){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qc,eventId:i};if(e instanceof X1){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",DV(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof wd){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await t._getAppCheckToken(),h=d?`#${W7}=${encodeURIComponent(d)}`:"";return`${X7(t)}?${dd(u).slice(1)}${h}`}function X7({config:t}){return t.emulator?H1(t,Y7):`https://${t.authDomain}/${K7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="webStorageSupport";class Q7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zM,this._completeRedirectFn=x7,this._overrideRedirectResult=v7}async _openPopup(e,n,r,i){var l;qa((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const s=await U2(e,n,r,rx(),i);return H7(e,s,Q1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await U2(e,n,r,rx(),i);return e7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qa(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await V7(e),r=new E7(e);return n.register("authEvent",i=>(je(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(W0,{type:W0},i=>{var l;const s=(l=i==null?void 0:i[0])==null?void 0:l[W0];s!==void 0&&n(!!s),ia(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=O7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NM()||SM()||Y1()}}const Z7=Q7;var B2="@firebase/auth",q2="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t$(t){Nc(new sl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;je(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RM(t)},h=new Pq(r,i,s,d);return zq(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Nc(new sl("auth-internal",e=>{const n=Fg(e.getProvider("auth").getImmediate());return(r=>new J7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(B2,q2,e$(t)),Ws(B2,q2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$=300,r$=PP("authIdTokenMaxAge")||n$;let $2=null;const i$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>r$)return;const i=n==null?void 0:n.token;$2!==i&&($2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function a$(t=zP()){const e=o1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Lq(t,{popupRedirectResolver:Z7,persistence:[c7,Qq,zM]}),r=PP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=i$(s.toString());Kq(n,l,()=>l(n.currentUser)),Gq(n,u=>l(u))}}const i=NP("auth");return i&&Vq(n,`http://${i}`),n}function s$(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Dq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=_i("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",s$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t$("Browser");const o$={apiKey:"AIzaSyB7q70QgLNxV7axxqmtfSRL2fdb2COhKd4",authDomain:"crossfit-ai.firebaseapp.com",projectId:"crossfit-ai",storageBucket:"crossfit-ai.firebasestorage.app",messagingSenderId:"148121694956",appId:"1:148121694956:web:e68d0871f5a38f3fad2bc9",measurementId:"G-ZW9CW0FRX9"},GM=LP(o$),or=HB(GM),J1=a$(GM),rp=[{id:"neon-red",name:"Neon Red",colors:{primary:"#ff0033",secondary:"#99001f",bg:"#000000",card:"#111111",text:"#ffffff"}},{id:"neon-orange",name:"Neon Orange",colors:{primary:"#ff6600",secondary:"#993d00",bg:"#000000",card:"#111111",text:"#ffffff"}},{id:"neon-fuchsia",name:"Neon Fuchsia",colors:{primary:"#ff00ff",secondary:"#990099",bg:"#000000",card:"#111111",text:"#ffffff"}},{id:"neon-lilac",name:"Neon Lilac",colors:{primary:"#cc99ff",secondary:"#7a5c99",bg:"#000000",card:"#111111",text:"#ffffff"}},{id:"neon-green",name:"Neon Green",colors:{primary:"#39ff14",secondary:"#1f8c0b",bg:"#000000",card:"#111111",text:"#ffffff"}},{id:"neon-cyan",name:"Neon Cyan",colors:{primary:"#00ffff",secondary:"#009999",bg:"#000000",card:"#111111",text:"#ffffff"}}],l$=({children:t,activeTab:e,setActiveTab:n,theme:r,user:i,onUpdateUser:s,onUpdateTheme:l,onReset:u})=>{const[d,h]=up.useState(!1),[m,g]=up.useState(!1),b=r.colors.bg==="#ffffff",x=()=>{if(l)if(b){const M=r.id.replace("-light",""),j=rp.find($=>$.id===M)||rp[0];l(j)}else{const M={...r,id:`${r.id}-light`,colors:{...r.colors,bg:"#ffffff",card:"#f3f4f6",text:"#111827"}};l(M)}},S=()=>{if(!i||!s)return;const M=i.language==="es"?"en":"es",j={...i,language:M};s(j)},E=async()=>{try{await J1.signOut(),h(!1)}catch(M){console.error("Error signing out:",M)}},T={"--color-primary":r.colors.primary,"--color-secondary":r.colors.secondary,"--color-bg":r.colors.bg,"--color-card":r.colors.card,"--color-text":r.colors.text},I=[{id:"dashboard",label:"Inicio",icon:_.jsx(dz,{size:20})},{id:"workout",label:"Escanear WOD",icon:_.jsx(Cg,{size:20})},{id:"timers",label:"Timers",icon:_.jsx(Kz,{size:20})},{id:"nutrition",label:"Nutricin",icon:_.jsx(Vf,{size:20})},{id:"movements",label:"Tcnica",icon:_.jsx(Oc,{size:20})},{id:"profile",label:"Perfil",icon:_.jsx(D_,{size:20})}];return _.jsxs("div",{style:T,className:"flex flex-col h-screen w-full bg-[var(--color-bg)] text-[var(--color-text)] transition-colors duration-300",children:[_.jsxs("header",{className:"flex-none p-4 flex items-center justify-between border-b border-[var(--color-secondary)] bg-[var(--color-card)] shadow-lg z-10 md:pl-24 transition-all",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Oc,{className:"text-[var(--color-primary)]",size:28}),_.jsxs("h1",{className:"text-xl font-bold tracking-tight",children:["Crossfit-",_.jsx("span",{className:"text-[var(--color-primary)]",children:"AI"})]})]}),_.jsx("button",{className:"md:hidden p-2 text-[var(--color-text)]",onClick:()=>h(!0),children:_.jsx(bz,{size:24})})]}),_.jsx("main",{className:`flex-1 relative md:pl-20 transition-all ${e==="workout"?"overflow-hidden p-0":"overflow-y-auto p-4 md:p-6 pb-24 md:pb-6 custom-scrollbar"}`,children:_.jsx("div",{className:`mx-auto h-full ${e==="workout"?"max-w-full":"max-w-4xl"}`,children:t})}),_.jsx("nav",{className:"hidden md:flex flex-none md:fixed md:left-0 md:top-0 md:h-screen md:w-20 md:flex-col md:justify-start md:pt-20 border-t md:border-t-0 md:border-r border-[var(--color-secondary)] bg-[var(--color-card)] z-20",children:_.jsx("div",{className:"flex md:flex-col justify-around md:justify-start md:gap-8 h-16 md:h-auto items-center w-full",children:I.map(M=>_.jsxs("button",{onClick:()=>n(M.id),className:`flex flex-col items-center justify-center w-full md:w-full md:py-4 gap-1 transition-all ${e===M.id?"text-[var(--color-primary)] scale-110":"text-gray-400 hover:text-[var(--color-primary)]"}`,children:[_.jsx("div",{className:`p-1 rounded-lg ${e===M.id?"bg-[var(--color-secondary)] bg-opacity-20":""}`,children:M.icon}),_.jsx("span",{className:"text-[10px] md:text-xs font-medium",children:M.label})]},M.id))})}),d&&_.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end md:hidden",children:[_.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>h(!1)}),_.jsxs("div",{className:"relative w-80 h-full bg-[#0a0a0a] border-l border-gray-800 p-6 shadow-2xl animate-slide-left overflow-y-auto",children:[_.jsxs("div",{className:"flex justify-between items-center mb-8",children:[_.jsx("h2",{className:"text-xl font-bold text-white",children:"Men"}),_.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-gray-800 rounded-full transition-colors text-gray-400",children:_.jsx(i1,{size:24})})]}),_.jsx("div",{className:"space-y-2 mb-8",children:I.map(M=>_.jsxs("button",{onClick:()=>{n(M.id),h(!1)},className:`w-full flex items-center gap-4 p-4 rounded-xl transition-all ${e===M.id?"bg-[var(--color-primary)]/10 text-[var(--color-primary)]":"text-gray-400 hover:bg-gray-800"}`,children:[M.icon,_.jsx("span",{className:"font-medium",children:M.label})]},M.id))}),_.jsx("div",{className:"h-px bg-gray-800 my-6"}),_.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase mb-4 px-2",children:"Configuracin"}),_.jsx("div",{className:"mb-4",children:_.jsxs("button",{onClick:x,className:"w-full flex items-center justify-between p-4 bg-[var(--color-card)] rounded-xl border border-gray-800 hover:border-[var(--color-primary)] transition-all group",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[b?_.jsx(Fz,{size:18}):_.jsx(Ez,{size:18}),_.jsx("span",{className:"text-[var(--color-text)] font-medium",children:"Tema"})]}),_.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded transition-colors ${b?"bg-yellow-500/20 text-yellow-500":"bg-blue-500/20 text-blue-500"}`,children:b?"CLARO":"OSCURO"})]})}),_.jsx("div",{className:"mb-4",children:_.jsxs("button",{onClick:S,className:"w-full flex items-center justify-between p-4 bg-[var(--color-card)] rounded-xl border border-gray-800 hover:border-[var(--color-primary)] transition-all group",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(uz,{size:18}),_.jsx("span",{className:"text-[var(--color-text)] font-medium",children:"Idioma"})]}),_.jsx("span",{className:"text-[var(--color-text)]",children:(i==null?void 0:i.language)==="en"?"EN":"ES"})]})}),_.jsxs("div",{className:"mb-4",children:[_.jsxs("button",{onClick:()=>g(!m),className:"w-full flex items-center justify-between p-4 bg-[var(--color-card)] rounded-xl border border-gray-800 hover:border-[var(--color-primary)] transition-all",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(Tz,{size:18}),_.jsx("span",{className:"text-[var(--color-text)] font-medium",children:"Color"})]}),m?_.jsx(tz,{size:16}):_.jsx(Q5,{size:16})]}),m&&_.jsx("div",{className:"grid grid-cols-2 gap-3 mt-3 animate-fade-in",children:rp.map(M=>_.jsxs("button",{onClick:()=>{if(b&&l){const j={...M,id:`${M.id}-light`,colors:{...M.colors,bg:"#ffffff",card:"#f3f4f6",text:"#111827"}};l(j)}else l&&l(M)},className:`
                        relative p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-2
                        ${r.id.includes(M.id)?"border-[var(--color-primary)] bg-[var(--color-primary)]/10":"border-gray-800 bg-[var(--color-card)] hover:border-gray-600"}
                      `,children:[_.jsx("div",{className:"w-6 h-6 rounded-full shadow-[0_0_10px]",style:{backgroundColor:M.colors.primary,boxShadow:`0 0 10px ${M.colors.primary}`}}),_.jsx("span",{className:`text-[10px] font-medium ${r.id.includes(M.id)?"text-[var(--color-text)]":"text-gray-400"}`,children:M.name.replace("Neon ","")})]},M.id))})]}),_.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-800 space-y-4",children:[u&&_.jsx("button",{onClick:()=>{h(!1),u()},className:"w-full flex items-center justify-between p-4 bg-red-500/10 rounded-xl border border-red-500/30 hover:bg-red-500 hover:text-white transition-all group",children:_.jsxs("span",{className:"text-red-500 font-medium group-hover:text-white flex items-center gap-3",children:[_.jsx(Ic,{size:18})," Reset"]})}),_.jsx("button",{onClick:E,className:"w-full flex items-center justify-between p-4 bg-gray-800/50 rounded-xl border border-gray-700 hover:bg-gray-800 hover:text-white transition-all group",children:_.jsxs("span",{className:"text-gray-400 font-medium group-hover:text-white flex items-center gap-3",children:[_.jsx(yz,{size:18})," Cerrar Sesin"]})})]}),_.jsx("div",{className:"mt-8 text-center",children:_.jsx("p",{className:"text-xs text-gray-600",children:"CrossFit App v1.1 Mobile"})})]})]})]})},c$=({user:t,onUpdateUser:e,currentTheme:n,onUpdateTheme:r,onReset:i})=>{const[s,l]=C.useState(t),[u,d]=C.useState(!1),[h,m]=C.useState(!t.isRegistered),g=C.useRef(null);n.colors.bg;const b=T=>{const{name:I,value:M}=T.target;l(j=>({...j,[I]:I==="age"||I==="weight"||I==="height"?Number(M):M})),d(!1)},x=()=>{var T;(T=g.current)==null||T.click()},S=T=>{var M;const I=(M=T.target.files)==null?void 0:M[0];if(I){const j=new FileReader;j.onloadend=()=>{const $=j.result;l(B=>({...B,avatar:$})),e({...t,avatar:$})},j.readAsDataURL(I)}},E=T=>{T.preventDefault();const I={...s,isRegistered:!0};e(I),l(I),d(!0),m(!1),setTimeout(()=>d(!1),3e3)};return _.jsxs("div",{className:"relative min-h-full animate-fade-in",children:[_.jsxs("div",{className:"flex items-center justify-between mb-8",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"relative group cursor-pointer",onClick:x,children:[_.jsx("div",{className:"w-20 h-20 rounded-full bg-[var(--color-card)] flex items-center justify-center border-2 border-[var(--color-primary)] overflow-hidden shadow-[0_0_15px_var(--color-primary)] transition-all group-hover:scale-105",children:s.avatar?_.jsx("img",{src:s.avatar,alt:"Profile",className:"w-full h-full object-cover"}):_.jsx(D_,{size:40,className:"text-[var(--color-text)] opacity-80"})}),_.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:_.jsx(Cg,{size:24,className:"text-white"})}),_.jsx("input",{type:"file",ref:g,onChange:S,accept:"image/*",className:"hidden"})]}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text)]",children:s.name}),_.jsxs("p",{className:"text-sm text-[var(--color-primary)] font-medium uppercase tracking-wider",children:["Nivel ",s.fitnessLevel]}),_.jsxs("div",{className:"mt-2 w-48",children:[_.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 mb-1",children:[_.jsxs("span",{children:["XP: ",s.xp||0]}),_.jsxs("span",{children:[Math.floor(s.levelProgress||0),"%"]})]}),_.jsx("div",{className:"h-1.5 bg-gray-800 rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full bg-[var(--color-primary)] transition-all duration-500",style:{width:`${s.levelProgress||0}%`}})})]})]})]}),_.jsx("div",{className:"flex gap-2",children:t.isRegistered&&!h&&_.jsx("button",{onClick:()=>m(!0),className:"p-3 bg-[var(--color-card)] rounded-full hover:bg-[var(--color-primary)]/20 transition-colors border border-gray-800/20",children:_.jsx(Iz,{size:24,className:"text-[var(--color-text)]"})})})]}),_.jsxs("div",{className:"bg-[var(--color-card)] p-6 rounded-3xl shadow-2xl border border-[var(--color-secondary)]/30 backdrop-blur-sm",children:[_.jsxs("h3",{className:"text-xl font-bold mb-6 text-[var(--color-text)] flex items-center gap-2",children:[_.jsx(D_,{size:20,className:"text-[var(--color-primary)]"}),"Datos Biomtricos"]}),_.jsxs("form",{onSubmit:E,className:"space-y-5",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 ml-1",children:"Nombre"}),_.jsx("input",{type:"text",name:"name",value:s.name,onChange:b,disabled:!h,className:`w-full bg-[var(--color-bg)] text-[var(--color-text)] rounded-xl p-4 border border-gray-800/20 focus:border-[var(--color-primary)] focus:ring-1 focus:ring-[var(--color-primary)] outline-none transition-all ${h?"":"opacity-60 cursor-not-allowed"}`})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 ml-1",children:"Pas (Para dietas locales)"}),_.jsx("input",{type:"text",name:"country",value:s.country||"",onChange:b,placeholder:"Ej: Argentina, Mxico, Espaa",disabled:!h,className:`w-full bg-[var(--color-bg)] text-[var(--color-text)] rounded-xl p-4 border border-gray-800/20 focus:border-[var(--color-primary)] focus:ring-1 focus:ring-[var(--color-primary)] outline-none transition-all ${h?"":"opacity-60 cursor-not-allowed"}`})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 ml-1",children:"Edad"}),_.jsx("input",{type:"number",name:"age",value:s.age,onChange:b,disabled:!h,className:`w-full bg-[var(--color-bg)] text-[var(--color-text)] rounded-xl p-4 border border-gray-800/20 focus:border-[var(--color-primary)] focus:ring-1 focus:ring-[var(--color-primary)] outline-none transition-all ${h?"":"opacity-60 cursor-not-allowed"}`})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 ml-1",children:"Sexo"}),_.jsxs("select",{name:"gender",value:s.gender,onChange:b,disabled:!h,className:`w-full bg-[var(--color-bg)] text-[var(--color-text)] rounded-xl p-4 border border-gray-800/20 focus:border-[var(--color-primary)] focus:ring-1 focus:ring-[var(--color-primary)] outline-none transition-all appearance-none ${h?"":"opacity-60 cursor-not-allowed"}`,children:[_.jsx("option",{value:"male",children:"Hombre"}),_.jsx("option",{value:"female",children:"Mujer"}),_.jsx("option",{value:"other",children:"Otro"})]})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 ml-1",children:"Peso (kg)"}),_.jsx("input",{type:"number",name:"weight",value:s.weight,onChange:b,disabled:!h,className:`w-full bg-[var(--color-bg)] text-[var(--color-text)] rounded-xl p-4 border border-gray-800/20 focus:border-[var(--color-primary)] focus:ring-1 focus:ring-[var(--color-primary)] outline-none transition-all ${h?"":"opacity-60 cursor-not-allowed"}`})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 ml-1",children:"Altura (cm)"}),_.jsx("input",{type:"number",name:"height",value:s.height,onChange:b,disabled:!h,className:`w-full bg-[var(--color-bg)] text-[var(--color-text)] rounded-xl p-4 border border-gray-800/20 focus:border-[var(--color-primary)] focus:ring-1 focus:ring-[var(--color-primary)] outline-none transition-all ${h?"":"opacity-60 cursor-not-allowed"}`})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 ml-1",children:"Nivel (Auto)"}),_.jsxs("div",{className:"w-full bg-[var(--color-bg)]/50 rounded-xl p-4 border border-gray-800/20 text-gray-400 capitalize cursor-not-allowed flex justify-between items-center",children:[_.jsx("span",{children:s.fitnessLevel==="rx"?"RX":s.fitnessLevel==="beginner"?"Principiante (Scaled)":s.fitnessLevel==="intermediate"?"Intermedio":s.fitnessLevel==="elite"?"Elite":s.fitnessLevel}),_.jsx("span",{className:"text-xs bg-gray-800/50 px-2 py-1 rounded text-gray-500",children:"Solo Lectura"})]})]}),h&&_.jsxs("button",{type:"submit",className:"w-full mt-6 bg-[var(--color-primary)] hover:opacity-90 text-white font-bold py-4 rounded-xl flex items-center justify-center gap-2 transition-all shadow-[0_4px_20px_-5px_var(--color-primary)]",children:[_.jsx(R_,{size:20}),u?"Guardado Exitosamente":t.isRegistered?"Guardar Cambios":"Registrar Perfil"]})]})]})]})};var F2;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(F2||(F2={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H2;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(H2||(H2={}));var G2;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(G2||(G2={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=["user","model","function","system"];var Y2;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Y2||(Y2={}));var W2;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(W2||(W2={}));var X2;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(X2||(X2={}));var Q2;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(Q2||(Q2={}));var kf;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(kf||(kf={}));var Z2;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(Z2||(Z2={}));var J2;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(J2||(J2={}));var eO;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(eO||(eO={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class uc extends Fn{constructor(e,n){super(e),this.response=n}}class KM extends Fn{constructor(e,n,r,i){super(e),this.status=n,this.statusText=r,this.errorDetails=i}}class Zs extends Fn{}class YM extends Fn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$="https://generativelanguage.googleapis.com",f$="v1beta",d$="0.24.1",h$="genai-js";var ul;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ul||(ul={}));class m${constructor(e,n,r,i,s){this.model=e,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=s}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||f$;let s=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||u$}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function p$(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${h$}/${d$}`),e.join(" ")}async function g$(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",p$(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Zs(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,s]of r.entries()){if(i==="x-goog-api-key")throw new Zs(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Zs(`Header name ${i} can only be set using the apiClient field`);n.append(i,s)}}return n}async function y$(t,e,n,r,i,s){const l=new m$(t,e,n,r,s);return{url:l.toString(),fetchOptions:Object.assign(Object.assign({},x$(s)),{method:"POST",headers:await g$(l),body:i})}}async function Sd(t,e,n,r,i,s={},l=fetch){const{url:u,fetchOptions:d}=await y$(t,e,n,r,i,s);return v$(u,d,l)}async function v$(t,e,n=fetch){let r;try{r=await n(t,e)}catch(i){b$(i,t)}return r.ok||await _$(r,t),r}function b$(t,e){let n=t;throw n.name==="AbortError"?(n=new YM(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof KM||t instanceof Zs||(n=new Fn(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function _$(t,e){let n="",r;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new KM(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function x$(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),ip(t.candidates[0]))throw new uc(`${Vs(t)}`,t);return w$(t)}else if(t.promptFeedback)throw new uc(`Text not available. ${Vs(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ip(t.candidates[0]))throw new uc(`${Vs(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),tO(t)[0]}else if(t.promptFeedback)throw new uc(`Function call not available. ${Vs(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ip(t.candidates[0]))throw new uc(`${Vs(t)}`,t);return tO(t)}else if(t.promptFeedback)throw new uc(`Function call not available. ${Vs(t)}`,t)},t}function w$(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const l of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)l.text&&s.push(l.text),l.executableCode&&s.push("\n```"+l.executableCode.language+`
`+l.executableCode.code+"\n```\n"),l.codeExecutionResult&&s.push("\n```\n"+l.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function tO(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const l of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)l.functionCall&&s.push(l.functionCall);if(s.length>0)return s}const E$=[kf.RECITATION,kf.SAFETY,kf.LANGUAGE];function ip(t){return!!t.finishReason&&E$.includes(t.finishReason)}function Vs(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const s=t.candidates[0];ip(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function Wf(t){return this instanceof Wf?(this.v=t,this):new Wf(t)}function S$(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(b){r[b]&&(i[b]=function(x){return new Promise(function(S,E){s.push([b,x,S,E])>1||u(b,x)})})}function u(b,x){try{d(r[b](x))}catch(S){g(s[0][3],S)}}function d(b){b.value instanceof Wf?Promise.resolve(b.value.v).then(h,m):g(s[0][2],b)}function h(b){u("next",b)}function m(b){u("throw",b)}function g(b,x){b(x),s.shift(),s.length&&u(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function T$(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=O$(e),[r,i]=n.tee();return{stream:C$(r),response:A$(i)}}async function A$(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return ew(I$(e));e.push(i)}}function C$(t){return S$(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield Wf(n.read());if(i)break;yield yield Wf(ew(r))}})}function O$(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return e.read().then(({value:l,done:u})=>{if(u){if(i.trim()){r.error(new Fn("Failed to parse stream"));return}r.close();return}i+=l;let d=i.match(nO),h;for(;d;){try{h=JSON.parse(d[1])}catch{r.error(new Fn(`Error parsing JSON response: "${d[1]}"`));return}r.enqueue(h),i=i.substring(d[0].length),d=i.match(nO)}return s()}).catch(l=>{let u=l;throw u.stack=l.stack,u.name==="AbortError"?u=new YM("Request aborted when reading from the stream"):u=new Fn("Error reading from the stream"),u})}}})}function I$(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates){let i=0;for(const s of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:i}),n.candidates[i].citationMetadata=s.citationMetadata,n.candidates[i].groundingMetadata=s.groundingMetadata,n.candidates[i].finishReason=s.finishReason,n.candidates[i].finishMessage=s.finishMessage,n.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[i].content||(n.candidates[i].content={role:s.content.role||"user",parts:[]});const l={};for(const u of s.content.parts)u.text&&(l.text=u.text),u.functionCall&&(l.functionCall=u.functionCall),u.executableCode&&(l.executableCode=u.executableCode),u.codeExecutionResult&&(l.codeExecutionResult=u.codeExecutionResult),Object.keys(l).length===0&&(l.text=""),n.candidates[i].content.parts.push(l)}i++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(t,e,n,r){const i=await Sd(e,ul.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return T$(i)}async function XM(t,e,n,r){const s=await(await Sd(e,ul.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:ew(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Xf(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return N$(e)}function N$(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const s of t)"functionResponse"in s?(n.parts.push(s),i=!0):(e.parts.push(s),r=!0);if(r&&i)throw new Fn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Fn("No content is provided for sending chat message.");return r?e:n}function R$(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new Zs("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(i)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const s=Xf(t);r.contents=[s]}return{generateContentRequest:r}}function rO(t){let e;return t.contents?e=t:e={contents:[Xf(t)]},t.systemInstruction&&(e.systemInstruction=QM(t.systemInstruction)),e}function P$(t){return typeof t=="string"||Array.isArray(t)?{content:Xf(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],D$={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function M$(t){let e=!1;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new Fn(`First content should be with role 'user', got ${r}`);if(!K2.includes(r))throw new Fn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(K2)}`);if(!Array.isArray(i))throw new Fn("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Fn("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const u of i)for(const d of iO)d in u&&(s[d]+=1);const l=D$[r];for(const u of iO)if(!l.includes(u)&&s[u]>0)throw new Fn(`Content with role '${r}' can't contain '${u}' part`);e=!0}}function aO(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="SILENT_ERROR";class j${constructor(e,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(M$(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,i,s,l,u,d;await this._sendPromise;const h=Xf(e),m={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(d=this.params)===null||d===void 0?void 0:d.cachedContent,contents:[...this._history,h]},g=Object.assign(Object.assign({},this._requestOptions),n);let b;return this._sendPromise=this._sendPromise.then(()=>XM(this._apiKey,this.model,m,g)).then(x=>{var S;if(aO(x.response)){this._history.push(h);const E=Object.assign({parts:[],role:"model"},(S=x.response.candidates)===null||S===void 0?void 0:S[0].content);this._history.push(E)}else{const E=Vs(x.response);E&&console.warn(`sendMessage() was unsuccessful. ${E}. Inspect response object for details.`)}b=x}).catch(x=>{throw this._sendPromise=Promise.resolve(),x}),await this._sendPromise,b}async sendMessageStream(e,n={}){var r,i,s,l,u,d;await this._sendPromise;const h=Xf(e),m={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(d=this.params)===null||d===void 0?void 0:d.cachedContent,contents:[...this._history,h]},g=Object.assign(Object.assign({},this._requestOptions),n),b=WM(this._apiKey,this.model,m,g);return this._sendPromise=this._sendPromise.then(()=>b).catch(x=>{throw new Error(sO)}).then(x=>x.response).then(x=>{if(aO(x)){this._history.push(h);const S=Object.assign({},x.candidates[0].content);S.role||(S.role="model"),this._history.push(S)}else{const S=Vs(x);S&&console.warn(`sendMessageStream() was unsuccessful. ${S}. Inspect response object for details.`)}}).catch(x=>{x.message!==sO&&console.error(x)}),b}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k$(t,e,n,r){return(await Sd(e,ul.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L$(t,e,n,r){return(await Sd(e,ul.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function z$(t,e,n,r){const i=n.requests.map(l=>Object.assign(Object.assign({},l),{model:e}));return(await Sd(e,ul.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=QM(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const i=rO(e),s=Object.assign(Object.assign({},this._requestOptions),n);return XM(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}async generateContentStream(e,n={}){var r;const i=rO(e),s=Object.assign(Object.assign({},this._requestOptions),n);return WM(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}startChat(e){var n;return new j$(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=R$(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return k$(this.apiKey,this.model,r,i)}async embedContent(e,n={}){const r=P$(e),i=Object.assign(Object.assign({},this._requestOptions),n);return L$(this.apiKey,this.model,r,i)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return z$(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Fn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new oO(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new Zs("Cached content must contain a `name` field.");if(!e.model)throw new Zs("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const l of i)if(n!=null&&n[l]&&e[l]&&(n==null?void 0:n[l])!==e[l]){if(l==="model"){const u=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,d=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(u===d)continue}throw new Zs(`Different value for "${l}" specified in modelParams (${n[l]}) and cachedContent (${e[l]})`)}const s=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new oO(this.apiKey,s,r)}}const vl="AIzaSyAOmiVUqU0y8ZEEdnRSYrXqgdg8_C4ZN2E";console.log("DEBUG: Final API Key used (length):",vl.length);console.log("DEBUG: API Key source:","Hardcoded Fallback");const Td=new V$(vl),U$=async(t,e)=>{try{const n=Td.getGenerativeModel({model:"gemini-1.5-flash"}),i=[`
      Act as an expert CrossFit coach and nutritionist.
      Analyze the provided WOD (Workout of the Day) information.
      The input might be an image of a whiteboard, a PDF document, or raw text pasted by the user.

      User Profile for Context:
      - Weight: ${e.weight}kg
      - Height: ${e.height}cm
      - Age: ${e.age}
      - Gender: ${e.gender}
      - Level: ${e.fitnessLevel}

      Tasks:
      1. Identify the name of the workout (if any, otherwise create a short descriptive name).
      2. Extract or summarize the exercises.
      3. Estimate the duration in minutes (if not specified, estimate based on average Rx times for this user level).
      4. CALCULATE the estimated calories burned for THIS SPECIFIC USER performing this workout. Be precise with the physics of their body weight and intensity.

      IMPORTANT: RESPOND IN SPANISH.
      Return the response in strict JSON format.
      Structure: { "name": "...", "description": "...", "durationMinutes": 0, "calories": 0, "exercises": [{"name": "...", "weight": "...", "reps": "..."}] }
    `];t.text?i.push(`WOD Text Description:
${t.text}`):t.file&&i.push({inlineData:{data:t.file.data,mimeType:t.file.mimeType}});const u=(await(await n.generateContent({contents:[{role:"user",parts:i.map(d=>typeof d=="string"?{text:d}:d)}],generationConfig:{responseMimeType:"application/json"}})).response).text();return JSON.parse(u)}catch(n){throw console.error("Error analyzing WOD:",n),alert(`Error AI (Analyze WOD): ${n instanceof Error?n.message:String(n)}`),n}},B$=async(t,e)=>{try{const n=Td.getGenerativeModel({model:"gemini-1.5-flash"}),r=`
      Evaluate the user's performance in this CrossFit workout to award XP and determine if they should level up.

      User Profile:
      - Current Level: ${e.fitnessLevel}
      - Current XP: ${e.xp}
      - Weight: ${e.weight} kg
      - Gender: ${e.gender}

      Workout Performed:
      - Name: ${t.name}
      - Description: ${t.description}
      - Duration: ${t.durationMinutes} min
      - Exercises & Weights: ${JSON.stringify(t.exercises)}

      Levels Scale (Reference):
      - Beginner: Learning movements, low weights.
      - Intermediate: Consistent movements, moderate weights (e.g., Thruster 30kg).
      - Rx: Standard competition weights (e.g., Thruster 43/30kg, Pull-ups).
      - Elite: Advanced skills (Muscle-ups), heavy weights.

      Task:
      1. Calculate XP earned based on intensity, duration, and weights used relative to their body weight and current level. Base XP is 100. Bonus for heavy weights or PRs.
      2. Determine if the user qualifies for the NEXT level based on this performance (e.g., if Beginner uses Rx weights).
      3. Provide a short, motivating feedback message (max 2 sentences).

      IMPORTANT: RESPOND IN SPANISH.
      Return JSON: { "xpEarned": number, "newLevel": "beginner" | "intermediate" | "rx" | "elite" | null, "feedback": "..." }
    `,l=(await(await n.generateContent({contents:[{role:"user",parts:[{text:r}]}],generationConfig:{responseMimeType:"application/json"}})).response).text();return JSON.parse(l)}catch(n){return console.error("Error evaluating performance:",n),alert(`Error AI (Evaluate): ${n instanceof Error?n.message:String(n)}`),{xpEarned:50,newLevel:null,feedback:"Buen trabajo! Sigue as. (AI Offline)"}}},q$=async(t,e)=>{try{const n=Td.getGenerativeModel({model:"gemini-1.5-flash"}),r=`
      Create a challenging Home CrossFit Workout for this user:
      - Age: ${t.age}
      - Gender: ${t.gender}
      - Fitness Level: ${e||t.fitnessLevel}
      - Available Equipment: ${t.equipment&&t.equipment.length>0?t.equipment.join(", "):"None (Bodyweight only)"}
      - Location: ${t.country||"General"}

      The workout should follow a standard CrossFit structure: Warmup, Skill/Strength, WOD, and Cooldown.
      
      IMPORTANT:
      1. If the user has equipment, incorporate it intelligently.
      2. Ensure the workout is DIFFERENT from typical bodyweight routines if equipment is available.
      3. Focus on variety and high intensity.
      4. Difficulty Level: ${e||t.fitnessLevel}.

      IMPORTANT: Return a structured JSON with a 'sections' array.
      Structure: {
        "title": "...",
        "estimatedCalories": 0,
        "tips": "...",
        "sections": [
           { 
             "name": "Warmup", 
             "exercises": [ { "name": "...", "instruction": "...", "durationSeconds": 0 } ] 
           }
        ]
      }
      Respond in Spanish.
    `,l=(await(await n.generateContent({contents:[{role:"user",parts:[{text:r}]}],generationConfig:{responseMimeType:"application/json"}})).response).text();return JSON.parse(l)}catch(n){throw console.error("Error generating workout:",n),alert(`Error AI (Generate Workout): ${n instanceof Error?n.message:String(n)}`),n}},$$=async t=>{try{const e=Td.getGenerativeModel({model:"gemini-1.5-flash"}),n=`
      Act as an expert nutritionist. Analyze this image of a meal.
      Identify the food items present.
      Estimate the total calories and breakdown of macronutrients (Protein, Carbs, Fat).
      Provide a brief, actionable health tip regarding this meal.

      Structure:
      {
        "foodItems": ["item1", "item2"],
        "calories": number,
        "macros": { "protein": number, "carbs": number, "fat": number },
        "tips": "string"
      }
      Respond in Spanish.
    `,r=t.split(",")[1]||t,l=(await(await e.generateContent({contents:[{role:"user",parts:[{text:n},{inlineData:{data:r,mimeType:"image/jpeg"}}]}],generationConfig:{responseMimeType:"application/json"}})).response).text();return JSON.parse(l)}catch(e){throw console.error("Error analyzing food:",e),alert(`Error AI (Food): ${e instanceof Error?e.message:String(e)}`),e}},F$=async(t,e)=>{try{const n=Td.getGenerativeModel({model:"gemini-1.5-flash"}),r=`
      Act as an expert sports nutritionist. Create a daily diet plan for a CrossFit athlete.
      
      User Profile:
      - Weight: ${t.weight}kg
      - Height: ${t.height}cm
      - Age: ${t.age}
      - Gender: ${t.gender}
      - Activity Level: High (CrossFit)
      - Location/Country: ${t.country||"General"}
      - Goal: ${e}

      Tasks:
      1. Calculate target daily calories and macros.
      2. Suggest 4 meals (Breakfast, Lunch, Dinner, Snack).
      3. CRITICAL: Based on ${t.country||"the user's region"} cuisine.
      4. Unique and creative menu.

      Structure:
      {
        "goal": "${e}",
        "dailyCalories": number,
        "macros": { "protein": number, "carbs": number, "fat": number },
        "meals": [ { "name": "...", "description": "...", "calories": number } ]
      }
      Respond in Spanish.
    `,l=(await(await n.generateContent({contents:[{role:"user",parts:[{text:r}]}],generationConfig:{responseMimeType:"application/json"}})).response).text();return JSON.parse(l)}catch(n){throw console.error("Error generating diet plan:",n),alert(`Error AI (Diet): ${n instanceof Error?n.message:String(n)}`),n}},H$=({user:t,onAddLog:e,onUpdateUser:n})=>{const[r,i]=C.useState("upload"),[s,l]=C.useState(!1),[u,d]=C.useState(null),[h,m]=C.useState(null),[g,b]=C.useState(null),[x,S]=C.useState(null),[E,T]=C.useState(!1),I=C.useRef(null),M=C.useRef(null),[j,$]=C.useState(""),[B,F]=C.useState(null),[N,P]=C.useState(new Date().toISOString().split("T")[0]);C.useRef(null),C.useEffect(()=>()=>{U()},[]);const k=async()=>{d(null);try{const se=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});I.current&&(I.current.srcObject=se,T(!0))}catch(se){console.error(se),d("No se pudo acceder a la cmara. Asegrate de dar permisos.")}},U=()=>{I.current&&I.current.srcObject&&(I.current.srcObject.getTracks().forEach(X=>X.stop()),I.current.srcObject=null,T(!1))},L=()=>{if(I.current&&M.current){const se=I.current,X=M.current;X.width=se.videoWidth,X.height=se.videoHeight;const ve=X.getContext("2d");if(ve){ve.drawImage(se,0,0,X.width,X.height);const q=X.toDataURL("image/jpeg");U();const J=q.split(",")[1];m(q),S({mimeType:"image/jpeg",data:J}),b(null),V(J)}}},V=async se=>{l(!0),F(null),pe({file:{mimeType:"image/jpeg",data:se}})},R=async se=>{var q;const X=(q=se.target.files)==null?void 0:q[0];if(!X)return;const ve=new FileReader;ve.onloadend=()=>{const J=ve.result,de=J.split(",")[1];m(X.type.startsWith("image/")?J:null),b(X.name),S({mimeType:X.type,data:de}),pe({file:{mimeType:X.type,data:de}})},ve.readAsDataURL(X)},ue=()=>{j.trim()&&pe({text:j})},pe=async se=>{l(!0),d(null);try{const X=await U$(se,t);F(X),i("upload")}catch(X){d("No se pudo analizar el WOD. Intenta de nuevo."),console.error(X)}finally{l(!1)}},G=()=>{m(null),b(null),S(null),F(null),$("")},te=async()=>{if(!B)return;l(!0);const[se,X,ve]=N.split("-").map(Number),q=new Date(se,X-1,ve,12,0,0),J={id:Date.now().toString(),date:q.toISOString(),name:B.name||"WOD Sin Nombre",description:B.description||"WOD Analizado",calories:B.calories||0,durationMinutes:B.durationMinutes||0,type:"image-scan",exercises:B.exercises};try{const de=await B$(J,t),ye={...J,xpEarned:de.xpEarned};e(ye);let be=(t.xp||0)+de.xpEarned,Ce=t.fitnessLevel,Te=(t.levelProgress||0)+de.xpEarned/10;Te>=100&&(Te=Te%100,de.newLevel&&de.newLevel!==t.fitnessLevel&&(Ce=de.newLevel)),n({...t,xp:be,levelProgress:Te,fitnessLevel:Ce}),alert(`WOD Registrado!
XP Ganada: ${de.xpEarned}
${de.feedback}
${de.newLevel?"HAS SUBIDO DE NIVEL A "+de.newLevel.toUpperCase()+"!":""}`),F(null),$(""),G()}catch(de){console.error("Error saving log:",de),e(J),F(null),G()}finally{l(!1)}};return _.jsxs("div",{className:"animate-fade-in h-full overflow-y-auto custom-scrollbar p-1",children:[E&&_.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col",children:[_.jsxs("div",{className:"relative flex-1",children:[_.jsx("video",{ref:I,autoPlay:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover"}),_.jsx("canvas",{ref:M,className:"hidden"}),_.jsxs("div",{className:"absolute inset-0 border-2 border-white/30 m-8 rounded-3xl pointer-events-none",children:[_.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-[var(--color-primary)] -mt-1 -ml-1 rounded-tl-xl"}),_.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-[var(--color-primary)] -mt-1 -mr-1 rounded-tr-xl"}),_.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-[var(--color-primary)] -mb-1 -ml-1 rounded-bl-xl"}),_.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-[var(--color-primary)] -mb-1 -mr-1 rounded-br-xl"})]})]}),_.jsxs("div",{className:"p-8 bg-black/80 flex justify-between items-center",children:[_.jsx("button",{onClick:U,className:"p-4 rounded-full bg-gray-800 text-white hover:bg-gray-700 transition-colors",children:_.jsx(i1,{size:24})}),_.jsx("button",{onClick:L,className:"p-6 rounded-full bg-white border-4 border-gray-300 hover:scale-105 transition-transform shadow-lg shadow-white/20",children:_.jsx("div",{className:"w-16 h-16 rounded-full bg-[var(--color-primary)] border-4 border-white"})}),_.jsx("div",{className:"w-14"})," "]})]}),!B&&!s&&_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"text-center space-y-2",children:[_.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text)]",children:"Registrar WOD"}),_.jsx("p",{className:"text-gray-400",children:"Analiza tu pizarra o escribe tu entrenamiento"})]}),_.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[_.jsxs("button",{onClick:k,className:"p-6 bg-[var(--color-card)] border border-[var(--color-primary)] rounded-2xl flex flex-col items-center gap-3 hover:bg-[var(--color-primary)]/10 transition-all group",children:[_.jsx("div",{className:"p-3 bg-[var(--color-primary)]/20 rounded-full group-hover:scale-110 transition-transform",children:_.jsx(Cg,{size:32,className:"text-[var(--color-primary)]"})}),_.jsx("span",{className:"font-bold text-[var(--color-text)]",children:"Sacar Foto a Pizarra"})]}),_.jsxs("label",{className:"p-6 bg-[var(--color-card)] border border-gray-700 rounded-2xl flex flex-col items-center gap-3 hover:bg-gray-800 transition-all cursor-pointer group",children:[_.jsx("div",{className:"p-3 bg-gray-700 rounded-full group-hover:scale-110 transition-transform",children:_.jsx(AP,{size:32,className:"text-gray-400"})}),_.jsx("span",{className:"font-bold text-gray-300",children:"Subir Foto / Archivo"}),_.jsx("input",{type:"file",accept:"image/*,.pdf",className:"hidden",onChange:R})]})]}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-0 flex items-center",children:_.jsx("div",{className:"w-full border-t border-gray-800"})}),_.jsx("div",{className:"relative flex justify-center text-sm",children:_.jsx("span",{className:"px-2 bg-[var(--color-bg)] text-gray-500",children:"O escribe manualmente"})})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("textarea",{value:j,onChange:se=>$(se.target.value),placeholder:"Ej: AMRAP 20 min: 5 Pull-ups, 10 Push-ups, 15 Squats...",className:"w-full h-32 bg-[var(--color-card)] border border-gray-700 rounded-xl p-4 text-[var(--color-text)] placeholder-gray-500 focus:border-[var(--color-primary)] focus:ring-1 focus:ring-[var(--color-primary)] outline-none resize-none"}),_.jsxs("button",{onClick:ue,className:"mt-4 w-full bg-[var(--color-primary)] hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-4 rounded-xl flex items-center justify-center gap-2 transition-all shadow-lg",children:[_.jsx(fC,{size:20}),"Analizar Texto"]})]})]}),s&&_.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4 animate-fade-in",children:[_.jsx(hp,{size:48,className:"text-[var(--color-primary)] animate-spin"}),_.jsx("p",{className:"text-gray-400 animate-pulse",children:"Analizando WOD con IA..."})]}),B&&!s&&_.jsxs("div",{className:"bg-[var(--color-card)] p-6 rounded-2xl border border-[var(--color-primary)] shadow-2xl animate-slide-up",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-700",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[h?_.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden border border-gray-600",children:_.jsx("img",{src:h,alt:"Preview",className:"w-full h-full object-cover"})}):g?_.jsx("div",{className:"w-12 h-12 rounded-lg bg-red-900/30 flex items-center justify-center border border-red-500/50",children:_.jsx(SP,{size:24,className:"text-red-400"})}):_.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-800 flex items-center justify-center border border-gray-600",children:_.jsx(Qz,{size:24,className:"text-gray-400"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"Fuente"}),_.jsx("p",{className:"text-sm font-medium truncate max-w-[150px]",children:g||(h?"Imagen":"Texto Manual")})]})]}),_.jsx("button",{onClick:G,className:"text-red-400 hover:text-red-300 p-2 hover:bg-red-900/20 rounded-lg transition-colors",children:_.jsx(Ic,{size:20})})]}),_.jsxs("div",{className:"flex justify-between items-start mb-4",children:[_.jsx("h3",{className:"text-2xl font-bold text-[var(--color-text)]",children:B.name}),_.jsxs("span",{className:"bg-[var(--color-primary)] text-white text-xs font-bold px-3 py-1 rounded-full whitespace-nowrap",children:["~ ",B.durationMinutes," min"]})]}),_.jsx("div",{className:"bg-[var(--color-bg)] p-4 rounded-xl border border-gray-700 mb-6",children:_.jsx("p",{className:"text-gray-300 text-sm whitespace-pre-line leading-relaxed",children:B.description})}),_.jsx("div",{className:"flex items-center justify-between mb-4",children:_.jsxs("div",{className:"flex flex-col",children:[_.jsx("span",{className:"text-gray-400 text-xs uppercase tracking-wider mb-1",children:"Caloras Estimadas"}),_.jsxs("div",{className:"flex items-baseline gap-1",children:[_.jsx("span",{className:"text-4xl font-black text-[var(--color-primary)]",children:B.calories}),_.jsx("span",{className:"text-sm font-medium text-gray-400",children:"kcal"})]})]})}),_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-2",children:"Fecha del Entrenamiento"}),_.jsxs("div",{className:"flex items-center gap-2 bg-[var(--color-bg)] p-3 rounded-xl border border-gray-700 focus-within:border-[var(--color-primary)] transition-colors",children:[_.jsx(zf,{size:20,className:"text-gray-400"}),_.jsx("input",{type:"date",value:N,onChange:se=>P(se.target.value),className:"bg-transparent text-[var(--color-text)] w-full focus:outline-none font-medium"})]})]}),_.jsxs("button",{onClick:te,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-4 rounded-xl flex items-center justify-center gap-2 transition-all shadow-lg hover:scale-[1.02]",children:[_.jsx(fC,{size:22}),"Guardar Entrenamiento"]})]}),u&&_.jsxs("div",{className:"bg-red-900/30 p-4 rounded-xl border border-red-500/50 flex items-start gap-3 animate-fade-in mt-4",children:[_.jsx(rz,{className:"text-red-400 shrink-0 mt-0.5",size:20}),_.jsx("span",{className:"text-red-200 text-sm",children:u})]})]})};function ZM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ZM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Tt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ZM(t))&&(r&&(r+=" "),r+=e);return r}var G$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function tw(t){if(typeof t!="string")return!1;var e=G$;return e.includes(t)}var K$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Y$=new Set(K$);function JM(t){return typeof t!="string"?!1:Y$.has(t)}function ej(t){return typeof t=="string"&&t.startsWith("data-")}function $a(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(JM(n)||ej(n))&&(e[n]=t[n]);return e}function nw(t){if(t==null)return null;if(C.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return $a(e)}return typeof t=="object"&&!Array.isArray(t)?$a(t):null}function Qr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(JM(n)||ej(n)||tw(n))&&(e[n]=t[n]);return e}var W$=["children","width","height","viewBox","className","style","title","desc"];function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sx.apply(null,arguments)}function X$(t,e){if(t==null)return{};var n,r,i=Q$(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Q$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tj=C.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:u,title:d,desc:h}=t,m=X$(t,W$),g=s||{width:r,height:i,x:0,y:0},b=Tt("recharts-surface",l);return C.createElement("svg",sx({},Qr(m),{className:b,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),C.createElement("title",null,d),C.createElement("desc",null,h),n)}),Z$=["children","className"];function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ox.apply(null,arguments)}function J$(t,e){if(t==null)return{};var n,r,i=eF(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Fa=C.forwardRef((t,e)=>{var{children:n,className:r}=t,i=J$(t,Z$),s=Tt("recharts-layer",r);return C.createElement("g",ox({className:s},Qr(i),{ref:e}),n)}),nj=_P(),tF=C.createContext(null);function bt(t){return function(){return t}}const rj=Math.cos,kp=Math.sin,Ai=Math.sqrt,Lp=Math.PI,Kg=2*Lp,lx=Math.PI,cx=2*lx,$o=1e-6,nF=cx-$o;function ij(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function rF(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ij;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class iF{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ij:rF(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=r-e,h=i-n,m=l-e,g=u-n,b=m*m+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>$o)if(!(Math.abs(g*d-h*m)>$o)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-l,S=i-u,E=d*d+h*h,T=x*x+S*S,I=Math.sqrt(E),M=Math.sqrt(b),j=s*Math.tan((lx-Math.acos((E+b-T)/(2*I*M)))/2),$=j/M,B=j/I;Math.abs($-1)>$o&&this._append`L${e+$*m},${n+$*g}`,this._append`A${s},${s},0,0,${+(g*x>m*S)},${this._x1=e+B*d},${this._y1=n+B*h}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),h=e+u,m=n+d,g=1^l,b=l?i-s:s-i;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>$o||Math.abs(this._y1-m)>$o)&&this._append`L${h},${m}`,r&&(b<0&&(b=b%cx+cx),b>nF?this._append`A${r},${r},0,1,${g},${e-u},${n-d}A${r},${r},0,1,${g},${this._x1=h},${this._y1=m}`:b>$o&&this._append`A${r},${r},0,${+(b>=lx)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function rw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new iF(e)}function iw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function aj(t){this._context=t}aj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Yg(t){return new aj(t)}function sj(t){return t[0]}function oj(t){return t[1]}function lj(t,e){var n=bt(!0),r=null,i=Yg,s=null,l=rw(u);t=typeof t=="function"?t:t===void 0?sj:bt(t),e=typeof e=="function"?e:e===void 0?oj:bt(e);function u(d){var h,m=(d=iw(d)).length,g,b=!1,x;for(r==null&&(s=i(x=l())),h=0;h<=m;++h)!(h<m&&n(g=d[h],h,d))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(g,h,d),+e(g,h,d));if(x)return s=null,x+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:bt(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:bt(+d),u):e},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:bt(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),u):r},u}function Nm(t,e,n){var r=null,i=bt(!0),s=null,l=Yg,u=null,d=rw(h);t=typeof t=="function"?t:t===void 0?sj:bt(+t),e=typeof e=="function"?e:bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?oj:bt(+n);function h(g){var b,x,S,E=(g=iw(g)).length,T,I=!1,M,j=new Array(E),$=new Array(E);for(s==null&&(u=l(M=d())),b=0;b<=E;++b){if(!(b<E&&i(T=g[b],b,g))===I)if(I=!I)x=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=b-1;S>=x;--S)u.point(j[S],$[S]);u.lineEnd(),u.areaEnd()}I&&(j[b]=+t(T,b,g),$[b]=+e(T,b,g),u.point(r?+r(T,b,g):j[b],n?+n(T,b,g):$[b]))}if(M)return u=null,M+""||null}function m(){return lj().defined(i).curve(l).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:bt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:bt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:bt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:bt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:bt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:bt(+g),h):n},h.lineX0=h.lineY0=function(){return m().x(t).y(e)},h.lineY1=function(){return m().x(t).y(n)},h.lineX1=function(){return m().x(r).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:bt(!!g),h):i},h.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),h):s},h}class cj{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function aF(t){return new cj(t,!0)}function sF(t){return new cj(t,!1)}const aw={draw(t,e){const n=Ai(e/Lp);t.moveTo(n,0),t.arc(0,0,n,0,Kg)}},oF={draw(t,e){const n=Ai(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},uj=Ai(1/3),lF=uj*2,cF={draw(t,e){const n=Ai(e/lF),r=n*uj;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},uF={draw(t,e){const n=Ai(e),r=-n/2;t.rect(r,r,n,n)}},fF=.8908130915292852,fj=kp(Lp/10)/kp(7*Lp/10),dF=kp(Kg/10)*fj,hF=-rj(Kg/10)*fj,mF={draw(t,e){const n=Ai(e*fF),r=dF*n,i=hF*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Kg*s/5,u=rj(l),d=kp(l);t.lineTo(d*n,-u*n),t.lineTo(u*r-d*i,d*r+u*i)}t.closePath()}},X0=Ai(3),pF={draw(t,e){const n=-Ai(e/(X0*3));t.moveTo(0,n*2),t.lineTo(-X0*n,-n),t.lineTo(X0*n,-n),t.closePath()}},Hr=-.5,Gr=Ai(3)/2,ux=1/Ai(12),gF=(ux/2+1)*3,yF={draw(t,e){const n=Ai(e/gF),r=n/2,i=n*ux,s=r,l=n*ux+n,u=-s,d=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(u,d),t.lineTo(Hr*r-Gr*i,Gr*r+Hr*i),t.lineTo(Hr*s-Gr*l,Gr*s+Hr*l),t.lineTo(Hr*u-Gr*d,Gr*u+Hr*d),t.lineTo(Hr*r+Gr*i,Hr*i-Gr*r),t.lineTo(Hr*s+Gr*l,Hr*l-Gr*s),t.lineTo(Hr*u+Gr*d,Hr*d-Gr*u),t.closePath()}};function vF(t,e){let n=null,r=rw(i);t=typeof t=="function"?t:bt(t||aw),e=typeof e=="function"?e:bt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:bt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:bt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function zp(){}function Vp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function dj(t){this._context=t}dj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bF(t){return new dj(t)}function hj(t){this._context=t}hj.prototype={areaStart:zp,areaEnd:zp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Vp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _F(t){return new hj(t)}function mj(t){this._context=t}mj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Vp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xF(t){return new mj(t)}function pj(t){this._context=t}pj.prototype={areaStart:zp,areaEnd:zp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function wF(t){return new pj(t)}function lO(t){return t<0?-1:1}function cO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(s*i+l*r)/(r+i);return(lO(s)+lO(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function uO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Q0(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,u=(s-r)/3;t._context.bezierCurveTo(r+u,i+u*e,s-u,l-u*n,s,l)}function Up(t){this._context=t}Up.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Q0(this,this._t0,uO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Q0(this,uO(this,n=cO(this,t,e)),n);break;default:Q0(this,this._t0,n=cO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function gj(t){this._context=new yj(t)}(gj.prototype=Object.create(Up.prototype)).point=function(t,e){Up.prototype.point.call(this,e,t)};function yj(t){this._context=t}yj.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function EF(t){return new Up(t)}function SF(t){return new gj(t)}function vj(t){this._context=t}vj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=fO(t),i=fO(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function fO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function TF(t){return new vj(t)}function Wg(t,e){this._context=t,this._t=e}Wg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function AF(t){return new Wg(t,.5)}function CF(t){return new Wg(t,0)}function OF(t){return new Wg(t,1)}function zc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,u=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function fx(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function IF(t,e){return t[e]}function NF(t){const e=[];return e.key=t,e}function RF(){var t=bt([]),e=fx,n=zc,r=IF;function i(s){var l=Array.from(t.apply(this,arguments),NF),u,d=l.length,h=-1,m;for(const g of s)for(u=0,++h;u<d;++u)(l[u][h]=[0,+r(g,l[u].key,h,s)]).data=g;for(u=0,m=iw(e(l));u<d;++u)l[m[u]].index=u;return n(l,m),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:bt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:bt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?fx:typeof s=="function"?s:bt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??zc,i):n},i}function PF(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}zc(t,e)}}function DF(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}zc(t,e)}}function MF(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var u=0,d=0,h=0;u<l;++u){for(var m=t[e[u]],g=m[r][1]||0,b=m[r-1][1]||0,x=(g-b)/2,S=0;S<u;++S){var E=t[e[S]],T=E[r][1]||0,I=E[r-1][1]||0;x+=T-I}d+=g,h+=x*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=h/d)}i[r-1][1]+=i[r-1][0]=n,zc(t,e)}}var Z0={},J0={},dO;function jF(){return dO||(dO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(J0)),J0}var eb={},hO;function bj(){return hO||(hO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(eb)),eb}var tb={},mO;function sw(){return mO||(mO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(tb)),tb}var nb={},rb={},pO;function kF(){return pO||(pO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(rb)),rb}var gO;function ow(){return gO||(gO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kF(),n=sw();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let u=0,d="",h="",m=!1;for(i.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=i[u];h?g==="\\"&&u+1<l?(u++,d+=i[u]):g===h?h="":d+=g:m?g==='"'||g==="'"?h=g:g==="]"?(m=!1,s.push(d),d=""):d+=g:g==="["?(m=!0,d&&(s.push(d),d="")):g==="."?d&&(s.push(d),d=""):d+=g,u++}return d&&s.push(d),s}t.toPath=r})(nb)),nb}var yO;function lw(){return yO||(yO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jF(),n=bj(),r=sw(),i=ow();function s(u,d,h){if(u==null)return h;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return h;const m=u[d];return m===void 0?n.isDeepKey(d)?s(u,i.toPath(d),h):h:m}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const m=u[d];return m===void 0?h:m}default:{if(Array.isArray(d))return l(u,d,h);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return h;const m=u[d];return m===void 0?h:m}}}function l(u,d,h){if(d.length===0)return h;let m=u;for(let g=0;g<d.length;g++){if(m==null||e.isUnsafeProperty(d[g]))return h;m=m[d[g]]}return m===void 0?h:m}t.get=s})(Z0)),Z0}var ib,vO;function LF(){return vO||(vO=1,ib=lw().get),ib}var zF=LF();const Vc=la(zF);var fr=t=>t===0?0:t>0?1:-1,Ei=t=>typeof t=="number"&&t!=+t,Ha=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Oe=t=>(typeof t=="number"||t instanceof Number)&&!Ei(t),aa=t=>Oe(t)||typeof t=="string",VF=0,Qf=t=>{var e=++VF;return"".concat(t||"").concat(e)},Si=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(e)&&typeof e!="string")return r;var s;if(Ha(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Ei(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},_j=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Dn(t,e,n){return Oe(t)&&Oe(e)?t+n*(e-t):e}function UF(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Vc(r,e))===n)}var wn=t=>t===null||typeof t>"u",Ad=t=>wn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function BF(t){return t!=null}function Cd(){}var qF=["type","size","sizeType"];function dx(){return dx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dx.apply(null,arguments)}function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){$F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $F(t,e,n){return(e=FF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FF(t){var e=HF(t,"string");return typeof e=="symbol"?e:e+""}function HF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GF(t,e){if(t==null)return{};var n,r,i=KF(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xj={symbolCircle:aw,symbolCross:oF,symbolDiamond:cF,symbolSquare:uF,symbolStar:mF,symbolTriangle:pF,symbolWye:yF},YF=Math.PI/180,WF=t=>{var e="symbol".concat(Ad(t));return xj[e]||aw},XF=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*YF;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},QF=(t,e)=>{xj["symbol".concat(Ad(t))]=e},wj=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=GF(t,qF),s=_O(_O({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var b=WF(l),x=vF().type(b).size(XF(n,r,l)),S=x();if(S!==null)return S},{className:d,cx:h,cy:m}=s,g=Qr(s);return Oe(h)&&Oe(m)&&Oe(n)?C.createElement("path",dx({},g,{className:Tt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(m,")"),d:u()})):null};wj.registerSymbol=QF;var Ej=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,ZF=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{tw(i)&&(r[i]=(s=>n[i](n,s)))}),r},JF=(t,e,n)=>r=>(t(e,n,r),null),cw=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];tw(i)&&typeof s=="function"&&(r||(r={}),r[i]=JF(s,e,n))}),r};function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(r){tH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tH(t,e,n){return(e=nH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nH(t){var e=rH(t,"string");return typeof e=="symbol"?e:e+""}function rH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rr(t,e){var n=eH({},t),r=e,i=Object.keys(e),s=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return s}var ab={},sb={},wO;function iH(){return wO||(wO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(sb)),sb}var ob={},EO;function Sj(){return EO||(EO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(ob)),ob}var lb={},cb={},ub={},SO;function aH(){return SO||(SO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(ub)),ub}var TO;function uw(){return TO||(TO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aH();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(cb)),cb}var fb={},AO;function sH(){return AO||(AO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(fb)),fb}var CO;function oH(){return CO||(CO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uw(),n=sH();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(lb)),lb}var db={},hb={},OO;function lH(){return OO||(OO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lw();function n(r){return function(i){return e.get(i,r)}}t.property=n})(hb)),hb}var mb={},pb={},gb={},yb={},IO;function Tj(){return IO||(IO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(yb)),yb}var vb={},NO;function Aj(){return NO||(NO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(vb)),vb}var bb={},RO;function Cj(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(bb)),bb}var PO;function cH(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tj(),n=Aj(),r=Cj();function i(m,g,b){return typeof b!="function"?i(m,g,()=>{}):s(m,g,function x(S,E,T,I,M,j){const $=b(S,E,T,I,M,j);return $!==void 0?!!$:s(S,E,x,j)},new Map)}function s(m,g,b,x){if(g===m)return!0;switch(typeof g){case"object":return l(m,g,b,x);case"function":return Object.keys(g).length>0?s(m,{...g},b,x):r.eq(m,g);default:return e.isObject(m)?typeof g=="string"?g==="":!0:r.eq(m,g)}}function l(m,g,b,x){if(g==null)return!0;if(Array.isArray(g))return d(m,g,b,x);if(g instanceof Map)return u(m,g,b,x);if(g instanceof Set)return h(m,g,b,x);const S=Object.keys(g);if(m==null)return S.length===0;if(S.length===0)return!0;if(x!=null&&x.has(g))return x.get(g)===m;x==null||x.set(g,m);try{for(let E=0;E<S.length;E++){const T=S[E];if(!n.isPrimitive(m)&&!(T in m)||g[T]===void 0&&m[T]!==void 0||g[T]===null&&m[T]!==null||!b(m[T],g[T],T,m,g,x))return!1}return!0}finally{x==null||x.delete(g)}}function u(m,g,b,x){if(g.size===0)return!0;if(!(m instanceof Map))return!1;for(const[S,E]of g.entries()){const T=m.get(S);if(b(T,E,S,m,g,x)===!1)return!1}return!0}function d(m,g,b,x){if(g.length===0)return!0;if(!Array.isArray(m))return!1;const S=new Set;for(let E=0;E<g.length;E++){const T=g[E];let I=!1;for(let M=0;M<m.length;M++){if(S.has(M))continue;const j=m[M];let $=!1;if(b(j,T,E,m,g,x)&&($=!0),$){S.add(M),I=!0;break}}if(!I)return!1}return!0}function h(m,g,b,x){return g.size===0?!0:m instanceof Set?d([...m],[...g],b,x):!1}t.isMatchWith=i,t.isSetMatch=h})(gb)),gb}var DO;function Oj(){return DO||(DO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cH();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(pb)),pb}var _b={},xb={},wb={},MO;function uH(){return MO||(MO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(wb)),wb}var Eb={},jO;function Ij(){return jO||(jO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Eb)),Eb}var Sb={},kO;function Nj(){return kO||(kO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",h="[object Set]",m="[object Array]",g="[object Function]",b="[object ArrayBuffer]",x="[object Object]",S="[object Error]",E="[object DataView]",T="[object Uint8Array]",I="[object Uint8ClampedArray]",M="[object Uint16Array]",j="[object Uint32Array]",$="[object BigUint64Array]",B="[object Int8Array]",F="[object Int16Array]",N="[object Int32Array]",P="[object BigInt64Array]",k="[object Float32Array]",U="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=m,t.bigInt64ArrayTag=P,t.bigUint64ArrayTag=$,t.booleanTag=i,t.dataViewTag=E,t.dateTag=u,t.errorTag=S,t.float32ArrayTag=k,t.float64ArrayTag=U,t.functionTag=g,t.int16ArrayTag=F,t.int32ArrayTag=N,t.int8ArrayTag=B,t.mapTag=d,t.numberTag=r,t.objectTag=x,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=M,t.uint32ArrayTag=j,t.uint8ArrayTag=T,t.uint8ClampedArrayTag=I})(Sb)),Sb}var Tb={},LO;function fH(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Tb)),Tb}var zO;function Rj(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uH(),n=Ij(),r=Nj(),i=Aj(),s=fH();function l(m,g){return u(m,void 0,m,new Map,g)}function u(m,g,b,x=new Map,S=void 0){const E=S==null?void 0:S(m,g,b,x);if(E!==void 0)return E;if(i.isPrimitive(m))return m;if(x.has(m))return x.get(m);if(Array.isArray(m)){const T=new Array(m.length);x.set(m,T);for(let I=0;I<m.length;I++)T[I]=u(m[I],I,b,x,S);return Object.hasOwn(m,"index")&&(T.index=m.index),Object.hasOwn(m,"input")&&(T.input=m.input),T}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const T=new RegExp(m.source,m.flags);return T.lastIndex=m.lastIndex,T}if(m instanceof Map){const T=new Map;x.set(m,T);for(const[I,M]of m)T.set(I,u(M,I,b,x,S));return T}if(m instanceof Set){const T=new Set;x.set(m,T);for(const I of m)T.add(u(I,void 0,b,x,S));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const T=new(Object.getPrototypeOf(m)).constructor(m.length);x.set(m,T);for(let I=0;I<m.length;I++)T[I]=u(m[I],I,b,x,S);return T}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const T=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return x.set(m,T),d(T,m,b,x,S),T}if(typeof File<"u"&&m instanceof File){const T=new File([m],m.name,{type:m.type});return x.set(m,T),d(T,m,b,x,S),T}if(typeof Blob<"u"&&m instanceof Blob){const T=new Blob([m],{type:m.type});return x.set(m,T),d(T,m,b,x,S),T}if(m instanceof Error){const T=new m.constructor;return x.set(m,T),T.message=m.message,T.name=m.name,T.stack=m.stack,T.cause=m.cause,d(T,m,b,x,S),T}if(m instanceof Boolean){const T=new Boolean(m.valueOf());return x.set(m,T),d(T,m,b,x,S),T}if(m instanceof Number){const T=new Number(m.valueOf());return x.set(m,T),d(T,m,b,x,S),T}if(m instanceof String){const T=new String(m.valueOf());return x.set(m,T),d(T,m,b,x,S),T}if(typeof m=="object"&&h(m)){const T=Object.create(Object.getPrototypeOf(m));return x.set(m,T),d(T,m,b,x,S),T}return m}function d(m,g,b=m,x,S){const E=[...Object.keys(g),...e.getSymbols(g)];for(let T=0;T<E.length;T++){const I=E[T],M=Object.getOwnPropertyDescriptor(m,I);(M==null||M.writable)&&(m[I]=u(g[I],I,b,x,S))}}function h(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=d})(xb)),xb}var VO;function dH(){return VO||(VO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rj();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(_b)),_b}var UO;function hH(){return UO||(UO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Oj(),n=dH();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(mb)),mb}var Ab={},Cb={},Ob={},BO;function mH(){return BO||(BO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rj(),n=Nj();function r(i,s){return e.cloneDeepWith(i,(l,u,d,h)=>{const m=s==null?void 0:s(l,u,d,h);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(Ob)),Ob}var qO;function pH(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mH();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Cb)),Cb}var Ib={},Nb={},$O;function Pj(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Nb)),Nb}var Rb={},FO;function gH(){return FO||(FO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ij();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Rb)),Rb}var HO;function yH(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bj(),n=Pj(),r=gH(),i=ow();function s(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&e.isDeepKey(u)&&(l==null?void 0:l[u])==null?d=i.toPath(u):d=[u],d.length===0)return!1;let h=l;for(let m=0;m<d.length;m++){const g=d[m];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})(Ib)),Ib}var GO;function vH(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Oj(),n=sw(),r=pH(),i=lw(),s=yH();function l(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(h){const m=i.get(h,u);return m===void 0?s.has(h,u):d===void 0?m===void 0:e.isMatch(m,d)}}t.matchesProperty=l})(Ab)),Ab}var KO;function bH(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sj(),n=lH(),r=hH(),i=vH();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(db)),db}var YO;function _H(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iH(),n=Sj(),r=oH(),i=bH();function s(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=s})(ab)),ab}var Pb,WO;function xH(){return WO||(WO=1,Pb=_H().uniqBy),Pb}var wH=xH();const XO=la(wH);function EH(t,e,n){return e===!0?XO(t,n):typeof e=="function"?XO(t,e):t}var Db={exports:{}},Mb={},jb={exports:{}},kb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QO;function SH(){if(QO)return kb;QO=1;var t=Wc();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function u(g,b){var x=b(),S=r({inst:{value:x,getSnapshot:b}}),E=S[0].inst,T=S[1];return s(function(){E.value=x,E.getSnapshot=b,d(E)&&T({inst:E})},[g,x,b]),i(function(){return d(E)&&T({inst:E}),g(function(){d(E)&&T({inst:E})})},[g]),l(x),x}function d(g){var b=g.getSnapshot;g=g.value;try{var x=b();return!n(g,x)}catch{return!0}}function h(g,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return kb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,kb}var ZO;function TH(){return ZO||(ZO=1,jb.exports=SH()),jb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JO;function AH(){if(JO)return Mb;JO=1;var t=Wc(),e=TH();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return Mb.useSyncExternalStoreWithSelector=function(h,m,g,b,x){var S=s(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=u(function(){function I(F){if(!M){if(M=!0,j=F,F=b(F),x!==void 0&&E.hasValue){var N=E.value;if(x(N,F))return $=N}return $=F}if(N=$,r(j,F))return N;var P=b(F);return x!==void 0&&x(N,P)?(j=F,N):(j=F,$=P)}var M=!1,j,$,B=g===void 0?null:g;return[function(){return I(m())},B===null?void 0:function(){return I(B())}]},[m,g,b,x]);var T=i(h,S[0],S[1]);return l(function(){E.hasValue=!0,E.value=T},[T]),d(T),T},Mb}var eI;function CH(){return eI||(eI=1,Db.exports=AH()),Db.exports}var OH=CH(),fw=C.createContext(null),IH=t=>t,Ft=()=>{var t=C.useContext(fw);return t?t.store.dispatch:IH},ap=()=>{},NH=()=>ap,RH=(t,e)=>t===e;function Ne(t){var e=C.useContext(fw);return OH.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:NH,e?e.store.getState:ap,e?e.store.getState:ap,e?t:ap,RH)}function PH(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function DH(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function MH(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var tI=t=>Array.isArray(t)?t:[t];function jH(t){const e=Array.isArray(t[0])?t[0]:t;return MH(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function kH(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var LH=class{constructor(t){this.value=t}deref(){return this.value}},zH=typeof WeakRef<"u"?WeakRef:LH,VH=0,nI=1;function Rm(){return{s:VH,v:void 0,o:null,p:null}}function Dj(t,e={}){let n=Rm();const{resultEqualityCheck:r}=e;let i,s=0;function l(){var g;let u=n;const{length:d}=arguments;for(let b=0,x=d;b<x;b++){const S=arguments[b];if(typeof S=="function"||typeof S=="object"&&S!==null){let E=u.o;E===null&&(u.o=E=new WeakMap);const T=E.get(S);T===void 0?(u=Rm(),E.set(S,u)):u=T}else{let E=u.p;E===null&&(u.p=E=new Map);const T=E.get(S);T===void 0?(u=Rm(),E.set(S,u)):u=T}}const h=u;let m;if(u.s===nI)m=u.v;else if(m=t.apply(null,arguments),s++,r){const b=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;b!=null&&r(b,m)&&(m=b,s!==0&&s--),i=typeof m=="object"&&m!==null||typeof m=="function"?new zH(m):m}return h.s=nI,h.v=m,m}return l.clearCache=()=>{n=Rm(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function UH(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,u,d={},h=i.pop();typeof h=="object"&&(d=h,h=i.pop()),PH(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...n,...d},{memoize:g,memoizeOptions:b=[],argsMemoize:x=Dj,argsMemoizeOptions:S=[]}=m,E=tI(b),T=tI(S),I=jH(i),M=g(function(){return s++,h.apply(null,arguments)},...E),j=x(function(){l++;const B=kH(I,arguments);return u=M.apply(null,B),u},...T);return Object.assign(j,{resultFunc:h,memoizedResultFunc:M,dependencies:I,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var ie=UH(Dj),BH=Object.assign((t,e=ie)=>{DH(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>BH}),Lb={},zb={},Vb={},rI;function qH(){return rI||(rI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};t.compareValues=n})(Vb)),Vb}var Ub={},Bb={},iI;function Mj(){return iI||(iI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Bb)),Bb}var aI;function $H(){return aI||(aI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mj(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(Ub)),Ub}var sI;function FH(){return sI||(sI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qH(),n=$H(),r=ow();function i(s,l,u,d){if(s==null)return[];u=d?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const h=(x,S)=>{let E=x;for(let T=0;T<S.length&&E!=null;++T)E=E[S[T]];return E},m=(x,S)=>S==null||x==null?S:typeof x=="object"&&"key"in x?Object.hasOwn(S,x.key)?S[x.key]:h(S,x.path):typeof x=="function"?x(S):Array.isArray(x)?h(S,x):typeof S=="object"?S[x]:S,g=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return s.map(x=>({original:x,criteria:g.map(S=>m(S,x))})).slice().sort((x,S)=>{for(let E=0;E<g.length;E++){const T=e.compareValues(x.criteria[E],S.criteria[E],u[E]);if(T!==0)return T}return 0}).map(x=>x.original)}t.orderBy=i})(zb)),zb}var qb={},oI;function HH(){return oI||(oI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(u,d)=>{for(let h=0;h<u.length;h++){const m=u[h];Array.isArray(m)&&d<s?l(m,d+1):i.push(m)}};return l(n,0),i}t.flatten=e})(qb)),qb}var $b={},lI;function jj(){return lI||(lI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pj(),n=uw(),r=Tj(),i=Cj();function s(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&e.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}t.isIterateeCall=s})($b)),$b}var cI;function GH(){return cI||(cI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FH(),n=HH(),r=jj();function i(s,...l){const u=l.length;return u>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(Lb)),Lb}var Fb,uI;function KH(){return uI||(uI=1,Fb=GH().sortBy),Fb}var YH=KH();const Xg=la(YH);var kj=t=>t.legend.settings,WH=t=>t.legend.size,XH=t=>t.legend.payload;ie([XH,kj],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Xg(r,n):r});var Pm=1;function QH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Pm||Math.abs(l.left-e.left)>Pm||Math.abs(l.top-e.top)>Pm||Math.abs(l.width-e.width)>Pm)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Rn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ZH=typeof Symbol=="function"&&Symbol.observable||"@@observable",fI=ZH,Hb=()=>Math.random().toString(36).substring(7).split("").join("."),JH={INIT:`@@redux/INIT${Hb()}`,REPLACE:`@@redux/REPLACE${Hb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Hb()}`},Bp=JH;function dw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Lj(t,e,n){if(typeof t!="function")throw new Error(Rn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Rn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Rn(1));return n(Lj)(t,e)}let r=t,i=e,s=new Map,l=s,u=0,d=!1;function h(){l===s&&(l=new Map,s.forEach((T,I)=>{l.set(I,T)}))}function m(){if(d)throw new Error(Rn(3));return i}function g(T){if(typeof T!="function")throw new Error(Rn(4));if(d)throw new Error(Rn(5));let I=!0;h();const M=u++;return l.set(M,T),function(){if(I){if(d)throw new Error(Rn(6));I=!1,h(),l.delete(M),s=null}}}function b(T){if(!dw(T))throw new Error(Rn(7));if(typeof T.type>"u")throw new Error(Rn(8));if(typeof T.type!="string")throw new Error(Rn(17));if(d)throw new Error(Rn(9));try{d=!0,i=r(i,T)}finally{d=!1}return(s=l).forEach(M=>{M()}),T}function x(T){if(typeof T!="function")throw new Error(Rn(10));r=T,b({type:Bp.REPLACE})}function S(){const T=g;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(Rn(11));function M(){const $=I;$.next&&$.next(m())}return M(),{unsubscribe:T(M)}},[fI](){return this}}}return b({type:Bp.INIT}),{dispatch:b,subscribe:g,getState:m,replaceReducer:x,[fI]:S}}function eG(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Bp.INIT})>"u")throw new Error(Rn(12));if(typeof n(void 0,{type:Bp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Rn(13))})}function zj(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{eG(n)}catch(s){i=s}return function(l={},u){if(i)throw i;let d=!1;const h={};for(let m=0;m<r.length;m++){const g=r[m],b=n[g],x=l[g],S=b(x,u);if(typeof S>"u")throw u&&u.type,new Error(Rn(14));h[g]=S,d=d||S!==x}return d=d||r.length!==Object.keys(l).length,d?h:l}}function qp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function tG(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Rn(15))};const l={getState:i.getState,dispatch:(d,...h)=>s(d,...h)},u=t.map(d=>d(l));return s=qp(...u)(i.dispatch),{...i,dispatch:s}}}function Vj(t){return dw(t)&&"type"in t&&typeof t.type=="string"}var Uj=Symbol.for("immer-nothing"),dI=Symbol.for("immer-draftable"),Zn=Symbol.for("immer-state");function gi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Or=Object,Uc=Or.getPrototypeOf,$p="constructor",Qg="prototype",hx="configurable",Fp="enumerable",sp="writable",Zf="value",Ga=t=>!!t&&!!t[Zn];function Ti(t){var e;return t?Bj(t)||Zg(t)||!!t[dI]||!!((e=t[$p])!=null&&e[dI])||Jg(t)||ey(t):!1}var nG=Or[Qg][$p].toString(),hI=new WeakMap;function Bj(t){if(!t||!hw(t))return!1;const e=Uc(t);if(e===null||e===Or[Qg])return!0;const n=Or.hasOwnProperty.call(e,$p)&&e[$p];if(n===Object)return!0;if(!vc(n))return!1;let r=hI.get(n);return r===void 0&&(r=Function.toString.call(n),hI.set(n,r)),r===nG}function Od(t,e,n=!0){Id(t)===0?(n?Reflect.ownKeys(t):Or.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Id(t){const e=t[Zn];return e?e.type_:Zg(t)?1:Jg(t)?2:ey(t)?3:0}var mI=(t,e,n=Id(t))=>n===2?t.has(e):Or[Qg].hasOwnProperty.call(t,e),mx=(t,e,n=Id(t))=>n===2?t.get(e):t[e],Hp=(t,e,n,r=Id(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function rG(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Zg=Array.isArray,Jg=t=>t instanceof Map,ey=t=>t instanceof Set,hw=t=>typeof t=="object",vc=t=>typeof t=="function",Gb=t=>typeof t=="boolean",Ia=t=>t.copy_||t.base_,mw=t=>t.modified_?t.copy_:t.base_;function px(t,e){if(Jg(t))return new Map(t);if(ey(t))return new Set(t);if(Zg(t))return Array[Qg].slice.call(t);const n=Bj(t);if(e===!0||e==="class_only"&&!n){const r=Or.getOwnPropertyDescriptors(t);delete r[Zn];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u[sp]===!1&&(u[sp]=!0,u[hx]=!0),(u.get||u.set)&&(r[l]={[hx]:!0,[sp]:!0,[Fp]:u[Fp],[Zf]:t[l]})}return Or.create(Uc(t),r)}else{const r=Uc(t);if(r!==null&&n)return{...t};const i=Or.create(r);return Or.assign(i,t)}}function pw(t,e=!1){return ty(t)||Ga(t)||!Ti(t)||(Id(t)>1&&Or.defineProperties(t,{set:Dm,add:Dm,clear:Dm,delete:Dm}),Or.freeze(t),e&&Od(t,(n,r)=>{pw(r,!0)},!1)),t}function iG(){gi(2)}var Dm={[Zf]:iG};function ty(t){return t===null||!hw(t)?!0:Or.isFrozen(t)}var Gp="MapSet",gx="Patches",qj={};function Bc(t){const e=qj[t];return e||gi(0,t),e}var aG=t=>!!qj[t],Jf,$j=()=>Jf,sG=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:aG(Gp)?Bc(Gp):void 0});function pI(t,e){e&&(t.patchPlugin_=Bc(gx),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function yx(t){vx(t),t.drafts_.forEach(oG),t.drafts_=null}function vx(t){t===Jf&&(Jf=t.parent_)}var gI=t=>Jf=sG(Jf,t);function oG(t){const e=t[Zn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function yI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Zn].modified_&&(yx(e),gi(4)),Ti(t)&&(t=vI(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Zn].base_,t,e)}else t=vI(e,n);return lG(e,t,!0),yx(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Uj?t:void 0}function vI(t,e){if(ty(e))return e;const n=e[Zn];if(!n)return gw(e,t.handledSet_,t);if(!ny(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);Gj(n,t)}return n.copy_}function lG(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&pw(e,n)}function Fj(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var ny=(t,e)=>t.scope_===e,cG=[];function Hj(t,e,n,r){const i=Ia(t),s=t.type_;if(r!==void 0&&mx(i,r,s)===e){Hp(i,r,n,s);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;Od(i,(d,h)=>{if(Ga(h)){const m=u.get(h)||[];m.push(d),u.set(h,m)}})}const l=t.draftLocations_.get(e)??cG;for(const u of l)Hp(i,u,n,s)}function uG(t,e,n){t.callbacks_.push(function(i){var u;const s=e;if(!s||!ny(s,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(s);const l=mw(s);Hj(t,s.draft_??s,l,n),Gj(s,i)})}function Gj(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const s=i.getPath(t);s&&i.generatePatches_(t,s,e)}Fj(t)}}function fG(t,e,n){const{scope_:r}=t;if(Ga(n)){const i=n[Zn];ny(i,r)&&i.callbacks_.push(function(){op(t);const l=mw(i);Hj(t,n,l,e)})}else Ti(n)&&t.callbacks_.push(function(){const s=Ia(t);mx(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&gw(mx(t.copy_,e,t.type_),r.handledSet_,r)})}function gw(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ga(t)||e.has(t)||!Ti(t)||ty(t)||(e.add(t),Od(t,(r,i)=>{if(Ga(i)){const s=i[Zn];if(ny(s,n)){const l=mw(s);Hp(t,r,l,t.type_),Fj(s)}}else Ti(i)&&gw(i,e,n)})),t}function dG(t,e){const n=Zg(t),r={type_:n?1:0,scope_:e?e.scope_:$j(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=yw;n&&(i=[r],s=ed);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,[u,r]}var yw={get(t,e){if(e===Zn)return t;const n=Ia(t);if(!mI(n,e,t.type_))return hG(t,n,e);const r=n[e];if(t.finalized_||!Ti(r))return r;if(r===Kb(t.base_,e)){op(t);const i=t.type_===1?+e:e,s=_x(t.scope_,r,t,i);return t.copy_[i]=s}return r},has(t,e){return e in Ia(t)},ownKeys(t){return Reflect.ownKeys(Ia(t))},set(t,e,n){const r=Kj(Ia(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Kb(Ia(t),e),s=i==null?void 0:i[Zn];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(rG(n,i)&&(n!==void 0||mI(t.base_,e,t.type_)))return!0;op(t),bx(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),fG(t,e,n)),!0},deleteProperty(t,e){return op(t),Kb(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),bx(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ia(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[sp]:!0,[hx]:t.type_!==1||e!=="length",[Fp]:r[Fp],[Zf]:n[e]}},defineProperty(){gi(11)},getPrototypeOf(t){return Uc(t.base_)},setPrototypeOf(){gi(12)}},ed={};Od(yw,(t,e)=>{ed[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});ed.deleteProperty=function(t,e){return ed.set.call(this,t,e,void 0)};ed.set=function(t,e,n){return yw.set.call(this,t[0],e,n,t[0])};function Kb(t,e){const n=t[Zn];return(n?Ia(n):t)[e]}function hG(t,e,n){var i;const r=Kj(e,n);return r?Zf in r?r[Zf]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Kj(t,e){if(!(e in t))return;let n=Uc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Uc(n)}}function bx(t){t.modified_||(t.modified_=!0,t.parent_&&bx(t.parent_))}function op(t){t.copy_||(t.assigned_=new Map,t.copy_=px(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var mG=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(vc(n)&&!vc(r)){const l=r;r=n;const u=this;return function(h=l,...m){return u.produce(h,g=>r.call(this,g,...m))}}vc(r)||gi(6),i!==void 0&&!vc(i)&&gi(7);let s;if(Ti(n)){const l=gI(this),u=_x(l,n,void 0);let d=!0;try{s=r(u),d=!1}finally{d?yx(l):vx(l)}return pI(l,i),yI(s,l)}else if(!n||!hw(n)){if(s=r(n),s===void 0&&(s=n),s===Uj&&(s=void 0),this.autoFreeze_&&pw(s,!0),i){const l=[],u=[];Bc(gx).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:u}),i(l,u)}return s}else gi(1,n)},this.produceWithPatches=(n,r)=>{if(vc(n))return(u,...d)=>this.produceWithPatches(u,h=>n(h,...d));let i,s;return[this.produce(n,r,(u,d)=>{i=u,s=d}),i,s]},Gb(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Gb(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Gb(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ti(e)||gi(8),Ga(e)&&(e=xi(e));const n=gI(this),r=_x(n,e,void 0);return r[Zn].isManual_=!0,vx(n),r}finishDraft(e,n){const r=e&&e[Zn];(!r||!r.isManual_)&&gi(9);const{scope_:i}=r;return pI(i,n),yI(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Bc(gx).applyPatches_;return Ga(e)?i(e,n):this.produce(e,s=>i(s,n))}};function _x(t,e,n,r){const[i,s]=Jg(e)?Bc(Gp).proxyMap_(e,n):ey(e)?Bc(Gp).proxySet_(e,n):dG(e,n);return((n==null?void 0:n.scope_)??$j()).drafts_.push(i),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?uG(n,s,r):s.callbacks_.push(function(d){var m;(m=d.mapSetPlugin_)==null||m.fixSetContents(s);const{patchPlugin_:h}=d;s.modified_&&h&&h.generatePatches_(s,[],d)}),i}function xi(t){return Ga(t)||gi(10,t),Yj(t)}function Yj(t){if(!Ti(t)||ty(t))return t;const e=t[Zn];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=px(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=px(t,!0);return Od(n,(i,s)=>{Hp(n,i,Yj(s))},r),e&&(e.finalized_=!1),n}var pG=new mG,Wj=pG.produce;function Xj(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var gG=Xj(),yG=Xj,vG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qp:qp.apply(null,arguments)};function Zr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Ir(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Vj(r)&&r.type===t,n}var Qj=class Of extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Of.prototype)}static get[Symbol.species](){return Of}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Of(...e[0].concat(this)):new Of(...e.concat(this))}};function bI(t){return Ti(t)?Wj(t,()=>{}):t}function Mm(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function bG(t){return typeof t=="boolean"}var _G=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new Qj;return n&&(bG(n)?l.push(gG):l.push(yG(n.extraArgument))),l},Zj="RTK_autoBatch",It=()=>t=>({payload:t,meta:{[Zj]:!0}}),_I=t=>e=>{setTimeout(e,t)},Jj=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const u=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_I(10):t.type==="callback"?t.queueNotification:_I(t.timeout),h=()=>{l=!1,s&&(s=!1,u.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const g=()=>i&&m(),b=r.subscribe(g);return u.add(m),()=>{b(),u.delete(m)}},dispatch(m){var g;try{return i=!((g=m==null?void 0:m.meta)!=null&&g[Zj]),s=!i,s&&(l||(l=!0,d(h))),r.dispatch(m)}finally{i=!0}}})},xG=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new Qj(t);return r&&i.push(Jj(typeof r=="object"?r:void 0)),i};function wG(t){const e=_G(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(dw(n))u=zj(n);else throw new Error(Ir(1));let d;typeof r=="function"?d=r(e):d=e();let h=qp;i&&(h=vG({trace:!1,...typeof i=="object"&&i}));const m=tG(...d),g=xG(m);let b=typeof l=="function"?l(g):g();const x=h(...b);return Lj(u,s,x)}function ek(t){const e={},n=[];let r;const i={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(Ir(28));if(u in e)throw new Error(Ir(29));return e[u]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function EG(t){return typeof t=="function"}function SG(t,e){let[n,r,i]=ek(e),s;if(EG(t))s=()=>bI(t());else{const u=bI(t);s=()=>u}function l(u=s(),d){let h=[n[d.type],...r.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[i]),h.reduce((m,g)=>{if(g)if(Ga(m)){const x=g(m,d);return x===void 0?m:x}else{if(Ti(m))return Wj(m,b=>g(b,d));{const b=g(m,d);if(b===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return m},u)}return l.getInitialState=s,l}var TG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",AG=(t=21)=>{let e="",n=t;for(;n--;)e+=TG[Math.random()*64|0];return e},CG=Symbol.for("rtk-slice-createasyncthunk");function OG(t,e){return`${t}/${e}`}function IG({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[CG];return function(i){const{name:s,reducerPath:l=s}=i;if(!s)throw new Error(Ir(11));const u=(typeof i.reducers=="function"?i.reducers(RG()):i.reducers)||{},d=Object.keys(u),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase($,B){const F=typeof $=="string"?$:$.type;if(!F)throw new Error(Ir(12));if(F in h.sliceCaseReducersByType)throw new Error(Ir(13));return h.sliceCaseReducersByType[F]=B,m},addMatcher($,B){return h.sliceMatchers.push({matcher:$,reducer:B}),m},exposeAction($,B){return h.actionCreators[$]=B,m},exposeCaseReducer($,B){return h.sliceCaseReducersByName[$]=B,m}};d.forEach($=>{const B=u[$],F={reducerName:$,type:OG(s,$),createNotation:typeof i.reducers=="function"};DG(B)?jG(F,B,m,e):PG(F,B,m)});function g(){const[$={},B=[],F=void 0]=typeof i.extraReducers=="function"?ek(i.extraReducers):[i.extraReducers],N={...$,...h.sliceCaseReducersByType};return SG(i.initialState,P=>{for(let k in N)P.addCase(k,N[k]);for(let k of h.sliceMatchers)P.addMatcher(k.matcher,k.reducer);for(let k of B)P.addMatcher(k.matcher,k.reducer);F&&P.addDefaultCase(F)})}const b=$=>$,x=new Map,S=new WeakMap;let E;function T($,B){return E||(E=g()),E($,B)}function I(){return E||(E=g()),E.getInitialState()}function M($,B=!1){function F(P){let k=P[$];return typeof k>"u"&&B&&(k=Mm(S,F,I)),k}function N(P=b){const k=Mm(x,B,()=>new WeakMap);return Mm(k,P,()=>{const U={};for(const[L,V]of Object.entries(i.selectors??{}))U[L]=NG(V,P,()=>Mm(S,P,I),B);return U})}return{reducerPath:$,getSelectors:N,get selectors(){return N(F)},selectSlice:F}}const j={name:s,reducer:T,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:I,...M(l),injectInto($,{reducerPath:B,...F}={}){const N=B??l;return $.inject({reducerPath:N,reducer:T},F),{...j,...M(N,!0)}}};return j}}function NG(t,e,n,r){function i(s,...l){let u=e(s);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var hr=IG();function RG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function PG({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!MG(r))throw new Error(Ir(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Zr(t,l):Zr(t))}function DG(t){return t._reducerDefinitionType==="asyncThunk"}function MG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function jG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Ir(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:d,settled:h,options:m}=n,g=i(t,s,m);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),d&&r.addCase(g.rejected,d),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:l||jm,pending:u||jm,rejected:d||jm,settled:h||jm})}function jm(){}var kG="task",tk="listener",nk="completed",vw="cancelled",LG=`task-${vw}`,zG=`task-${nk}`,xx=`${tk}-${vw}`,VG=`${tk}-${nk}`,ry=class{constructor(t){O0(this,"name","TaskAbortError");O0(this,"message");this.code=t,this.message=`${kG} ${vw} (reason: ${t})`}},bw=(t,e)=>{if(typeof t!="function")throw new TypeError(Ir(32))},Kp=()=>{},rk=(t,e=Kp)=>(t.catch(e),t),ik=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),tl=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},nl=t=>{if(t.aborted){const{reason:e}=t;throw new ry(e)}};function ak(t,e){let n=Kp;return new Promise((r,i)=>{const s=()=>i(new ry(t.reason));if(t.aborted){s();return}n=ik(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Kp})}var UG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof ry?"cancelled":"rejected",error:n}}finally{e==null||e()}},Yp=t=>e=>rk(ak(t,e).then(n=>(nl(t),n))),sk=t=>{const e=Yp(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Ac}=Object,xI={},iy="listenerMiddleware",BG=(t,e)=>{const n=r=>ik(t,()=>tl(r,t.reason));return(r,i)=>{bw(r);const s=new AbortController;n(s);const l=UG(async()=>{nl(t),nl(s.signal);const u=await r({pause:Yp(s.signal),delay:sk(s.signal),signal:s.signal});return nl(s.signal),u},()=>tl(s,zG));return i!=null&&i.autoJoin&&e.push(l.catch(Kp)),{result:Yp(t)(l),cancel(){tl(s,LG)}}}},qG=(t,e)=>{const n=async(r,i)=>{nl(e);let s=()=>{};const u=[new Promise((d,h)=>{let m=t({predicate:r,effect:(g,b)=>{b.unsubscribe(),d([g,b.getState(),b.getOriginalState()])}});s=()=>{m(),h()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await ak(e,Promise.race(u));return nl(e),d}finally{s()}};return(r,i)=>rk(n(r,i))},ok=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Zr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ir(21));return bw(s),{predicate:i,type:e,effect:s}},lk=Ac(t=>{const{type:e,predicate:n,effect:r}=ok(t);return{id:AG(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ir(22))}}},{withTypes:()=>lk}),wI=(t,e)=>{const{type:n,effect:r,predicate:i}=ok(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},wx=t=>{t.pending.forEach(e=>{tl(e,xx)})},$G=(t,e)=>()=>{for(const n of e.keys())wx(n);t.clear()},EI=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},ck=Ac(Zr(`${iy}/add`),{withTypes:()=>ck}),FG=Zr(`${iy}/removeAll`),uk=Ac(Zr(`${iy}/remove`),{withTypes:()=>uk}),HG=(...t)=>{console.error(`${iy}/error`,...t)},Nd=(t={})=>{const e=new Map,n=new Map,r=x=>{const S=n.get(x)??0;n.set(x,S+1)},i=x=>{const S=n.get(x)??1;S===1?n.delete(x):n.set(x,S-1)},{extra:s,onError:l=HG}=t;bw(l);const u=x=>(x.unsubscribe=()=>e.delete(x.id),e.set(x.id,x),S=>{x.unsubscribe(),S!=null&&S.cancelActive&&wx(x)}),d=x=>{const S=wI(e,x)??lk(x);return u(S)};Ac(d,{withTypes:()=>d});const h=x=>{const S=wI(e,x);return S&&(S.unsubscribe(),x.cancelActive&&wx(S)),!!S};Ac(h,{withTypes:()=>h});const m=async(x,S,E,T)=>{const I=new AbortController,M=qG(d,I.signal),j=[];try{x.pending.add(I),r(x),await Promise.resolve(x.effect(S,Ac({},E,{getOriginalState:T,condition:($,B)=>M($,B).then(Boolean),take:M,delay:sk(I.signal),pause:Yp(I.signal),extra:s,signal:I.signal,fork:BG(I.signal,j),unsubscribe:x.unsubscribe,subscribe:()=>{e.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach(($,B,F)=>{$!==I&&(tl($,xx),F.delete($))})},cancel:()=>{tl(I,xx),x.pending.delete(I)},throwIfCancelled:()=>{nl(I.signal)}})))}catch($){$ instanceof ry||EI(l,$,{raisedBy:"effect"})}finally{await Promise.all(j),tl(I,VG),i(x),x.pending.delete(I)}},g=$G(e,n);return{middleware:x=>S=>E=>{if(!Vj(E))return S(E);if(ck.match(E))return d(E.payload);if(FG.match(E)){g();return}if(uk.match(E))return h(E.payload);let T=x.getState();const I=()=>{if(T===xI)throw new Error(Ir(23));return T};let M;try{if(M=S(E),e.size>0){const j=x.getState(),$=Array.from(e.values());for(const B of $){let F=!1;try{F=B.predicate(E,j,T)}catch(N){F=!1,EI(l,N,{raisedBy:"predicate"})}F&&m(B,E,x,I)}}}finally{T=xI}return M},startListening:d,stopListening:h,clearListeners:g}};function Ir(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var GG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},fk=hr({name:"chartLayout",initialState:GG,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:KG,setLayout:YG,setChartSize:WG,setScale:XG}=fk.actions,QG=fk.reducer;function dk(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){ZG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZG(t,e,n){return(e=JG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JG(t){var e=eK(t,"string");return typeof e=="symbol"?e:e+""}function eK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hn(t,e,n){return wn(t)||wn(e)?n:aa(e)?Vc(t,e,n):typeof e=="function"?e(t):n}var tK=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Oe(t[s]))return bc(bc({},t),{},{[s]:t[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Oe(t[l]))return bc(bc({},t),{},{[l]:t[l]+(i||0)})}return t},bl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",hk=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,s,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(s=!0),u.coordinate));return i||l.push(e),s||l.push(n),l},mk=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:h,tickCount:m,ticks:g,niceTicks:b,axisType:x}=t;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(E=x==="angleAxis"&&s&&s.length>=2?fr(s[0]-s[1])*2*E:E,g||b){var T=(g||b||[]).map((I,M)=>{var j=r?r.indexOf(I):I;return{coordinate:l(j)+E,value:I,offset:E,index:M}});return T.filter(I=>!Ei(I.coordinate))}return d&&h?h.map((I,M)=>({coordinate:l(I)+E,value:I,index:M,offset:E})):l.ticks&&m!=null?l.ticks(m).map((I,M)=>({coordinate:l(I)+E,value:I,offset:E,index:M})):l.domain().map((I,M)=>({coordinate:l(I)+E,value:r?r[I]:I,index:M,offset:E}))},TI=1e-4,nK=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-TI,s=Math.max(r[0],r[1])+TI,l=t(e[0]),u=t(e[n-1]);(l<i||l>s||u<i||u>s)&&t.domain([e[0],e[n-1]])}},rK=(t,e)=>{if(!e||e.length!==2||!Oe(e[0])||!Oe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Oe(t[0])||t[0]<n)&&(i[0]=n),(!Oe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},iK=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,l=0;l<e;++l){var u=Ei(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=i,t[l][n][1]=i+u,i=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+u,s=t[l][n][1])}},aK=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var l=Ei(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},sK={sign:iK,expand:PF,none:zc,silhouette:DF,wiggle:MF,positive:aK},oK=(t,e,n)=>{var r=sK[n],i=RF().keys(e).value((s,l)=>Number(Hn(s,l,0))).order(fx).offset(r);return i(t)};function lK(t){return t==null?void 0:String(t)}var AI=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=Hn(s,e.dataKey,e.scale.domain()[l]);return wn(u)?null:e.scale(u)-i/2+r},cK=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},uK=t=>{var e=t.flat(2).filter(Oe);return[Math.min(...e),Math.max(...e)]},fK=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],dK=(t,e,n)=>{if(t!=null)return fK(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:l}=s,u=l.reduce((d,h)=>{var m=dk(h,e,n),g=uK(m);return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},CI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Wp=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Xg(e,m=>m.coordinate),s=1/0,l=1,u=i.length;l<u;l++){var d=i[l],h=i[l-1];s=Math.min((d.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function II(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return bc(bc({},e),{},{dataKey:n,payload:r,value:i,name:s})}function pk(t,e){if(t)return String(t);if(typeof e=="string")return e}var hK=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},mK=(t,e)=>e==="centric"?t.angle:t.radius,Ja=t=>t.layout.width,es=t=>t.layout.height,pK=t=>t.layout.scale,gk=t=>t.layout.margin,ay=ie(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),sy=ie(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),gK="data-recharts-item-index",yK="data-recharts-item-data-key",Rd=60;function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function km(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){vK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vK(t,e,n){return(e=bK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bK(t){var e=_K(t,"string");return typeof e=="symbol"?e:e+""}function _K(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xK=t=>t.brush.height;function wK(t){var e=sy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Rd;return n+i}return n},0)}function EK(t){var e=sy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Rd;return n+i}return n},0)}function SK(t){var e=ay(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function TK(t){var e=ay(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var En=ie([Ja,es,gk,xK,wK,EK,SK,TK,kj,WH],(t,e,n,r,i,s,l,u,d,h)=>{var m={left:(n.left||0)+i,right:(n.right||0)+s},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},b=km(km({},g),m),x=b.bottom;b.bottom+=r,b=tK(b,d,h);var S=t-b.left-b.right,E=e-b.top-b.bottom;return km(km({brushBottom:x},b),{},{width:Math.max(S,0),height:Math.max(E,0)})}),AK=ie(En,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),_w=ie(Ja,es,(t,e)=>({x:0,y:0,width:t,height:e})),CK=C.createContext(null),mr=()=>C.useContext(CK)!=null,oy=t=>t.brush,ly=ie([oy,En,gk],(t,e,n)=>({height:t.height,x:Oe(t.x)?t.x:e.left,y:Oe(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Oe(t.width)?t.width:e.width})),Yb={},Wb={},Xb={},RI;function OK(){return RI||(RI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,u=null;const d=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),m=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{h&&m(),E()};let b=null;const x=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},S=()=>{b!==null&&(clearTimeout(b),b=null)},E=()=>{S(),l=void 0,u=null},T=()=>{m()},I=function(...M){if(i!=null&&i.aborted)return;l=this,u=M;const j=b==null;x(),d&&j&&m()};return I.schedule=x,I.cancel=E,I.flush=T,i==null||i.addEventListener("abort",E,{once:!0}),I}t.debounce=e})(Xb)),Xb}var PI;function IK(){return PI||(PI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OK();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:d}=s,h=Array(2);l&&(h[0]="leading"),u&&(h[1]="trailing");let m,g=null;const b=e.debounce(function(...E){m=r.apply(this,E),g=null},i,{edges:h}),x=function(...E){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(m=r.apply(this,E),g=Date.now(),b.cancel(),b.schedule(),m):(b.apply(this,E),m)},S=()=>(b.flush(),m);return x.cancel=b.cancel,x.flush=S,x}t.debounce=n})(Wb)),Wb}var DI;function NK(){return DI||(DI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IK();function n(r,i=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(Yb)),Yb}var Qb,MI;function RK(){return MI||(MI=1,Qb=NK().throttle),Qb}var PK=RK();const DK=la(PK);var Xp=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},yk=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,u=Ha(r)?t:Number(r),d=Ha(i)?e:Number(i);return s&&s>0&&(u?d=u/s:d&&(u=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},MK={width:0,height:0,overflow:"visible"},jK={width:0,overflowX:"visible"},kK={height:0,overflowY:"visible"},LK={},zK=t=>{var{width:e,height:n}=t,r=Ha(e),i=Ha(n);return r&&i?MK:r?jK:i?kK:LK};function VK(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function $t(t){return Number.isFinite(t)}function sa(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Ex(){return Ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ex.apply(null,arguments)}function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){UK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UK(t,e,n){return(e=BK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BK(t){var e=qK(t,"string");return typeof e=="symbol"?e:e+""}function qK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vk=C.createContext({width:-1,height:-1});function $K(t){return sa(t.width)&&sa(t.height)}function bk(t){var{children:e,width:n,height:r}=t,i=C.useMemo(()=>({width:n,height:r}),[n,r]);return $K(i)?C.createElement(vk.Provider,{value:i},e):null}var xw=()=>C.useContext(vk),FK=C.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:u,maxHeight:d,children:h,debounce:m=0,id:g,className:b,onResize:x,style:S={}}=t,E=C.useRef(null),T=C.useRef();T.current=x,C.useImperativeHandle(e,()=>E.current);var[I,M]=C.useState({containerWidth:r.width,containerHeight:r.height}),j=C.useCallback((P,k)=>{M(U=>{var L=Math.round(P),V=Math.round(k);return U.containerWidth===L&&U.containerHeight===V?U:{containerWidth:L,containerHeight:V}})},[]);C.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Cd;var P=V=>{var R,{width:ue,height:pe}=V[0].contentRect;j(ue,pe),(R=T.current)===null||R===void 0||R.call(T,ue,pe)};m>0&&(P=DK(P,m,{trailing:!0,leading:!1}));var k=new ResizeObserver(P),{width:U,height:L}=E.current.getBoundingClientRect();return j(U,L),k.observe(E.current),()=>{k.disconnect()}},[j,m]);var{containerWidth:$,containerHeight:B}=I;Xp(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:F,calculatedHeight:N}=yk($,B,{width:i,height:s,aspect:n,maxHeight:d});return Xp(F!=null&&F>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,N,i,s,l,u,n),C.createElement("div",{id:g?"".concat(g):void 0,className:Tt("recharts-responsive-container",b),style:kI(kI({},S),{},{width:i,height:s,minWidth:l,minHeight:u,maxHeight:d}),ref:E},C.createElement("div",{style:zK({width:i,height:s})},C.createElement(bk,{width:F,height:N},h)))}),HK=C.forwardRef((t,e)=>{var n=xw();if(sa(n.width)&&sa(n.height))return t.children;var{width:r,height:i}=VK({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=yk(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Oe(s)&&Oe(l)?C.createElement(bk,{width:s,height:l},t.children):C.createElement(FK,Ex({},t,{width:r,height:i,ref:e}))});function _k(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var cy=()=>{var t,e=mr(),n=Ne(AK),r=Ne(ly),i=(t=Ne(oy))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},GK={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},xk=()=>{var t;return(t=Ne(En))!==null&&t!==void 0?t:GK},wk=()=>Ne(Ja),Ek=()=>Ne(es),ft=t=>t.layout.layoutType,uy=()=>Ne(ft),KK=()=>{var t=uy();return t!==void 0},fy=t=>{var e=Ft(),n=mr(),{width:r,height:i}=t,s=xw(),l=r,u=i;return s&&(l=s.width>0?s.width:r,u=s.height>0?s.height:i),C.useEffect(()=>{!n&&sa(l)&&sa(u)&&e(WG({width:l,height:u}))},[e,n,l,u]),null},Sk=Symbol.for("immer-nothing"),LI=Symbol.for("immer-draftable"),Nr=Symbol.for("immer-state");function yi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var td=Object.getPrototypeOf;function qc(t){return!!t&&!!t[Nr]}function fl(t){var e;return t?Tk(t)||Array.isArray(t)||!!t[LI]||!!((e=t.constructor)!=null&&e[LI])||Pd(t)||hy(t):!1}var YK=Object.prototype.constructor.toString(),zI=new WeakMap;function Tk(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=zI.get(n);return r===void 0&&(r=Function.toString.call(n),zI.set(n,r)),r===YK}function Qp(t,e,n=!0){dy(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function dy(t){const e=t[Nr];return e?e.type_:Array.isArray(t)?1:Pd(t)?2:hy(t)?3:0}function Sx(t,e){return dy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Ak(t,e,n){const r=dy(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function WK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Pd(t){return t instanceof Map}function hy(t){return t instanceof Set}function Fo(t){return t.copy_||t.base_}function Tx(t,e){if(Pd(t))return new Map(t);if(hy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Tk(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Nr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(td(t),r)}else{const r=td(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function ww(t,e=!1){return my(t)||qc(t)||!fl(t)||(dy(t)>1&&Object.defineProperties(t,{set:Lm,add:Lm,clear:Lm,delete:Lm}),Object.freeze(t),e&&Object.values(t).forEach(n=>ww(n,!0))),t}function XK(){yi(2)}var Lm={value:XK};function my(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var QK={};function dl(t){const e=QK[t];return e||yi(0,t),e}var nd;function Ck(){return nd}function ZK(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function VI(t,e){e&&(dl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ax(t){Cx(t),t.drafts_.forEach(JK),t.drafts_=null}function Cx(t){t===nd&&(nd=t.parent_)}function UI(t){return nd=ZK(nd,t)}function JK(t){const e=t[Nr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function BI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Nr].modified_&&(Ax(e),yi(4)),fl(t)&&(t=Zp(e,t),e.parent_||Jp(e,t)),e.patches_&&dl("Patches").generateReplacementPatches_(n[Nr].base_,t,e.patches_,e.inversePatches_)):t=Zp(e,n,[]),Ax(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Sk?t:void 0}function Zp(t,e,n){if(my(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Nr];if(!i)return Qp(e,(s,l)=>qI(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Jp(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,u=!1;i.type_===3&&(l=new Set(s),s.clear(),u=!0),Qp(l,(d,h)=>qI(t,i,s,d,h,n,u),r),Jp(t,s,!1),n&&t.patches_&&dl("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function qI(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const u=my(i);if(!(u&&!l)){if(qc(i)){const d=s&&e&&e.type_!==3&&!Sx(e.assigned_,r)?s.concat(r):void 0,h=Zp(t,i,d);if(Ak(n,r,h),qc(h))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(fl(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;Zp(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Pd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Jp(t,i)}}}function Jp(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ww(e,n)}function eY(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Ck(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Ew;n&&(i=[r],s=rd);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,u}var Ew={get(t,e){if(e===Nr)return t;const n=Fo(t);if(!Sx(n,e))return tY(t,n,e);const r=n[e];return t.finalized_||!fl(r)?r:r===Zb(t.base_,e)?(Jb(t),t.copy_[e]=Ix(r,t)):r},has(t,e){return e in Fo(t)},ownKeys(t){return Reflect.ownKeys(Fo(t))},set(t,e,n){const r=Ok(Fo(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Zb(Fo(t),e),s=i==null?void 0:i[Nr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(WK(n,i)&&(n!==void 0||Sx(t.base_,e)))return!0;Jb(t),Ox(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Zb(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Jb(t),Ox(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Fo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){yi(11)},getPrototypeOf(t){return td(t.base_)},setPrototypeOf(){yi(12)}},rd={};Qp(Ew,(t,e)=>{rd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});rd.deleteProperty=function(t,e){return rd.set.call(this,t,e,void 0)};rd.set=function(t,e,n){return Ew.set.call(this,t[0],e,n,t[0])};function Zb(t,e){const n=t[Nr];return(n?Fo(n):t)[e]}function tY(t,e,n){var i;const r=Ok(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Ok(t,e){if(!(e in t))return;let n=td(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=td(n)}}function Ox(t){t.modified_||(t.modified_=!0,t.parent_&&Ox(t.parent_))}function Jb(t){t.copy_||(t.copy_=Tx(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var nY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(d=s,...h){return l.produce(d,m=>n.call(this,m,...h))}}typeof n!="function"&&yi(6),r!==void 0&&typeof r!="function"&&yi(7);let i;if(fl(e)){const s=UI(this),l=Ix(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?Ax(s):Cx(s)}return VI(s,r),BI(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Sk&&(i=void 0),this.autoFreeze_&&ww(i,!0),r){const s=[],l=[];dl("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else yi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,d=>e(d,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){fl(t)||yi(8),qc(t)&&(t=rY(t));const e=UI(this),n=Ix(t,void 0);return n[Nr].isManual_=!0,Cx(e),n}finishDraft(t,e){const n=t&&t[Nr];(!n||!n.isManual_)&&yi(9);const{scope_:r}=n;return VI(r,e),BI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=dl("Patches").applyPatches_;return qc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Ix(t,e){const n=Pd(t)?dl("MapSet").proxyMap_(t,e):hy(t)?dl("MapSet").proxySet_(t,e):eY(t,e);return(e?e.scope_:Ck()).drafts_.push(n),n}function rY(t){return qc(t)||yi(10,t),Ik(t)}function Ik(t){if(!fl(t)||my(t))return t;const e=t[Nr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Tx(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Tx(t,!0);return Qp(n,(i,s)=>{Ak(n,i,Ik(s))},r),e&&(e.finalized_=!1),n}var iY=new nY;iY.produce;var aY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Nk=hr({name:"legend",initialState:aY,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:It()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=xi(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:It()},removeLegendPayload:{reducer(t,e){var n=xi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:It()}}}),{setLegendSize:Noe,setLegendSettings:Roe,addLegendPayload:sY,replaceLegendPayload:oY,removeLegendPayload:lY}=Nk.actions,cY=Nk.reducer;function Nx(){return Nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nx.apply(null,arguments)}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){uY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uY(t,e,n){return(e=fY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fY(t){var e=dY(t,"string");return typeof e=="symbol"?e:e+""}function dY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hY(t){return Array.isArray(t)&&aa(t[0])&&aa(t[1])?t.join(" ~ "):t}var mY=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:h,label:m,labelFormatter:g,accessibilityLayer:b=!1}=t,x=()=>{if(s&&s.length){var B={padding:0,margin:0},F=(u?Xg(s,u):s).map((N,P)=>{if(N.type==="none")return null;var k=N.formatter||l||hY,{value:U,name:L}=N,V=U,R=L;if(k){var ue=k(U,L,N,P,s);if(Array.isArray(ue))[V,R]=ue;else if(ue!=null)V=ue;else return null}var pe=e_({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:pe},aa(R)?C.createElement("span",{className:"recharts-tooltip-item-name"},R):null,aa(R)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},V),C.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:B},F)}return null},S=e_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=e_({margin:0},i),T=!wn(m),I=T?m:"",M=Tt("recharts-default-tooltip",d),j=Tt("recharts-tooltip-label",h);T&&g&&s!==void 0&&s!==null&&(I=g(m,s));var $=b?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",Nx({className:M,style:S},$),C.createElement("p",{className:j,style:E},C.isValidElement(I)?I:"".concat(I)),x())},gf="recharts-tooltip-wrapper",pY={visibility:"hidden"};function gY(t){var{coordinate:e,translateX:n,translateY:r}=t;return Tt(gf,{["".concat(gf,"-right")]:Oe(n)&&e&&Oe(e.x)&&n>=e.x,["".concat(gf,"-left")]:Oe(n)&&e&&Oe(e.x)&&n<e.x,["".concat(gf,"-bottom")]:Oe(r)&&e&&Oe(e.y)&&r>=e.y,["".concat(gf,"-top")]:Oe(r)&&e&&Oe(e.y)&&r<e.y})}function FI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:h}=t;if(s&&Oe(s[r]))return s[r];var m=n[r]-u-(i>0?i:0),g=n[r]+i;if(e[r])return l[r]?m:g;var b=d[r];if(b==null)return 0;if(l[r]){var x=m,S=b;return x<S?Math.max(g,b):Math.max(m,b)}if(h==null)return 0;var E=g+u,T=b+h;return E>T?Math.max(m,b):Math.max(g,b)}function yY(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function vY(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=t,h,m,g;return l.height>0&&l.width>0&&n?(m=FI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=FI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=yY({translateX:m,translateY:g,useTranslate3d:u})):h=pY,{cssProperties:h,cssClasses:gY({translateX:m,translateY:g,coordinate:n})}}function HI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(n),!0).forEach(function(r){Rx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rx(t,e,n){return(e=bY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bY(t){var e=_Y(t,"string");return typeof e=="symbol"?e:e+""}function _Y(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xY extends C.PureComponent{constructor(){super(...arguments),Rx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Rx(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:u,isAnimationActive:d,offset:h,position:m,reverseDirection:g,useTranslate3d:b,viewBox:x,wrapperStyle:S,lastBoundingBox:E,innerRef:T,hasPortalFromProps:I}=this.props,{cssClasses:M,cssProperties:j}=vY({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:m,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:b,viewBox:x}),$=I?{}:zm(zm({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),B=zm(zm({},$),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},S);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:B,ref:T},s)}}var Rk=()=>{var t;return(t=Ne(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Px(){return Px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Px.apply(null,arguments)}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){wY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wY(t,e,n){return(e=EY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EY(t){var e=SY(t,"string");return typeof e=="symbol"?e:e+""}function SY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YI={curveBasisClosed:_F,curveBasisOpen:xF,curveBasis:bF,curveBumpX:aF,curveBumpY:sF,curveLinearClosed:wF,curveLinear:Yg,curveMonotoneX:EF,curveMonotoneY:SF,curveNatural:TF,curveStep:AF,curveStepAfter:OF,curveStepBefore:CF},eg=t=>$t(t.x)&&$t(t.y),WI=t=>t.base!=null&&eg(t.base)&&eg(t),yf=t=>t.x,vf=t=>t.y,TY=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Ad(t));return(n==="curveMonotone"||n==="curveBump")&&e?YI["".concat(n).concat(e==="vertical"?"Y":"X")]:YI[n]||Yg},AY=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=TY(e,i),u=s?n.filter(eg):n,d;if(Array.isArray(r)){var h=n.map((x,S)=>KI(KI({},x),{},{base:r[S]}));i==="vertical"?d=Nm().y(vf).x1(yf).x0(x=>x.base.x):d=Nm().x(yf).y1(vf).y0(x=>x.base.y);var m=d.defined(WI).curve(l),g=s?h.filter(WI):h;return m(g)}i==="vertical"&&Oe(r)?d=Nm().y(vf).x1(yf).x0(r):Oe(r)?d=Nm().x(yf).y1(vf).y0(r):d=lj().x(yf).y(vf);var b=d.defined(eg).curve(l);return b(u)},Pk=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?AY(t):r;return C.createElement("path",Px({},$a(t),ZF(t),{className:Tt("recharts-curve",e),d:s===null?void 0:s,ref:i}))},CY=["x","y","top","left","width","height","className"];function Dx(){return Dx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dx.apply(null,arguments)}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){IY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IY(t,e,n){return(e=NY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NY(t){var e=RY(t,"string");return typeof e=="symbol"?e:e+""}function RY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PY(t,e){if(t==null)return{};var n,r,i=DY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function DY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var MY=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),jY=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:u}=t,d=PY(t,CY),h=OY({x:e,y:n,top:r,left:i,width:s,height:l},d);return!Oe(e)||!Oe(n)||!Oe(s)||!Oe(l)||!Oe(r)||!Oe(i)?null:C.createElement("path",Dx({},Qr(h),{className:Tt("recharts-cross",u),d:MY(e,n,s,l,r,i)}))};function kY(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){LY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LY(t,e,n){return(e=zY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zY(t){var e=VY(t,"string");return typeof e=="symbol"?e:e+""}function VY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UY=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Dk=(t,e,n)=>t.map(r=>"".concat(UY(r)," ").concat(e,"ms ").concat(n)).join(","),BY=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),id=(t,e)=>Object.keys(e).reduce((n,r)=>ZI(ZI({},n),{},{[r]:t(r,e[r])}),{});function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){qY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qY(t,e,n){return(e=$Y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Y(t){var e=FY(t,"string");return typeof e=="symbol"?e:e+""}function FY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tg=(t,e,n)=>t+(e-t)*n,Mx=t=>{var{from:e,to:n}=t;return e!==n},Mk=(t,e,n)=>{var r=id((i,s)=>{if(Mx(s)){var[l,u]=t(s.from,s.to,s.velocity);return on(on({},s),{},{from:l,velocity:u})}return s},e);return n<1?id((i,s)=>Mx(s)?on(on({},s),{},{velocity:tg(s.velocity,r[i].velocity,n),from:tg(s.from,r[i].from,n)}):s,e):Mk(t,r,n-1)};function HY(t,e,n,r,i,s){var l,u=r.reduce((b,x)=>on(on({},b),{},{[x]:{from:t[x],velocity:0,to:e[x]}}),{}),d=()=>id((b,x)=>x.from,u),h=()=>!Object.values(u).filter(Mx).length,m=null,g=b=>{l||(l=b);var x=b-l,S=x/n.dt;u=Mk(n,u,S),i(on(on(on({},t),e),d())),l=b,h()||(m=s.setTimeout(g))};return()=>(m=s.setTimeout(g),()=>{var b;(b=m)===null||b===void 0||b()})}function GY(t,e,n,r,i,s,l){var u=null,d=i.reduce((g,b)=>on(on({},g),{},{[b]:[t[b],e[b]]}),{}),h,m=g=>{h||(h=g);var b=(g-h)/r,x=id((E,T)=>tg(...T,n(b)),d);if(s(on(on(on({},t),e),x)),b<1)u=l.setTimeout(m);else{var S=id((E,T)=>tg(...T,n(1)),d);s(on(on(on({},t),e),S))}};return()=>(u=l.setTimeout(m),()=>{var g;(g=u)===null||g===void 0||g()})}const KY=(t,e,n,r,i,s)=>{var l=BY(t,e);return n==null?()=>(i(on(on({},t),e)),()=>{}):n.isStepper===!0?HY(t,e,n,l,i,s):GY(t,e,n,r,l,i,s)};var ng=1e-4,jk=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],kk=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),eN=(t,e)=>n=>{var r=jk(t,e);return kk(r,n)},YY=(t,e)=>n=>{var r=jk(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return kk(i,n)},WY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=s[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},XY=(t,e,n,r)=>{var i=eN(t,n),s=eN(e,r),l=YY(t,n),u=h=>h>1?1:h<0?0:h,d=h=>{for(var m=h>1?1:h,g=m,b=0;b<8;++b){var x=i(g)-m,S=l(g);if(Math.abs(x-m)<ng||S<ng)return s(g);g=u(g-x/S)}return s(g)};return d.isStepper=!1,d},tN=function(){return XY(...WY(...arguments))},QY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,u,d)=>{var h=-(l-u)*n,m=d*r,g=d+(h-m)*i/1e3,b=d*i/1e3+l;return Math.abs(b-u)<ng&&Math.abs(g)<ng?[u,0]:[b,g]};return s.isStepper=!0,s.dt=i,s},ZY=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tN(t);case"spring":return QY();default:if(t.split("(")[0]==="cubic-bezier")return tN(t)}return typeof t=="function"?t:null};function JY(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...h]=u;if(typeof d=="number"){i=t.setTimeout(s.bind(null,h),d);return}s(d),i=t.setTimeout(s.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class eW{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function tW(){return JY(new eW)}var nW=C.createContext(tW);function rW(t,e){var n=C.useContext(nW);return C.useMemo(()=>e??n(t),[t,e,n])}var iW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Dd={devToolsEnabled:!1,isSsr:iW()},aW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},nN={t:0},t_={t:1};function Sw(t){var e=Rr(t,aW),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:d,children:h}=e,m=n==="auto"?!Dd.isSsr:n,g=rW(e.animationId,e.animationManager),[b,x]=C.useState(m?nN:t_),S=C.useRef(null);return C.useEffect(()=>{m||x(t_)},[m]),C.useEffect(()=>{if(!m||!r)return Cd;var E=KY(nN,t_,ZY(s),i,x,g.getTimeoutController()),T=()=>{S.current=E()};return g.start([d,l,T,i,u]),()=>{g.stop(),S.current&&S.current(),u()}},[m,r,i,s,l,d,u,g]),h(b.t)}function Tw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(Qf(e)),r=C.useRef(t);return r.current!==t&&(n.current=Qf(e),r.current=t),n.current}var sW=["radius"],oW=["radius"];function rN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(n),!0).forEach(function(r){lW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lW(t,e,n){return(e=cW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cW(t){var e=uW(t,"string");return typeof e=="symbol"?e:e+""}function uW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rg(){return rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rg.apply(null,arguments)}function aN(t,e){if(t==null)return{};var n,r,i=fW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sN=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,h;if(s>0&&i instanceof Array){for(var m=[0,0,0,0],g=0,b=4;g<b;g++)m[g]=i[g]>s?s:i[g];h="M".concat(t,",").concat(e+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(t+u*m[0],",").concat(e)),h+="L ".concat(t+n-u*m[1],",").concat(e),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(e+l*m[1])),h+="L ".concat(t+n,",").concat(e+r-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(t+n-u*m[2],",").concat(e+r)),h+="L ".concat(t+u*m[3],",").concat(e+r),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(e+r-l*m[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var x=Math.min(s,i);h="M ".concat(t,",").concat(e+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+u*x,",").concat(e,`
            L `).concat(t+n-u*x,",").concat(e,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n,",").concat(e+l*x,`
            L `).concat(t+n,",").concat(e+r-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n-u*x,",").concat(e+r,`
            L `).concat(t+u*x,",").concat(e+r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t,",").concat(e+r-l*x," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},oN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lk=t=>{var e=Rr(t,oN),n=C.useRef(null),[r,i]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var te=n.current.getTotalLength();te&&i(te)}catch{}},[]);var{x:s,y:l,width:u,height:d,radius:h,className:m}=e,{animationEasing:g,animationDuration:b,animationBegin:x,isAnimationActive:S,isUpdateAnimationActive:E}=e,T=C.useRef(u),I=C.useRef(d),M=C.useRef(s),j=C.useRef(l),$=C.useMemo(()=>({x:s,y:l,width:u,height:d,radius:h}),[s,l,u,d,h]),B=Tw($,"rectangle-");if(s!==+s||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var F=Tt("recharts-rectangle",m);if(!E){var N=Qr(e),{radius:P}=N,k=aN(N,sW);return C.createElement("path",rg({},k,{radius:typeof h=="number"?h:void 0,className:F,d:sN(s,l,u,d,h)}))}var U=T.current,L=I.current,V=M.current,R=j.current,ue="0px ".concat(r===-1?1:r,"px"),pe="".concat(r,"px 0px"),G=Dk(["strokeDasharray"],b,typeof g=="string"?g:oN.animationEasing);return C.createElement(Sw,{animationId:B,key:B,canBegin:r>0,duration:b,easing:g,isActive:E,begin:x},te=>{var se=Dn(U,u,te),X=Dn(L,d,te),ve=Dn(V,s,te),q=Dn(R,l,te);n.current&&(T.current=se,I.current=X,M.current=ve,j.current=q);var J;S?te>0?J={transition:G,strokeDasharray:pe}:J={strokeDasharray:ue}:J={strokeDasharray:pe};var de=Qr(e),{radius:ye}=de,be=aN(de,oW);return C.createElement("path",rg({},be,{radius:typeof h=="number"?h:void 0,className:F,d:sN(ve,q,se,X,h),ref:n,style:iN(iN({},J),e.style)}))})};function lN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(n),!0).forEach(function(r){dW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dW(t,e,n){return(e=hW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hW(t){var e=mW(t,"string");return typeof e=="symbol"?e:e+""}function mW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ig=Math.PI/180,pW=t=>t*180/Math.PI,jn=(t,e,n,r)=>({x:t+Math.cos(-ig*r)*n,y:e+Math.sin(-ig*r)*n}),gW=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},yW=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},vW=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=yW({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>s&&(d=2*Math.PI-d),{radius:l,angle:pW(d),angleInRadian:d}},bW=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},_W=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},xW=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=vW({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:h}=bW(e),m=s,g;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;g=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=d}return g?cN(cN({},e),{},{radius:i,angle:_W(m,e)}):null};function zk(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=jn(e,n,r,i),u=jn(e,n,r,s);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jx.apply(null,arguments)}var wW=(t,e)=>{var n=fr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Vm=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:d}=t,h=u*(l?1:-1)+r,m=Math.asin(u/h)/ig,g=d?i:i+s*m,b=jn(e,n,h,g),x=jn(e,n,r,g),S=d?i-s*m:i,E=jn(e,n,h*Math.cos(m*ig),S);return{center:b,circleTangency:x,lineTangency:E,theta:m}},Vk=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,u=wW(s,l),d=s+u,h=jn(e,n,i,s),m=jn(e,n,i,d),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var b=jn(e,n,r,s),x=jn(e,n,r,d);g+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=d),`,
            `).concat(b.x,",").concat(b.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},EW=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}=t,m=fr(h-d),{circleTangency:g,lineTangency:b,theta:x}=Vm({cx:e,cy:n,radius:i,angle:d,sign:m,cornerRadius:s,cornerIsExternal:u}),{circleTangency:S,lineTangency:E,theta:T}=Vm({cx:e,cy:n,radius:i,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:u}),I=u?Math.abs(d-h):Math.abs(d-h)-x-T;if(I<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Vk({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:h});var M="M ".concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:j,lineTangency:$,theta:B}=Vm({cx:e,cy:n,radius:r,angle:d,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:F,lineTangency:N,theta:P}=Vm({cx:e,cy:n,radius:r,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),k=u?Math.abs(d-h):Math.abs(d-h)-B-P;if(k<0&&s===0)return"".concat(M,"L").concat(e,",").concat(n,"Z");M+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(m>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,"Z")}else M+="L".concat(e,",").concat(n,"Z");return M},SW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Uk=t=>{var e=Rr(t,SW),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:m,className:g}=e;if(s<i||h===m)return null;var b=Tt("recharts-sector",g),x=s-i,S=Si(l,x,0,!0),E;return S>0&&Math.abs(h-m)<360?E=EW({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(S,x/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:m}):E=Vk({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:m}),C.createElement("path",jx({},Qr(e),{className:b,d:E}))};function TW(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(Ej(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:u}=e,d=jn(r,i,s,u),h=jn(r,i,l,u);return[{x:d.x,y:d.y},{x:h.x,y:h.y}]}return zk(e)}}var n_={},r_={},i_={},uN;function AW(){return uN||(uN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mj();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(i_)),i_}var fN;function CW(){return fN||(fN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AW();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(r_)),r_}var dN;function OW(){return dN||(dN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jj(),n=CW();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((s-i)/(l||1)),0),d=new Array(u);for(let h=0;h<u;h++)d[h]=i,i+=l;return d}t.range=r})(n_)),n_}var a_,hN;function IW(){return hN||(hN=1,a_=OW().range),a_}var NW=IW();const Bk=la(NW);function Js(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function RW(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Aw(t){let e,n,r;t.length!==2?(e=Js,n=(u,d)=>Js(t(u),d),r=(u,d)=>t(u)-d):(e=t===Js||t===RW?t:PW,n=t,r=t);function i(u,d,h=0,m=u.length){if(h<m){if(e(d,d)!==0)return m;do{const g=h+m>>>1;n(u[g],d)<0?h=g+1:m=g}while(h<m)}return h}function s(u,d,h=0,m=u.length){if(h<m){if(e(d,d)!==0)return m;do{const g=h+m>>>1;n(u[g],d)<=0?h=g+1:m=g}while(h<m)}return h}function l(u,d,h=0,m=u.length){const g=i(u,d,h,m-1);return g>h&&r(u[g-1],d)>-r(u[g],d)?g-1:g}return{left:i,center:l,right:s}}function PW(){return 0}function qk(t){return t===null?NaN:+t}function*DW(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const MW=Aw(Js),Md=MW.right;Aw(qk).center;class mN extends Map{constructor(e,n=LW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(pN(this,e))}has(e){return super.has(pN(this,e))}set(e,n){return super.set(jW(this,e),n)}delete(e){return super.delete(kW(this,e))}}function pN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function jW({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function kW({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function LW(t){return t!==null&&typeof t=="object"?t.valueOf():t}function zW(t=Js){if(t===Js)return $k;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function $k(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const VW=Math.sqrt(50),UW=Math.sqrt(10),BW=Math.sqrt(2);function ag(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=VW?10:s>=UW?5:s>=BW?2:1;let u,d,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(t*h),d=Math.round(e*h),u/h<t&&++u,d/h>e&&--d,h=-h):(h=Math.pow(10,i)*l,u=Math.round(t/h),d=Math.round(e/h),u*h<t&&++u,d*h>e&&--d),d<u&&.5<=n&&n<2?ag(t,e,n*2):[u,d,h]}function kx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?ag(e,t,n):ag(t,e,n);if(!(s>=i))return[];const u=s-i+1,d=new Array(u);if(r)if(l<0)for(let h=0;h<u;++h)d[h]=(s-h)/-l;else for(let h=0;h<u;++h)d[h]=(s-h)*l;else if(l<0)for(let h=0;h<u;++h)d[h]=(i+h)/-l;else for(let h=0;h<u;++h)d[h]=(i+h)*l;return d}function Lx(t,e,n){return e=+e,t=+t,n=+n,ag(t,e,n)[2]}function zx(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Lx(e,t,n):Lx(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function gN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function yN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Fk(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?$k:zW(i);r>n;){if(r-n>600){const d=r-n+1,h=e-n+1,m=Math.log(d),g=.5*Math.exp(2*m/3),b=.5*Math.sqrt(m*g*(d-g)/d)*(h-d/2<0?-1:1),x=Math.max(n,Math.floor(e-h*g/d+b)),S=Math.min(r,Math.floor(e+(d-h)*g/d+b));Fk(t,e,x,S,i)}const s=t[e];let l=n,u=r;for(bf(t,n,e),i(t[r],s)>0&&bf(t,n,r);l<u;){for(bf(t,l,u),++l,--u;i(t[l],s)<0;)++l;for(;i(t[u],s)>0;)--u}i(t[n],s)===0?bf(t,n,u):(++u,bf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function bf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function qW(t,e,n){if(t=Float64Array.from(DW(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return yN(t);if(e>=1)return gN(t);var r,i=(r-1)*e,s=Math.floor(i),l=gN(Fk(t,s).subarray(0,s+1)),u=yN(t.subarray(s+1));return l+(u-l)*(i-s)}}function $W(t,e,n=qk){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),u=+n(t[s+1],s+1,t);return l+(u-l)*(i-s)}}function FW(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ei(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ts(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Vx=Symbol("implicit");function Cw(){var t=new mN,e=[],n=[],r=Vx;function i(s){let l=t.get(s);if(l===void 0){if(r!==Vx)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new mN;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Cw(e,n).unknown(r)},ei.apply(i,arguments),i}function Ow(){var t=Cw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,u=!1,d=0,h=0,m=.5;delete t.unknown;function g(){var b=e().length,x=i<r,S=x?i:r,E=x?r:i;s=(E-S)/Math.max(1,b-d+h*2),u&&(s=Math.floor(s)),S+=(E-S-s*(b-d))*m,l=s*(1-d),u&&(S=Math.round(S),l=Math.round(l));var T=FW(b).map(function(I){return S+s*I});return n(x?T.reverse():T)}return t.domain=function(b){return arguments.length?(e(b),g()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,u=!0,g()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(u=!!b,g()):u},t.padding=function(b){return arguments.length?(d=Math.min(1,h=+b),g()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),g()):d},t.paddingOuter=function(b){return arguments.length?(h=+b,g()):h},t.align=function(b){return arguments.length?(m=Math.max(0,Math.min(1,b)),g()):m},t.copy=function(){return Ow(e(),[r,i]).round(u).paddingInner(d).paddingOuter(h).align(m)},ei.apply(g(),arguments)}function Hk(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Hk(e())},t}function HW(){return Hk(Ow.apply(null,arguments).paddingInner(1))}function Iw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Gk(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function jd(){}var ad=.7,sg=1/ad,Cc="\\s*([+-]?\\d+)\\s*",sd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",na="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GW=/^#([0-9a-f]{3,8})$/,KW=new RegExp(`^rgb\\(${Cc},${Cc},${Cc}\\)$`),YW=new RegExp(`^rgb\\(${na},${na},${na}\\)$`),WW=new RegExp(`^rgba\\(${Cc},${Cc},${Cc},${sd}\\)$`),XW=new RegExp(`^rgba\\(${na},${na},${na},${sd}\\)$`),QW=new RegExp(`^hsl\\(${sd},${na},${na}\\)$`),ZW=new RegExp(`^hsla\\(${sd},${na},${na},${sd}\\)$`),vN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Iw(jd,od,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:bN,formatHex:bN,formatHex8:JW,formatHsl:eX,formatRgb:_N,toString:_N});function bN(){return this.rgb().formatHex()}function JW(){return this.rgb().formatHex8()}function eX(){return Kk(this).formatHsl()}function _N(){return this.rgb().formatRgb()}function od(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=GW.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?xN(e):n===3?new dr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Um(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Um(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=KW.exec(t))?new dr(e[1],e[2],e[3],1):(e=YW.exec(t))?new dr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=WW.exec(t))?Um(e[1],e[2],e[3],e[4]):(e=XW.exec(t))?Um(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=QW.exec(t))?SN(e[1],e[2]/100,e[3]/100,1):(e=ZW.exec(t))?SN(e[1],e[2]/100,e[3]/100,e[4]):vN.hasOwnProperty(t)?xN(vN[t]):t==="transparent"?new dr(NaN,NaN,NaN,0):null}function xN(t){return new dr(t>>16&255,t>>8&255,t&255,1)}function Um(t,e,n,r){return r<=0&&(t=e=n=NaN),new dr(t,e,n,r)}function tX(t){return t instanceof jd||(t=od(t)),t?(t=t.rgb(),new dr(t.r,t.g,t.b,t.opacity)):new dr}function Ux(t,e,n,r){return arguments.length===1?tX(t):new dr(t,e,n,r??1)}function dr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Iw(dr,Ux,Gk(jd,{brighter(t){return t=t==null?sg:Math.pow(sg,t),new dr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ad:Math.pow(ad,t),new dr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new dr(rl(this.r),rl(this.g),rl(this.b),og(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wN,formatHex:wN,formatHex8:nX,formatRgb:EN,toString:EN}));function wN(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}`}function nX(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}${Yo((isNaN(this.opacity)?1:this.opacity)*255)}`}function EN(){const t=og(this.opacity);return`${t===1?"rgb(":"rgba("}${rl(this.r)}, ${rl(this.g)}, ${rl(this.b)}${t===1?")":`, ${t})`}`}function og(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Yo(t){return t=rl(t),(t<16?"0":"")+t.toString(16)}function SN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new vi(t,e,n,r)}function Kk(t){if(t instanceof vi)return new vi(t.h,t.s,t.l,t.opacity);if(t instanceof jd||(t=od(t)),!t)return new vi;if(t instanceof vi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,u=s-i,d=(s+i)/2;return u?(e===s?l=(n-r)/u+(n<r)*6:n===s?l=(r-e)/u+2:l=(e-n)/u+4,u/=d<.5?s+i:2-s-i,l*=60):u=d>0&&d<1?0:l,new vi(l,u,d,t.opacity)}function rX(t,e,n,r){return arguments.length===1?Kk(t):new vi(t,e,n,r??1)}function vi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Iw(vi,rX,Gk(jd,{brighter(t){return t=t==null?sg:Math.pow(sg,t),new vi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ad:Math.pow(ad,t),new vi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new dr(s_(t>=240?t-240:t+120,i,r),s_(t,i,r),s_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new vi(TN(this.h),Bm(this.s),Bm(this.l),og(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=og(this.opacity);return`${t===1?"hsl(":"hsla("}${TN(this.h)}, ${Bm(this.s)*100}%, ${Bm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function TN(t){return t=(t||0)%360,t<0?t+360:t}function Bm(t){return Math.max(0,Math.min(1,t||0))}function s_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Nw=t=>()=>t;function iX(t,e){return function(n){return t+n*e}}function aX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function sX(t){return(t=+t)==1?Yk:function(e,n){return n-e?aX(e,n,t):Nw(isNaN(e)?n:e)}}function Yk(t,e){var n=e-t;return n?iX(t,n):Nw(isNaN(t)?e:t)}const AN=(function t(e){var n=sX(e);function r(i,s){var l=n((i=Ux(i)).r,(s=Ux(s)).r),u=n(i.g,s.g),d=n(i.b,s.b),h=Yk(i.opacity,s.opacity);return function(m){return i.r=l(m),i.g=u(m),i.b=d(m),i.opacity=h(m),i+""}}return r.gamma=t,r})(1);function oX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function lX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function cX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=iu(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(u){for(l=0;l<r;++l)s[l]=i[l](u);return s}}function uX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function lg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function fX(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=iu(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Bx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o_=new RegExp(Bx.source,"g");function dX(t){return function(){return t}}function hX(t){return function(e){return t(e)+""}}function mX(t,e){var n=Bx.lastIndex=o_.lastIndex=0,r,i,s,l=-1,u=[],d=[];for(t=t+"",e=e+"";(r=Bx.exec(t))&&(i=o_.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),u[l]?u[l]+=s:u[++l]=s),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:lg(r,i)})),n=o_.lastIndex;return n<e.length&&(s=e.slice(n),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?hX(d[0].x):dX(e):(e=d.length,function(h){for(var m=0,g;m<e;++m)u[(g=d[m]).i]=g.x(h);return u.join("")})}function iu(t,e){var n=typeof e,r;return e==null||n==="boolean"?Nw(e):(n==="number"?lg:n==="string"?(r=od(e))?(e=r,AN):mX:e instanceof od?AN:e instanceof Date?uX:lX(e)?oX:Array.isArray(e)?cX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?fX:lg)(t,e)}function Rw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function pX(t,e){e===void 0&&(e=t,t=iu);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[u](l-u)}}function gX(t){return function(){return t}}function cg(t){return+t}var CN=[0,1];function Xn(t){return t}function qx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:gX(isNaN(e)?NaN:.5)}function yX(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function vX(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=qx(i,r),s=n(l,s)):(r=qx(r,i),s=n(s,l)),function(u){return s(r(u))}}function bX(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=qx(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(u){var d=Md(t,u,1,r)-1;return s[d](i[d](u))}}function kd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function py(){var t=CN,e=CN,n=iu,r,i,s,l=Xn,u,d,h;function m(){var b=Math.min(t.length,e.length);return l!==Xn&&(l=yX(t[0],t[b-1])),u=b>2?bX:vX,d=h=null,g}function g(b){return b==null||isNaN(b=+b)?s:(d||(d=u(t.map(r),e,n)))(r(l(b)))}return g.invert=function(b){return l(i((h||(h=u(e,t.map(r),lg)))(b)))},g.domain=function(b){return arguments.length?(t=Array.from(b,cg),m()):t.slice()},g.range=function(b){return arguments.length?(e=Array.from(b),m()):e.slice()},g.rangeRound=function(b){return e=Array.from(b),n=Rw,m()},g.clamp=function(b){return arguments.length?(l=b?!0:Xn,m()):l!==Xn},g.interpolate=function(b){return arguments.length?(n=b,m()):n},g.unknown=function(b){return arguments.length?(s=b,g):s},function(b,x){return r=b,i=x,m()}}function Pw(){return py()(Xn,Xn)}function _X(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ug(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function $c(t){return t=ug(Math.abs(t)),t?t[1]:NaN}function xX(t,e){return function(n,r){for(var i=n.length,s=[],l=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),s.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=t[l=(l+1)%t.length];return s.reverse().join(e)}}function wX(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var EX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ld(t){if(!(e=EX.exec(t)))throw new Error("invalid format: "+t);var e;return new Dw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ld.prototype=Dw.prototype;function Dw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Dw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function SX(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Wk;function TX(t,e){var n=ug(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Wk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+ug(t,Math.max(0,e+s-1))[0]}function ON(t,e){var n=ug(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const IN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:_X,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ON(t*100,e),r:ON,s:TX,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function NN(t){return t}var RN=Array.prototype.map,PN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function AX(t){var e=t.grouping===void 0||t.thousands===void 0?NN:xX(RN.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?NN:wX(RN.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(g){g=ld(g);var b=g.fill,x=g.align,S=g.sign,E=g.symbol,T=g.zero,I=g.width,M=g.comma,j=g.precision,$=g.trim,B=g.type;B==="n"?(M=!0,B="g"):IN[B]||(j===void 0&&(j=12),$=!0,B="g"),(T||b==="0"&&x==="=")&&(T=!0,b="0",x="=");var F=E==="$"?n:E==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",N=E==="$"?r:/[%p]/.test(B)?l:"",P=IN[B],k=/[defgprs%]/.test(B);j=j===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function U(L){var V=F,R=N,ue,pe,G;if(B==="c")R=P(L)+R,L="";else{L=+L;var te=L<0||1/L<0;if(L=isNaN(L)?d:P(Math.abs(L),j),$&&(L=SX(L)),te&&+L==0&&S!=="+"&&(te=!1),V=(te?S==="("?S:u:S==="-"||S==="("?"":S)+V,R=(B==="s"?PN[8+Wk/3]:"")+R+(te&&S==="("?")":""),k){for(ue=-1,pe=L.length;++ue<pe;)if(G=L.charCodeAt(ue),48>G||G>57){R=(G===46?i+L.slice(ue+1):L.slice(ue))+R,L=L.slice(0,ue);break}}}M&&!T&&(L=e(L,1/0));var se=V.length+L.length+R.length,X=se<I?new Array(I-se+1).join(b):"";switch(M&&T&&(L=e(X+L,X.length?I-R.length:1/0),X=""),x){case"<":L=V+L+R+X;break;case"=":L=V+X+L+R;break;case"^":L=X.slice(0,se=X.length>>1)+V+L+R+X.slice(se);break;default:L=X+V+L+R;break}return s(L)}return U.toString=function(){return g+""},U}function m(g,b){var x=h((g=ld(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor($c(b)/3)))*3,E=Math.pow(10,-S),T=PN[8+S/3];return function(I){return x(E*I)+T}}return{format:h,formatPrefix:m}}var qm,Mw,Xk;CX({thousands:",",grouping:[3],currency:["$",""]});function CX(t){return qm=AX(t),Mw=qm.format,Xk=qm.formatPrefix,qm}function OX(t){return Math.max(0,-$c(Math.abs(t)))}function IX(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($c(e)/3)))*3-$c(Math.abs(t)))}function NX(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,$c(e)-$c(t))+1}function Qk(t,e,n,r){var i=zx(t,e,n),s;switch(r=ld(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=IX(i,l))&&(r.precision=s),Xk(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=NX(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=OX(i))&&(r.precision=s-(r.type==="%")*2);break}}return Mw(r)}function co(t){var e=t.domain;return t.ticks=function(n){var r=e();return kx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Qk(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],u=r[s],d,h,m=10;for(u<l&&(h=l,l=u,u=h,h=i,i=s,s=h);m-- >0;){if(h=Lx(l,u,n),h===d)return r[i]=l,r[s]=u,e(r);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;d=h}return t},t}function Zk(){var t=Pw();return t.copy=function(){return kd(t,Zk())},ei.apply(t,arguments),co(t)}function Jk(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,cg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Jk(t).unknown(e)},t=arguments.length?Array.from(t,cg):[0,1],co(n)}function e4(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function DN(t){return Math.log(t)}function MN(t){return Math.exp(t)}function RX(t){return-Math.log(-t)}function PX(t){return-Math.exp(-t)}function DX(t){return isFinite(t)?+("1e"+t):t<0?0:t}function MX(t){return t===10?DX:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jX(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function jN(t){return(e,n)=>-t(-e,n)}function jw(t){const e=t(DN,MN),n=e.domain;let r=10,i,s;function l(){return i=jX(r),s=MX(r),n()[0]<0?(i=jN(i),s=jN(s),t(RX,PX)):t(DN,MN),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const d=n();let h=d[0],m=d[d.length-1];const g=m<h;g&&([h,m]=[m,h]);let b=i(h),x=i(m),S,E;const T=u==null?10:+u;let I=[];if(!(r%1)&&x-b<T){if(b=Math.floor(b),x=Math.ceil(x),h>0){for(;b<=x;++b)for(S=1;S<r;++S)if(E=b<0?S/s(-b):S*s(b),!(E<h)){if(E>m)break;I.push(E)}}else for(;b<=x;++b)for(S=r-1;S>=1;--S)if(E=b>0?S/s(-b):S*s(b),!(E<h)){if(E>m)break;I.push(E)}I.length*2<T&&(I=kx(h,m,T))}else I=kx(b,x,Math.min(x-b,T)).map(s);return g?I.reverse():I},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=ld(d)).precision==null&&(d.trim=!0),d=Mw(d)),u===1/0)return d;const h=Math.max(1,r*u/e.ticks().length);return m=>{let g=m/s(Math.round(i(m)));return g*r<r-.5&&(g*=r),g<=h?d(m):""}},e.nice=()=>n(e4(n(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),e}function t4(){const t=jw(py()).domain([1,10]);return t.copy=()=>kd(t,t4()).base(t.base()),ei.apply(t,arguments),t}function kN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function LN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function kw(t){var e=1,n=t(kN(e),LN(e));return n.constant=function(r){return arguments.length?t(kN(e=+r),LN(e)):e},co(n)}function n4(){var t=kw(py());return t.copy=function(){return kd(t,n4()).constant(t.constant())},ei.apply(t,arguments)}function zN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function kX(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function LX(t){return t<0?-t*t:t*t}function Lw(t){var e=t(Xn,Xn),n=1;function r(){return n===1?t(Xn,Xn):n===.5?t(kX,LX):t(zN(n),zN(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},co(e)}function zw(){var t=Lw(py());return t.copy=function(){return kd(t,zw()).exponent(t.exponent())},ei.apply(t,arguments),t}function zX(){return zw.apply(null,arguments).exponent(.5)}function VN(t){return Math.sign(t)*t*t}function VX(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function r4(){var t=Pw(),e=[0,1],n=!1,r;function i(s){var l=VX(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(VN(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,cg)).map(VN)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return r4(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ei.apply(i,arguments),co(i)}function i4(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=$W(t,l/u);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Md(n,l)]}return s.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Js),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return i4().domain(t).range(e).unknown(r)},ei.apply(s,arguments)}function a4(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[Md(r,d,0,n)]:s}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return a4().domain([t,e]).range(i).unknown(s)},ei.apply(co(l),arguments)}function s4(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Md(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return s4().domain(t).range(e).unknown(n)},ei.apply(i,arguments)}const l_=new Date,c_=new Date;function cn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),u=i.ceil(s);return s-l<u-s?l:u},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,u)=>{const d=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let h;do d.push(h=new Date(+s)),e(s,u),t(s);while(h<s&&s<l);return d},i.filter=s=>cn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!s(l););else for(;--u>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(l_.setTime(+s),c_.setTime(+l),t(l_),t(c_),Math.floor(n(l_,c_))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const fg=cn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);fg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?cn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):fg);fg.range;const ja=1e3,Wr=ja*60,ka=Wr*60,Ka=ka*24,Vw=Ka*7,UN=Ka*30,u_=Ka*365,Wo=cn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ja)},(t,e)=>(e-t)/ja,t=>t.getUTCSeconds());Wo.range;const Uw=cn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ja)},(t,e)=>{t.setTime(+t+e*Wr)},(t,e)=>(e-t)/Wr,t=>t.getMinutes());Uw.range;const Bw=cn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Wr)},(t,e)=>(e-t)/Wr,t=>t.getUTCMinutes());Bw.range;const qw=cn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ja-t.getMinutes()*Wr)},(t,e)=>{t.setTime(+t+e*ka)},(t,e)=>(e-t)/ka,t=>t.getHours());qw.range;const $w=cn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ka)},(t,e)=>(e-t)/ka,t=>t.getUTCHours());$w.range;const Ld=cn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wr)/Ka,t=>t.getDate()-1);Ld.range;const gy=cn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ka,t=>t.getUTCDate()-1);gy.range;const o4=cn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ka,t=>Math.floor(t/Ka));o4.range;function _l(t){return cn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Wr)/Vw)}const yy=_l(0),dg=_l(1),UX=_l(2),BX=_l(3),Fc=_l(4),qX=_l(5),$X=_l(6);yy.range;dg.range;UX.range;BX.range;Fc.range;qX.range;$X.range;function xl(t){return cn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Vw)}const vy=xl(0),hg=xl(1),FX=xl(2),HX=xl(3),Hc=xl(4),GX=xl(5),KX=xl(6);vy.range;hg.range;FX.range;HX.range;Hc.range;GX.range;KX.range;const Fw=cn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Fw.range;const Hw=cn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Hw.range;const Ya=cn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ya.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ya.range;const Wa=cn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Wa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Wa.range;function l4(t,e,n,r,i,s){const l=[[Wo,1,ja],[Wo,5,5*ja],[Wo,15,15*ja],[Wo,30,30*ja],[s,1,Wr],[s,5,5*Wr],[s,15,15*Wr],[s,30,30*Wr],[i,1,ka],[i,3,3*ka],[i,6,6*ka],[i,12,12*ka],[r,1,Ka],[r,2,2*Ka],[n,1,Vw],[e,1,UN],[e,3,3*UN],[t,1,u_]];function u(h,m,g){const b=m<h;b&&([h,m]=[m,h]);const x=g&&typeof g.range=="function"?g:d(h,m,g),S=x?x.range(h,+m+1):[];return b?S.reverse():S}function d(h,m,g){const b=Math.abs(m-h)/g,x=Aw(([,,T])=>T).right(l,b);if(x===l.length)return t.every(zx(h/u_,m/u_,g));if(x===0)return fg.every(Math.max(zx(h,m,g),1));const[S,E]=l[b/l[x-1][2]<l[x][2]/b?x-1:x];return S.every(E)}return[u,d]}const[YX,WX]=l4(Wa,Hw,vy,o4,$w,Bw),[XX,QX]=l4(Ya,Fw,yy,Ld,qw,Uw);function f_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function d_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _f(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ZX(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,u=t.months,d=t.shortMonths,h=xf(i),m=wf(i),g=xf(s),b=wf(s),x=xf(l),S=wf(l),E=xf(u),T=wf(u),I=xf(d),M=wf(d),j={a:te,A:se,b:X,B:ve,c:null,d:GN,e:GN,f:xQ,g:RQ,G:DQ,H:vQ,I:bQ,j:_Q,L:c4,m:wQ,M:EQ,p:q,q:J,Q:WN,s:XN,S:SQ,u:TQ,U:AQ,V:CQ,w:OQ,W:IQ,x:null,X:null,y:NQ,Y:PQ,Z:MQ,"%":YN},$={a:de,A:ye,b:be,B:Ce,c:null,d:KN,e:KN,f:zQ,g:YQ,G:XQ,H:jQ,I:kQ,j:LQ,L:f4,m:VQ,M:UQ,p:Te,q:et,Q:WN,s:XN,S:BQ,u:qQ,U:$Q,V:FQ,w:HQ,W:GQ,x:null,X:null,y:KQ,Y:WQ,Z:QQ,"%":YN},B={a:U,A:L,b:V,B:R,c:ue,d:FN,e:FN,f:mQ,g:$N,G:qN,H:HN,I:HN,j:uQ,L:hQ,m:cQ,M:fQ,p:k,q:lQ,Q:gQ,s:yQ,S:dQ,u:rQ,U:iQ,V:aQ,w:nQ,W:sQ,x:pe,X:G,y:$N,Y:qN,Z:oQ,"%":pQ};j.x=F(n,j),j.X=F(r,j),j.c=F(e,j),$.x=F(n,$),$.X=F(r,$),$.c=F(e,$);function F(le,Pe){return function(oe){var ae=[],Qe=-1,ze=0,Dt=le.length,At,Ln,ti;for(oe instanceof Date||(oe=new Date(+oe));++Qe<Dt;)le.charCodeAt(Qe)===37&&(ae.push(le.slice(ze,Qe)),(Ln=BN[At=le.charAt(++Qe)])!=null?At=le.charAt(++Qe):Ln=At==="e"?" ":"0",(ti=Pe[At])&&(At=ti(oe,Ln)),ae.push(At),ze=Qe+1);return ae.push(le.slice(ze,Qe)),ae.join("")}}function N(le,Pe){return function(oe){var ae=_f(1900,void 0,1),Qe=P(ae,le,oe+="",0),ze,Dt;if(Qe!=oe.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(Pe&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(ze=d_(_f(ae.y,0,1)),Dt=ze.getUTCDay(),ze=Dt>4||Dt===0?hg.ceil(ze):hg(ze),ze=gy.offset(ze,(ae.V-1)*7),ae.y=ze.getUTCFullYear(),ae.m=ze.getUTCMonth(),ae.d=ze.getUTCDate()+(ae.w+6)%7):(ze=f_(_f(ae.y,0,1)),Dt=ze.getDay(),ze=Dt>4||Dt===0?dg.ceil(ze):dg(ze),ze=Ld.offset(ze,(ae.V-1)*7),ae.y=ze.getFullYear(),ae.m=ze.getMonth(),ae.d=ze.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),Dt="Z"in ae?d_(_f(ae.y,0,1)).getUTCDay():f_(_f(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(Dt+5)%7:ae.w+ae.U*7-(Dt+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,d_(ae)):f_(ae)}}function P(le,Pe,oe,ae){for(var Qe=0,ze=Pe.length,Dt=oe.length,At,Ln;Qe<ze;){if(ae>=Dt)return-1;if(At=Pe.charCodeAt(Qe++),At===37){if(At=Pe.charAt(Qe++),Ln=B[At in BN?Pe.charAt(Qe++):At],!Ln||(ae=Ln(le,oe,ae))<0)return-1}else if(At!=oe.charCodeAt(ae++))return-1}return ae}function k(le,Pe,oe){var ae=h.exec(Pe.slice(oe));return ae?(le.p=m.get(ae[0].toLowerCase()),oe+ae[0].length):-1}function U(le,Pe,oe){var ae=x.exec(Pe.slice(oe));return ae?(le.w=S.get(ae[0].toLowerCase()),oe+ae[0].length):-1}function L(le,Pe,oe){var ae=g.exec(Pe.slice(oe));return ae?(le.w=b.get(ae[0].toLowerCase()),oe+ae[0].length):-1}function V(le,Pe,oe){var ae=I.exec(Pe.slice(oe));return ae?(le.m=M.get(ae[0].toLowerCase()),oe+ae[0].length):-1}function R(le,Pe,oe){var ae=E.exec(Pe.slice(oe));return ae?(le.m=T.get(ae[0].toLowerCase()),oe+ae[0].length):-1}function ue(le,Pe,oe){return P(le,e,Pe,oe)}function pe(le,Pe,oe){return P(le,n,Pe,oe)}function G(le,Pe,oe){return P(le,r,Pe,oe)}function te(le){return l[le.getDay()]}function se(le){return s[le.getDay()]}function X(le){return d[le.getMonth()]}function ve(le){return u[le.getMonth()]}function q(le){return i[+(le.getHours()>=12)]}function J(le){return 1+~~(le.getMonth()/3)}function de(le){return l[le.getUTCDay()]}function ye(le){return s[le.getUTCDay()]}function be(le){return d[le.getUTCMonth()]}function Ce(le){return u[le.getUTCMonth()]}function Te(le){return i[+(le.getUTCHours()>=12)]}function et(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var Pe=F(le+="",j);return Pe.toString=function(){return le},Pe},parse:function(le){var Pe=N(le+="",!1);return Pe.toString=function(){return le},Pe},utcFormat:function(le){var Pe=F(le+="",$);return Pe.toString=function(){return le},Pe},utcParse:function(le){var Pe=N(le+="",!0);return Pe.toString=function(){return le},Pe}}}var BN={"-":"",_:" ",0:"0"},Sn=/^\s*\d+/,JX=/^%/,eQ=/[\\^$*+?|[\]().{}]/g;function rt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function tQ(t){return t.replace(eQ,"\\$&")}function xf(t){return new RegExp("^(?:"+t.map(tQ).join("|")+")","i")}function wf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function nQ(t,e,n){var r=Sn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function rQ(t,e,n){var r=Sn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function iQ(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function aQ(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function sQ(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function qN(t,e,n){var r=Sn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function $N(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function oQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lQ(t,e,n){var r=Sn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function cQ(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function FN(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function uQ(t,e,n){var r=Sn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function HN(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function fQ(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function dQ(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function hQ(t,e,n){var r=Sn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function mQ(t,e,n){var r=Sn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pQ(t,e,n){var r=JX.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function gQ(t,e,n){var r=Sn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function yQ(t,e,n){var r=Sn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function GN(t,e){return rt(t.getDate(),e,2)}function vQ(t,e){return rt(t.getHours(),e,2)}function bQ(t,e){return rt(t.getHours()%12||12,e,2)}function _Q(t,e){return rt(1+Ld.count(Ya(t),t),e,3)}function c4(t,e){return rt(t.getMilliseconds(),e,3)}function xQ(t,e){return c4(t,e)+"000"}function wQ(t,e){return rt(t.getMonth()+1,e,2)}function EQ(t,e){return rt(t.getMinutes(),e,2)}function SQ(t,e){return rt(t.getSeconds(),e,2)}function TQ(t){var e=t.getDay();return e===0?7:e}function AQ(t,e){return rt(yy.count(Ya(t)-1,t),e,2)}function u4(t){var e=t.getDay();return e>=4||e===0?Fc(t):Fc.ceil(t)}function CQ(t,e){return t=u4(t),rt(Fc.count(Ya(t),t)+(Ya(t).getDay()===4),e,2)}function OQ(t){return t.getDay()}function IQ(t,e){return rt(dg.count(Ya(t)-1,t),e,2)}function NQ(t,e){return rt(t.getFullYear()%100,e,2)}function RQ(t,e){return t=u4(t),rt(t.getFullYear()%100,e,2)}function PQ(t,e){return rt(t.getFullYear()%1e4,e,4)}function DQ(t,e){var n=t.getDay();return t=n>=4||n===0?Fc(t):Fc.ceil(t),rt(t.getFullYear()%1e4,e,4)}function MQ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+rt(e/60|0,"0",2)+rt(e%60,"0",2)}function KN(t,e){return rt(t.getUTCDate(),e,2)}function jQ(t,e){return rt(t.getUTCHours(),e,2)}function kQ(t,e){return rt(t.getUTCHours()%12||12,e,2)}function LQ(t,e){return rt(1+gy.count(Wa(t),t),e,3)}function f4(t,e){return rt(t.getUTCMilliseconds(),e,3)}function zQ(t,e){return f4(t,e)+"000"}function VQ(t,e){return rt(t.getUTCMonth()+1,e,2)}function UQ(t,e){return rt(t.getUTCMinutes(),e,2)}function BQ(t,e){return rt(t.getUTCSeconds(),e,2)}function qQ(t){var e=t.getUTCDay();return e===0?7:e}function $Q(t,e){return rt(vy.count(Wa(t)-1,t),e,2)}function d4(t){var e=t.getUTCDay();return e>=4||e===0?Hc(t):Hc.ceil(t)}function FQ(t,e){return t=d4(t),rt(Hc.count(Wa(t),t)+(Wa(t).getUTCDay()===4),e,2)}function HQ(t){return t.getUTCDay()}function GQ(t,e){return rt(hg.count(Wa(t)-1,t),e,2)}function KQ(t,e){return rt(t.getUTCFullYear()%100,e,2)}function YQ(t,e){return t=d4(t),rt(t.getUTCFullYear()%100,e,2)}function WQ(t,e){return rt(t.getUTCFullYear()%1e4,e,4)}function XQ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Hc(t):Hc.ceil(t),rt(t.getUTCFullYear()%1e4,e,4)}function QQ(){return"+0000"}function YN(){return"%"}function WN(t){return+t}function XN(t){return Math.floor(+t/1e3)}var fc,h4,m4;ZQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ZQ(t){return fc=ZX(t),h4=fc.format,fc.parse,m4=fc.utcFormat,fc.utcParse,fc}function JQ(t){return new Date(t)}function eZ(t){return t instanceof Date?+t:+new Date(+t)}function Gw(t,e,n,r,i,s,l,u,d,h){var m=Pw(),g=m.invert,b=m.domain,x=h(".%L"),S=h(":%S"),E=h("%I:%M"),T=h("%I %p"),I=h("%a %d"),M=h("%b %d"),j=h("%B"),$=h("%Y");function B(F){return(d(F)<F?x:u(F)<F?S:l(F)<F?E:s(F)<F?T:r(F)<F?i(F)<F?I:M:n(F)<F?j:$)(F)}return m.invert=function(F){return new Date(g(F))},m.domain=function(F){return arguments.length?b(Array.from(F,eZ)):b().map(JQ)},m.ticks=function(F){var N=b();return t(N[0],N[N.length-1],F??10)},m.tickFormat=function(F,N){return N==null?B:h(N)},m.nice=function(F){var N=b();return(!F||typeof F.range!="function")&&(F=e(N[0],N[N.length-1],F??10)),F?b(e4(N,F)):m},m.copy=function(){return kd(m,Gw(t,e,n,r,i,s,l,u,d,h))},m}function tZ(){return ei.apply(Gw(XX,QX,Ya,Fw,yy,Ld,qw,Uw,Wo,h4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nZ(){return ei.apply(Gw(YX,WX,Wa,Hw,vy,gy,$w,Bw,Wo,m4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function by(){var t=0,e=1,n,r,i,s,l=Xn,u=!1,d;function h(g){return g==null||isNaN(g=+g)?d:l(i===0?.5:(g=(s(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(l=g,h):l};function m(g){return function(b){var x,S;return arguments.length?([x,S]=b,l=g(x,S),h):[l(0),l(1)]}}return h.range=m(iu),h.rangeRound=m(Rw),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return s=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),h}}function uo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function p4(){var t=co(by()(Xn));return t.copy=function(){return uo(t,p4())},ts.apply(t,arguments)}function g4(){var t=jw(by()).domain([1,10]);return t.copy=function(){return uo(t,g4()).base(t.base())},ts.apply(t,arguments)}function y4(){var t=kw(by());return t.copy=function(){return uo(t,y4()).constant(t.constant())},ts.apply(t,arguments)}function Kw(){var t=Lw(by());return t.copy=function(){return uo(t,Kw()).exponent(t.exponent())},ts.apply(t,arguments)}function rZ(){return Kw.apply(null,arguments).exponent(.5)}function v4(){var t=[],e=Xn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Md(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Js),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>qW(t,s/r))},n.copy=function(){return v4(e).domain(t)},ts.apply(n,arguments)}function _y(){var t=0,e=.5,n=1,r=1,i,s,l,u,d,h=Xn,m,g=!1,b;function x(E){return isNaN(E=+E)?b:(E=.5+((E=+m(E))-s)*(r*E<r*s?u:d),h(g?Math.max(0,Math.min(1,E)):E))}x.domain=function(E){return arguments.length?([t,e,n]=E,i=m(t=+t),s=m(e=+e),l=m(n=+n),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,x):[t,e,n]},x.clamp=function(E){return arguments.length?(g=!!E,x):g},x.interpolator=function(E){return arguments.length?(h=E,x):h};function S(E){return function(T){var I,M,j;return arguments.length?([I,M,j]=T,h=pX(E,[I,M,j]),x):[h(0),h(.5),h(1)]}}return x.range=S(iu),x.rangeRound=S(Rw),x.unknown=function(E){return arguments.length?(b=E,x):b},function(E){return m=E,i=E(t),s=E(e),l=E(n),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,x}}function b4(){var t=co(_y()(Xn));return t.copy=function(){return uo(t,b4())},ts.apply(t,arguments)}function _4(){var t=jw(_y()).domain([.1,1,10]);return t.copy=function(){return uo(t,_4()).base(t.base())},ts.apply(t,arguments)}function x4(){var t=kw(_y());return t.copy=function(){return uo(t,x4()).constant(t.constant())},ts.apply(t,arguments)}function Yw(){var t=Lw(_y());return t.copy=function(){return uo(t,Yw()).exponent(t.exponent())},ts.apply(t,arguments)}function iZ(){return Yw.apply(null,arguments).exponent(.5)}const If=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ow,scaleDiverging:b4,scaleDivergingLog:_4,scaleDivergingPow:Yw,scaleDivergingSqrt:iZ,scaleDivergingSymlog:x4,scaleIdentity:Jk,scaleImplicit:Vx,scaleLinear:Zk,scaleLog:t4,scaleOrdinal:Cw,scalePoint:HW,scalePow:zw,scaleQuantile:i4,scaleQuantize:a4,scaleRadial:r4,scaleSequential:p4,scaleSequentialLog:g4,scaleSequentialPow:Kw,scaleSequentialQuantile:v4,scaleSequentialSqrt:rZ,scaleSequentialSymlog:y4,scaleSqrt:zX,scaleSymlog:n4,scaleThreshold:s4,scaleTime:tZ,scaleUtc:nZ,tickFormat:Qk},Symbol.toStringTag,{value:"Module"}));var fo=t=>t.chartData,aZ=ie([fo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Ww=(t,e,n,r)=>r?aZ(t):fo(t);function so(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if($t(e)&&$t(n))return!0}return!1}function QN(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function w4(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if($t(n))i=n;else if(typeof n=="function")return;if($t(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(so(l))return l}}function sZ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(so(r))return QN(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Oe(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&CI.test(i)){var d=CI.exec(i);if(d==null||e==null)l=void 0;else{var h=+d[1];l=e[0]-h}}else l=e==null?void 0:e[0];if(s==="auto")e!=null&&(u=Math.max(...e));else if(Oe(s))u=s;else if(typeof s=="function")try{e!=null&&(u=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&OI.test(s)){var m=OI.exec(s);if(m==null||e==null)u=void 0;else{var g=+m[1];u=e[1]+g}}else u=e==null?void 0:e[1];var b=[l,u];if(so(b))return e==null?b:QN(b,e,n)}}}var au=1e9,oZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Qw,Nt=!0,Jr="[DecimalError] ",il=Jr+"Invalid argument: ",Xw=Jr+"Exponent out of range: ",su=Math.floor,Ho=Math.pow,lZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ar,_n=1e7,Et=7,E4=9007199254740991,mg=su(E4/Et),Ee={};Ee.absoluteValue=Ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ee.comparedTo=Ee.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Et;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(t){return La(this,new this.constructor(t))};Ee.dividedToIntegerBy=Ee.idiv=function(t){var e=this,n=e.constructor;return vt(La(e,new n(t),0,1),n.precision)};Ee.equals=Ee.eq=function(t){return!this.cmp(t)};Ee.exponent=function(){return an(this)};Ee.greaterThan=Ee.gt=function(t){return this.cmp(t)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(t){return this.cmp(t)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(t){return this.cmp(t)<0};Ee.lessThanOrEqualTo=Ee.lte=function(t){return this.cmp(t)<1};Ee.logarithm=Ee.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ar))throw Error(Jr+"NaN");if(n.s<1)throw Error(Jr+(n.s?"NaN":"-Infinity"));return n.eq(Ar)?new r(0):(Nt=!1,e=La(cd(n,s),cd(t,s),s),Nt=!0,vt(e,i))};Ee.minus=Ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?A4(e,t):S4(e,(t.s=-t.s,t))};Ee.modulo=Ee.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Jr+"NaN");return n.s?(Nt=!1,e=La(n,t,0,1).times(t),Nt=!0,n.minus(e)):vt(new r(n),i)};Ee.naturalExponential=Ee.exp=function(){return T4(this)};Ee.naturalLogarithm=Ee.ln=function(){return cd(this)};Ee.negated=Ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ee.plus=Ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?S4(e,t):A4(e,(t.s=-t.s,t))};Ee.precision=Ee.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(il+t);if(e=an(i)+1,r=i.d.length-1,n=r*Et+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ee.squareRoot=Ee.sqrt=function(){var t,e,n,r,i,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Jr+"NaN")}for(t=an(u),Nt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Xi(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=su((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(s=r,r=s.plus(La(u,s,l+2)).times(.5),Xi(s.d).slice(0,l)===(e=Xi(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(vt(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(e!="9999")break;l+=4}return Nt=!0,vt(r,n)};Ee.times=Ee.mul=function(t){var e,n,r,i,s,l,u,d,h,m=this,g=m.constructor,b=m.d,x=(t=new g(t)).d;if(!m.s||!t.s)return new g(0);for(t.s*=m.s,n=m.e+t.e,d=b.length,h=x.length,d<h&&(s=b,b=x,x=s,l=d,d=h,h=l),s=[],l=d+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=d+r;i>r;)u=s[i]+x[r]*b[i-r-1]+e,s[i--]=u%_n|0,e=u/_n|0;s[i]=(s[i]+e)%_n|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Nt?vt(t,g.precision):t};Ee.toDecimalPlaces=Ee.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(oa(t,0,au),e===void 0?e=r.rounding:oa(e,0,8),vt(n,t+an(n)+1,e))};Ee.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=hl(r,!0):(oa(t,0,au),e===void 0?e=i.rounding:oa(e,0,8),r=vt(new i(r),t+1,e),n=hl(r,!0,t+1)),n};Ee.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?hl(i):(oa(t,0,au),e===void 0?e=s.rounding:oa(e,0,8),r=vt(new s(i),t+an(i)+1,e),n=hl(r.abs(),!1,t+an(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var t=this,e=t.constructor;return vt(new e(t),an(t)+1,e.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(t){var e,n,r,i,s,l,u=this,d=u.constructor,h=12,m=+(t=new d(t));if(!t.s)return new d(Ar);if(u=new d(u),!u.s){if(t.s<1)throw Error(Jr+"Infinity");return u}if(u.eq(Ar))return u;if(r=d.precision,t.eq(Ar))return vt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=u.s,l){if((n=m<0?-m:m)<=E4){for(i=new d(Ar),e=Math.ceil(r/Et+4),Nt=!1;n%2&&(i=i.times(u),JN(i.d,e)),n=su(n/2),n!==0;)u=u.times(u),JN(u.d,e);return Nt=!0,t.s<0?new d(Ar).div(i):vt(i,r)}}else if(s<0)throw Error(Jr+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Nt=!1,i=t.times(cd(u,r+h)),Nt=!0,i=T4(i),i.s=s,i};Ee.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=an(i),r=hl(i,n<=s.toExpNeg||n>=s.toExpPos)):(oa(t,1,au),e===void 0?e=s.rounding:oa(e,0,8),i=vt(new s(i),t,e),n=an(i),r=hl(i,t<=n||n<=s.toExpNeg,t)),r};Ee.toSignificantDigits=Ee.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(oa(t,1,au),e===void 0?e=r.rounding:oa(e,0,8)),vt(new r(n),t,e)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=an(t),n=t.constructor;return hl(t,e<=n.toExpNeg||e>=n.toExpPos)};function S4(t,e){var n,r,i,s,l,u,d,h,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Nt?vt(e,g):e;if(d=t.d,h=e.d,l=t.e,i=e.e,d=d.slice(),s=l-i,s){for(s<0?(r=d,s=-s,u=h.length):(r=h,i=l,u=d.length),l=Math.ceil(g/Et),u=l>u?l+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=d.length,s=h.length,u-s<0&&(s=u,r=h,h=d,d=r),n=0;s;)n=(d[--s]=d[s]+h[s]+n)/_n|0,d[s]%=_n;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,Nt?vt(e,g):e}function oa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(il+t)}function Xi(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Et-r.length,n&&(s+=Us(n)),s+=r;l=t[e],r=l+"",n=Et-r.length,n&&(s+=Us(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var La=(function(){function t(r,i){var s,l=0,u=r.length;for(r=r.slice();u--;)s=r[u]*i+l,r[u]=s%_n|0,l=s/_n|0;return l&&r.unshift(l),r}function e(r,i,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*_n+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var u,d,h,m,g,b,x,S,E,T,I,M,j,$,B,F,N,P,k=r.constructor,U=r.s==i.s?1:-1,L=r.d,V=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Jr+"Division by zero");for(d=r.e-i.e,N=V.length,B=L.length,x=new k(U),S=x.d=[],h=0;V[h]==(L[h]||0);)++h;if(V[h]>(L[h]||0)&&--d,s==null?M=s=k.precision:l?M=s+(an(r)-an(i))+1:M=s,M<0)return new k(0);if(M=M/Et+2|0,h=0,N==1)for(m=0,V=V[0],M++;(h<B||m)&&M--;h++)j=m*_n+(L[h]||0),S[h]=j/V|0,m=j%V|0;else{for(m=_n/(V[0]+1)|0,m>1&&(V=t(V,m),L=t(L,m),N=V.length,B=L.length),$=N,E=L.slice(0,N),T=E.length;T<N;)E[T++]=0;P=V.slice(),P.unshift(0),F=V[0],V[1]>=_n/2&&++F;do m=0,u=e(V,E,N,T),u<0?(I=E[0],N!=T&&(I=I*_n+(E[1]||0)),m=I/F|0,m>1?(m>=_n&&(m=_n-1),g=t(V,m),b=g.length,T=E.length,u=e(g,E,b,T),u==1&&(m--,n(g,N<b?P:V,b))):(m==0&&(u=m=1),g=V.slice()),b=g.length,b<T&&g.unshift(0),n(E,g,T),u==-1&&(T=E.length,u=e(V,E,N,T),u<1&&(m++,n(E,N<T?P:V,T))),T=E.length):u===0&&(m++,E=[0]),S[h++]=m,u&&E[0]?E[T++]=L[$]||0:(E=[L[$]],T=1);while(($++<B||E[0]!==void 0)&&M--)}return S[0]||S.shift(),x.e=d,vt(x,l?s+an(x)+1:s)}})();function T4(t,e){var n,r,i,s,l,u,d=0,h=0,m=t.constructor,g=m.precision;if(an(t)>16)throw Error(Xw+an(t));if(!t.s)return new m(Ar);for(Nt=!1,u=g,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(Ho(2,h))/Math.LN10*2+5|0,u+=r,n=i=s=new m(Ar),m.precision=u;;){if(i=vt(i.times(t),u),n=n.times(++d),l=s.plus(La(i,n,u)),Xi(l.d).slice(0,u)===Xi(s.d).slice(0,u)){for(;h--;)s=vt(s.times(s),u);return m.precision=g,e==null?(Nt=!0,vt(s,g)):s}s=l}}function an(t){for(var e=t.e*Et,n=t.d[0];n>=10;n/=10)e++;return e}function h_(t,e,n){if(e>t.LN10.sd())throw Nt=!0,n&&(t.precision=n),Error(Jr+"LN10 precision limit exceeded");return vt(new t(t.LN10),e)}function Us(t){for(var e="";t--;)e+="0";return e}function cd(t,e){var n,r,i,s,l,u,d,h,m,g=1,b=10,x=t,S=x.d,E=x.constructor,T=E.precision;if(x.s<1)throw Error(Jr+(x.s?"NaN":"-Infinity"));if(x.eq(Ar))return new E(0);if(e==null?(Nt=!1,h=T):h=e,x.eq(10))return e==null&&(Nt=!0),h_(E,h);if(h+=b,E.precision=h,n=Xi(S),r=n.charAt(0),s=an(x),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=Xi(x.d),r=n.charAt(0),g++;s=an(x),r>1?(x=new E("0."+n),s++):x=new E(r+"."+n.slice(1))}else return d=h_(E,h+2,T).times(s+""),x=cd(new E(r+"."+n.slice(1)),h-b).plus(d),E.precision=T,e==null?(Nt=!0,vt(x,T)):x;for(u=l=x=La(x.minus(Ar),x.plus(Ar),h),m=vt(x.times(x),h),i=3;;){if(l=vt(l.times(m),h),d=u.plus(La(l,new E(i),h)),Xi(d.d).slice(0,h)===Xi(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(h_(E,h+2,T).times(s+""))),u=La(u,new E(g),h),E.precision=T,e==null?(Nt=!0,vt(u,T)):u;u=d,i+=2}}function ZN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=su(n/Et),t.d=[],r=(n+1)%Et,n<0&&(r+=Et),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Et;r<i;)t.d.push(+e.slice(r,r+=Et));e=e.slice(r),r=Et-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Nt&&(t.e>mg||t.e<-mg))throw Error(Xw+n)}else t.s=0,t.e=0,t.d=[0];return t}function vt(t,e,n){var r,i,s,l,u,d,h,m,g=t.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Et,i=e,h=g[m=0];else{if(m=Math.ceil((r+1)/Et),s=g.length,m>=s)return t;for(h=s=g[m],l=1;s>=10;s/=10)l++;r%=Et,i=r-Et+l}if(n!==void 0&&(s=Ho(10,l-i-1),u=h/s%10|0,d=e<0||g[m+1]!==void 0||h%s,d=n<4?(u||d)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?h/Ho(10,l-i):0:g[m-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return d?(s=an(t),g.length=1,e=e-s-1,g[0]=Ho(10,(Et-e%Et)%Et),t.e=su(-e/Et)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=m,s=1,m--):(g.length=m+1,s=Ho(10,Et-r),g[m]=i>0?(h/Ho(10,l-i)%Ho(10,i)|0)*s:0),d)for(;;)if(m==0){(g[0]+=s)==_n&&(g[0]=1,++t.e);break}else{if(g[m]+=s,g[m]!=_n)break;g[m--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(Nt&&(t.e>mg||t.e<-mg))throw Error(Xw+an(t));return t}function A4(t,e){var n,r,i,s,l,u,d,h,m,g,b=t.constructor,x=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Nt?vt(e,x):e;if(d=t.d,g=e.d,r=e.e,h=t.e,d=d.slice(),l=h-r,l){for(m=l<0,m?(n=d,l=-l,u=g.length):(n=g,r=h,u=d.length),i=Math.max(Math.ceil(x/Et),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=g.length,m=i<u,m&&(u=i),i=0;i<u;i++)if(d[i]!=g[i]){m=d[i]<g[i];break}l=0}for(m&&(n=d,d=g,g=n,e.s=-e.s),u=d.length,i=g.length-u;i>0;--i)d[u++]=0;for(i=g.length;i>l;){if(d[--i]<g[i]){for(s=i;s&&d[--s]===0;)d[s]=_n-1;--d[s],d[i]+=_n}d[i]-=g[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Nt?vt(e,x):e):new b(0)}function hl(t,e,n){var r,i=an(t),s=Xi(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Us(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Us(-i-1)+s,n&&(r=n-l)>0&&(s+=Us(r))):i>=l?(s+=Us(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Us(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Us(r))),t.s<0?"-"+s:s}function JN(t,e){if(t.length>e)return t.length=e,!0}function C4(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(il+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return ZN(l,s.toString())}else if(typeof s!="string")throw Error(il+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,lZ.test(s))ZN(l,s);else throw Error(il+s)}if(i.prototype=Ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=C4,i.config=i.set=cZ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function cZ(t){if(!t||typeof t!="object")throw Error(Jr+"Object expected");var e,n,r,i=["precision",1,au,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(su(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(il+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(il+n+": "+r);return this}var Qw=C4(oZ);Ar=new Qw(1);const ut=Qw;var uZ=t=>t,O4={},I4=t=>t===O4,eR=t=>function e(){return arguments.length===0||arguments.length===1&&I4(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},N4=(t,e)=>t===1?e:eR(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==O4).length;return s>=t?e(...r):N4(t-s,eR(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var h=r.map(m=>I4(m)?u.shift():m);return e(...h,...u)}))}),fZ=t=>N4(t.length,t),$x=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},dZ=fZ((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),hZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return uZ;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),s(...arguments))}},Fx=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function R4(t){var e;return t===0?e=1:e=Math.floor(new ut(t).abs().log(10).toNumber())+1,e}function P4(t,e,n){for(var r=new ut(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var D4=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},M4=(t,e,n)=>{if(t.lte(0))return new ut(0);var r=R4(t.toNumber()),i=new ut(10).pow(r),s=t.div(i),l=r!==1?.05:.1,u=new ut(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return e?new ut(d.toNumber()):new ut(Math.ceil(d.toNumber()))},mZ=(t,e,n)=>{var r=new ut(1),i=new ut(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new ut(10).pow(R4(t)-1),i=new ut(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new ut(Math.floor(t)))}else t===0?i=new ut(Math.floor((e-1)/2)):n||(i=new ut(Math.floor(t)));var l=Math.floor((e-1)/2),u=hZ(dZ(d=>i.add(new ut(d-l).mul(r)).toNumber()),$x);return u(0,e)},j4=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new ut(0),tickMin:new ut(0),tickMax:new ut(0)};var l=M4(new ut(n).sub(e).div(r-1),i,s),u;e<=0&&n>=0?u=new ut(0):(u=new ut(e).add(n).div(2),u=u.sub(new ut(u).mod(l)));var d=Math.ceil(u.sub(e).div(l).toNumber()),h=Math.ceil(new ut(n).sub(u).div(l).toNumber()),m=d+h+1;return m>r?j4(e,n,r,i,s+1):(m<r&&(h=n>0?h+(r-m):h,d=n>0?d:d+(r-m)),{step:l,tickMin:u.sub(new ut(d).mul(l)),tickMax:u.add(new ut(h).mul(l))})},pZ=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,d]=D4([n,r]);if(u===-1/0||d===1/0){var h=d===1/0?[u,...$x(0,i-1).map(()=>1/0)]:[...$x(0,i-1).map(()=>-1/0),d];return n>r?Fx(h):h}if(u===d)return mZ(u,i,s);var{step:m,tickMin:g,tickMax:b}=j4(u,d,l,s,0),x=P4(g,b.add(new ut(.1).mul(m)),m);return n>r?Fx(x):x},gZ=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=D4([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(n,2),h=M4(new ut(u).sub(l).div(d-1),s,0),m=[...P4(new ut(l),new ut(u),h),u];return s===!1&&(m=m.map(g=>Math.round(g))),r>i?Fx(m):m},k4=t=>t.rootProps.maxBarSize,yZ=t=>t.rootProps.barGap,L4=t=>t.rootProps.barCategoryGap,vZ=t=>t.rootProps.barSize,xy=t=>t.rootProps.stackOffset,z4=t=>t.rootProps.reverseStackOrder,Zw=t=>t.options.chartName,Jw=t=>t.rootProps.syncId,V4=t=>t.rootProps.syncMethod,eE=t=>t.options.eventEmitter,Qn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ra={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Tr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},wy=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},bZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ra.angleAxisId,includeHidden:!1,name:void 0,reversed:Ra.reversed,scale:Ra.scale,tick:Ra.tick,tickCount:void 0,ticks:void 0,type:Ra.type,unit:void 0},_Z={allowDataOverflow:Tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Tr.scale,tick:Tr.tick,tickCount:Tr.tickCount,ticks:void 0,type:Tr.type,unit:void 0},xZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ra.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ra.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ra.scale,tick:Ra.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},wZ={allowDataOverflow:Tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Tr.scale,tick:Tr.tick,tickCount:Tr.tickCount,ticks:void 0,type:"category",unit:void 0},tE=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?xZ:bZ,nE=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?wZ:_Z,Ey=t=>t.polarOptions,rE=ie([Ja,es,En],gW),U4=ie([Ey,rE],(t,e)=>{if(t!=null)return Si(t.innerRadius,e,0)}),B4=ie([Ey,rE],(t,e)=>{if(t!=null)return Si(t.outerRadius,e,e*.8)}),EZ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},q4=ie([Ey],EZ);ie([tE,q4],wy);var $4=ie([rE,U4,B4],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ie([nE,$4],wy);var F4=ie([ft,Ey,U4,B4,Ja,es],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:h}=e;return{cx:Si(l,i,i/2),cy:Si(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:h,clockWise:!1}}}),un=(t,e)=>e,Sy=(t,e,n)=>n;function iE(t){return t==null?void 0:t.id}function H4(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(u=>{var d,h=(d=u.data)!==null&&d!==void 0?d:r;if(!(h==null||h.length===0)){var m=iE(u);h.forEach((g,b)=>{var x=s==null||i?b:String(Hn(g,s,null)),S=Hn(g,u.dataKey,0),E;l.has(x)?E=l.get(x):E={},Object.assign(E,{[m]:S}),l.set(x,E)})}}),Array.from(l.values())}function Ty(t){return t.stackId!=null&&t.dataKey!=null}var Ay=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Cy(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function SZ(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var fn=t=>{var e=ft(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},ou=t=>t.tooltip.settings.axisId;function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){TZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TZ(t,e,n){return(e=AZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AZ(t){var e=CZ(t,"string");return typeof e=="symbol"?e:e+""}function CZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hx=[0,"auto"],yn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},G4=(t,e)=>t.cartesianAxis.xAxis[e],ns=(t,e)=>{var n=G4(t,e);return n??yn},vn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Hx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Rd},K4=(t,e)=>t.cartesianAxis.yAxis[e],rs=(t,e)=>{var n=K4(t,e);return n??vn},OZ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},aE=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??OZ},Jn=(t,e,n)=>{switch(e){case"xAxis":return ns(t,n);case"yAxis":return rs(t,n);case"zAxis":return aE(t,n);case"angleAxis":return tE(t,n);case"radiusAxis":return nE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},IZ=(t,e,n)=>{switch(e){case"xAxis":return ns(t,n);case"yAxis":return rs(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},zd=(t,e,n)=>{switch(e){case"xAxis":return ns(t,n);case"yAxis":return rs(t,n);case"angleAxis":return tE(t,n);case"radiusAxis":return nE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Y4=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function W4(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var sE=t=>t.graphicalItems.cartesianItems,NZ=ie([un,Sy],W4),X4=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Vd=ie([sE,Jn,NZ],X4,{memoizeOptions:{resultEqualityCheck:Cy}}),Q4=ie([Vd],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Ty)),Z4=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),RZ=ie([Vd],Z4),J4=t=>t.map(e=>e.data).filter(Boolean).flat(1),PZ=ie([Vd],J4,{memoizeOptions:{resultEqualityCheck:Cy}}),e3=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},oE=ie([PZ,Ww],e3),t3=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Hn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Hn(i,r)}))):t.map(r=>({value:r})),Oy=ie([oE,Jn,Vd],t3);function n3(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function lp(t){if(aa(t)||t instanceof Date){var e=Number(t);if($t(e))return e}}function nR(t){if(Array.isArray(t)){var e=[lp(t[0]),lp(t[1])];return so(e)?e:void 0}var n=lp(t);if(n!=null)return[n,n]}function Xa(t){return t.map(lp).filter(BF)}function DZ(t,e,n){return!n||typeof e!="number"||Ei(e)?[]:n.length?Xa(n.flatMap(r=>{var i=Hn(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!$t(s)||!$t(l)))return[e-s,e+l]})):[]}var dn=t=>{var e=fn(t),n=ou(t);return zd(t,e,n)},Ud=ie([dn],t=>t==null?void 0:t.dataKey),MZ=ie([Q4,Ww,dn],H4),r3=(t,e,n,r)=>{var i={},s=e.reduce((l,u)=>(u.stackId==null||(l[u.stackId]==null&&(l[u.stackId]=[]),l[u.stackId].push(u)),l),i);return Object.fromEntries(Object.entries(s).map(l=>{var[u,d]=l,h=r?[...d].reverse():d,m=h.map(iE);return[u,{stackedData:oK(t,m,n),graphicalItems:h}]}))},Gx=ie([MZ,Q4,xy,z4],r3),i3=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=dK(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},jZ=ie([Jn],t=>t.allowDataOverflow),lE=t=>{var e;if(t==null||!("domain"in t))return Hx;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Xa(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Hx},a3=ie([Jn],lE),s3=ie([a3,jZ],w4),kZ=ie([Gx,fo,un,s3],i3,{memoizeOptions:{resultEqualityCheck:Ay}}),cE=t=>t.errorBars,LZ=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>n3(n,r)),gg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},o3=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(u=>{n.forEach(d=>{var h,m,g=(h=r[d.id])===null||h===void 0?void 0:h.filter(I=>n3(i,I)),b=Hn(u,(m=e.dataKey)!==null&&m!==void 0?m:d.dataKey),x=DZ(u,b,g);if(x.length>=2){var S=Math.min(...x),E=Math.max(...x);(s==null||S<s)&&(s=S),(l==null||E>l)&&(l=E)}var T=nR(b);T!=null&&(s=s==null?T[0]:Math.min(s,T[0]),l=l==null?T[1]:Math.max(l,T[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(u=>{var d=nR(Hn(u,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),$t(s)&&$t(l))return[s,l]},zZ=ie([oE,Jn,RZ,cE,un],o3,{memoizeOptions:{resultEqualityCheck:Ay}});function VZ(t){var{value:e}=t;if(aa(e)||e instanceof Date)return e}var UZ=(t,e,n)=>{var r=t.map(VZ).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&_j(r))?Bk(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},l3=t=>t.referenceElements.dots,lu=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),BZ=ie([l3,un,Sy],lu),c3=t=>t.referenceElements.areas,qZ=ie([c3,un,Sy],lu),u3=t=>t.referenceElements.lines,$Z=ie([u3,un,Sy],lu),f3=(t,e)=>{var n=Xa(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},FZ=ie(BZ,un,f3),d3=(t,e)=>{var n=Xa(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},HZ=ie([qZ,un],d3);function GZ(t){var e;if(t.x!=null)return Xa([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Xa(n)}function KZ(t){var e;if(t.y!=null)return Xa([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Xa(n)}var h3=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?GZ(r):KZ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},YZ=ie([$Z,un],h3),WZ=ie(FZ,YZ,HZ,(t,e,n)=>gg(t,n,e)),m3=(t,e,n,r,i,s,l,u)=>{if(n!=null)return n;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",h=d?gg(r,s,i):gg(s,i);return sZ(e,h,t.allowDataOverflow)},XZ=ie([Jn,a3,s3,kZ,zZ,WZ,ft,un],m3,{memoizeOptions:{resultEqualityCheck:Ay}}),QZ=[0,1],p3=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=t,h=bl(e,s);if(h&&u==null){var m;return Bk(0,(m=n==null?void 0:n.length)!==null&&m!==void 0?m:0)}return d==="category"?UZ(r,t,h):i==="expand"?QZ:l}},uE=ie([Jn,ft,oE,Oy,xy,un,XZ],p3),g3=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(Ad(s));return u in If?u:"point"}}},Bd=ie([Jn,ft,Y4,Zw,un],g3);function ZZ(t){if(t!=null){if(t in If)return If[t]();var e="scale".concat(Ad(t));if(e in If)return If[e]()}}function fE(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=ZZ(e);if(i!=null){var s=i.domain(n).range(r);return nK(s),s}}}var y3=(t,e,n)=>{var r=lE(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&so(t))return pZ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&so(t))return gZ(t,e.tickCount,e.allowDecimals)}},dE=ie([uE,zd,Bd],y3),v3=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&so(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,s),Math.max(l,u)]}return e},JZ=ie([Jn,uE,dE,un],v3),eJ=ie(Oy,Jn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Xa(t.map(u=>u.value))).sort((u,d)=>u-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s+1]-r[s];n=Math.min(n,l)}return n/i}}),b3=ie(eJ,ft,L4,En,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!$t(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=Si(n,t*s),u=t*s/2;return u-l-(u-l)/s*l}return 0}),tJ=(t,e)=>{var n=ns(t,e);return n==null||typeof n.padding!="string"?0:b3(t,"xAxis",e,n.padding)},nJ=(t,e)=>{var n=rs(t,e);return n==null||typeof n.padding!="string"?0:b3(t,"yAxis",e,n.padding)},rJ=ie(ns,tJ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),iJ=ie(rs,nJ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),aJ=ie([En,rJ,ly,oy,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),sJ=ie([En,ft,iJ,ly,oy,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),qd=(t,e,n,r)=>{var i;switch(e){case"xAxis":return aJ(t,n,r);case"yAxis":return sJ(t,n,r);case"zAxis":return(i=aE(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return q4(t);case"radiusAxis":return $4(t,n);default:return}},_3=ie([Jn,qd],wy),cu=ie([Jn,Bd,JZ,_3],fE);ie([Vd,cE,un],LZ);function x3(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Iy=(t,e)=>e,Ny=(t,e,n)=>n,oJ=ie(ay,Iy,Ny,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(x3)),lJ=ie(sy,Iy,Ny,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(x3)),w3=(t,e)=>({width:t.width,height:e.height}),cJ=(t,e)=>{var n=typeof e.width=="number"?e.width:Rd;return{width:n,height:t.height}},E3=ie(En,ns,w3),uJ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},fJ=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},dJ=ie(es,En,oJ,Iy,Ny,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var d=w3(e,u);l==null&&(l=uJ(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;s[u.id]=l-Number(h)*d.height,l+=(h?-1:1)*d.height}),s}),hJ=ie(Ja,En,lJ,Iy,Ny,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var d=cJ(e,u);l==null&&(l=fJ(e,r,t));var h=r==="left"&&!i||r==="right"&&i;s[u.id]=l-Number(h)*d.width,l+=(h?-1:1)*d.width}),s}),mJ=(t,e)=>{var n=ns(t,e);if(n!=null)return dJ(t,n.orientation,n.mirror)},pJ=ie([En,ns,mJ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),gJ=(t,e)=>{var n=rs(t,e);if(n!=null)return hJ(t,n.orientation,n.mirror)},yJ=ie([En,rs,gJ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),S3=ie(En,rs,(t,e)=>{var n=typeof e.width=="number"?e.width:Rd;return{width:n,height:t.height}}),rR=(t,e,n)=>{switch(e){case"xAxis":return E3(t,n).width;case"yAxis":return S3(t,n).height;default:return}},T3=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,u=bl(t,r),d=e.map(h=>h.value);if(l&&u&&s==="category"&&i&&_j(d))return d}},hE=ie([ft,Oy,Jn,un],T3),A3=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=bl(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(u=>u.value)}},mE=ie([ft,Oy,zd,un],A3),iR=ie([ft,IZ,Bd,cu,hE,mE,qd,dE,un],(t,e,n,r,i,s,l,u,d)=>{if(e!=null){var h=bl(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:u,range:l,realScaleType:n,scale:r}}}),vJ=(t,e,n,r,i,s,l,u,d)=>{if(!(e==null||r==null)){var h=bl(t,d),{type:m,ticks:g,tickCount:b}=e,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=m==="category"&&r.bandwidth?r.bandwidth()/x:0;S=d==="angleAxis"&&s!=null&&s.length>=2?fr(s[0]-s[1])*2*S:S;var E=g||i;if(E){var T=E.map((I,M)=>{var j=l?l.indexOf(I):I;return{index:M,coordinate:r(j)+S,value:I,offset:S}});return T.filter(I=>$t(I.coordinate))}return h&&u?u.map((I,M)=>({coordinate:r(I)+S,value:I,index:M,offset:S})).filter(I=>$t(I.coordinate)):r.ticks?r.ticks(b).map(I=>({coordinate:r(I)+S,value:I,offset:S})):r.domain().map((I,M)=>({coordinate:r(I)+S,value:l?l[I]:I,index:M,offset:S}))}},C3=ie([ft,zd,Bd,cu,dE,qd,hE,mE,un],vJ),bJ=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=bl(t,l),{tickCount:d}=e,h=0;return h=l==="angleAxis"&&(r==null?void 0:r.length)>=2?fr(r[0]-r[1])*2*h:h,u&&s?s.map((m,g)=>({coordinate:n(m)+h,value:m,index:g,offset:h})):n.ticks?n.ticks(d).map(m=>({coordinate:n(m)+h,value:m,offset:h})):n.domain().map((m,g)=>({coordinate:n(m)+h,value:i?i[m]:m,index:g,offset:h}))}},Gc=ie([ft,zd,cu,qd,hE,mE,un],bJ),Kc=ie(Jn,cu,(t,e)=>{if(!(t==null||e==null))return pg(pg({},t),{},{scale:e})}),_J=ie([Jn,Bd,uE,_3],fE);ie((t,e,n)=>aE(t,n),_J,(t,e)=>{if(!(t==null||e==null))return pg(pg({},t),{},{scale:e})});var xJ=ie([ft,ay,sy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),O3=t=>t.options.defaultTooltipEventType,I3=t=>t.options.validateTooltipEventTypes;function N3(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function pE(t,e){var n=O3(t),r=I3(t);return N3(e,n,r)}function wJ(t){return Ne(e=>pE(e,t))}var R3=(t,e)=>{var n,r=Number(e);if(!(Ei(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},EJ=t=>t.tooltip.settings,Hs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},SJ={itemInteraction:{click:Hs,hover:Hs},axisInteraction:{click:Hs,hover:Hs},keyboardInteraction:Hs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},P3=hr({name:"tooltip",initialState:SJ,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:It()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=xi(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:It()},removeTooltipEntrySettings:{reducer(t,e){var n=xi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:It()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:TJ,replaceTooltipEntrySettings:AJ,removeTooltipEntrySettings:CJ,setTooltipSettingsState:OJ,setActiveMouseOverItemIndex:D3,mouseLeaveItem:IJ,mouseLeaveChart:M3,setActiveClickItemIndex:NJ,setMouseOverAxisIndex:j3,setMouseClickAxisIndex:RJ,setSyncInteraction:Kx,setKeyboardInteraction:Yx}=P3.actions,PJ=P3.reducer;function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $m(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){DJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DJ(t,e,n){return(e=MJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MJ(t){var e=jJ(t,"string");return typeof e=="symbol"?e:e+""}function jJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kJ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function LJ(t){return t.index!=null}var k3=(t,e,n,r)=>{if(e==null)return Hs;var i=kJ(t,e,n);if(i==null)return Hs;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(LJ(i)){if(s)return $m($m({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return $m($m({},Hs),{},{coordinate:i.coordinate})};function zJ(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function VJ(t,e){var n=zJ(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function UJ(t,e,n){if(n==null||e==null)return!0;var r=Hn(t,e);return r==null||!so(n)?!0:VJ(r,n)}var gE=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var s=Number(i);if(!$t(s))return i;var l=0,u=1/0;e.length>0&&(u=e.length-1);var d=Math.max(l,Math.min(s,u)),h=e[d];return h==null||UJ(h,n,r)?String(d):null},L3=(t,e,n,r,i,s,l,u)=>{if(!(s==null||u==null)){var d=l[0],h=d==null?void 0:u(d.positions,s);if(h!=null)return h;var m=i==null?void 0:i[Number(s)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},z3=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===i})},$d=t=>t.options.tooltipPayloadSearcher,uu=t=>t.tooltip;function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){BJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BJ(t,e,n){return(e=qJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qJ(t){var e=$J(t,"string");return typeof e=="symbol"?e:e+""}function $J(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FJ(t,e){return t??e}var V3=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:u,computedData:d,dataStartIndex:h,dataEndIndex:m}=n,g=[];return t.reduce((b,x)=>{var S,{dataDefinedOnItem:E,settings:T}=x,I=FJ(E,u),M=Array.isArray(I)?dk(I,h,m):I,j=(S=T==null?void 0:T.dataKey)!==null&&S!==void 0?S:r,$=T==null?void 0:T.nameKey,B;if(r&&Array.isArray(M)&&!Array.isArray(M[0])&&l==="axis"?B=UF(M,r,i):B=s(M,e,d,$),Array.isArray(B))B.forEach(N=>{var P=oR(oR({},T),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});b.push(II({tooltipEntrySettings:P,dataKey:N.dataKey,payload:N.payload,value:Hn(N.payload,N.dataKey),name:N.name}))});else{var F;b.push(II({tooltipEntrySettings:T,dataKey:j,payload:B,value:Hn(B,j),name:(F=Hn(B,$))!==null&&F!==void 0?F:T==null?void 0:T.name}))}return b},g)}},yE=ie([dn,ft,Y4,Zw,fn],g3),HJ=ie([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),GJ=ie([fn,ou],W4),Fd=ie([HJ,dn,GJ],X4,{memoizeOptions:{resultEqualityCheck:Cy}}),KJ=ie([Fd],t=>t.filter(Ty)),YJ=ie([Fd],J4,{memoizeOptions:{resultEqualityCheck:Cy}}),fu=ie([YJ,fo],e3),WJ=ie([KJ,fo,dn],H4),vE=ie([fu,dn,Fd],t3),U3=ie([dn],lE),XJ=ie([dn],t=>t.allowDataOverflow),B3=ie([U3,XJ],w4),QJ=ie([Fd],t=>t.filter(Ty)),ZJ=ie([WJ,QJ,xy,z4],r3),JJ=ie([ZJ,fo,fn,B3],i3),eee=ie([Fd],Z4),tee=ie([fu,dn,eee,cE,fn],o3,{memoizeOptions:{resultEqualityCheck:Ay}}),nee=ie([l3,fn,ou],lu),ree=ie([nee,fn],f3),iee=ie([c3,fn,ou],lu),aee=ie([iee,fn],d3),see=ie([u3,fn,ou],lu),oee=ie([see,fn],h3),lee=ie([ree,oee,aee],gg),cee=ie([dn,U3,B3,JJ,tee,lee,ft,fn],m3),Hd=ie([dn,ft,fu,vE,xy,fn,cee],p3),uee=ie([Hd,dn,yE],y3),fee=ie([dn,Hd,uee,fn],v3),q3=t=>{var e=fn(t),n=ou(t),r=!1;return qd(t,e,n,r)},$3=ie([dn,q3],wy),F3=ie([dn,yE,fee,$3],fE),dee=ie([ft,vE,dn,fn],T3),hee=ie([ft,vE,dn,fn],A3),mee=(t,e,n,r,i,s,l,u)=>{if(e){var{type:d}=e,h=bl(t,u);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/m:0;return g=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?fr(i[0]-i[1])*2*g:g,h&&l?l.map((b,x)=>({coordinate:r(b)+g,value:b,index:x,offset:g})):r.domain().map((b,x)=>({coordinate:r(b)+g,value:s?s[b]:b,index:x,offset:g}))}}},is=ie([ft,dn,yE,F3,q3,dee,hee,fn],mee),bE=ie([O3,I3,EJ],(t,e,n)=>N3(n.shared,t,e)),H3=t=>t.tooltip.settings.trigger,_E=t=>t.tooltip.settings.defaultIndex,Gd=ie([uu,bE,H3,_E],k3),Yc=ie([Gd,fu,Ud,Hd],gE),G3=ie([is,Yc],R3),K3=ie([Gd],t=>{if(t)return t.dataKey});ie([Gd],t=>{if(t)return t.graphicalItemId});var Y3=ie([uu,bE,H3,_E],z3),pee=ie([Ja,es,ft,En,is,_E,Y3,$d],L3),gee=ie([Gd,pee],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),yee=ie([Gd],t=>t.active),vee=ie([Y3,Yc,fo,Ud,G3,$d,bE],V3);ie([vee],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){bee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bee(t,e,n){return(e=_ee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ee(t){var e=xee(t,"string");return typeof e=="symbol"?e:e+""}function xee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wee=()=>Ne(dn),Eee=()=>{var t=wee(),e=Ne(is),n=Ne(F3);return Wp(!t||!n?void 0:cR(cR({},t),{},{scale:n}),e)};function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){See(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function See(t,e,n){return(e=Tee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tee(t){var e=Aee(t,"string");return typeof e=="symbol"?e:e+""}function Aee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cee=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Oee=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return dc(dc(dc({},r),jn(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var u=i.coordinate,{angle:d}=r;return dc(dc(dc({},r),jn(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Iee(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var W3=(t,e,n,r,i)=>{var s,l=-1,u=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<u;d++){var h=d>0?n[d-1].coordinate:n[u-1].coordinate,m=n[d].coordinate,g=d>=u-1?n[0].coordinate:n[d+1].coordinate,b=void 0;if(fr(m-h)!==fr(g-m)){var x=[];if(fr(g-m)===fr(i[1]-i[0])){b=g;var S=m+i[1]-i[0];x[0]=Math.min(S,(S+h)/2),x[1]=Math.max(S,(S+h)/2)}else{b=h;var E=g+i[1]-i[0];x[0]=Math.min(m,(E+m)/2),x[1]=Math.max(m,(E+m)/2)}var T=[Math.min(m,(b+m)/2),Math.max(m,(b+m)/2)];if(t>T[0]&&t<=T[1]||t>=x[0]&&t<=x[1]){({index:l}=n[d]);break}}else{var I=Math.min(h,g),M=Math.max(h,g);if(t>(I+m)/2&&t<=(M+m)/2){({index:l}=n[d]);break}}}else if(e){for(var j=0;j<u;j++)if(j===0&&t<=(e[j].coordinate+e[j+1].coordinate)/2||j>0&&j<u-1&&t>(e[j].coordinate+e[j-1].coordinate)/2&&t<=(e[j].coordinate+e[j+1].coordinate)/2||j===u-1&&t>(e[j].coordinate+e[j-1].coordinate)/2){({index:l}=e[j]);break}}return l},Nee=()=>Ne(Zw),xE=(t,e)=>e,X3=(t,e,n)=>n,wE=(t,e,n,r)=>r,Ree=ie(is,t=>Xg(t,e=>e.coordinate)),EE=ie([uu,xE,X3,wE],k3),SE=ie([EE,fu,Ud,Hd],gE),Pee=(t,e,n)=>{if(e!=null){var r=uu(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Q3=ie([uu,xE,X3,wE],z3),yg=ie([Ja,es,ft,En,is,wE,Q3,$d],L3),Dee=ie([EE,yg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),Z3=ie([is,SE],R3),Mee=ie([Q3,SE,fo,Ud,Z3,$d,xE],V3),jee=ie([EE,SE],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),kee=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&Iee(t,l)){var u=hK(t,e),d=W3(u,s,i,n,r),h=Cee(e,i,d,t);return{activeIndex:String(d),activeCoordinate:h}}},Lee=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var u=xW(t,n);if(u){var d=mK(u,e),h=W3(d,l,s,r,i),m=Oee(e,s,h,u);return{activeIndex:String(h),activeCoordinate:m}}}},zee=(t,e,n,r,i,s,l,u)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?kee(t,e,r,i,s,l,u):Lee(t,e,n,r,i,s,l)},Vee=ie(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Uee=ie(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Qn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:SZ}});function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){Bee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bee(t,e,n){return(e=qee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qee(t){var e=$ee(t,"string");return typeof e=="symbol"?e:e+""}function $ee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fee={},Hee={zIndexMap:Object.values(Qn).reduce((t,e)=>dR(dR({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Fee)},Gee=new Set(Object.values(Qn));function Kee(t){return Gee.has(t)}var J3=hr({name:"zIndex",initialState:Hee,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:It()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Kee(n)&&delete t.zIndexMap[n])},prepare:It()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:It()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:It()}}}),{registerZIndexPortal:Yee,unregisterZIndexPortal:Wee,registerZIndexPortalId:Xee,unregisterZIndexPortalId:Qee}=J3.actions,Zee=J3.reducer;function as(t){var{zIndex:e,children:n}=t,r=KK(),i=r&&e!==void 0&&e!==0,s=mr(),l=Ft();C.useLayoutEffect(()=>i?(l(Yee({zIndex:e})),()=>{l(Wee({zIndex:e}))}):Cd,[l,e,i]);var u=Ne(h=>Vee(h,e,s));if(!i)return n;if(!u)return null;var d=document.getElementById(u);return d?nj.createPortal(n,d):null}function Wx(){return Wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wx.apply(null,arguments)}function hR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(n),!0).forEach(function(r){Jee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jee(t,e,n){return(e=ete(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ete(t){var e=tte(t,"string");return typeof e=="symbol"?e:e+""}function tte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nte(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return C.isValidElement(e)?C.cloneElement(e,r):C.createElement(n,r)}function rte(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:h,chartName:m}=t,g=n,b=r,x=i;if(!d||!g||m!=="ScatterChart"&&h!=="axis")return null;var S,E,T;if(m==="ScatterChart")S=g,E=jY,T=Qn.cursorLine;else if(m==="BarChart")S=kY(u,g,s,l),E=Lk,T=Qn.cursorRectangle;else if(u==="radial"&&Ej(g)){var{cx:I,cy:M,radius:j,startAngle:$,endAngle:B}=zk(g);S={cx:I,cy:M,startAngle:$,endAngle:B,innerRadius:j,outerRadius:j},E=Uk,T=Qn.cursorLine}else S={points:TW(u,g,s)},E=Pk,T=Qn.cursorLine;var F=typeof d=="object"&&"className"in d?d.className:void 0,N=Fm(Fm(Fm(Fm({stroke:"#ccc",pointerEvents:"none"},s),S),nw(d)),{},{payload:b,payloadIndex:x,className:Tt("recharts-tooltip-cursor",F)});return C.createElement(as,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:T},C.createElement(nte,{cursor:d,cursorComp:E,cursorProps:N}))}function ite(t){var e=Eee(),n=xk(),r=uy(),i=Nee();return e==null||n==null||r==null||i==null?null:C.createElement(rte,Wx({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var eL=C.createContext(null),ate=()=>C.useContext(eL),m_={exports:{}},mR;function ste(){return mR||(mR=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,h,m){this.fn=d,this.context=h,this.once=m||!1}function s(d,h,m,g,b){if(typeof m!="function")throw new TypeError("The listener must be a function");var x=new i(m,g||d,b),S=n?n+h:h;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],x]:d._events[S].push(x):(d._events[S]=x,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new r:delete d._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],m,g;if(this._eventsCount===0)return h;for(g in m=this._events)e.call(m,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},u.prototype.listeners=function(h){var m=n?n+h:h,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,x=g.length,S=new Array(x);b<x;b++)S[b]=g[b].fn;return S},u.prototype.listenerCount=function(h){var m=n?n+h:h,g=this._events[m];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,m,g,b,x,S){var E=n?n+h:h;if(!this._events[E])return!1;var T=this._events[E],I=arguments.length,M,j;if(T.fn){switch(T.once&&this.removeListener(h,T.fn,void 0,!0),I){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,m),!0;case 3:return T.fn.call(T.context,m,g),!0;case 4:return T.fn.call(T.context,m,g,b),!0;case 5:return T.fn.call(T.context,m,g,b,x),!0;case 6:return T.fn.call(T.context,m,g,b,x,S),!0}for(j=1,M=new Array(I-1);j<I;j++)M[j-1]=arguments[j];T.fn.apply(T.context,M)}else{var $=T.length,B;for(j=0;j<$;j++)switch(T[j].once&&this.removeListener(h,T[j].fn,void 0,!0),I){case 1:T[j].fn.call(T[j].context);break;case 2:T[j].fn.call(T[j].context,m);break;case 3:T[j].fn.call(T[j].context,m,g);break;case 4:T[j].fn.call(T[j].context,m,g,b);break;default:if(!M)for(B=1,M=new Array(I-1);B<I;B++)M[B-1]=arguments[B];T[j].fn.apply(T[j].context,M)}}return!0},u.prototype.on=function(h,m,g){return s(this,h,m,g,!1)},u.prototype.once=function(h,m,g){return s(this,h,m,g,!0)},u.prototype.removeListener=function(h,m,g,b){var x=n?n+h:h;if(!this._events[x])return this;if(!m)return l(this,x),this;var S=this._events[x];if(S.fn)S.fn===m&&(!b||S.once)&&(!g||S.context===g)&&l(this,x);else{for(var E=0,T=[],I=S.length;E<I;E++)(S[E].fn!==m||b&&!S[E].once||g&&S[E].context!==g)&&T.push(S[E]);T.length?this._events[x]=T.length===1?T[0]:T:l(this,x)}return this},u.prototype.removeAllListeners=function(h){var m;return h?(m=n?n+h:h,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(m_)),m_.exports}var ote=ste();const lte=la(ote);var ud=new lte,Xx="recharts.syncEvent.tooltip",pR="recharts.syncEvent.brush";function cte(t,e){if(e){var n=Number.parseInt(e,10);if(!Ei(n))return t==null?void 0:t[n]}}var ute={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},tL=hr({name:"options",initialState:ute,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),fte=tL.reducer,{createEventEmitter:dte}=tL.actions;function hte(t){return t.tooltip.syncInteraction}var mte={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},nL=hr({name:"chartData",initialState:mte,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:gR,setDataStartEndIndexes:pte,setComputedData:Poe}=nL.actions,gte=nL.reducer,yte=["x","y"];function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){vte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vte(t,e,n){return(e=bte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bte(t){var e=_te(t,"string");return typeof e=="symbol"?e:e+""}function _te(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xte(t,e){if(t==null)return{};var n,r,i=wte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ete(){var t=Ne(Jw),e=Ne(eE),n=Ft(),r=Ne(V4),i=Ne(is),s=uy(),l=cy(),u=Ne(d=>d.rootProps.className);C.useEffect(()=>{if(t==null)return Cd;var d=(h,m,g)=>{if(e!==g&&t===h){if(r==="index"){var b;if(l&&m!==null&&m!==void 0&&(b=m.payload)!==null&&b!==void 0&&b.coordinate&&m.payload.sourceViewBox){var x=m.payload.coordinate,{x:S,y:E}=x,T=xte(x,yte),{x:I,y:M,width:j,height:$}=m.payload.sourceViewBox,B=hc(hc({},T),{},{x:l.x+(j?(S-I)/j:0)*l.width,y:l.y+($?(E-M)/$:0)*l.height});n(hc(hc({},m),{},{payload:hc(hc({},m.payload),{},{coordinate:B})}))}else n(m);return}if(i!=null){var F;if(typeof r=="function"){var N={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},P=r(i,N);F=i[P]}else r==="value"&&(F=i.find(G=>String(G.value)===m.payload.label));var{coordinate:k}=m.payload;if(F==null||m.payload.active===!1||k==null||l==null){n(Kx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:U,y:L}=k,V=Math.min(U,l.x+l.width),R=Math.min(L,l.y+l.height),ue={x:s==="horizontal"?F.coordinate:V,y:s==="horizontal"?R:F.coordinate},pe=Kx({active:m.payload.active,coordinate:ue,dataKey:m.payload.dataKey,index:String(F.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(pe)}}};return ud.on(Xx,d),()=>{ud.off(Xx,d)}},[u,n,e,t,r,i,s,l])}function Ste(){var t=Ne(Jw),e=Ne(eE),n=Ft();C.useEffect(()=>{if(t==null)return Cd;var r=(i,s,l)=>{e!==l&&t===i&&n(pte(s))};return ud.on(pR,r),()=>{ud.off(pR,r)}},[n,e,t])}function Tte(){var t=Ft();C.useEffect(()=>{t(dte())},[t]),Ete(),Ste()}function Ate(t,e,n,r,i,s){var l=Ne(x=>Pee(x,t,e)),u=Ne(eE),d=Ne(Jw),h=Ne(V4),m=Ne(hte),g=m==null?void 0:m.active,b=cy();C.useEffect(()=>{if(!g&&d!=null&&u!=null){var x=Kx({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});ud.emit(Xx,d,x,u)}},[g,n,l,i,r,u,d,h,s,b])}function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){Cte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cte(t,e,n){return(e=Ote(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ote(t){var e=Ite(t,"string");return typeof e=="symbol"?e:e+""}function Ite(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nte(t){return t.dataKey}function Rte(t,e){return C.isValidElement(t)?C.cloneElement(t,e):typeof t=="function"?C.createElement(t,e):C.createElement(mY,e)}var _R=[],Pte={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Dte(t){var e,n,r=Rr(t,Pte),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:d,filterNull:h,isAnimationActive:m,offset:g,payloadUniqBy:b,position:x,reverseDirection:S,useTranslate3d:E,wrapperStyle:T,cursor:I,shared:M,trigger:j,defaultIndex:$,portal:B,axisId:F}=r,N=Ft(),P=typeof $=="number"?String($):$;C.useEffect(()=>{N(OJ({shared:M,trigger:j,axisId:F,active:i,defaultIndex:P}))},[N,M,j,F,i,P]);var k=cy(),U=Rk(),L=wJ(M),{activeIndex:V,isActive:R}=(e=Ne(Te=>jee(Te,L,j,P)))!==null&&e!==void 0?e:{},ue=Ne(Te=>Mee(Te,L,j,P)),pe=Ne(Te=>Z3(Te,L,j,P)),G=Ne(Te=>Dee(Te,L,j,P)),te=ue,se=ate(),X=(n=i??R)!==null&&n!==void 0?n:!1,[ve,q]=QH([te,X]),J=L==="axis"?pe:void 0;Ate(L,j,G,J,V,X);var de=B??se;if(de==null||k==null||L==null)return null;var ye=te??_R;X||(ye=_R),h&&ye.length&&(ye=EH(ye.filter(Te=>Te.value!=null&&(Te.hide!==!0||r.includeHidden)),b,Nte));var be=ye.length>0,Ce=C.createElement(xY,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:m,active:X,coordinate:G,hasPayload:be,offset:g,position:x,reverseDirection:S,useTranslate3d:E,viewBox:k,wrapperStyle:T,lastBoundingBox:ve,innerRef:q,hasPortalFromProps:!!B},Rte(d,bR(bR({},r),{},{payload:ye,label:J,active:X,activeIndex:V,coordinate:G,accessibilityLayer:U})));return C.createElement(C.Fragment,null,nj.createPortal(Ce,de),X&&C.createElement(ite,{cursor:I,tooltipEventType:L,coordinate:G,payload:ye,index:V}))}var rL=t=>null;rL.displayName="Cell";function Mte(t,e,n){return(e=jte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jte(t){var e=kte(t,"string");return typeof e=="symbol"?e:e+""}function kte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Lte{constructor(e){Mte(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){Vte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vte(t,e,n){return(e=Ute(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ute(t){var e=Bte(t,"string");return typeof e=="symbol"?e:e+""}function Bte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qte={cacheSize:2e3,enableCache:!0},iL=zte({},qte),wR=new Lte(iL.cacheSize),$te={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ER="recharts_measurement_span";function Fte(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(u)}var SR=(t,e)=>{try{var n=document.getElementById(ER);n||(n=document.createElement("span"),n.setAttribute("id",ER),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,$te,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Lf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Dd.isSsr)return{width:0,height:0};if(!iL.enableCache)return SR(e,n);var r=Fte(e,n),i=wR.get(r);if(i)return i;var s=SR(e,n);return wR.set(r,s),s},TR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Gte=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,aL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kte=Object.keys(aL),_c="NaN";function Yte(t,e){return t*aL[e]}class lr{static parse(e){var n,[,r,i]=(n=Gte.exec(e))!==null&&n!==void 0?n:[];return new lr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ei(e)&&(this.unit=""),n!==""&&!Hte.test(n)&&(this.num=NaN,this.unit=""),Kte.includes(n)&&(this.num=Yte(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new lr(NaN,""):new lr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new lr(NaN,""):new lr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new lr(NaN,""):new lr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new lr(NaN,""):new lr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ei(this.num)}}function sL(t){if(t.includes(_c))return _c;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=TR.exec(e))!==null&&n!==void 0?n:[],l=lr.parse(r??""),u=lr.parse(s??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return _c;e=e.replace(TR,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,m,g,b]=(h=AR.exec(e))!==null&&h!==void 0?h:[],x=lr.parse(m??""),S=lr.parse(b??""),E=g==="+"?x.add(S):x.subtract(S);if(E.isNaN())return _c;e=e.replace(AR,E.toString())}return e}var CR=/\(([^()]*)\)/;function Wte(t){for(var e=t,n;(n=CR.exec(e))!=null;){var[,r]=n;e=e.replace(CR,sL(r))}return e}function Xte(t){var e=t.replace(/\s+/g,"");return e=Wte(e),e=sL(e),e}function Qte(t){try{return Xte(t)}catch{return _c}}function p_(t){var e=Qte(t.slice(5,-1));return e===_c?"":e}var Zte=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Jte=["dx","dy","angle","className","breakAll"];function Qx(){return Qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qx.apply(null,arguments)}function OR(t,e){if(t==null)return{};var n,r,i=ene(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ene(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var oL=/[ \f\n\r\t\v\u2028\u2029]+/,lL=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];wn(e)||(n?i=e.toString().split(""):i=e.toString().split(oL));var s=i.map(u=>({word:u,width:Lf(u,r).width})),l=n?0:Lf("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function tne(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var cL=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:u}=s,d=i[i.length-1];if(d&&u!=null&&(e==null||r||d.width+u+n<Number(e)))d.words.push(l),d.width+=u+n;else{var h={words:[l],width:u};i.push(h)}return i},[]),uL=t=>t.reduce((e,n)=>e.width>n.width?e:n),nne="",IR=(t,e,n,r,i,s,l,u)=>{var d=t.slice(0,e),h=lL({breakAll:n,style:r,children:d+nne});if(!h)return[!1,[]];var m=cL(h.wordsWithComputedWidth,s,l,u),g=m.length>i||uL(m).width>Number(s);return[g,m]},rne=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:u,breakAll:d}=t,h=Oe(s),m=String(l),g=cL(e,r,n,i);if(!h||i)return g;var b=g.length>s||uL(g).width>Number(r);if(!b)return g;for(var x=0,S=m.length-1,E=0,T;x<=S&&E<=m.length-1;){var I=Math.floor((x+S)/2),M=I-1,[j,$]=IR(m,M,d,u,s,r,n,i),[B]=IR(m,I,d,u,s,r,n,i);if(!j&&!B&&(x=I+1),j&&B&&(S=I-1),!j&&B){T=$;break}E++}return T||g},NR=t=>{var e=wn(t)?[]:t.toString().split(oL);return[{words:e,width:void 0}]},ine=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!Dd.isSsr){var u,d,h=lL({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:m,spaceWidth:g}=h;u=m,d=g}else return NR(r);return rne({breakAll:s,children:r,maxLines:l,style:i},u,d,e,!!n)}return NR(r)},fL="#808080",ane={angle:0,breakAll:!1,capHeight:"0.71em",fill:fL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},TE=C.forwardRef((t,e)=>{var n=Rr(t,ane),{x:r,y:i,lineHeight:s,capHeight:l,fill:u,scaleToFit:d,textAnchor:h,verticalAnchor:m}=n,g=OR(n,Zte),b=C.useMemo(()=>ine({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),{dx:x,dy:S,angle:E,className:T,breakAll:I}=g,M=OR(g,Jte);if(!aa(r)||!aa(i)||b.length===0)return null;var j=Number(r)+(Oe(x)?x:0),$=Number(i)+(Oe(S)?S:0);if(!$t(j)||!$t($))return null;var B;switch(m){case"start":B=p_("calc(".concat(l,")"));break;case"middle":B=p_("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:B=p_("calc(".concat(b.length-1," * -").concat(s,")"));break}var F=[];if(d){var N=b[0].width,{width:P}=g;F.push("scale(".concat(Oe(P)&&Oe(N)?P/N:1,")"))}return E&&F.push("rotate(".concat(E,", ").concat(j,", ").concat($,")")),F.length&&(M.transform=F.join(" ")),C.createElement("text",Qx({},Qr(M),{ref:e,x:j,y:$,className:Tt("recharts-text",T),textAnchor:h,fill:u.includes("url")?fL:u}),b.map((k,U)=>{var L=k.words.join(I?"":" ");return C.createElement("tspan",{x:j,dy:U===0?B:s,key:"".concat(L,"-").concat(U)},L)}))});TE.displayName="Text";var sne=["labelRef"];function one(t,e){if(t==null)return{};var n,r,i=lne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){cne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cne(t,e,n){return(e=une(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function une(t){var e=fne(t,"string");return typeof e=="symbol"?e:e+""}function fne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pa(){return Pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pa.apply(null,arguments)}var dL=C.createContext(null),dne=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:u}=t,d=C.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return C.createElement(dL.Provider,{value:d},u)},hL=()=>{var t=C.useContext(dL),e=cy();return t||_k(e)},hne=C.createContext(null),mne=()=>{var t=C.useContext(hne),e=Ne(F4);return t||e},pne=t=>{var{value:e,formatter:n}=t,r=wn(t.children)?e:t.children;return typeof n=="function"?n(r):r},AE=t=>t!=null&&typeof t=="function",gne=(t,e)=>{var n=fr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},yne=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:u,cy:d,innerRadius:h,outerRadius:m,startAngle:g,endAngle:b,clockWise:x}=i,S=(h+m)/2,E=gne(g,b),T=E>=0?1:-1,I,M;switch(e){case"insideStart":I=g+T*s,M=x;break;case"insideEnd":I=b-T*s,M=!x;break;case"end":I=b+T*s,M=x;break;default:throw new Error("Unsupported position ".concat(e))}M=E<=0?M:!M;var j=jn(u,d,S,I),$=jn(u,d,S,I+(M?1:-1)*359),B="M".concat(j.x,",").concat(j.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(M?0:1,`,
    `).concat($.x,",").concat($.y),F=wn(t.id)?Qf("recharts-radial-line-"):t.id;return C.createElement("text",Pa({},r,{dominantBaseline:"central",className:Tt("recharts-radial-bar-label",l)}),C.createElement("defs",null,C.createElement("path",{id:F,d:B})),C.createElement("textPath",{xlinkHref:"#".concat(F)},n))},vne=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:u,endAngle:d}=t,h=(u+d)/2;if(n==="outside"){var{x:m,y:g}=jn(r,i,l+e,h);return{x:m,y:g,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x,y:S}=jn(r,i,b,h);return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Zx=t=>"cx"in t&&Oe(t.cx),bne=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!Zx(n)&&(s=n);var{x:l,y:u,upperWidth:d,lowerWidth:h,height:m}=e,g=l,b=l+(d-h)/2,x=(g+b)/2,S=(d+h)/2,E=g+d/2,T=m>=0?1:-1,I=T*r,M=T>0?"end":"start",j=T>0?"start":"end",$=d>=0?1:-1,B=$*r,F=$>0?"end":"start",N=$>0?"start":"end";if(i==="top"){var P={x:g+d/2,y:u-I,textAnchor:"middle",verticalAnchor:M};return Bt(Bt({},P),s?{height:Math.max(u-s.y,0),width:d}:{})}if(i==="bottom"){var k={x:b+h/2,y:u+m+I,textAnchor:"middle",verticalAnchor:j};return Bt(Bt({},k),s?{height:Math.max(s.y+s.height-(u+m),0),width:h}:{})}if(i==="left"){var U={x:x-B,y:u+m/2,textAnchor:F,verticalAnchor:"middle"};return Bt(Bt({},U),s?{width:Math.max(U.x-s.x,0),height:m}:{})}if(i==="right"){var L={x:x+S+B,y:u+m/2,textAnchor:N,verticalAnchor:"middle"};return Bt(Bt({},L),s?{width:Math.max(s.x+s.width-L.x,0),height:m}:{})}var V=s?{width:S,height:m}:{};return i==="insideLeft"?Bt({x:x+B,y:u+m/2,textAnchor:N,verticalAnchor:"middle"},V):i==="insideRight"?Bt({x:x+S-B,y:u+m/2,textAnchor:F,verticalAnchor:"middle"},V):i==="insideTop"?Bt({x:g+d/2,y:u+I,textAnchor:"middle",verticalAnchor:j},V):i==="insideBottom"?Bt({x:b+h/2,y:u+m-I,textAnchor:"middle",verticalAnchor:M},V):i==="insideTopLeft"?Bt({x:g+B,y:u+I,textAnchor:N,verticalAnchor:j},V):i==="insideTopRight"?Bt({x:g+d-B,y:u+I,textAnchor:F,verticalAnchor:j},V):i==="insideBottomLeft"?Bt({x:b+B,y:u+m-I,textAnchor:N,verticalAnchor:M},V):i==="insideBottomRight"?Bt({x:b+h-B,y:u+m-I,textAnchor:F,verticalAnchor:M},V):i&&typeof i=="object"&&(Oe(i.x)||Ha(i.x))&&(Oe(i.y)||Ha(i.y))?Bt({x:l+Si(i.x,S),y:u+Si(i.y,m),textAnchor:"end",verticalAnchor:"end"},V):Bt({x:E,y:u+m/2,textAnchor:"middle",verticalAnchor:"middle"},V)},_ne={angle:0,offset:5,zIndex:Qn.label,position:"middle",textBreakAll:!1};function Bs(t){var e=Rr(t,_ne),{viewBox:n,position:r,value:i,children:s,content:l,className:u="",textBreakAll:d,labelRef:h}=e,m=mne(),g=hL(),b=r==="center"?g:m??g,x,S,E;if(n==null?x=b:Zx(n)?x=n:x=_k(n),!x||wn(i)&&wn(s)&&!C.isValidElement(l)&&typeof l!="function")return null;var T=Bt(Bt({},e),{},{viewBox:x});if(C.isValidElement(l)){var{labelRef:I}=T,M=one(T,sne);return C.cloneElement(l,M)}if(typeof l=="function"){if(S=C.createElement(l,T),C.isValidElement(S))return S}else S=pne(e);var j=Qr(e);if(Zx(x)){if(r==="insideStart"||r==="insideEnd"||r==="end")return yne(e,r,S,j,x);E=vne(x,e.offset,e.position)}else E=bne(e,x);return C.createElement(as,{zIndex:e.zIndex},C.createElement(TE,Pa({ref:h,className:Tt("recharts-label",u)},j,E,{textAnchor:tne(j.textAnchor)?j.textAnchor:E.textAnchor,breakAll:d}),S))}Bs.displayName="Label";var xne=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?C.createElement(Bs,Pa({key:"label-implicit"},r)):aa(t)?C.createElement(Bs,Pa({key:"label-implicit",value:t},r)):C.isValidElement(t)?t.type===Bs?C.cloneElement(t,Bt({key:"label-implicit"},r)):C.createElement(Bs,Pa({key:"label-implicit",content:t},r)):AE(t)?C.createElement(Bs,Pa({key:"label-implicit",content:t},r)):t&&typeof t=="object"?C.createElement(Bs,Pa({},t,{key:"label-implicit"},r)):null};function wne(t){var{label:e,labelRef:n}=t,r=hL();return xne(e,r,n)||null}var g_={},y_={},PR;function Ene(){return PR||(PR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(y_)),y_}var v_={},DR;function Sne(){return DR||(DR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(v_)),v_}var MR;function Tne(){return MR||(MR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ene(),n=Sne(),r=uw();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(g_)),g_}var b_,jR;function Ane(){return jR||(jR=1,b_=Tne().last),b_}var Cne=Ane();const One=la(Cne);var Ine=["valueAccessor"],Nne=["dataKey","clockWise","id","textBreakAll","zIndex"];function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(null,arguments)}function kR(t,e){if(t==null)return{};var n,r,i=Rne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Pne=t=>Array.isArray(t.value)?One(t.value):t.value,mL=C.createContext(void 0),Dne=mL.Provider,pL=C.createContext(void 0);pL.Provider;function Mne(){return C.useContext(mL)}function jne(){return C.useContext(pL)}function cp(t){var{valueAccessor:e=Pne}=t,n=kR(t,Ine),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:u}=n,d=kR(n,Nne),h=Mne(),m=jne(),g=h||m;return!g||!g.length?null:C.createElement(as,{zIndex:u??Qn.label},C.createElement(Fa,{className:"recharts-label-list"},g.map((b,x)=>{var S,E=wn(r)?e(b,x):Hn(b&&b.payload,r),T=wn(s)?{}:{id:"".concat(s,"-").concat(x)};return C.createElement(Bs,vg({key:"label-".concat(x)},Qr(b),d,T,{fill:(S=n.fill)!==null&&S!==void 0?S:b.fill,parentViewBox:b.parentViewBox,value:E,textBreakAll:l,viewBox:b.viewBox,index:x,zIndex:0}))})))}cp.displayName="LabelList";function kne(t){var{label:e}=t;return e?e===!0?C.createElement(cp,{key:"labelList-implicit"}):C.isValidElement(e)||AE(e)?C.createElement(cp,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(cp,vg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Lne={radiusAxis:{},angleAxis:{}},gL=hr({name:"polarAxis",initialState:Lne,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Doe,removeRadiusAxis:Moe,addAngleAxis:joe,removeAngleAxis:koe}=gL.actions,zne=gL.reducer,__={exports:{}},gt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LR;function Vne(){if(LR)return gt;LR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var T=E.$$typeof;switch(T){case t:switch(E=E.type,E){case n:case i:case r:case d:case h:case b:return E;default:switch(E=E&&E.$$typeof,E){case l:case u:case g:case m:return E;case s:return E;default:return T}}case e:return T}}}return gt.ContextConsumer=s,gt.ContextProvider=l,gt.Element=t,gt.ForwardRef=u,gt.Fragment=n,gt.Lazy=g,gt.Memo=m,gt.Portal=e,gt.Profiler=i,gt.StrictMode=r,gt.Suspense=d,gt.SuspenseList=h,gt.isContextConsumer=function(E){return S(E)===s},gt.isContextProvider=function(E){return S(E)===l},gt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},gt.isForwardRef=function(E){return S(E)===u},gt.isFragment=function(E){return S(E)===n},gt.isLazy=function(E){return S(E)===g},gt.isMemo=function(E){return S(E)===m},gt.isPortal=function(E){return S(E)===e},gt.isProfiler=function(E){return S(E)===i},gt.isStrictMode=function(E){return S(E)===r},gt.isSuspense=function(E){return S(E)===d},gt.isSuspenseList=function(E){return S(E)===h},gt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===d||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===m||E.$$typeof===l||E.$$typeof===s||E.$$typeof===u||E.$$typeof===x||E.getModuleId!==void 0)},gt.typeOf=S,gt}var zR;function Une(){return zR||(zR=1,__.exports=Vne()),__.exports}var Bne=Une(),VR=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",UR=null,x_=null,yL=t=>{if(t===UR&&Array.isArray(x_))return x_;var e=[];return C.Children.forEach(t,n=>{wn(n)||(Bne.isFragment(n)?e=e.concat(yL(n.props.children)):e.push(n))}),x_=e,UR=t,e};function qne(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>VR(i)):r=[VR(e)],yL(t).forEach(i=>{var s=Vc(i,"type.displayName")||Vc(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var w_={},BR;function $ne(){return BR||(BR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(w_)),w_}var E_,qR;function Fne(){return qR||(qR=1,E_=$ne().isPlainObject),E_}var Hne=Fne();const Gne=la(Hne);function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){Kne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kne(t,e,n){return(e=Yne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yne(t){var e=Wne(t,"string");return typeof e=="symbol"?e:e+""}function Wne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(null,arguments)}var HR=(t,e,n,r,i)=>{var s=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-s/2,",").concat(e+i),l+="L ".concat(t+n-s/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},Xne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qne=t=>{var e=Rr(t,Xne),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:u}=e,{animationEasing:d,animationDuration:h,animationBegin:m,isUpdateAnimationActive:g}=e,b=C.useRef(null),[x,S]=C.useState(-1),E=C.useRef(i),T=C.useRef(s),I=C.useRef(l),M=C.useRef(n),j=C.useRef(r),$=Tw(t,"trapezoid-");if(C.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var ue=b.current.getTotalLength();ue&&S(ue)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var B=Tt("recharts-trapezoid",u);if(!g)return C.createElement("g",null,C.createElement("path",bg({},Qr(e),{className:B,d:HR(n,r,i,s,l)})));var F=E.current,N=T.current,P=I.current,k=M.current,U=j.current,L="0px ".concat(x===-1?1:x,"px"),V="".concat(x,"px 0px"),R=Dk(["strokeDasharray"],h,d);return C.createElement(Sw,{animationId:$,key:$,canBegin:x>0,duration:h,easing:d,isActive:g,begin:m},ue=>{var pe=Dn(F,i,ue),G=Dn(N,s,ue),te=Dn(P,l,ue),se=Dn(k,n,ue),X=Dn(U,r,ue);b.current&&(E.current=pe,T.current=G,I.current=te,M.current=se,j.current=X);var ve=ue>0?{transition:R,strokeDasharray:V}:{strokeDasharray:L};return C.createElement("path",bg({},Qr(e),{className:B,d:HR(se,X,pe,G,te),ref:b,style:FR(FR({},ve),e.style)}))})},Zne=["option","shapeType","propTransformer","activeClassName"];function Jne(t,e){if(t==null)return{};var n,r,i=ere(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ere(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function GR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(n),!0).forEach(function(r){tre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tre(t,e,n){return(e=nre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nre(t){var e=rre(t,"string");return typeof e=="symbol"?e:e+""}function rre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ire(t,e){return _g(_g({},e),t)}function are(t,e){return t==="symbols"}function KR(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return C.createElement(Lk,n);case"trapezoid":return C.createElement(Qne,n);case"sector":return C.createElement(Uk,n);case"symbols":if(are(e))return C.createElement(wj,n);break;case"curve":return C.createElement(Pk,n);default:return null}}function sre(t){return C.isValidElement(t)?t.props:t}function ore(t){var{option:e,shapeType:n,propTransformer:r=ire,activeClassName:i="recharts-active-shape"}=t,s=Jne(t,Zne),l;if(C.isValidElement(e))l=C.cloneElement(e,_g(_g({},s),sre(e)));else if(typeof e=="function")l=e(s,s.index);else if(Gne(e)&&typeof e!="boolean"){var u=r(e,s);l=C.createElement(KR,{shapeType:n,elementProps:u})}else{var d=s;l=C.createElement(KR,{shapeType:n,elementProps:d})}return s.isActive?C.createElement(Fa,{className:i},l):l}var vL=(t,e,n)=>{var r=Ft();return(i,s)=>l=>{t==null||t(i,s,l),r(D3({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},bL=t=>{var e=Ft();return(n,r)=>i=>{t==null||t(n,r,i),e(IJ())}},_L=(t,e,n)=>{var r=Ft();return(i,s)=>l=>{t==null||t(i,s,l),r(NJ({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function lre(t){var{tooltipEntrySettings:e}=t,n=Ft(),r=mr(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(TJ(e)):i.current!==e&&n(AJ({prev:i.current,next:e})),i.current=e)},[e,n,r]),C.useLayoutEffect(()=>()=>{i.current&&(n(CJ(i.current)),i.current=null)},[n]),null}function cre(t){var{legendPayload:e}=t,n=Ft(),r=mr(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(sY(e)):i.current!==e&&n(oY({prev:i.current,next:e})),i.current=e)},[n,r,e]),C.useLayoutEffect(()=>()=>{i.current&&(n(lY(i.current)),i.current=null)},[n]),null}var S_,ure=()=>{var[t]=C.useState(()=>Qf("uid-"));return t},fre=(S_=R5.useId)!==null&&S_!==void 0?S_:ure;function xL(t,e){var n=fre();return e||(t?"".concat(t,"-").concat(n):n)}var dre=C.createContext(void 0),hre=t=>{var{id:e,type:n,children:r}=t,i=xL("recharts-".concat(n),e);return C.createElement(dre.Provider,{value:i},r(i))},mre={cartesianItems:[],polarItems:[]},wL=hr({name:"graphicalItems",initialState:mre,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:It()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=xi(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:It()},removeCartesianGraphicalItem:{reducer(t,e){var n=xi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:It()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:It()},removePolarGraphicalItem:{reducer(t,e){var n=xi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:It()}}}),{addCartesianGraphicalItem:pre,replaceCartesianGraphicalItem:gre,removeCartesianGraphicalItem:yre,addPolarGraphicalItem:Loe,removePolarGraphicalItem:zoe}=wL.actions,vre=wL.reducer,bre=t=>{var e=Ft(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?e(pre(t)):n.current!==t&&e(gre({prev:n.current,next:t})),n.current=t},[e,t]),C.useLayoutEffect(()=>()=>{n.current&&(e(yre(n.current)),n.current=null)},[e]),null},_re=C.memo(bre);function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xre(t,e,n){return(e=wre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wre(t){var e=Ere(t,"string");return typeof e=="symbol"?e:e+""}function Ere(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sre={xAxis:{},yAxis:{},zAxis:{}},EL=hr({name:"cartesianAxis",initialState:Sre,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:It()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:It()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:It()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:It()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:It()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:It()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:It()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:It()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:It()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=WR(WR({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:Tre,replaceXAxis:Are,removeXAxis:Cre,addYAxis:Ore,replaceYAxis:Ire,removeYAxis:Nre,addZAxis:Voe,replaceZAxis:Uoe,removeZAxis:Boe,updateYAxisWidth:Rre}=EL.actions,Pre=EL.reducer,Dre=ie([En],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Mre=ie([Dre,Ja,es],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),SL=()=>Ne(Mre),jre="Invariant failed";function kre(t,e){throw new Error(jre)}var Lre=["x","y"];function Jx(){return Jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jx.apply(null,arguments)}function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ef(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){zre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zre(t,e,n){return(e=Vre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vre(t){var e=Ure(t,"string");return typeof e=="symbol"?e:e+""}function Ure(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bre(t,e){if(t==null)return{};var n,r,i=qre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $re(t,e){var{x:n,y:r}=t,i=Bre(t,Lre),s="".concat(n),l=parseInt(s,10),u="".concat(r),d=parseInt(u,10),h="".concat(e.height||i.height),m=parseInt(h,10),g="".concat(e.width||i.width),b=parseInt(g,10);return Ef(Ef(Ef(Ef(Ef({},e),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:m,width:b,name:e.name,radius:e.radius})}function xg(t){return C.createElement(ore,Jx({shapeType:"rectangle",propTransformer:$re,activeClassName:"recharts-active-bar"},t))}var Fre=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Oe(e))return e;var s=Oe(r)||wn(r);return s?e(r,i):(s||kre(),n)}},Hre={},TL=hr({name:"errorBars",initialState:Hre,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:qoe,replaceErrorBar:$oe,removeErrorBar:Foe}=TL.actions,Gre=TL.reducer,Kre=["children"];function Yre(t,e){if(t==null)return{};var n,r,i=Wre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xre={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Qre=C.createContext(Xre);function Zre(t){var{children:e}=t,n=Yre(t,Kre);return C.createElement(Qre.Provider,{value:n},e)}function AL(t,e){var n,r,i=Ne(h=>ns(h,t)),s=Ne(h=>rs(h,e)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:yn.allowDataOverflow,u=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:vn.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function Jre(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=SL(),{needClipX:s,needClipY:l,needClip:u}=AL(e,n);if(!u||!i)return null;var{x:d,y:h,width:m,height:g}=i;return C.createElement("clipPath",{id:"clipPath-".concat(r)},C.createElement("rect",{x:s?d:d-m/2,y:l?h:h-g/2,width:s?m:m*2,height:l?g:g*2}))}function eie(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&$t(t.zIndex)?t.zIndex:e}var T_={exports:{}},A_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QR;function tie(){if(QR)return A_;QR=1;var t=Wc();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return A_.useSyncExternalStoreWithSelector=function(d,h,m,g,b){var x=i(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=l(function(){function T(B){if(!I){if(I=!0,M=B,B=g(B),b!==void 0&&S.hasValue){var F=S.value;if(b(F,B))return j=F}return j=B}if(F=j,n(M,B))return F;var N=g(B);return b!==void 0&&b(F,N)?(M=B,F):(M=B,j=N)}var I=!1,M,j,$=m===void 0?null:m;return[function(){return T(h())},$===null?void 0:function(){return T($())}]},[h,m,g,b]);var E=r(d,x[0],x[1]);return s(function(){S.hasValue=!0,S.value=E},[E]),u(E),E},A_}var ZR;function nie(){return ZR||(ZR=1,T_.exports=tie()),T_.exports}nie();function rie(t){t()}function iie(){let t=null,e=null;return{clear(){t=null,e=null},notify(){rie(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var JR={notify(){},get:()=>[]};function aie(t,e){let n,r=JR,i=0,s=!1;function l(E){m();const T=r.subscribe(E);let I=!1;return()=>{I||(I=!0,T(),g())}}function u(){r.notify()}function d(){S.onStateChange&&S.onStateChange()}function h(){return s}function m(){i++,n||(n=t.subscribe(d),r=iie())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=JR)}function b(){s||(s=!0,m())}function x(){s&&(s=!1,g())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:h,trySubscribe:b,tryUnsubscribe:x,getListeners:()=>r};return S}var sie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oie=sie(),lie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",cie=lie(),uie=()=>oie||cie?C.useLayoutEffect:C.useEffect,fie=uie();function eP(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function die(t,e){if(eP(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!eP(t[n[i]],e[n[i]]))return!1;return!0}var C_=Symbol.for("react-redux-context"),O_=typeof globalThis<"u"?globalThis:{};function hie(){if(!C.createContext)return{};const t=O_[C_]??(O_[C_]=new Map);let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var mie=hie();function pie(t){const{children:e,context:n,serverState:r,store:i}=t,s=C.useMemo(()=>{const d=aie(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=C.useMemo(()=>i.getState(),[i]);fie(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const u=n||mie;return C.createElement(u.Provider,{value:s},e)}var gie=pie,yie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function vie(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function CE(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(yie.has(r)){if(t[r]==null&&e[r]==null)continue;if(!die(t[r],e[r]))return!1}else if(!vie(t[r],e[r]))return!1;return!0}var bie=["onMouseEnter","onMouseLeave","onClick"],_ie=["value","background","tooltipPosition"],xie=["id"],wie=["onMouseEnter","onClick","onMouseLeave"];function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qa.apply(null,arguments)}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){Eie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eie(t,e,n){return(e=Sie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sie(t){var e=Tie(t,"string");return typeof e=="symbol"?e:e+""}function Tie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wg(t,e){if(t==null)return{};var n,r,i=Aie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Aie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cie=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:pk(n,e),payload:t}]},Oie=C.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:u,tooltipType:d}=t,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:pk(s,e),hide:l,type:d,color:i,unit:u}};return C.createElement(lre,{tooltipEntrySettings:h})});function Iie(t){var e=Ne(Yc),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:u,onClick:d}=s,h=wg(s,bie),m=vL(l,r),g=bL(u),b=_L(d,r);if(!i||n==null)return null;var x=nw(i);return C.createElement(as,{zIndex:eie(i,Qn.barBackground)},n.map((S,E)=>{var{value:T,background:I,tooltipPosition:M}=S,j=wg(S,_ie);if(!I)return null;var $=m(S,E),B=g(S,E),F=b(S,E),N=Wn(Wn(Wn(Wn(Wn({option:i,isActive:String(E)===e},j),{},{fill:"#eee"},I),x),cw(h,S,E)),{},{onMouseEnter:$,onMouseLeave:B,onClick:F,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return C.createElement(xg,Qa({key:"background-bar-".concat(E)},N))}))}function Nie(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Wn(Wn({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return C.createElement(Dne,{value:e?i:void 0},n)}function Rie(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,u=Ne(Yc),d=Ne(K3),h=n&&String(s)===u&&(d==null||l===d),m=h?n:e;return h?C.createElement(as,{zIndex:Qn.activeBar},C.createElement(xg,Qa({},r,{name:String(r.name)},i,{isActive:h,option:m,index:s,dataKey:l}))):C.createElement(xg,Qa({},r,{name:String(r.name)},i,{isActive:h,option:m,index:s,dataKey:l}))}function Pie(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return C.createElement(xg,Qa({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function Die(t){var e,{data:n,props:r}=t,i=(e=$a(r))!==null&&e!==void 0?e:{},{id:s}=i,l=wg(i,xie),{shape:u,dataKey:d,activeBar:h}=r,{onMouseEnter:m,onClick:g,onMouseLeave:b}=r,x=wg(r,wie),S=vL(m,d),E=bL(b),T=_L(g,d);return n?C.createElement(C.Fragment,null,n.map((I,M)=>C.createElement(Fa,Qa({key:"rectangle-".concat(I==null?void 0:I.x,"-").concat(I==null?void 0:I.y,"-").concat(I==null?void 0:I.value,"-").concat(M),className:"recharts-bar-rectangle"},cw(x,I,M),{onMouseEnter:S(I,M),onMouseLeave:E(I,M),onClick:T(I,M)}),h?C.createElement(Rie,{shape:u,activeBar:h,baseProps:l,entry:I,index:M,dataKey:d}):C.createElement(Pie,{shape:u,baseProps:l,entry:I,index:M,dataKey:d})))):null}function Mie(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:h,onAnimationStart:m}=e,g=n.current,b=Tw(e,"recharts-bar-"),[x,S]=C.useState(!1),E=!x,T=C.useCallback(()=>{typeof h=="function"&&h(),S(!1)},[h]),I=C.useCallback(()=>{typeof m=="function"&&m(),S(!0)},[m]);return C.createElement(Nie,{showLabels:E,rects:r},C.createElement(Sw,{animationId:b,begin:l,duration:u,isActive:s,easing:d,onAnimationEnd:T,onAnimationStart:I,key:b},M=>{var j=M===1?r:r==null?void 0:r.map(($,B)=>{var F=g&&g[B];if(F)return Wn(Wn({},$),{},{x:Dn(F.x,$.x,M),y:Dn(F.y,$.y,M),width:Dn(F.width,$.width,M),height:Dn(F.height,$.height,M)});if(i==="horizontal"){var N=Dn(0,$.height,M),P=Dn($.stackedBarStart,$.y,M);return Wn(Wn({},$),{},{y:P,height:N})}var k=Dn(0,$.width,M),U=Dn($.stackedBarStart,$.x,M);return Wn(Wn({},$),{},{width:k,x:U})});return M>0&&(n.current=j??null),j==null?null:C.createElement(Fa,null,C.createElement(Die,{props:e,data:j}))}),C.createElement(kne,{label:e.label}),e.children)}function jie(t){var e=C.useRef(null);return C.createElement(Mie,{previousRectanglesRef:e,props:t})}var CL=0,kie=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Hn(t,e)}};class Lie extends C.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:u,background:d,id:h}=this.props;if(e||n==null)return null;var m=Tt("recharts-bar",i),g=h;return C.createElement(Fa,{className:m,id:h},u&&C.createElement("defs",null,C.createElement(Jre,{clipPathId:g,xAxisId:s,yAxisId:l})),C.createElement(Fa,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},C.createElement(Iie,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),C.createElement(jie,this.props)))}}var zie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:CL,xAxisId:0,yAxisId:0,zIndex:Qn.bar};function Vie(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:m}=t,{needClip:g}=AL(e,n),b=uy(),x=mr(),S=qne(t.children,rL),E=Ne(M=>hae(M,e,n,x,t.id,S));if(b!=="vertical"&&b!=="horizontal")return null;var T,I=E==null?void 0:E[0];return I==null||I.height==null||I.width==null?T=0:T=b==="vertical"?I.height/2:I.width/2,C.createElement(Zre,{xAxisId:e,yAxisId:n,data:E,dataPointFormatter:kie,errorBarOffset:T},C.createElement(Lie,Qa({},t,{layout:b,needClip:g,data:E,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:m})))}function Uie(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:h,stackedData:m,displayedData:g,offset:b,cells:x,parentViewBox:S,dataStartIndex:E}=t,T=e==="horizontal"?u:l,I=m?T.scale.domain():null,M=cK({numericAxis:T}),j=T.scale(M);return g.map(($,B)=>{var F,N,P,k,U,L;m?F=rK(m[B+E],I):(F=Hn($,n),Array.isArray(F)||(F=[M,F]));var V=Fre(r,CL)(F[1],B);if(e==="horizontal"){var R,[ue,pe]=[u.scale(F[0]),u.scale(F[1])];N=AI({axis:l,ticks:d,bandSize:s,offset:i.offset,entry:$,index:B}),P=(R=pe??ue)!==null&&R!==void 0?R:void 0,k=i.size;var G=ue-pe;if(U=Ei(G)?0:G,L={x:N,y:b.top,width:k,height:b.height},Math.abs(V)>0&&Math.abs(U)<Math.abs(V)){var te=fr(U||V)*(Math.abs(V)-Math.abs(U));P-=te,U+=te}}else{var[se,X]=[l.scale(F[0]),l.scale(F[1])];if(N=se,P=AI({axis:u,ticks:h,bandSize:s,offset:i.offset,entry:$,index:B}),k=X-se,U=i.size,L={x:b.left,y:P,width:b.width,height:U},Math.abs(V)>0&&Math.abs(k)<Math.abs(V)){var ve=fr(k||V)*(Math.abs(V)-Math.abs(k));k+=ve}}if(N==null||P==null||k==null||U==null)return null;var q=Wn(Wn({},$),{},{stackedBarStart:j,x:N,y:P,width:k,height:U,value:m?F:F[1],payload:$,background:L,tooltipPosition:{x:N+k/2,y:P+U/2},parentViewBox:S},x&&x[B]&&x[B].props);return q}).filter(Boolean)}function Bie(t){var e=Rr(t,zie),n=mr();return C.createElement(hre,{id:e.id,type:"bar"},r=>C.createElement(C.Fragment,null,C.createElement(cre,{legendPayload:Cie(e)}),C.createElement(Oie,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),C.createElement(_re,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:lK(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),C.createElement(as,{zIndex:e.zIndex},C.createElement(Vie,Qa({},e,{id:r})))))}var OL=C.memo(Bie,CE);OL.displayName="Bar";function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){qie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qie(t,e,n){return(e=$ie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ie(t){var e=Fie(t,"string");return typeof e=="symbol"?e:e+""}function Fie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hie=(t,e)=>e,Gie=(t,e,n)=>n,Kie=(t,e,n,r)=>r,Yie=(t,e,n,r,i)=>i,Kd=ie([sE,Yie],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Wie=ie([Kd],t=>t==null?void 0:t.maxBarSize),Xie=(t,e,n,r,i,s)=>s,rP=(t,e,n)=>{var r=n??t;if(!wn(r))return Si(r,e,0)},Qie=ie([ft,sE,Hie,Gie,Kie],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Zie=(t,e,n,r)=>{var i=ft(t);return i==="horizontal"?Gx(t,"yAxis",n,r):Gx(t,"xAxis",e,r)},Jie=(t,e,n)=>{var r=ft(t);return r==="horizontal"?rR(t,"xAxis",e):rR(t,"yAxis",n)},eae=(t,e,n)=>{var r={},i=t.filter(Ty),s=t.filter(h=>h.stackId==null),l=i.reduce((h,m)=>(h[m.stackId]||(h[m.stackId]=[]),h[m.stackId].push(m),h),r),u=Object.entries(l).map(h=>{var[m,g]=h,b=g.map(S=>S.dataKey),x=rP(e,n,g[0].barSize);return{stackId:m,dataKeys:b,barSize:x}}),d=s.map(h=>{var m=[h.dataKey].filter(b=>b!=null),g=rP(e,n,h.barSize);return{stackId:void 0,dataKeys:m,barSize:g}});return[...u,...d]},tae=ie([Qie,vZ,Jie],eae),nae=(t,e,n,r,i)=>{var s,l,u=Kd(t,e,n,r,i);if(u!=null){var d=ft(t),h=k4(t),{maxBarSize:m}=u,g=wn(m)?h:m,b,x;return d==="horizontal"?(b=Kc(t,"xAxis",e,r),x=Gc(t,"xAxis",e,r)):(b=Kc(t,"yAxis",n,r),x=Gc(t,"yAxis",n,r)),(s=(l=Wp(b,x,!0))!==null&&l!==void 0?l:g)!==null&&s!==void 0?s:0}},IL=(t,e,n,r)=>{var i=ft(t),s,l;return i==="horizontal"?(s=Kc(t,"xAxis",e,r),l=Gc(t,"xAxis",e,r)):(s=Kc(t,"yAxis",n,r),l=Gc(t,"yAxis",n,r)),Wp(s,l)};function rae(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=Si(t,n,0,!0),u,d=[];if($t(r[0].barSize)){var h=!1,m=n/s,g=r.reduce((I,M)=>I+(M.barSize||0),0);g+=(s-1)*l,g>=n&&(g-=(s-1)*l,l=0),g>=n&&m>0&&(h=!0,m*=.9,g=s*m);var b=(n-g)/2>>0,x={offset:b-l,size:0};u=r.reduce((I,M)=>{var j,$={stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:x.offset+x.size+l,size:h?m:(j=M.barSize)!==null&&j!==void 0?j:0}},B=[...I,$];return x=B[B.length-1].position,B},d)}else{var S=Si(e,n,0,!0);n-2*S-(s-1)*l<=0&&(l=0);var E=(n-2*S-(s-1)*l)/s;E>1&&(E>>=0);var T=$t(i)?Math.min(E,i):E;u=r.reduce((I,M,j)=>[...I,{stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:S+(E+l)*j+(E-T)/2,size:T}}],d)}return u}}var iae=(t,e,n,r,i,s,l)=>{var u=wn(l)?e:l,d=rae(n,r,i!==s?i:s,t,u);return i!==s&&d!=null&&(d=d.map(h=>Hm(Hm({},h),{},{position:Hm(Hm({},h.position),{},{offset:h.position.offset-i/2})}))),d},aae=ie([tae,k4,yZ,L4,nae,IL,Wie],iae),sae=(t,e,n,r)=>Kc(t,"xAxis",e,r),oae=(t,e,n,r)=>Kc(t,"yAxis",n,r),lae=(t,e,n,r)=>Gc(t,"xAxis",e,r),cae=(t,e,n,r)=>Gc(t,"yAxis",n,r),uae=ie([aae,Kd],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),fae=(t,e)=>{var n=iE(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}},dae=ie([Zie,Kd],fae),hae=ie([En,_w,sae,oae,lae,cae,uae,ft,Ww,IL,dae,Kd,Xie],(t,e,n,r,i,s,l,u,d,h,m,g,b)=>{var{chartData:x,dataStartIndex:S,dataEndIndex:E}=d;if(!(g==null||l==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:T}=g,I;if(T!=null&&T.length>0?I=T:I=x==null?void 0:x.slice(S,E+1),I!=null)return Uie({layout:u,barSettings:g,pos:l,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:m,displayedData:I,offset:t,cells:b,dataStartIndex:S})}}),mae=t=>{var{chartData:e}=t,n=Ft(),r=mr();return C.useEffect(()=>r?()=>{}:(n(gR(e)),()=>{n(gR(void 0))}),[e,n,r]),null},iP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},NL=hr({name:"brush",initialState:iP,reducers:{setBrushSettings(t,e){return e.payload==null?iP:e.payload}}}),{setBrushSettings:Hoe}=NL.actions,pae=NL.reducer;function gae(t,e,n){return(e=yae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yae(t){var e=vae(t,"string");return typeof e=="symbol"?e:e+""}function vae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class OE{static create(e){return new OE(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}gae(OE,"EPS",1e-4);function bae(t){return(t%180+180)%180}var _ae=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=bae(i),l=s*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},xae={dots:[],areas:[],lines:[]},RL=hr({name:"referenceElements",initialState:xae,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=xi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=xi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=xi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Goe,removeDot:Koe,addArea:Yoe,removeArea:Woe,addLine:Xoe,removeLine:Qoe}=RL.actions,wae=RL.reducer,Eae=C.createContext(void 0),Sae=t=>{var{children:e}=t,[n]=C.useState("".concat(Qf("recharts"),"-clip")),r=SL();if(r==null)return null;var{x:i,y:s,width:l,height:u}=r;return C.createElement(Eae.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:i,y:s,height:u,width:l}))),e)};function PL(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Tae(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return _ae(r,n)}function Aae(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:u}=t;return e===1?{start:r?i:s,end:r?i+l:s+u}:{start:r?i+l:s+u,end:r?i:s}}function Eg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Cae(t,e){return PL(t,e+1)}function Oae(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:u}=e,d=0,h=1,m=l,g=function(){var S=r==null?void 0:r[d];if(S===void 0)return{v:PL(r,h)};var E=d,T,I=()=>(T===void 0&&(T=n(S,E)),T),M=S.coordinate,j=d===0||Eg(t,M,I,m,u);j||(d=0,m=l,h+=1),j&&(m=M+t*(I()/2+i),d+=h)},b;h<=s.length;)if(b=g(),b)return b.v;return[]}function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){Iae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iae(t,e,n){return(e=Nae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nae(t){var e=Rae(t,"string");return typeof e=="symbol"?e:e+""}function Rae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pae(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:u}=e,{end:d}=e,h=function(b){var x=s[b],S,E=()=>(S===void 0&&(S=n(x,b)),S);if(b===l-1){var T=t*(x.coordinate+t*E()/2-d);s[b]=x=Un(Un({},x),{},{tickCoord:T>0?x.coordinate-T*t:x.coordinate})}else s[b]=x=Un(Un({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var I=Eg(t,x.tickCoord,E,u,d);I&&(d=x.tickCoord-t*(E()/2+i),s[b]=Un(Un({},x),{},{isShow:!0}))}},m=l-1;m>=0;m--)h(m);return s}function Dae(t,e,n,r,i,s){var l=(r||[]).slice(),u=l.length,{start:d,end:h}=e;if(s){var m=r[u-1],g=n(m,u-1),b=t*(m.coordinate+t*g/2-h);if(l[u-1]=m=Un(Un({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate}),m.tickCoord!=null){var x=Eg(t,m.tickCoord,()=>g,d,h);x&&(h=m.tickCoord-t*(g/2+i),l[u-1]=Un(Un({},m),{},{isShow:!0}))}}for(var S=s?u-1:u,E=function(M){var j=l[M],$,B=()=>($===void 0&&($=n(j,M)),$);if(M===0){var F=t*(j.coordinate-t*B()/2-d);l[M]=j=Un(Un({},j),{},{tickCoord:F<0?j.coordinate-F*t:j.coordinate})}else l[M]=j=Un(Un({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var N=Eg(t,j.tickCoord,B,d,h);N&&(d=j.tickCoord+t*(B()/2+i),l[M]=Un(Un({},j),{},{isShow:!0}))}},T=0;T<S;T++)E(T);return l}function IE(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:u,interval:d,tickFormatter:h,unit:m,angle:g}=t;if(!i||!i.length||!r)return[];if(Oe(d)||Dd.isSsr){var b;return(b=Cae(i,Oe(d)?d:0))!==null&&b!==void 0?b:[]}var x=[],S=u==="top"||u==="bottom"?"width":"height",E=m&&S==="width"?Lf(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},T=(j,$)=>{var B=typeof h=="function"?h(j.value,$):j.value;return S==="width"?Tae(Lf(B,{fontSize:e,letterSpacing:n}),E,g):Lf(B,{fontSize:e,letterSpacing:n})[S]},I=i.length>=2?fr(i[1].coordinate-i[0].coordinate):1,M=Aae(s,I,S);return d==="equidistantPreserveStart"?Oae(I,M,T,i,l):(d==="preserveStart"||d==="preserveStartEnd"?x=Dae(I,M,T,i,l,d==="preserveStartEnd"):x=Pae(I,M,T,i,l),x.filter(j=>j.isShow))}var Mae=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+s,h=l+d+u+(n?r:0);return Math.round(h)}return 0},jae=["axisLine","width","height","className","hide","ticks","axisType"];function kae(t,e){if(t==null)return{};var n,r,i=Lae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ml(){return ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ml.apply(null,arguments)}function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){zae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zae(t,e,n){return(e=Vae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vae(t){var e=Uae(t,"string");return typeof e=="symbol"?e:e+""}function Uae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var za={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Qn.axis};function Bae(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:u,otherSvgProps:d}=t;if(!u)return null;var h=en(en(en({},d),$a(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var m=+(s==="top"&&!l||s==="bottom"&&l);h=en(en({},h),{},{x1:e,y1:n+m*i,x2:e+r,y2:n+m*i})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=en(en({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return C.createElement("line",ml({},h,{className:Tt("recharts-cartesian-axis-line",Vc(u,"className"))}))}function qae(t,e,n,r,i,s,l,u,d){var h,m,g,b,x,S,E=u?-1:1,T=t.tickSize||l,I=Oe(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=m=t.coordinate,b=n+ +!u*i,g=b-E*T,S=g-E*d,x=I;break;case"left":g=b=t.coordinate,m=e+ +!u*r,h=m-E*T,x=h-E*d,S=I;break;case"right":g=b=t.coordinate,m=e+ +u*r,h=m+E*T,x=h+E*d,S=I;break;default:h=m=t.coordinate,b=n+ +u*i,g=b+E*T,S=g+E*d,x=I;break}return{line:{x1:h,y1:g,x2:m,y2:b},tick:{x,y:S}}}function $ae(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Fae(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Hae(t){var{option:e,tickProps:n,value:r}=t,i,s=Tt(n.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))i=C.cloneElement(e,en(en({},n),{},{className:s}));else if(typeof e=="function")i=e(en(en({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=Tt(l,e==null?void 0:e.className)),i=C.createElement(TE,ml({},n,{className:l}),r)}return i}var Gae=C.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:u,padding:d,tickTextProps:h,orientation:m,mirror:g,x:b,y:x,width:S,height:E,tickSize:T,tickMargin:I,fontSize:M,letterSpacing:j,getTicksConfig:$,events:B,axisType:F}=t,N=IE(en(en({},$),{},{ticks:n}),M,j),P=$ae(m,g),k=Fae(m,g),U=$a($),L=nw(r),V={};typeof i=="object"&&(V=i);var R=en(en({},U),{},{fill:"none"},V),ue=N.map(te=>en({entry:te},qae(te,b,x,S,E,m,T,g,I))),pe=ue.map(te=>{var{entry:se,line:X}=te;return C.createElement(Fa,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(se.value,"-").concat(se.coordinate,"-").concat(se.tickCoord)},i&&C.createElement("line",ml({},R,X,{className:Tt("recharts-cartesian-axis-tick-line",Vc(i,"className"))})))}),G=ue.map((te,se)=>{var{entry:X,tick:ve}=te,q=en(en(en(en({textAnchor:P,verticalAnchor:k},U),{},{stroke:"none",fill:s},L),ve),{},{index:se,payload:X,visibleTicksCount:N.length,tickFormatter:l,padding:d},h);return C.createElement(Fa,ml({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(X.value,"-").concat(X.coordinate,"-").concat(X.tickCoord)},cw(B,X,se)),r&&C.createElement(Hae,{option:r,tickProps:q,value:"".concat(typeof l=="function"?l(X.value,se):X.value).concat(u||"")}))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(F,"-ticks")},G.length>0&&C.createElement(as,{zIndex:Qn.label},C.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(F,"-tick-labels"),ref:e},G)),pe.length>0&&C.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(F,"-tick-lines")},pe))}),Kae=C.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:u,axisType:d}=t,h=kae(t,jae),[m,g]=C.useState(""),[b,x]=C.useState(""),S=C.useRef(null);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var T;return Mae({ticks:S.current,label:(T=t.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=C.useCallback(T=>{if(T){var I=T.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=I;var M=I[0];if(M){var j=window.getComputedStyle(M),$=j.fontSize,B=j.letterSpacing;($!==m||B!==b)&&(g($),x(B))}}},[m,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:C.createElement(as,{zIndex:t.zIndex},C.createElement(Fa,{className:Tt("recharts-cartesian-axis",s)},C.createElement(Bae,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:$a(t)}),C.createElement(Gae,{ref:E,axisType:d,events:h,fontSize:m,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),C.createElement(dne,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},C.createElement(wne,{label:t.label,labelRef:t.labelRef}),t.children)))}),NE=C.forwardRef((t,e)=>{var n=Rr(t,za);return C.createElement(Kae,ml({},n,{ref:e}))});NE.displayName="CartesianAxis";var Yae=["x1","y1","x2","y2","key"],Wae=["offset"],Xae=["xAxisId","yAxisId"],Qae=["xAxisId","yAxisId"];function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){Zae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zae(t,e,n){return(e=Jae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jae(t){var e=ese(t,"string");return typeof e=="symbol"?e:e+""}function ese(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xo(){return Xo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xo.apply(null,arguments)}function Sg(t,e){if(t==null)return{};var n,r,i=tse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nse=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:u}=t;return C.createElement("rect",{x:r,y:i,ry:u,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function DL(t){var{option:e,lineItemProps:n}=t,r;if(C.isValidElement(e))r=C.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:l,x2:u,y2:d,key:h}=n,m=Sg(n,Yae),g=(i=$a(m))!==null&&i!==void 0?i:{},{offset:b}=g,x=Sg(g,Wae);r=C.createElement("line",Xo({},x,{x1:s,y1:l,x2:u,y2:d,fill:"none",key:h}))}return r}function rse(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=Sg(t,Xae),d=i.map((h,m)=>{var g=$n($n({},u),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(m),index:m});return C.createElement(DL,{key:"line-".concat(m),option:r,lineItemProps:g})});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function ise(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=Sg(t,Qae),d=i.map((h,m)=>{var g=$n($n({},u),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(m),index:m});return C.createElement(DL,{option:r,lineItemProps:g,key:"line-".concat(m)})});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function ase(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:u,horizontal:d=!0}=t;if(!d||!e||!e.length||u==null)return null;var h=u.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==h[0]&&h.unshift(0);var m=h.map((g,b)=>{var x=!h[b+1],S=x?i+l-g:h[b+1]-g;if(S<=0)return null;var E=b%e.length;return C.createElement("rect",{key:"react-".concat(b),y:g,x:r,height:S,width:s,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function sse(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:u,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var h=d.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==h[0]&&h.unshift(0);var m=h.map((g,b)=>{var x=!h[b+1],S=x?i+l-g:h[b+1]-g;if(S<=0)return null;var E=b%n.length;return C.createElement("rect",{key:"react-".concat(b),x:g,y:s,width:S,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var ose=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return hk(IE($n($n($n({},za),n),{},{ticks:mk(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},lse=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return hk(IE($n($n($n({},za),n),{},{ticks:mk(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},cse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Qn.grid};function ML(t){var e=wk(),n=Ek(),r=xk(),i=$n($n({},Rr(t,cse)),{},{x:Oe(t.x)?t.x:r.left,y:Oe(t.y)?t.y:r.top,width:Oe(t.width)?t.width:r.width,height:Oe(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:u,y:d,width:h,height:m,syncWithTicks:g,horizontalValues:b,verticalValues:x}=i,S=mr(),E=Ne(k=>iR(k,"xAxis",s,S)),T=Ne(k=>iR(k,"yAxis",l,S));if(!sa(h)||!sa(m)||!Oe(u)||!Oe(d))return null;var I=i.verticalCoordinatesGenerator||ose,M=i.horizontalCoordinatesGenerator||lse,{horizontalPoints:j,verticalPoints:$}=i;if((!j||!j.length)&&typeof M=="function"){var B=b&&b.length,F=M({yAxis:T?$n($n({},T),{},{ticks:B?b:T.ticks}):void 0,width:e??h,height:n??m,offset:r},B?!0:g);Xp(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(j=F)}if((!$||!$.length)&&typeof I=="function"){var N=x&&x.length,P=I({xAxis:E?$n($n({},E),{},{ticks:N?x:E.ticks}):void 0,width:e??h,height:n??m,offset:r},N?!0:g);Xp(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&($=P)}return C.createElement(as,{zIndex:i.zIndex},C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(nse,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),C.createElement(ase,Xo({},i,{horizontalPoints:j})),C.createElement(sse,Xo({},i,{verticalPoints:$})),C.createElement(rse,Xo({},i,{offset:r,horizontalPoints:j,xAxis:E,yAxis:T})),C.createElement(ise,Xo({},i,{offset:r,verticalPoints:$,xAxis:E,yAxis:T}))))}ML.displayName="CartesianGrid";var use=["domain","range"],fse=["domain","range"];function lP(t,e){if(t==null)return{};var n,r,i=dse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cP(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function jL(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=lP(t,use),{domain:s,range:l}=e,u=lP(e,fse);return!cP(n,s)||!cP(r,l)?!1:CE(i,u)}var hse=["dangerouslySetInnerHTML","ticks"],mse=["id"];function e1(){return e1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e1.apply(null,arguments)}function uP(t,e){if(t==null)return{};var n,r,i=pse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gse(t){var e=Ft(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?e(Tre(t)):n.current!==t&&e(Are({prev:n.current,next:t})),n.current=t},[t,e]),C.useLayoutEffect(()=>()=>{n.current&&(e(Cre(n.current)),n.current=null)},[e]),null}var yse=t=>{var{xAxisId:e,className:n}=t,r=Ne(_w),i=mr(),s="xAxis",l=Ne(T=>cu(T,s,e,i)),u=Ne(T=>C3(T,s,e,i)),d=Ne(T=>E3(T,e)),h=Ne(T=>pJ(T,e)),m=Ne(T=>G4(T,e));if(d==null||h==null||m==null)return null;var{dangerouslySetInnerHTML:g,ticks:b}=t,x=uP(t,hse),{id:S}=m,E=uP(m,mse);return C.createElement(NE,e1({},x,E,{scale:l,x:h.x,y:h.y,width:d.width,height:d.height,className:Tt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:u,axisType:s}))},vse={allowDataOverflow:yn.allowDataOverflow,allowDecimals:yn.allowDecimals,allowDuplicatedCategory:yn.allowDuplicatedCategory,angle:yn.angle,axisLine:za.axisLine,height:yn.height,hide:!1,includeHidden:yn.includeHidden,interval:yn.interval,minTickGap:yn.minTickGap,mirror:yn.mirror,orientation:yn.orientation,padding:yn.padding,reversed:yn.reversed,scale:yn.scale,tick:yn.tick,tickCount:yn.tickCount,tickLine:za.tickLine,tickSize:za.tickSize,type:yn.type,xAxisId:0},bse=t=>{var e=Rr(t,vse);return C.createElement(C.Fragment,null,C.createElement(gse,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),C.createElement(yse,e))},kL=C.memo(bse,jL);kL.displayName="XAxis";var _se=["dangerouslySetInnerHTML","ticks"],xse=["id"];function t1(){return t1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t1.apply(null,arguments)}function fP(t,e){if(t==null)return{};var n,r,i=wse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ese(t){var e=Ft(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?e(Ore(t)):n.current!==t&&e(Ire({prev:n.current,next:t})),n.current=t},[t,e]),C.useLayoutEffect(()=>()=>{n.current&&(e(Nre(n.current)),n.current=null)},[e]),null}var Sse=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=C.useRef(null),l=C.useRef(null),u=Ne(_w),d=mr(),h=Ft(),m="yAxis",g=Ne(B=>cu(B,m,e,d)),b=Ne(B=>S3(B,e)),x=Ne(B=>yJ(B,e)),S=Ne(B=>C3(B,m,e,d)),E=Ne(B=>K4(B,e));if(C.useLayoutEffect(()=>{if(!(r!=="auto"||!b||AE(i)||C.isValidElement(i)||E==null)){var B=s.current;if(B){var F=B.getCalculatedWidth();Math.round(b.width)!==Math.round(F)&&h(Rre({id:e,width:F}))}}},[S,b,h,i,e,r,E]),b==null||x==null||E==null)return null;var{dangerouslySetInnerHTML:T,ticks:I}=t,M=fP(t,_se),{id:j}=E,$=fP(E,xse);return C.createElement(NE,t1({},M,$,{ref:s,labelRef:l,scale:g,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:Tt("recharts-".concat(m," ").concat(m),n),viewBox:u,ticks:S,axisType:m}))},Tse={allowDataOverflow:vn.allowDataOverflow,allowDecimals:vn.allowDecimals,allowDuplicatedCategory:vn.allowDuplicatedCategory,angle:vn.angle,axisLine:za.axisLine,hide:!1,includeHidden:vn.includeHidden,interval:vn.interval,minTickGap:vn.minTickGap,mirror:vn.mirror,orientation:vn.orientation,padding:vn.padding,reversed:vn.reversed,scale:vn.scale,tick:vn.tick,tickCount:vn.tickCount,tickLine:za.tickLine,tickSize:za.tickSize,type:vn.type,width:vn.width,yAxisId:0},Ase=t=>{var e=Rr(t,Tse);return C.createElement(C.Fragment,null,C.createElement(Ese,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),C.createElement(Sse,e))},LL=C.memo(Ase,jL);LL.displayName="YAxis";var Cse=(t,e)=>e,RE=ie([Cse,ft,F4,fn,$3,is,Ree,En],zee),PE=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},zL=Zr("mouseClick"),VL=Nd();VL.startListening({actionCreator:zL,effect:(t,e)=>{var n=t.payload,r=RE(e.getState(),PE(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(RJ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var n1=Zr("mouseMove"),UL=Nd(),Gm=null;UL.startListening({actionCreator:n1,effect:(t,e)=>{var n=t.payload;Gm!==null&&cancelAnimationFrame(Gm);var r=PE(n);Gm=requestAnimationFrame(()=>{var i=e.getState(),s=pE(i,i.tooltip.settings.shared);if(s==="axis"){var l=RE(i,r);(l==null?void 0:l.activeIndex)!=null?e.dispatch(j3({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(M3())}Gm=null})}});var dP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},BL=hr({name:"rootProps",initialState:dP,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:dP.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Ose=BL.reducer,{updateOptions:Ise}=BL.actions,qL=hr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Zoe}=qL.actions,Nse=qL.reducer,$L=Zr("keyDown"),FL=Zr("focus"),DE=Nd();DE.startListening({actionCreator:$L,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=gE(i,fu(n),Ud(n),Hd(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=is(n);if(s==="Enter"){var h=yg(n,"axis","hover",String(i.index));e.dispatch(Yx({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:h}));return}var m=xJ(n),g=m==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,x=u+b*g;if(!(d==null||x>=d.length||x<0)){var S=yg(n,"axis","hover",String(x));e.dispatch(Yx({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:S}))}}}}}});DE.startListening({actionCreator:FL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=yg(n,"axis","hover",String(s));e.dispatch(Yx({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Kr=Zr("externalEvent"),HL=Nd(),I_=new Map;HL.startListening({actionCreator:Kr,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=I_.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=e.getState(),d={activeCoordinate:gee(u),activeDataKey:K3(u),activeIndex:Yc(u),activeLabel:G3(u),activeTooltipIndex:Yc(u),isTooltipActive:yee(u)};n(d,r)}finally{I_.delete(i)}});I_.set(i,l)}}});var Rse=ie([uu],t=>t.tooltipItemPayloads),Pse=ie([Rse,$d,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),GL=Zr("touchMove"),KL=Nd();KL.startListening({actionCreator:GL,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=pE(r,r.tooltip.settings.shared);if(i==="axis"){var s=RE(r,PE({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(j3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(gK),m=(l=d.getAttribute(yK))!==null&&l!==void 0?l:void 0,g=Pse(e.getState(),h,m);e.dispatch(D3({activeDataKey:m,activeIndex:h,activeCoordinate:g}))}}}});var Dse=zj({brush:pae,cartesianAxis:Pre,chartData:gte,errorBars:Gre,graphicalItems:vre,layout:QG,legend:cY,options:fte,polarAxis:zne,polarOptions:Nse,referenceElements:wae,rootProps:Ose,tooltip:PJ,zIndex:Zee}),Mse=function(e){return wG({reducer:Dse,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([VL.middleware,UL.middleware,DE.middleware,HL.middleware,KL.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(Jj({type:"raf"}))},devTools:Dd.devToolsEnabled})};function jse(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=mr(),s=C.useRef(null);if(i)return n;s.current==null&&(s.current=Mse(e));var l=fw;return C.createElement(gie,{context:l,store:s.current},n)}function kse(t){var{layout:e,margin:n}=t,r=Ft(),i=mr();return C.useEffect(()=>{i||(r(YG(e)),r(KG(n)))},[r,i,e,n]),null}var Lse=C.memo(kse,CE);function zse(t){var e=Ft();return C.useEffect(()=>{e(Ise(t))},[e,t]),null}function hP(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=xL("".concat(r).concat(e)),s=Ft();return C.useLayoutEffect(()=>(s(Xee({zIndex:e,elementId:i,isPanorama:n})),()=>{s(Qee({zIndex:e,isPanorama:n}))}),[s,e,i,n]),C.createElement("g",{tabIndex:-1,id:i})}function mP(t){var{children:e,isPanorama:n}=t,r=Ne(Uee);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return C.createElement(C.Fragment,null,i.map(l=>C.createElement(hP,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>C.createElement(hP,{key:l,zIndex:l,isPanorama:n})))}var Vse=["children"];function Use(t,e){if(t==null)return{};var n,r,i=Bse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(null,arguments)}var qse={width:"100%",height:"100%",display:"block"},$se=C.forwardRef((t,e)=>{var n=wk(),r=Ek(),i=Rk();if(!sa(n)||!sa(r))return null;var{children:s,otherAttributes:l,title:u,desc:d}=t,h,m;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?m=l.role:m=i?"application":void 0),C.createElement(tj,Tg({},l,{title:u,desc:d,role:m,tabIndex:h,width:n,height:r,style:qse,ref:e}),s)}),Fse=t=>{var{children:e}=t,n=Ne(ly);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return C.createElement(tj,{width:r,height:i,x:l,y:s},e)},pP=C.forwardRef((t,e)=>{var{children:n}=t,r=Use(t,Vse),i=mr();return i?C.createElement(Fse,null,C.createElement(mP,{isPanorama:!0},n)):C.createElement($se,Tg({ref:e},r),C.createElement(mP,{isPanorama:!1},n))});function Hse(){var t=Ft(),[e,n]=C.useState(null),r=Ne(pK);return C.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;$t(s)&&s!==r&&t(XG(s))}},[e,t,r]),n}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){Kse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kse(t,e,n){return(e=Yse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yse(t){var e=Wse(t,"string");return typeof e=="symbol"?e:e+""}function Wse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pl(){return pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pl.apply(null,arguments)}var Xse=()=>(Tte(),null);function Ag(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Qse=C.forwardRef((t,e)=>{var n,r,i=C.useRef(null),[s,l]=C.useState({containerWidth:Ag((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Ag((r=t.style)===null||r===void 0?void 0:r.height)}),u=C.useCallback((h,m)=>{l(g=>{var b=Math.round(h),x=Math.round(m);return g.containerWidth===b&&g.containerHeight===x?g:{containerWidth:b,containerHeight:x}})},[]),d=C.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:m,height:g}=h.getBoundingClientRect();u(m,g);var b=S=>{var{width:E,height:T}=S[0].contentRect;u(E,T)},x=new ResizeObserver(b);x.observe(h),i.current=x}},[e,u]);return C.useEffect(()=>()=>{var h=i.current;h!=null&&h.disconnect()},[u]),C.createElement(C.Fragment,null,C.createElement(fy,{width:s.containerWidth,height:s.containerHeight}),C.createElement("div",pl({ref:d},t)))}),Zse=C.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=C.useState({containerWidth:Ag(n),containerHeight:Ag(r)}),l=C.useCallback((d,h)=>{s(m=>{var g=Math.round(d),b=Math.round(h);return m.containerWidth===g&&m.containerHeight===b?m:{containerWidth:g,containerHeight:b}})},[]),u=C.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:h,height:m}=d.getBoundingClientRect();l(h,m)}},[e,l]);return C.createElement(C.Fragment,null,C.createElement(fy,{width:i.containerWidth,height:i.containerHeight}),C.createElement("div",pl({ref:u},t)))}),Jse=C.forwardRef((t,e)=>{var{width:n,height:r}=t;return C.createElement(C.Fragment,null,C.createElement(fy,{width:n,height:r}),C.createElement("div",pl({ref:e},t)))}),eoe=C.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ha(n)||Ha(r)?C.createElement(Zse,pl({},t,{ref:e})):C.createElement(Jse,pl({},t,{ref:e}))});function toe(t){return t===!0?Qse:eoe}var noe=C.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:h,onMouseLeave:m,onMouseMove:g,onMouseUp:b,onTouchEnd:x,onTouchMove:S,onTouchStart:E,style:T,width:I,responsive:M,dispatchTouchEvents:j=!0}=t,$=C.useRef(null),B=Ft(),[F,N]=C.useState(null),[P,k]=C.useState(null),U=Hse(),L=xw(),V=(L==null?void 0:L.width)>0?L.width:I,R=(L==null?void 0:L.height)>0?L.height:i,ue=C.useCallback(le=>{U(le),typeof e=="function"&&e(le),N(le),k(le),le!=null&&($.current=le)},[U,e,N,k]),pe=C.useCallback(le=>{B(zL(le)),B(Kr({handler:s,reactEvent:le}))},[B,s]),G=C.useCallback(le=>{B(n1(le)),B(Kr({handler:h,reactEvent:le}))},[B,h]),te=C.useCallback(le=>{B(M3()),B(Kr({handler:m,reactEvent:le}))},[B,m]),se=C.useCallback(le=>{B(n1(le)),B(Kr({handler:g,reactEvent:le}))},[B,g]),X=C.useCallback(()=>{B(FL())},[B]),ve=C.useCallback(le=>{B($L(le.key))},[B]),q=C.useCallback(le=>{B(Kr({handler:l,reactEvent:le}))},[B,l]),J=C.useCallback(le=>{B(Kr({handler:u,reactEvent:le}))},[B,u]),de=C.useCallback(le=>{B(Kr({handler:d,reactEvent:le}))},[B,d]),ye=C.useCallback(le=>{B(Kr({handler:b,reactEvent:le}))},[B,b]),be=C.useCallback(le=>{B(Kr({handler:E,reactEvent:le}))},[B,E]),Ce=C.useCallback(le=>{j&&B(GL(le)),B(Kr({handler:S,reactEvent:le}))},[B,j,S]),Te=C.useCallback(le=>{B(Kr({handler:x,reactEvent:le}))},[B,x]),et=toe(M);return C.createElement(eL.Provider,{value:F},C.createElement(tF.Provider,{value:P},C.createElement(et,{width:V??(T==null?void 0:T.width),height:R??(T==null?void 0:T.height),className:Tt("recharts-wrapper",r),style:Gse({position:"relative",cursor:"default",width:V,height:R},T),onClick:pe,onContextMenu:q,onDoubleClick:J,onFocus:X,onKeyDown:ve,onMouseDown:de,onMouseEnter:G,onMouseLeave:te,onMouseMove:se,onMouseUp:ye,onTouchEnd:Te,onTouchMove:Ce,onTouchStart:be,ref:ue},C.createElement(Xse,null),n)))}),roe=["width","height","responsive","children","className","style","compact","title","desc"];function ioe(t,e){if(t==null)return{};var n,r,i=aoe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var soe=C.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:u,compact:d,title:h,desc:m}=t,g=ioe(t,roe),b=$a(g);return d?C.createElement(C.Fragment,null,C.createElement(fy,{width:n,height:r}),C.createElement(pP,{otherAttributes:b,title:h,desc:m},s)):C.createElement(noe,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},C.createElement(pP,{otherAttributes:b,title:h,desc:m,ref:e},C.createElement(Sae,null,s)))});function r1(){return r1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r1.apply(null,arguments)}var ooe={top:5,right:5,bottom:5,left:5},loe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:ooe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},coe=C.forwardRef(function(e,n){var r,i=Rr(e.categoricalChartProps,loe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,m={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return C.createElement(jse,{preloadedState:{options:m},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},C.createElement(mae,{chartData:h.data}),C.createElement(Lse,{layout:i.layout,margin:i.margin}),C.createElement(zse,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),C.createElement(soe,r1({},i,{ref:n})))}),uoe=["axis","item"],foe=C.forwardRef((t,e)=>C.createElement(coe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uoe,tooltipPayloadSearcher:cte,categoricalChartProps:t,ref:e}));const yP=({logs:t,user:e,nutritionLogs:n=[],onDeleteLog:r})=>{const[i,s]=C.useState(new Date),[l,u]=C.useState(null),d=()=>{s(x=>{const S=new Date(x);return S.setMonth(x.getMonth()+1),S})},h=()=>{s(x=>{const S=new Date(x);return S.setMonth(x.getMonth()-1),S})},m=C.useMemo(()=>{var V;const x=i.getMonth(),S=i.getFullYear(),E=t.filter(R=>{const ue=new Date(R.date);return ue.getMonth()===x&&ue.getFullYear()===S}),T=E.reduce((R,ue)=>R+Number(ue.calories||0),0),I=E.length,M=new Date,j=[];for(let R=6;R>=0;R--){const ue=new Date;ue.setDate(M.getDate()-R),ue.toISOString().split("T")[0];const G=t.filter(te=>{const se=new Date(te.date);return se.getDate()===ue.getDate()&&se.getMonth()===ue.getMonth()&&se.getFullYear()===ue.getFullYear()}).reduce((te,se)=>te+Number(se.calories||0),0);j.push({name:ue.toLocaleDateString("es-ES",{weekday:"short"}),cals:G})}const B=n.filter(R=>{const ue=new Date(R.date);return ue.getDate()===M.getDate()&&ue.getMonth()===M.getMonth()&&ue.getFullYear()===M.getFullYear()}).reduce((R,ue)=>R+ue.calories,0),N=t.filter(R=>{const ue=new Date(R.date);return ue.getDate()===M.getDate()&&ue.getMonth()===M.getMonth()&&ue.getFullYear()===M.getFullYear()}).reduce((R,ue)=>R+Number(ue.calories||0),0),P=((V=e.dietPlan)==null?void 0:V.dailyCalories)||2e3,k=B-N,U=k/P*100;let L="text-green-500";return U>100||U>85?L="text-red-500":U>50&&(L="text-yellow-500"),{totalCalories:T,workoutsCount:I,chartData:j,consumedCalories:B,burnedCaloriesToday:N,goalCalories:P,statusColor:L,netCalories:k}},[t,i,n,e.dietPlan]),g=C.useMemo(()=>{const x=i.getFullYear(),S=i.getMonth(),E=new Date(x,S+1,0).getDate(),T=new Date(x,S,1).getDay(),I=T===0?6:T-1,M=[];for(let j=0;j<I;j++)M.push({day:null,log:null});for(let j=1;j<=E;j++){`${x}${String(S+1).padStart(2,"0")}${String(j).padStart(2,"0")}`;const $=t.find(B=>{const F=new Date(B.date);return F.getDate()===j&&F.getMonth()===S&&F.getFullYear()===x});M.push({day:j,log:$})}return M},[t,i]),b=i.toLocaleDateString("es-ES",{month:"long",year:"numeric"});return _.jsxs("div",{className:"space-y-6 animate-fade-in relative",children:[l&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",children:_.jsxs("div",{className:"bg-[var(--color-card)] w-full max-w-lg rounded-3xl border border-[var(--color-primary)] shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[_.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-start bg-[var(--color-bg)]",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold mb-1",children:"Detalles del Entrenamiento"}),_.jsx("h3",{className:"text-2xl font-bold text-[var(--color-text)] leading-tight",children:l.name}),_.jsx("p",{className:"text-sm text-[var(--color-primary)] font-medium mt-1",children:new Date(l.date).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),_.jsx("button",{onClick:()=>u(null),className:"p-2 hover:bg-gray-700 rounded-full transition-colors text-gray-400 hover:text-[var(--color-text)]",children:_.jsx(i1,{size:24})})]}),_.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:[_.jsxs("div",{className:"flex gap-4 mb-6",children:[_.jsxs("div",{className:"flex-1 bg-[var(--color-bg)] p-4 rounded-xl border border-gray-700 flex flex-col items-center justify-center text-center",children:[_.jsx(wm,{size:24,className:"text-[var(--color-primary)] mb-2"}),_.jsx("span",{className:"text-2xl font-bold text-[var(--color-text)]",children:l.calories}),_.jsx("span",{className:"text-xs text-gray-500 uppercase",children:"Caloras"})]}),_.jsxs("div",{className:"flex-1 bg-[var(--color-bg)] p-4 rounded-xl border border-gray-700 flex flex-col items-center justify-center text-center",children:[_.jsx(EP,{size:24,className:"text-[var(--color-secondary)] mb-2"}),_.jsx("span",{className:"text-2xl font-bold text-[var(--color-text)]",children:l.durationMinutes}),_.jsx("span",{className:"text-xs text-gray-500 uppercase",children:"Minutos"})]})]}),_.jsxs("div",{className:"bg-[var(--color-bg)] p-5 rounded-xl border border-gray-700",children:[_.jsxs("h4",{className:"text-sm font-bold text-gray-300 mb-3 flex items-center gap-2",children:[_.jsx(dp,{size:16,className:"text-[var(--color-primary)]"}),"Ejercicios y Notas"]}),_.jsx("p",{className:"text-gray-300 text-sm whitespace-pre-line leading-relaxed",children:l.description})]})]}),_.jsxs("div",{className:"p-4 border-t border-gray-700 bg-[var(--color-bg)] flex gap-3",children:[r&&_.jsx("button",{onClick:()=>{r(l.id),u(null)},className:"p-3 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white font-bold rounded-xl transition-colors flex items-center justify-center",children:_.jsx(Ic,{size:20})}),_.jsx("button",{onClick:()=>u(null),className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 text-white font-bold rounded-xl transition-colors",children:"Cerrar"})]})]})}),_.jsx("div",{className:"flex justify-between items-center mb-6",children:_.jsxs("div",{children:[_.jsxs("h1",{className:"text-2xl font-bold text-[var(--color-text)] flex items-center gap-2",children:["Hola, ",e.name," ",_.jsx(dp,{className:"text-[var(--color-primary)]",size:28})]}),_.jsx("p",{className:"text-[var(--color-text-secondary)]",children:new Date().toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})}),_.jsxs("div",{className:"mt-2 w-48",children:[_.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 mb-1",children:[_.jsx("span",{className:"uppercase font-bold text-[var(--color-primary)]",children:e.fitnessLevel}),_.jsxs("span",{children:[Math.floor(e.levelProgress||0),"%"]})]}),_.jsx("div",{className:"h-1.5 bg-gray-800 rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full bg-[var(--color-primary)] transition-all duration-500",style:{width:`${e.levelProgress||0}%`}})})]})]})}),_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[_.jsxs("div",{className:"bg-[var(--color-card)] p-4 rounded-2xl border border-[var(--color-secondary)] shadow-lg flex flex-col items-center justify-center text-center relative overflow-hidden group hover:scale-[1.02] transition-transform",children:[_.jsx("div",{className:"absolute right-0 top-0 p-2 opacity-5 group-hover:opacity-10 transition-opacity",children:_.jsx(pp,{size:40})}),_.jsx(pp,{size:24,className:"text-[var(--color-primary)] mb-2 relative z-10"}),_.jsx("span",{className:"text-2xl font-black text-[var(--color-text)] relative z-10",children:m.goalCalories}),_.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider relative z-10",children:"Meta Diaria"})]}),_.jsxs("div",{className:"bg-[var(--color-card)] p-4 rounded-2xl border border-[var(--color-secondary)] shadow-lg flex flex-col items-center justify-center text-center relative overflow-hidden group hover:scale-[1.02] transition-transform",children:[_.jsx("div",{className:"absolute right-0 top-0 p-2 opacity-5 group-hover:opacity-10 transition-opacity",children:_.jsx(Vf,{size:40})}),_.jsx(Vf,{size:24,className:"text-[var(--color-primary)] mb-2 relative z-10"}),_.jsx("span",{className:"text-2xl font-black text-[var(--color-text)] relative z-10",children:m.consumedCalories}),_.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider relative z-10",children:"Consumidas"})]}),_.jsxs("div",{className:"bg-[var(--color-card)] p-4 rounded-2xl border border-[var(--color-secondary)] shadow-lg flex flex-col items-center justify-center text-center relative overflow-hidden group hover:scale-[1.02] transition-transform",children:[_.jsx("div",{className:"absolute right-0 top-0 p-2 opacity-5 group-hover:opacity-10 transition-opacity",children:_.jsx(wm,{size:40})}),_.jsx(wm,{size:24,className:"text-[var(--color-secondary)] mb-2 relative z-10"}),_.jsx("span",{className:"text-2xl font-black text-[var(--color-text)] relative z-10",children:m.burnedCaloriesToday}),_.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider relative z-10",children:"Quemadas (Hoy)"})]}),_.jsxs("div",{className:"bg-[var(--color-card)] p-4 rounded-2xl border border-[var(--color-secondary)] shadow-lg flex flex-col items-center justify-center text-center relative overflow-hidden group hover:scale-[1.02] transition-transform",children:[_.jsx("div",{className:"absolute right-0 top-0 p-2 opacity-5 group-hover:opacity-10 transition-opacity",children:_.jsx(P_,{size:40})}),_.jsx(P_,{size:24,className:`${m.statusColor} mb-2 relative z-10`}),_.jsx("span",{className:`text-2xl font-black ${m.statusColor} relative z-10`,children:m.netCalories}),_.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider relative z-10",children:"Balance Neto"})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"bg-[var(--color-card)] p-5 rounded-2xl border border-[var(--color-secondary)] shadow-lg relative overflow-hidden",children:[_.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:_.jsx(wm,{size:60})}),_.jsxs("p",{className:"text-gray-400 text-xs font-bold uppercase mb-1",children:["Caloras (",b,")"]}),_.jsx("h3",{className:"text-3xl font-extrabold text-[var(--color-primary)]",children:m.totalCalories}),_.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Kcal quemadas"})]}),_.jsxs("div",{className:"bg-[var(--color-card)] p-5 rounded-2xl border border-[var(--color-secondary)] shadow-lg relative overflow-hidden",children:[_.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:_.jsx(Oc,{size:60})}),_.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase mb-1",children:"Entrenamientos"}),_.jsx("h3",{className:"text-3xl font-extrabold text-[var(--color-text)]",children:m.workoutsCount}),_.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Sesiones completadas"})]})]}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[_.jsxs("div",{className:"lg:col-span-2 bg-[var(--color-card)] p-6 rounded-2xl border border-[var(--color-secondary)] shadow-lg",children:[_.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[_.jsx(Oc,{size:18,className:"text-[var(--color-primary)]"}),"Actividad Reciente (7 das)"]}),_.jsx("div",{className:"h-64 w-full",children:_.jsx(HK,{width:"100%",height:"100%",children:_.jsxs(foe,{data:m.chartData,children:[_.jsx(ML,{strokeDasharray:"3 3",vertical:!1,stroke:"#374151"}),_.jsx(kL,{dataKey:"name",tick:{fill:"#9ca3af",fontSize:12},axisLine:!1,tickLine:!1}),_.jsx(LL,{hide:!0}),_.jsx(Dte,{contentStyle:{backgroundColor:"#1f2937",borderColor:"#374151",color:"#fff"},itemStyle:{color:"var(--color-primary)"},cursor:{fill:"transparent"}}),_.jsx(OL,{dataKey:"cals",fill:"var(--color-primary)",radius:[4,4,0,0],barSize:30})]})})})]}),_.jsxs("div",{className:"bg-[var(--color-card)] p-6 rounded-2xl border border-[var(--color-secondary)] shadow-lg",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[_.jsx(zf,{size:18,className:"text-[var(--color-primary)]"}),"Calendario"]}),_.jsxs("div",{className:"flex gap-1",children:[_.jsx("button",{onClick:h,className:"p-1 hover:bg-gray-700 rounded-full transition-colors",children:_.jsx(fp,{size:20,className:"text-gray-400"})}),_.jsx("button",{onClick:d,className:"p-1 hover:bg-gray-700 rounded-full transition-colors",children:_.jsx(N_,{size:20,className:"text-gray-400"})})]})]}),_.jsx("div",{className:"text-center mb-4 font-bold text-[var(--color-text)] capitalize",children:b}),_.jsx("div",{className:"grid grid-cols-7 gap-2 text-center mb-2",children:["L","M","X","J","V","S","D"].map(x=>_.jsx("span",{className:"text-xs font-bold text-gray-500",children:x},x))}),_.jsx("div",{className:"grid grid-cols-7 gap-2",children:g.map((x,S)=>_.jsx("div",{onClick:()=>x.log&&u(x.log),className:`
                        aspect-square rounded-lg flex items-center justify-center text-sm font-medium transition-all
                        ${x.day?"":"invisible"}
                        ${x.log?"bg-[var(--color-primary)] text-white shadow-md shadow-[var(--color-primary)]/30 cursor-pointer hover:scale-110":"bg-[var(--color-bg)] text-gray-500 border border-gray-800"}
                    `,children:x.day},S))})]})]}),_.jsxs("div",{className:"bg-[var(--color-card)] rounded-2xl border border-[var(--color-secondary)] overflow-hidden",children:[_.jsx("div",{className:"p-4 border-b border-gray-700",children:_.jsx("h3",{className:"font-bold",children:"Historial Reciente"})}),_.jsxs("div",{children:[t.slice().reverse().slice(0,5).map(x=>_.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center hover:bg-[var(--color-bg)] transition-colors group",children:[_.jsxs("div",{onClick:()=>u(x),className:"flex-1 cursor-pointer",children:[_.jsx("p",{className:"font-bold text-sm text-[var(--color-text)] group-hover:text-[var(--color-primary)] transition-colors",children:x.name}),_.jsx("p",{className:"text-xs text-gray-500",children:new Date(x.date).toLocaleDateString()})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"text-right",children:[_.jsxs("span",{className:"text-[var(--color-primary)] font-bold text-sm",children:[x.calories," kcal"]}),_.jsx("p",{className:"text-[10px] text-gray-400 uppercase",children:x.type})]}),r&&_.jsx("button",{onClick:S=>{S.stopPropagation(),r(x.id)},className:"p-2 text-gray-500 hover:text-red-500 hover:bg-red-500/10 rounded-lg transition-colors",children:_.jsx(Ic,{size:16})})]})]},x.id)),t.length===0&&_.jsx("div",{className:"p-8 text-center text-gray-500 text-sm",children:"No hay registros an."})]})]})]})},doe=()=>{const[t,e]=C.useState("stopwatch"),[n,r]=C.useState(!1),[i,s]=C.useState(!0),[l,u]=C.useState(!1),d=C.useRef(null),[h,m]=C.useState({time:0,rounds:0,tabataPhase:"Work",isWork:!0,totalRounds:8}),[g,b]=C.useState(1200),[x,S]=C.useState(60),[E,T]=C.useState(20),[I,M]=C.useState(10),[j,$]=C.useState(8),B=C.useRef(null);C.useEffect(()=>{d.current||(d.current=new(window.AudioContext||window.webkitAudioContext))},[]);const F=C.useCallback((R=800,ue=.1,pe="sine")=>{if(!i||!d.current)return;d.current.state==="suspended"&&d.current.resume();const G=d.current.createOscillator(),te=d.current.createGain();G.type=pe,G.frequency.setValueAtTime(R,d.current.currentTime),te.gain.setValueAtTime(.1,d.current.currentTime),te.gain.exponentialRampToValueAtTime(.001,d.current.currentTime+ue),G.connect(te),te.connect(d.current.destination),G.start(),G.stop(d.current.currentTime+ue)},[i]),N=()=>F(600,.1,"square"),P=()=>F(1200,.3,"square"),k=R=>{const ue=Math.floor(R/60),pe=R%60;return`${ue.toString().padStart(2,"0")}:${pe.toString().padStart(2,"0")}`};C.useEffect(()=>(n?B.current=window.setInterval(()=>{m(R=>{if(t==="stopwatch")return{...R,time:R.time+1};if(t==="fortime"){const ue=R.time+1;return g>0&&ue>=g?(P(),r(!1),{...R,time:g}):{...R,time:ue}}if(t==="amrap")return R.time<=0?(P(),r(!1),{...R,time:0}):(R.time<=4&&R.time>1&&N(),R.time===1&&P(),{...R,time:R.time-1});if(t==="emom"){const ue=R.time+1,pe=ue%x;if(ue>0&&pe===0)return P(),{...R,time:ue,rounds:R.rounds+1};const G=x-pe;return G<=3&&G>0&&N(),{...R,time:ue}}return t==="tabata"?R.rounds>=j&&R.tabataPhase==="Rest"&&R.time<=0?(P(),r(!1),R):R.time>0?(R.time<=3&&N(),{...R,time:R.time-1}):(P(),R.tabataPhase==="Work"?{...R,tabataPhase:"Rest",time:I,isWork:!1}:{...R,tabataPhase:"Work",time:E,rounds:R.rounds+1,isWork:!0}):R})},1e3):B.current&&clearInterval(B.current),()=>{B.current&&clearInterval(B.current)}),[n,t,x,E,I,g,j,F,N,P]);const U=()=>{r(!1);let R=0;t==="amrap"&&(R=g),t==="tabata"&&(R=E),m({time:R,rounds:0,tabataPhase:"Work",isWork:!0,totalRounds:j})},L=R=>{e(R),r(!1),u(!0);let ue=0;R==="amrap"&&(ue=g),R==="tabata"&&(ue=E),m({time:ue,rounds:0,tabataPhase:"Work",isWork:!0,totalRounds:j})};C.useEffect(()=>{n||(t==="amrap"&&m(R=>({...R,time:g})),t==="tabata"&&m(R=>({...R,time:E,totalRounds:j})))},[g,E,j,t,n]);const V=({label:R,value:ue,onChange:pe,step:G=1,suffix:te=""})=>_.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsx("label",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider",children:R}),_.jsxs("div",{className:"flex items-center bg-[var(--color-bg)] rounded-xl border border-gray-800 p-1",children:[_.jsx("button",{onClick:()=>pe(Math.max(0,ue-G)),className:"p-3 hover:bg-gray-700/50 rounded-lg text-gray-400 hover:text-[var(--color-text)] transition-colors",children:_.jsx(xz,{size:16})}),_.jsxs("div",{className:"flex-1 text-center font-bold text-lg text-[var(--color-text)]",children:[ue,te]}),_.jsx("button",{onClick:()=>pe(ue+G),className:"p-3 hover:bg-gray-700/50 rounded-lg text-gray-400 hover:text-[var(--color-text)] transition-colors",children:_.jsx(Mz,{size:16})})]})]});return _.jsxs("div",{className:"flex flex-col h-full animate-fade-in max-w-md mx-auto w-full relative",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4 shrink-0",children:[_.jsx("div",{className:"flex-1 overflow-x-auto no-scrollbar mask-gradient-r",children:_.jsx("div",{className:"flex gap-2 p-1",children:["stopwatch","fortime","amrap","emom","tabata"].map(R=>_.jsx("button",{onClick:()=>L(R),className:`
                  whitespace-nowrap px-4 py-2 rounded-full text-xs font-bold transition-all border
                  ${t===R?"bg-[var(--color-primary)] border-[var(--color-primary)] text-white shadow-[0_0_15px_var(--color-primary)]":"bg-transparent border-gray-800 text-gray-400 hover:border-gray-600 hover:text-[var(--color-text)]"}
                `,children:R==="fortime"?"For Time":R.toUpperCase()},R))})}),_.jsx("button",{onClick:()=>u(!l),className:`ml-2 p-2 rounded-full border transition-colors ${l?"bg-[var(--color-card)] border-[var(--color-primary)] text-[var(--color-primary)]":"border-transparent text-gray-500"}`,children:_.jsx(Uz,{size:20})})]}),_.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out shrink-0 ${l?"max-h-80 opacity-100 mb-4":"max-h-0 opacity-0"}`,children:_.jsxs("div",{className:"bg-[var(--color-card)] rounded-2xl p-4 border border-[var(--color-secondary)]/50 shadow-lg grid grid-cols-2 gap-3",children:[(t==="amrap"||t==="fortime")&&_.jsx(V,{label:"Time Cap (min)",value:g/60,onChange:R=>b(R*60)}),t==="emom"&&_.jsx(V,{label:"Intervalo (seg)",value:x,onChange:S,step:5}),t==="tabata"&&_.jsxs(_.Fragment,{children:[_.jsx(V,{label:"Trabajo (seg)",value:E,onChange:T,step:5}),_.jsx(V,{label:"Descanso (seg)",value:I,onChange:M,step:5}),_.jsx(V,{label:"Rondas",value:j,onChange:$})]}),t==="stopwatch"&&_.jsx("div",{className:"col-span-2 text-center text-gray-500 text-sm py-4",children:"Cronmetro simple sin configuracin."})]})}),_.jsx("div",{className:"flex-1 flex flex-col items-center justify-center relative min-h-[250px]",children:_.jsxs("div",{className:`
          relative w-64 h-64 sm:w-80 sm:h-80 rounded-full flex flex-col items-center justify-center transition-all duration-500
          border-4
          ${n?h.isWork?"border-[var(--color-primary)] shadow-[0_0_50px_var(--color-primary)] bg-[var(--color-primary)]/5":"border-red-500 shadow-[0_0_50px_#ef4444] bg-red-500/5":"border-gray-800 bg-[var(--color-card)]"}
        `,children:[(t==="tabata"||t==="emom")&&_.jsx("div",{className:`
              absolute top-12 px-3 py-1 rounded-full text-xs font-black uppercase tracking-widest border
              ${h.isWork?"bg-[var(--color-primary)]/20 border-[var(--color-primary)] text-[var(--color-primary)]":"bg-red-500/20 border-red-500 text-red-500"}
            `,children:t==="emom"?"EMOM":h.tabataPhase}),_.jsx("div",{className:"text-6xl sm:text-7xl font-mono font-bold tracking-tighter text-[var(--color-text)] tabular-nums drop-shadow-2xl",children:k(h.time)}),(t==="emom"||t==="tabata")&&_.jsxs("div",{className:"absolute bottom-12 text-gray-400 text-sm font-medium bg-black/40 px-3 py-1 rounded-full backdrop-blur-sm",children:["Ronda ",h.rounds+1," ",_.jsxs("span",{className:"opacity-50",children:["/ ",t==="tabata"?j:"-"]})]})]})}),_.jsxs("div",{className:"mt-auto pt-6 pb-2 flex items-center justify-center gap-6 shrink-0",children:[_.jsx("button",{onClick:U,className:"p-4 rounded-2xl bg-[var(--color-card)] border border-gray-800 text-gray-400 hover:text-[var(--color-text)] hover:border-gray-600 transition-all active:scale-95",children:_.jsx(TP,{size:24})}),_.jsx("button",{onClick:()=>r(!n),className:`
            w-20 h-20 rounded-3xl flex items-center justify-center transition-all shadow-2xl active:scale-95
            ${n?"bg-red-500 text-white shadow-[0_0_30px_#ef4444]":"bg-[var(--color-primary)] text-black shadow-[0_0_30px_var(--color-primary)]"}
          `,children:n?_.jsx(Cz,{size:32,fill:"currentColor"}):_.jsx(mp,{size:32,fill:"currentColor",className:"ml-1"})}),_.jsx("button",{onClick:()=>s(!i),className:`p-4 rounded-2xl border transition-all active:scale-95 ${i?"bg-[var(--color-card)] border-gray-800 text-[var(--color-text)]":"bg-red-900/20 border-red-900/50 text-red-500"}`,children:i?_.jsx(iV,{size:24}):_.jsx(sV,{size:24})})]})]})},hoe={default:120,mqdefault:320,hqdefault:480,sddefault:640,maxresdefault:1280},moe=(t,e,n,r="maxresdefault")=>{const[i,s]=C.useState("");return C.useEffect(()=>{const l=`https://img.youtube.com/${e}/${t}/${r}.${n}`,u=`https://img.youtube.com/${e}/${t}/hqdefault.${n}`,d=hoe[r],h=new Image;h.onload=()=>{h.width<d?s(u):s(l)},h.onerror=()=>s(u),h.src=l},[t,e,n,r]),i};function poe(t,e,n,r,i){const s={"@context":"https://schema.org","@type":"VideoObject",name:(i==null?void 0:i.name)||e,thumbnailUrl:[(i==null?void 0:i.thumbnailUrl)||n],embedUrl:(i==null?void 0:i.embedUrl)||`${r}/embed/${t}`,contentUrl:(i==null?void 0:i.contentUrl)||`https://www.youtube.com/watch?v=${t}`,...(i==null?void 0:i.description)&&{description:i.description},...(i==null?void 0:i.uploadDate)&&{uploadDate:i.uploadDate},...(i==null?void 0:i.duration)&&{duration:i.duration}};return JSON.stringify(s)}function goe(t,e){const[n,r]=C.useState(!1),[i,s]=C.useState(t.alwaysLoadIframe||!1),l=encodeURIComponent(t.id),u=typeof t.playlistCoverId=="string"?encodeURIComponent(t.playlistCoverId):null,d=t.title,h=t.poster||"hqdefault",m=t.announce||"Watch",g=t.alwaysLoadIframe?t.autoplay&&t.muted:!0,b=C.useMemo(()=>{const te=new URLSearchParams({...t.muted?{mute:"1"}:{},...g?{autoplay:"1"}:{},...t.enableJsApi?{enablejsapi:"1"}:{},...t.enableJsApi&&typeof window<"u"?{origin:window.location.origin}:{},...t.playlist?{list:l}:{}});return t.params&&new URLSearchParams(t.params.startsWith("&")?t.params.slice(1):t.params).forEach((se,X)=>{te.append(X,se)}),te},[t.muted,g,t.enableJsApi,t.playlist,l,t.params]),x=C.useMemo(()=>t.cookie?"https://www.youtube.com":"https://www.youtube-nocookie.com",[t.cookie]),S=C.useMemo(()=>t.playlist?`${x}/embed/videoseries?${b.toString()}`:`${x}/embed/${l}?${b.toString()}`,[t.playlist,x,l,b]),E=!t.thumbnail&&!t.playlist&&h==="maxresdefault",T=t.webp?"webp":"jpg",I=t.webp?"vi_webp":"vi",M=E?moe(t.id,I,T,h):null,j=C.useMemo(()=>t.thumbnail||M||`https://i.ytimg.com/${I}/${t.playlist?u:l}/${h}.${T}`,[t.thumbnail,M,I,t.playlist,u,l,h,T]),$=t.activatedClass||"lyt-activated",B=t.adNetwork||!1,F=t.aspectHeight||9,N=t.aspectWidth||16,P=t.iframeClass||"",k=t.playerClass||"lty-playbtn",U=t.wrapperClass||"yt-lite",L=C.useCallback(t.onIframeAdded||function(){},[t.onIframeAdded]),V=t.rel?"prefetch":"preload",R=t.containerElement||"article",ue=t.noscriptFallback!==!1,pe=()=>{n||r(!0)},G=()=>{i||s(!0)};return C.useEffect(()=>{i&&(L(),t.focusOnLoad&&typeof e=="object"&&(e!=null&&e.current)&&e.current.focus())},[i,L,t.focusOnLoad,e]),C.useEffect(()=>{var de;if(!i||!t.enableJsApi||!(t.onReady||t.onStateChange||t.onError||t.onPlay||t.onPause||t.onEnd||t.onBuffering||t.onPlaybackRateChange||t.onPlaybackQualityChange))return;let te=!1,se=!1;const X=ye=>{var Ce,Te,et,le,Pe,oe,ae,Qe,ze,Dt,At,Ln,ti,Rt,Mt,ni,wl,ho,hn,Ci;if(ye.origin!=="https://www.youtube.com"&&ye.origin!=="https://www.youtube-nocookie.com")return;let be;try{be=typeof ye.data=="string"?JSON.parse(ye.data):ye.data}catch{return}switch(be.event){case"onReady":te||(te=!0,t.onReady&&t.onReady({videoId:t.id,title:d}));break;case"infoDelivery":if(((Ce=be.info)==null?void 0:Ce.playerState)!==void 0){const pr=be.info.playerState;switch(t.onStateChange&&t.onStateChange({state:pr,currentTime:be.info.currentTime,duration:be.info.duration}),pr){case 1:(Te=t.onPlay)==null||Te.call(t);break;case 2:(et=t.onPause)==null||et.call(t);break;case 0:(le=t.onEnd)==null||le.call(t),t.stopOnEnd&&typeof e=="object"&&((Pe=e==null?void 0:e.current)!=null&&Pe.contentWindow)&&e.current.contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*");break;case 3:(oe=t.onBuffering)==null||oe.call(t);break}}((ae=be.info)==null?void 0:ae.playbackRate)!==void 0&&((Qe=t.onPlaybackRateChange)==null||Qe.call(t,be.info.playbackRate)),((ze=be.info)==null?void 0:ze.playbackQuality)!==void 0&&((Dt=t.onPlaybackQualityChange)==null||Dt.call(t,be.info.playbackQuality));break;case"onStateChange":if(((At=be.info)==null?void 0:At.playerState)!==void 0){const pr=be.info.playerState;switch(t.onStateChange&&t.onStateChange({state:pr,currentTime:be.info.currentTime,duration:be.info.duration}),pr){case 1:(Ln=t.onPlay)==null||Ln.call(t);break;case 2:(ti=t.onPause)==null||ti.call(t);break;case 0:(Rt=t.onEnd)==null||Rt.call(t),t.stopOnEnd&&typeof e=="object"&&((Mt=e==null?void 0:e.current)!=null&&Mt.contentWindow)&&e.current.contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*");break;case 3:(ni=t.onBuffering)==null||ni.call(t);break}}break;case"onError":if(be.info&&"errorCode"in be.info){const pr=be.info.errorCode;t.onError&&t.onError(pr)}break;case"onPlaybackRateChange":((wl=be.info)==null?void 0:wl.playbackRate)!==void 0&&((ho=t.onPlaybackRateChange)==null||ho.call(t,be.info.playbackRate));break;case"onPlaybackQualityChange":((hn=be.info)==null?void 0:hn.playbackQuality)!==void 0&&((Ci=t.onPlaybackQualityChange)==null||Ci.call(t,be.info.playbackQuality));break}};window.addEventListener("message",X);const ve=[],q=()=>{var ye;typeof e=="object"&&((ye=e==null?void 0:e.current)!=null&&ye.contentWindow)&&e.current.contentWindow.postMessage('{"event":"listening","id":"'+l+'"}',"*")},J=()=>{se||(se=!0,q(),[100,300,600,1200,2400].forEach(ye=>{ve.push(setTimeout(q,ye))}))};return typeof e=="object"&&(e!=null&&e.current)?(e.current.addEventListener("load",J),((de=e.current.contentDocument)==null?void 0:de.readyState)==="complete"&&J()):[200,500,1e3,2e3,3e3].forEach(ye=>{ve.push(setTimeout(q,ye))}),()=>{window.removeEventListener("message",X),ve.forEach(clearTimeout),typeof e=="object"&&(e!=null&&e.current)&&e.current.removeEventListener("load",J)}},[i,t.enableJsApi,t.onReady,t.onStateChange,t.onError,t.onPlay,t.onPause,t.onEnd,t.onBuffering,t.onPlaybackRateChange,t.onPlaybackQualityChange,t.stopOnEnd,t.id,l,d,e]),_.jsxs(_.Fragment,{children:[!t.lazyLoad&&_.jsx("link",{rel:V,href:j,as:"image"}),_.jsx(_.Fragment,{children:n&&_.jsxs(_.Fragment,{children:[_.jsx("link",{rel:"preconnect",href:x}),_.jsx("link",{rel:"preconnect",href:"https://www.google.com"}),B&&_.jsxs(_.Fragment,{children:[_.jsx("link",{rel:"preconnect",href:"https://static.doubleclick.net"}),_.jsx("link",{rel:"preconnect",href:"https://googleads.g.doubleclick.net"})]})]})}),t.seo&&!t.playlist&&_.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:poe(t.id,d,j,x,t.seo)}}),ue&&!t.playlist&&_.jsx("noscript",{children:_.jsxs("a",{href:`https://www.youtube.com/watch?v=${t.id}`,"aria-label":`Watch ${d} on YouTube`,children:['Watch "',d,'" on YouTube']})}),_.jsxs(R,{onPointerOver:pe,onClick:G,className:`${U} ${i?$:""}`,"data-title":d,role:i?void 0:"img","aria-label":i?void 0:`${d} - YouTube video preview`,style:{...!t.lazyLoad&&{backgroundImage:`url(${j})`},"--aspect-ratio":`${F/N*100}%`,...t.style||{}},children:[t.lazyLoad&&!i&&_.jsx("img",{src:j,alt:`${d} - YouTube thumbnail`,className:"lty-thumbnail",loading:"lazy"}),t.playlist&&!i&&_.jsx("div",{className:"lty-playlist-icon","aria-hidden":"true"}),_.jsx("button",{type:"button",className:k,"aria-label":`${m} ${d}`,"aria-hidden":i||void 0,tabIndex:i?-1:0,onClick:G,children:_.jsx("span",{className:"lty-visually-hidden",children:m})}),i&&_.jsx("iframe",{ref:e,className:P,title:d,width:"560",height:"315",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,src:S,referrerPolicy:t.referrerPolicy||"strict-origin-when-cross-origin"})]})]})}const yoe=C.forwardRef(goe),vP=[{id:"bq1",name:"Air Squat",category:"Bsicos",description:"La base de todos los movimientos de sentadilla.",videoId:"rMvwVtlqjTE",type:"Fuerza / Movilidad",muscles:"Cudriceps, Glteos, Isquios",keyPoints:["Romper paralelo (cadera bajo rodillas)","Peso en los talones","Pecho arriba","Rodillas hacia afuera"]},{id:"bq_back",name:"Back Squat",category:"Bsicos",description:"Sentadilla con barra en la espalda.",videoId:"4ZYCwYAuiwE",type:"Fuerza",muscles:"Cudriceps, Glteos",keyPoints:["Romper paralelo","Peso en talones","Pecho arriba","Respiracin abdominal"]},{id:"bq2",name:"Front Squat",category:"Bsicos",description:"Sentadilla con barra en posicin de rack frontal.",videoId:"m4ytaCJZpl0",type:"Fuerza",muscles:"Cudriceps, Core, Glteos",keyPoints:["Codos altos","Torso vertical","Talones pegados al suelo"]},{id:"bq3",name:"Overhead Squat",category:"Bsicos",description:"Sentadilla manteniendo la barra bloqueada sobre la cabeza.",videoId:"zDWiJ8l-R8I",type:"Fuerza / Estabilidad",muscles:"Hombros, Core, Piernas",keyPoints:["Axilas al frente","Barra sobre centro de gravedad","Empuje activo","Estabilidad media"]},{id:"bq4",name:"Deadlift",category:"Bsicos",description:"Levantamiento de peso muerto desde el suelo.",videoId:"wV_211i4i9o",type:"Fuerza",muscles:"Cadena Posterior",keyPoints:["Espalda neutra","Barra pegada a espinillas","Hombros delante de barra","Empujar suelo"]},{id:"bq5",name:"Shoulder Press",category:"Bsicos",description:"Press estricto de hombros.",videoId:"B-aVuyhvLHU",type:"Fuerza",muscles:"Deltoides, Trceps",keyPoints:["Cuerpo rgido","Trayectoria vertical","Cabeza se aparta","Bloqueo completo"]},{id:"bq6",name:"Push Press",category:"Bsicos",description:"Press de hombros con ayuda de las piernas (Dip & Drive).",videoId:"j9916671g-U",type:"Potencia",muscles:"Hombros, Piernas",keyPoints:["Dip vertical","Extensin explosiva de cadera","Talones apoyados en el dip"]},{id:"bq7",name:"Push Jerk",category:"Bsicos",description:"Press con recepcin en flexin de rodillas.",videoId:"V-hKuAfWNUw",type:"Potencia",muscles:"Hombros, Piernas",keyPoints:["Salto y recepcin","Brazos bloqueados al recibir","Cadera extendida antes de empujar"]},{id:"wl1",name:"Snatch",category:"Halterofilia",description:"Arrancada: barra del suelo a overhead en un movimiento.",videoId:"9xQp2sldyts",type:"Potencia / Tcnica",muscles:"Full Body",keyPoints:["Triple extensin","Recepcin profunda","Brazos relajados inicio","Velocidad"]},{id:"wl2",name:"Power Snatch",category:"Halterofilia",description:"Arrancada recibiendo la barra por encima del paralelo.",videoId:"82100-n_4-Q",type:"Potencia",muscles:"Full Body",keyPoints:["Recepcin alta","Velocidad de codos","Extensin completa"]},{id:"wl3",name:"Clean",category:"Halterofilia",description:"Cargada: barra del suelo a los hombros (Squat).",videoId:"Kz0K37h65Pe",type:"Potencia",muscles:"Trapecios, Piernas",keyPoints:["Codos rpidos","Extensin cadera","Contacto muslo","Recepcin slida"]},{id:"wl4",name:"Power Clean",category:"Halterofilia",description:"Cargada recibiendo por encima del paralelo.",videoId:"KjGvqhaxU70",type:"Potencia",muscles:"Trapecios, Piernas",keyPoints:["Recepcin parcial","Codos rpidos al frente","Espalda recta"]},{id:"wl5",name:"Clean & Jerk",category:"Halterofilia",description:"Dos tiempos: Cargada y Envin.",videoId:"8miqQQJEsO0",type:"Potencia",muscles:"Full Body",keyPoints:["Paciencia primer tirn","Dip vertical Jerk","Recepcin estable"]},{id:"wl6",name:"Split Jerk",category:"Halterofilia",description:"Envin con recepcin en tijera.",videoId:"Wp4BlxcftkE",type:"Potencia",muscles:"Hombros, Piernas",keyPoints:["Pie delantero plano","Taln trasero levantado","Torso vertical","Bloqueo slido"]},{id:"wl7",name:"Thruster",category:"Halterofilia",description:"Combinacin de Front Squat y Push Press. Devastador.",videoId:"L219ltL15kq",type:"Metablico / Fuerza",muscles:"Piernas, Hombros, Pulmones",keyPoints:["Un solo movimiento fluido","Respiracin rtmica","Extensin potente de cadera"]},{id:"gy1",name:"Pull-Up",category:"Gimnasia",description:"Dominada pasando la barbilla sobre la barra.",videoId:"aAgglkKyECo",type:"Gimnasia",muscles:"Dorsales, Bceps",keyPoints:["Kipping rtmico","Empuje lejos arriba","Barbilla supera barra"]},{id:"gy2",name:"Chest to Bar (C2B)",category:"Gimnasia",description:"Dominada donde el pecho toca la barra.",videoId:"4q7s3c3J2yE",type:"Gimnasia",muscles:"Dorsales, Bceps",keyPoints:["Tirn ms potente","Contacto fsico pecho-barra","Codos atrs"]},{id:"gy3",name:"Toes to Bar (T2B)",category:"Gimnasia",description:"Colgado, tocar la barra con ambos pies simultneamente.",videoId:"6dHdpbL9i5w",type:"Core / Gimnasia",muscles:"Abdominales, Flexores",keyPoints:["Kipping constante","Pies tocan barra","Hombros activos","Ritmo"]},{id:"gy4",name:"Bar Muscle-Up",category:"Gimnasia",description:"Subir todo el cuerpo por encima de la barra.",videoId:"OC7sX_5XjF0",type:"Gimnasia Avanzada",muscles:"Full Body",keyPoints:["Cadera a la barra","Transicin rpida","Press final"]},{id:"gy5",name:"Ring Muscle-Up",category:"Gimnasia",description:"Muscle-up en anillas.",videoId:"G8W0BhzrWcs",type:"Gimnasia Avanzada",muscles:"Full Body",keyPoints:["False grip (opcional)","Tirn al esternn","Transicin agresiva","Bloqueo"]},{id:"gy6",name:"Handstand Push-Up (HSPU)",category:"Gimnasia",description:"Flexin de pino invertido.",videoId:"0wDEO6shpVg",type:"Fuerza",muscles:"Hombros, Trceps",keyPoints:["Trpode","Kipping explosivo","Bloqueo cabeza metida"]},{id:"gy7",name:"Handstand Walk",category:"Gimnasia",description:"Caminar sobre las manos.",videoId:"0gX0j2x5j0k",type:"Equilibrio",muscles:"Hombros, Core",keyPoints:["Cuerpo apretado","Mirada al suelo","Pasos cortos"]},{id:"gy8",name:"Burpee",category:"Gimnasia",description:"Pecho al suelo y salto.",videoId:"auBLPXO8Fww",type:"Metablico",muscles:"Full Body",keyPoints:["Pecho suelo","Extensin cadera aire","Eficiencia"]},{id:"gy9",name:"Pistol Squat",category:"Gimnasia",description:"Sentadilla a una pierna.",videoId:"qDcniqddTeE",type:"Fuerza / Equilibrio",muscles:"Piernas",keyPoints:["Taln apoyado","Pie libre no toca suelo","Romper paralelo"]},{id:"gy10",name:"Ring Dip",category:"Gimnasia",description:"Fondo en anillas.",videoId:"c4DAnQ6DtF8",type:"Fuerza",muscles:"Pecho, Trceps",keyPoints:["Bceps toca anilla abajo","Bloqueo completo arriba","Estabilidad"]},{id:"gy11",name:"Rope Climb",category:"Gimnasia",description:"Subir la cuerda.",videoId:"lIEI0d5l8AI",type:"Tcnica",muscles:"Dorsales, Agarre",keyPoints:["Uso de pies (J-Hook)","Brazos estirados al reposicionar","Seguridad al bajar"]},{id:"ca1",name:"Double Under",category:"Cardio",description:"La cuerda pasa dos veces por salto.",videoId:"8XZGdbYP9fw",type:"Resistencia",muscles:"Gemelos, Hombros",keyPoints:["Salto vertical","Muecas rpidas","Codos pegados","Relajacin"]},{id:"ca2",name:"Box Jump",category:"Cardio",description:"Salto al cajn.",videoId:"kxxcD1u4d0c",type:"Potencia",muscles:"Piernas",keyPoints:["Despegue dos pies","Extensin cadera arriba","Aterrizaje suave"]},{id:"ca3",name:"Rowing",category:"Cardio",description:"Remo en ergmetro.",videoId:"H0r_ZCp88pY",type:"Resistencia",muscles:"Full Body",keyPoints:["Piernas-Cuerpo-Brazos","Cadena recta","Talones pegados al empujar"]},{id:"ca4",name:"Assault Bike",category:"Cardio",description:"Bicicleta de aire.",videoId:"O8tGrT-d8-M",type:"Metablico",muscles:"Piernas, Brazos",keyPoints:["Uso de brazos y piernas","Respiracin controlada","Ajuste silln"]},{id:"ca5",name:"Ski Erg",category:"Cardio",description:"Simulador de esqu nrdico.",videoId:"P7qpoJmX91I",type:"Resistencia",muscles:"Dorsales, Core, Trceps",keyPoints:["Triple extensin","Uso del peso corporal","Brazos estirados inicio"]},{id:"ac1",name:"Wall Ball",category:"Accesorios",description:"Lanzamiento de baln medicinal a la pared desde sentadilla.",videoId:"_KfCGKfP1_g",type:"Metablico",muscles:"Piernas, Hombros",keyPoints:["Sentadilla profunda","Lanzamiento al subir","Recibir baln cerca cara"]},{id:"ac2",name:"Kettlebell Swing",category:"Accesorios",description:"Balanceo de pesa rusa (Americano o Ruso).",videoId:"1cVT3ee9mgU",type:"Cadena Posterior",muscles:"Glteos, Isquios, Espalda",keyPoints:["Golpe de cadera","Espalda neutra","Brazos como correas"]},{id:"ac3",name:"Turkish Get Up",category:"Accesorios",description:"Levantarse del suelo con una pesa en alto.",videoId:"sgd8n917Zv0",type:"Estabilidad / Core",muscles:"Full Body",keyPoints:["Mirada a la pesa","Pasos controlados","Brazo siempre vertical"]},{id:"ac4",name:"Dumbbell Snatch",category:"Accesorios",description:"Arrancada con mancuerna a una mano.",videoId:"HHsOcHb_IFI",type:"Potencia",muscles:"Full Body",keyPoints:["Espalda recta","Extensin cadera","Bloqueo arriba"]},{id:"ac5",name:"Walking Lunge",category:"Accesorios",description:"Zancadas caminando.",videoId:"DlhojghkaQ0",type:"Fuerza Unilateral",muscles:"Piernas, Glteos",keyPoints:["Rodilla trasera toca suelo","Torso vertical","ngulo 90 grados"]}],voe=()=>{const[t,e]=C.useState(""),[n,r]=C.useState("Todos"),[i,s]=C.useState(null),[l,u]=C.useState("video"),d=C.useMemo(()=>vP.filter(m=>{const g=m.name.toLowerCase().includes(t.toLowerCase()),b=n==="Todos"||m.category===n;return g&&b}),[t,n]),h=m=>{s(m),u("video")};return _.jsxs("div",{className:"animate-fade-in h-full flex flex-col",children:[_.jsxs("div",{className:`flex flex-col h-full ${i?"hidden":"block"}`,children:[_.jsxs("div",{className:"mb-6 flex-none",children:[_.jsx("h2",{className:"text-2xl font-bold text-[var(--color-primary)] mb-2",children:"Biblioteca de Movimientos"}),_.jsxs("p",{className:"opacity-70 text-sm mb-4",children:["Domina la tcnica perfecta. ",vP.length," movimientos disponibles."]}),_.jsxs("div",{className:"relative mb-3",children:[_.jsx(zz,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),_.jsx("input",{type:"text",placeholder:"Buscar (ej. Snatch)...",value:t,onChange:m=>e(m.target.value),className:"w-full bg-[var(--color-card)] border border-[var(--color-secondary)] rounded-xl py-3 pl-10 pr-4 focus:outline-none focus:border-[var(--color-primary)] transition-colors"})]}),_.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar",children:["Todos","Bsicos","Halterofilia","Gimnasia","Cardio","Accesorios"].map(m=>_.jsx("button",{onClick:()=>r(m),className:`
                    px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap transition-all border
                    ${n===m?"bg-[var(--color-primary)] text-white border-[var(--color-primary)]":"bg-[var(--color-card)] text-gray-400 border-[var(--color-secondary)] hover:border-gray-500"}
                    `,children:m},m))})]}),_.jsx("div",{className:"flex-1 overflow-y-auto pr-1 custom-scrollbar pb-20",children:_.jsx("div",{className:"space-y-3",children:d.map(m=>_.jsxs("div",{onClick:()=>h(m),className:"group bg-[var(--color-card)] p-4 rounded-xl border border-[var(--color-secondary)] hover:border-[var(--color-primary)] transition-all cursor-pointer flex items-center justify-between shadow-sm",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 rounded-full bg-[var(--color-bg)] flex items-center justify-center border border-[var(--color-secondary)] group-hover:bg-[var(--color-primary)] group-hover:text-white transition-colors",children:_.jsx(mp,{size:20,className:"ml-1"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-gray-500 group-hover:text-[var(--color-primary)] transition-colors",children:m.name}),_.jsx("p",{className:"text-xs text-gray-400 truncate max-w-[150px]",children:m.type})]})]}),_.jsx(G5,{size:20,className:"text-[var(--color-secondary)] group-hover:text-[var(--color-primary)] group-hover:translate-x-1 transition-all"})]},m.id))})})]}),i&&_.jsxs("div",{className:"fixed inset-0 z-50 bg-[#000] flex flex-col h-full w-full animate-slide-up overflow-hidden",children:[_.jsxs("div",{className:"flex items-center p-4 z-10 shrink-0",children:[_.jsx("button",{onClick:()=>s(null),className:"p-2 -ml-2 text-white hover:text-[var(--color-primary)] transition-colors",children:_.jsx(fp,{size:32})}),_.jsx("h2",{className:"text-xl font-bold ml-2 text-white",children:i.name})]}),_.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar pb-8",children:_.jsxs("div",{className:"max-w-md mx-auto w-full px-6",children:[_.jsx("div",{className:"relative w-full aspect-video bg-[#111] rounded-3xl border border-gray-800 shadow-2xl overflow-hidden mb-4 group",children:l==="video"?_.jsx("div",{className:"w-full h-full",children:_.jsx(yoe,{id:i.videoId,title:i.name,poster:"maxresdefault",wrapperClass:"yt-lite"})}):i.infographic?_.jsx("img",{src:i.infographic,alt:"Infographic",className:"w-full h-full object-contain bg-gray-900"}):_.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 p-4 text-center",children:[_.jsx(mz,{size:48,className:"mb-2 opacity-50"}),_.jsx("p",{children:"No hay infografa disponible"})]})}),i.infographic&&_.jsxs("div",{className:"flex bg-gray-800 p-1 rounded-xl mb-6 mx-auto max-w-[200px]",children:[_.jsxs("button",{onClick:()=>u("video"),className:`flex-1 py-2 rounded-lg flex items-center justify-center gap-2 text-xs font-bold transition-all ${l==="video"?"bg-[var(--color-primary)] text-white shadow-md":"text-gray-400 hover:text-white"}`,children:[_.jsx(nV,{size:14}),"Video"]}),_.jsxs("button",{onClick:()=>u("infographic"),className:`flex-1 py-2 rounded-lg flex items-center justify-center gap-2 text-xs font-bold transition-all ${l==="infographic"?"bg-[var(--color-primary)] text-white shadow-md":"text-gray-400 hover:text-white"}`,children:[_.jsx(SP,{size:14}),"Info"]})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("h4",{className:"text-gray-500 text-sm mb-1",children:"Tipo"}),_.jsx("p",{className:"text-xl font-medium text-white",children:i.type})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"text-gray-500 text-sm mb-1",children:"Msculos"}),_.jsx("p",{className:"text-xl font-medium text-white",children:i.muscles})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"text-gray-500 text-sm mb-3",children:"Puntos Clave:"}),_.jsx("ul",{className:"space-y-3",children:i.keyPoints.map((m,g)=>_.jsxs("li",{className:"flex items-start gap-3",children:[_.jsx("div",{className:"mt-1.5 w-2 h-2 rounded-full bg-[var(--color-primary)] shrink-0 shadow-[0_0_8px_var(--color-primary)]"}),_.jsx("span",{className:"text-lg text-gray-200 leading-snug",children:m})]},g))})]})]})]})}),_.jsx("div",{className:"p-6 bg-gradient-to-t from-black via-black to-transparent shrink-0",children:_.jsx("button",{onClick:()=>s(null),className:"w-full bg-[var(--color-primary)] text-black font-bold text-lg py-4 rounded-2xl hover:brightness-110 active:scale-95 transition-all shadow-lg shadow-[var(--color-primary)]/20",children:"Entendido"})})]})]})},boe=[{id:"jump_rope",name:"Soga de Saltar",icon:""},{id:"dumbbells",name:"Mancuernas",icon:""},{id:"kettlebell",name:"Kettlebell",icon:""},{id:"pull_up_bar",name:"Barra de Dominadas",icon:""},{id:"box",name:"Cajn (Box)",icon:""},{id:"rings",name:"Anillas",icon:""},{id:"barbell",name:"Barra Olmpica",icon:""},{id:"wall_ball",name:"Baln Medicinal",icon:""},{id:"rower",name:"Remo",icon:""},{id:"bike",name:"Bici (Air Bike)",icon:""}],_oe=({user:t,onAddLog:e,onUpdateUser:n})=>{const[r,i]=C.useState(!1),[s,l]=C.useState(()=>{const X=localStorage.getItem("cf_current_workout");return X?JSON.parse(X):null}),[u,d]=C.useState(new Date().toISOString().split("T")[0]),[h,m]=C.useState(!1),[g,b]=C.useState(t.fitnessLevel||"intermedio"),[x,S]=C.useState(!1),E=X=>{if(!n)return;const ve=t.equipment||[];let q;ve.includes(X)?q=ve.filter(J=>J!==X):q=[...ve,X],n({...t,equipment:q})};C.useEffect(()=>{s?localStorage.setItem("cf_current_workout",JSON.stringify(s)):localStorage.removeItem("cf_current_workout")},[s]);const[T,I]=C.useState(!1),[M,j]=C.useState(0),[$,B]=C.useState(0),[F,N]=C.useState(0),[P,k]=C.useState(!1),U=C.useRef(null);C.useEffect(()=>{U.current||(U.current=new(window.AudioContext||window.webkitAudioContext))},[]);const L=(X=800)=>{if(!U.current)return;U.current.state==="suspended"&&U.current.resume();const ve=U.current.createOscillator(),q=U.current.createGain();ve.frequency.setValueAtTime(X,U.current.currentTime),q.gain.setValueAtTime(.1,U.current.currentTime),q.gain.exponentialRampToValueAtTime(.001,U.current.currentTime+.1),ve.connect(q),q.connect(U.current.destination),ve.start(),ve.stop(U.current.currentTime+.1)},V=async()=>{i(!0),l(null);try{const X=await q$(t,g);l(X)}catch(X){alert("Error generando entrenamiento. Intenta de nuevo."),console.error(X)}finally{i(!1)}},R=()=>{if(!s)return;const X=new Date,[ve,q,J]=u.split("-").map(Number),de=new Date(ve,q-1,J,X.getHours(),X.getMinutes()),ye={id:crypto.randomUUID(),date:de.toISOString(),name:s.title||"Entrenamiento en Casa",description:"Generado por IA",calories:s.estimatedCalories||300,durationMinutes:45,type:"home-ai"};e(ye),alert("Entrenamiento registrado en tu calendario!"),l(null),I(!1)},ue=()=>{S(!0)},pe=()=>{l(null),I(!1),S(!1)},G=()=>{var ve;I(!0),j(0),B(0);const X=(ve=s==null?void 0:s.sections[0])==null?void 0:ve.exercises[0];X!=null&&X.durationSeconds?N(X.durationSeconds):N(0),k(!1)},te=()=>{if(!s)return;const X=s.sections[M];if($<X.exercises.length-1){B(q=>q+1);const ve=X.exercises[$+1];N(ve.durationSeconds||0)}else if(M<s.sections.length-1){j(q=>q+1),B(0);const ve=s.sections[M+1].exercises[0];N(ve.durationSeconds||0)}else alert("Entrenamiento Completado!"),I(!1);k(!1)},se=()=>{if(s){if($>0){B(ve=>ve-1);const X=s.sections[M].exercises[$-1];N(X.durationSeconds||0)}else if(M>0){j(q=>q-1);const X=s.sections[M-1];B(X.exercises.length-1);const ve=X.exercises[X.exercises.length-1];N(ve.durationSeconds||0)}k(!1)}};if(C.useEffect(()=>{let X;return P&&F>0&&(X=window.setInterval(()=>{N(ve=>ve<=1?(L(1200),k(!1),0):(ve<=4&&L(600),ve-1))},1e3)),()=>clearInterval(X)},[P,F]),T&&s){const X=s.sections[M],ve=X.exercises[$];return(M*100+($+1)/X.exercises.length*100)/s.sections.length,_.jsxs("div",{className:"flex flex-col h-full w-full bg-black relative overflow-hidden",children:[_.jsxs("div",{className:"flex justify-between items-center p-3 bg-black/40 backdrop-blur-md z-20 shrink-0 border-b border-white/5",children:[_.jsx("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-white transition-colors p-1",children:_.jsx(fp,{size:24})}),_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("h3",{className:"font-bold text-[var(--color-primary)] uppercase tracking-wider text-xs md:text-sm truncate max-w-[200px]",children:X.name}),_.jsx("div",{className:"flex gap-1 mt-1",children:X.exercises.map((q,J)=>_.jsx("div",{className:`h-1 w-3 rounded-full ${J===$?"bg-[var(--color-primary)]":"bg-gray-800"}`},J))})]}),_.jsx("div",{className:"w-8"})," "]}),_.jsxs("div",{className:"flex-1 flex flex-col relative z-10",children:[_.jsxs("div",{className:"px-4 pt-4 pb-2 text-center shrink-0",children:[_.jsx("h2",{className:"text-2xl md:text-4xl font-black text-white leading-none mb-2",children:ve.name}),_.jsx("p",{className:"text-sm md:text-base text-gray-400 font-medium line-clamp-2 leading-tight",children:ve.instruction})]}),_.jsx("div",{className:"flex-1 flex items-center justify-center p-4 min-h-0",children:ve.durationSeconds>0?_.jsxs("div",{className:"relative w-full h-full flex items-center justify-center max-h-[35vh] aspect-square",children:[_.jsxs("svg",{className:"transform -rotate-90 w-full h-full max-h-full",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid meet",children:[_.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"4",fill:"transparent",className:"text-gray-800"}),_.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"4",fill:"transparent",strokeDasharray:2*Math.PI*45,strokeDashoffset:2*Math.PI*45-F/(ve.durationSeconds||1)*(2*Math.PI*45),strokeLinecap:"round",className:`text-[var(--color-primary)] transition-all duration-1000 ease-linear ${P?"drop-shadow-[0_0_10px_rgba(255,50,50,0.5)]":""}`})]}),_.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[_.jsxs("div",{className:`font-mono font-bold tabular-nums leading-none select-none text-[20vw] md:text-8xl tracking-tighter ${P?"text-white":"text-gray-500"}`,children:[Math.floor(F/60),":",(F%60).toString().padStart(2,"0")]}),_.jsx("div",{className:"text-[3vw] md:text-sm font-bold uppercase tracking-[0.3em] text-gray-600 mt-2",children:P?"Tiempo Restante":"En Pausa"})]})]}):_.jsx("div",{className:"w-full max-w-[80%] aspect-square rounded-full border-4 border-dashed border-gray-800 flex items-center justify-center bg-gray-900/30 backdrop-blur-sm",children:_.jsxs("div",{className:"text-center",children:[_.jsx("span",{className:"block text-[15vw] md:text-8xl font-black text-gray-700 tracking-tighter",children:"REPS"}),_.jsx("span",{className:"text-xs md:text-sm text-gray-500 uppercase tracking-widest font-bold block mt-2",children:"Completar"})]})})})]}),_.jsx("div",{className:"bg-gray-900/90 backdrop-blur-xl border-t border-white/10 p-4 pb-20 md:pb-4 shrink-0 z-30 shadow-[0_-4px_20px_rgba(0,0,0,0.5)]",children:_.jsxs("div",{className:"max-w-md mx-auto flex items-center justify-between gap-4",children:[_.jsx("button",{onClick:se,disabled:M===0&&$===0,className:"p-4 rounded-2xl bg-gray-800 text-white disabled:opacity-20 hover:bg-gray-700 transition-all active:scale-95",children:_.jsx(fp,{size:24})}),ve.durationSeconds>0?_.jsxs("div",{className:"flex-1 flex gap-3",children:[_.jsx("button",{onClick:()=>{N(ve.durationSeconds),k(!1)},className:"p-4 rounded-2xl bg-gray-800 text-gray-400 hover:text-white transition-all active:scale-95",children:_.jsx(TP,{size:24})}),_.jsx("button",{onClick:()=>k(!P),className:`flex-1 rounded-2xl font-bold text-lg flex items-center justify-center gap-2 transition-all active:scale-95 shadow-lg ${P?"bg-red-500/20 text-red-500 border border-red-500/50":"bg-[var(--color-primary)] text-black"}`,children:P?_.jsxs("span",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-3 h-3 bg-current rounded-sm"})," PAUSAR"]}):_.jsxs("span",{className:"flex items-center gap-2",children:[_.jsx(mp,{fill:"currentColor",size:20})," INICIAR"]})})]}):_.jsxs("button",{onClick:te,className:"flex-1 bg-[var(--color-primary)] text-black font-bold py-4 rounded-2xl flex items-center justify-center gap-2 hover:brightness-110 transition-all shadow-lg active:scale-95",children:["SIGUIENTE ",_.jsx(N_,{size:20})]}),ve.durationSeconds>0&&_.jsx("button",{onClick:te,className:"p-4 rounded-2xl bg-gray-800 text-white hover:bg-gray-700 transition-all active:scale-95",children:_.jsx(N_,{size:24})})]})}),_.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[150vw] h-[150vw] bg-[var(--color-primary)]/5 blur-[120px] rounded-full pointer-events-none z-0"})]})}return _.jsxs("div",{className:"flex flex-col flex-1 w-full max-w-3xl mx-auto p-4 md:p-6 min-h-0",children:[!s&&!r&&_.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4 text-center",children:[_.jsx("button",{onClick:()=>m(!h),className:"mb-6 text-sm text-[var(--color-primary)] font-bold underline decoration-dotted hover:text-white transition-colors",children:t.equipment&&t.equipment.length>0?`Equipamiento: ${t.equipment.length} items`:"+ Aadir mi equipamiento"}),h&&_.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:_.jsxs("div",{className:"bg-[var(--color-card)] border border-[var(--color-secondary)] rounded-2xl p-6 max-w-sm w-full shadow-2xl",children:[_.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"Tu Gimnasio"}),_.jsx("p",{className:"text-sm text-gray-400 mb-4 text-center",children:"Selecciona lo que tienes disponible. La IA lo usar para variar tus rutinas."}),_.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-[50vh] overflow-y-auto custom-scrollbar mb-6",children:boe.map(X=>{var ve;return _.jsxs("button",{onClick:()=>E(X.id),className:`p-3 rounded-xl border text-left text-sm font-medium transition-all flex items-center gap-2 ${(ve=t.equipment)!=null&&ve.includes(X.id)?"bg-[var(--color-primary)]/20 border-[var(--color-primary)] text-white":"bg-gray-900 border-gray-700 text-gray-400 hover:border-gray-500"}`,children:[_.jsx("span",{children:X.icon}),X.name]},X.id)})}),_.jsx("button",{onClick:()=>m(!1),className:"w-full bg-[var(--color-primary)] text-black font-bold py-3 rounded-xl hover:brightness-110 transition-all",children:"Guardar y Cerrar"})]})}),_.jsx("div",{className:"bg-[var(--color-secondary)]/20 p-4 rounded-full mb-4 md:mb-6 md:p-6",children:_.jsx(dp,{size:32,className:"text-[var(--color-primary)] md:w-12 md:h-12"})}),_.jsx("h3",{className:"text-xl font-bold mb-2 md:mb-4",children:"Listo para sudar?"}),_.jsx("p",{className:"text-gray-400 mb-6 max-w-sm text-sm md:text-base",children:"La IA crear una rutina personalizada basada en tu nivel y edad."}),_.jsxs("div",{className:"mb-6 w-full max-w-xs",children:[_.jsx("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-2 text-left",children:"Nivel de Intensidad"}),_.jsx("div",{className:"grid grid-cols-2 gap-2",children:["principiante","intermedio","avanzado","experto"].map(X=>_.jsx("button",{onClick:()=>b(X),className:`p-2 rounded-lg text-sm font-bold capitalize transition-all ${g===X?"bg-[var(--color-primary)] text-black shadow-lg scale-105":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:X},X))})]}),_.jsxs("button",{onClick:V,className:"bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] text-white font-bold py-3 px-6 md:py-4 md:px-8 rounded-full shadow-lg hover:scale-105 transition-transform flex items-center gap-2 text-sm md:text-base",children:[_.jsx(qz,{size:18,className:"md:w-5 md:h-5"}),"Generar WOD Ahora"]})]}),r&&_.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[_.jsx(hp,{className:"animate-spin text-[var(--color-primary)]",size:60}),_.jsx("p",{className:"mt-4 text-lg font-medium",children:"Diseando tu sufrimiento..."})]}),s&&_.jsxs("div",{className:"flex-1 overflow-y-auto bg-[var(--color-card)] rounded-2xl border border-[var(--color-secondary)] p-4 md:p-6 shadow-2xl animate-slide-up relative custom-scrollbar",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)]"}),_.jsxs("div",{className:"flex justify-between items-start mb-6",children:[_.jsx("h3",{className:"text-xl md:text-2xl font-black uppercase italic text-[var(--color-text)] leading-tight",children:s.title}),_.jsx("button",{onClick:ue,className:"text-red-400 hover:text-red-300 p-1",children:_.jsx(Ic,{size:20})})]}),_.jsxs("div",{className:"space-y-6",children:[s.sections.map((X,ve)=>_.jsxs("div",{className:"p-4 bg-[var(--color-bg)] rounded-xl border-l-4 border-[var(--color-primary)]",children:[_.jsx("h4",{className:"font-bold text-[var(--color-primary)] text-xs uppercase mb-3",children:X.name}),_.jsx("ul",{className:"space-y-2",children:X.exercises.map((q,J)=>_.jsxs("li",{className:"flex flex-col sm:flex-row sm:justify-between text-sm border-b border-gray-800 pb-3 last:border-0 gap-1",children:[_.jsx("span",{className:"text-[var(--color-text)] font-bold",children:q.name}),_.jsx("span",{className:"text-gray-500 sm:text-right text-xs sm:text-sm",children:q.instruction})]},J))})]},ve)),_.jsxs("div",{className:"mt-8 text-center italic text-gray-500 text-sm",children:['"',s.tips,'"']}),_.jsx("div",{className:"flex gap-3 mt-6",children:_.jsxs("button",{onClick:G,className:"flex-1 bg-[var(--color-primary)] text-black font-bold py-3 rounded-lg flex items-center justify-center gap-2 hover:brightness-110 transition-all shadow-lg",children:[_.jsx(mp,{size:20}),"EMPEZAR ENTRENAMIENTO"]})}),_.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-800",children:[_.jsx("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-2",children:"Fecha del Entrenamiento"}),_.jsxs("div",{className:"flex items-center gap-2 bg-[var(--color-bg)] p-3 rounded-xl border border-gray-700 focus-within:border-[var(--color-primary)] transition-colors mb-4",children:[_.jsx(zf,{size:20,className:"text-gray-400"}),_.jsx("input",{type:"date",value:u,onChange:X=>d(X.target.value),className:"bg-transparent text-[var(--color-text)] w-full focus:outline-none font-medium"})]}),_.jsxs("button",{onClick:R,className:"w-full bg-gray-800 hover:bg-gray-700 text-white font-bold py-3 rounded-lg flex items-center justify-center gap-2 transition-all",children:[_.jsx(wP,{size:20}),"Solo Registrar (Sin Guiar)"]})]})]})]}),x&&_.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:_.jsxs("div",{className:"bg-[var(--color-card)] border border-[var(--color-secondary)] rounded-2xl p-6 max-w-sm w-full shadow-2xl",children:[_.jsx("h3",{className:"text-xl font-bold mb-4 text-center text-[var(--color-text)]",children:"Descartar entrenamiento?"}),_.jsx("p",{className:"text-sm text-gray-400 mb-6 text-center",children:"Si lo descartas, perders esta rutina generada."}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:()=>S(!1),className:"flex-1 py-3 rounded-xl font-bold bg-gray-800 text-white hover:bg-gray-700 transition-colors",children:"Cancelar"}),_.jsx("button",{onClick:pe,className:"flex-1 py-3 rounded-xl font-bold bg-red-500/20 text-red-500 border border-red-500/50 hover:bg-red-500/30 transition-colors",children:"S, Descartar"})]})]})})]})},xoe=({user:t,nutritionLogs:e=[],onAddLog:n,onUpdateUser:r,onDeleteLog:i})=>{const[s,l]=C.useState("plan"),[u,d]=C.useState(null),[h,m]=C.useState(!1),[g,b]=C.useState(null),[x,S]=C.useState(!1),[E,T]=C.useState(null),[I,M]=C.useState("lunch"),[j,$]=C.useState(new Date().toISOString().split("T")[0]),B=C.useRef(null),[F,N]=C.useState(!1),[P,k]=C.useState(""),[U,L]=C.useState(""),[V,R]=C.useState({protein:"",carbs:"",fat:""}),[ue,pe]=C.useState(t.nutritionGoal||"maintain"),[G,te]=C.useState(!1),[se,X]=C.useState(""),ve=oe=>{var Qe;const ae=(Qe=oe.target.files)==null?void 0:Qe[0];if(ae){const ze=new FileReader;ze.onloadend=()=>{d(ze.result),b(null)},ze.readAsDataURL(ae)}},q=async()=>{if(u){m(!0);try{const oe=await $$(u);b({...oe,mealType:I})}catch(oe){console.error("Error analyzing food:",oe),alert(`No pude analizar la comida. Error: ${oe.message||"Desconocido"}`)}finally{m(!1)}}},J=()=>{g&&(T({...g}),S(!0))},de=()=>{E&&(b(E),S(!1))},ye=()=>{if(g&&n){const oe={id:Date.now().toString()+Math.random().toString(36).substr(2,9),date:new Date(j+"T"+new Date().toTimeString().split(" ")[0]).toISOString(),mealType:I,foodItems:g.foodItems,description:g.foodItems.join(", "),calories:g.calories,macros:g.macros,tips:g.tips||"Anlisis con IA"};n(oe),alert("Comida registrada!"),b(null),d(null)}},be=()=>{if(!P||!U){alert("Por favor ingresa una descripcin y las caloras.");return}if(n){const oe={id:Date.now().toString()+Math.random().toString(36).substr(2,9),date:new Date(j+"T"+new Date().toTimeString().split(" ")[0]).toISOString(),mealType:I,foodItems:[P],description:P,calories:parseFloat(U)||0,macros:{protein:parseFloat(V.protein)||0,carbs:parseFloat(V.carbs)||0,fat:parseFloat(V.fat)||0},tips:"Registro manual"};n(oe),alert("Comida registrada manualmente!"),k(""),L(""),R({protein:"",carbs:"",fat:""}),N(!1)}},Ce=async()=>{te(!0);try{const oe=await F$(t,ue);r({...t,nutritionGoal:ue,dietPlan:oe})}catch(oe){console.error("Error generating plan:",oe),alert("Error al generar el plan.")}finally{te(!1)}},Te=()=>{const oe=parseFloat(se);if(!isNaN(oe)){const ae={date:new Date().toISOString(),weight:oe},Qe=[...t.weightHistory||[],ae];r({...t,weight:oe,weightHistory:Qe}),X(""),alert("Peso registrado.")}},et=e.filter(oe=>{const ae=new Date(oe.date),Qe=new Date;return ae.getDate()===Qe.getDate()&&ae.getMonth()===Qe.getMonth()&&ae.getFullYear()===Qe.getFullYear()}),le=et.reduce((oe,ae)=>oe+ae.calories,0),Pe=oe=>{switch(oe){case"breakfast":return"Desayuno";case"lunch":return"Almuerzo";case"dinner":return"Cena";case"snack":return"Colacin";default:return oe}};return _.jsxs("div",{className:"flex flex-col h-full w-full animate-fade-in",children:[_.jsx("div",{className:"p-4 md:p-6 text-center shrink-0",children:_.jsxs("h2",{className:"text-2xl font-bold flex items-center justify-center gap-2",children:[_.jsx(Vf,{className:"text-[var(--color-primary)]"}),"Nutricionista ",_.jsx("span",{className:"text-[var(--color-primary)]",children:"AI"})]})}),_.jsxs("div",{className:"flex justify-center gap-2 px-4 mb-4 shrink-0",children:[_.jsx("button",{onClick:()=>l("plan"),className:`px-4 py-2 rounded-full font-bold text-sm transition-all ${s==="plan"?"bg-[var(--color-primary)] text-black":"bg-gray-800 text-gray-400"}`,children:"Objetivos"}),_.jsx("button",{onClick:()=>l("today"),className:`px-4 py-2 rounded-full font-bold text-sm transition-all ${s==="today"?"bg-[var(--color-primary)] text-black":"bg-gray-800 text-gray-400"}`,children:"Registros"}),_.jsx("button",{onClick:()=>l("progress"),className:`px-4 py-2 rounded-full font-bold text-sm transition-all ${s==="progress"?"bg-[var(--color-primary)] text-black":"bg-gray-800 text-gray-400"}`,children:"Progreso"})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-6 pb-4 max-w-3xl mx-auto w-full",children:[s==="today"&&_.jsxs("div",{className:"flex flex-col gap-6",children:[_.jsxs("div",{className:"bg-[var(--color-card)] p-4 rounded-xl border border-[var(--color-secondary)]/30 flex justify-between items-center",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-[var(--color-primary)] font-bold text-sm uppercase",children:"Hoy"}),_.jsxs("div",{className:"text-2xl font-black text-[var(--color-text)]",children:[le," ",_.jsx("span",{className:"text-sm font-normal text-gray-400",children:"kcal"})]})]}),t.dietPlan&&_.jsxs("div",{className:"text-right",children:[_.jsx("h3",{className:"text-gray-400 font-bold text-sm uppercase",children:"Meta"}),_.jsxs("div",{className:"text-xl font-bold text-gray-300",children:[t.dietPlan.dailyCalories," ",_.jsx("span",{className:"text-sm font-normal text-gray-500",children:"kcal"})]})]})]}),_.jsxs("div",{className:"bg-[var(--color-card)] rounded-2xl border-2 border-dashed border-gray-700 p-6 flex flex-col items-center justify-center relative overflow-hidden min-h-[300px]",children:[!u&&!g&&_.jsxs("div",{className:"absolute top-4 right-4 z-20 flex bg-gray-800 rounded-lg p-1",children:[_.jsx("button",{onClick:()=>N(!1),className:`px-3 py-1 rounded-md text-xs font-bold transition-all ${F?"text-gray-400":"bg-[var(--color-primary)] text-black"}`,children:"Foto"}),_.jsx("button",{onClick:()=>N(!0),className:`px-3 py-1 rounded-md text-xs font-bold transition-all ${F?"bg-[var(--color-primary)] text-black":"text-gray-400"}`,children:"Manual"})]}),F?_.jsxs("div",{className:"w-full max-w-md space-y-4 z-10",children:[_.jsx("h3",{className:"text-lg font-bold text-[var(--color-text)] text-center mb-4",children:"Registro Manual"}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Fecha"}),_.jsx("input",{type:"date",value:j,onChange:oe=>$(oe.target.value),className:"w-full bg-gray-900 text-white p-3 rounded-xl border border-gray-700 focus:border-[var(--color-primary)] outline-none"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Descripcin"}),_.jsx("textarea",{value:P,onChange:oe=>k(oe.target.value),placeholder:"Ej: Ensalada de pollo con palta...",className:"w-full bg-gray-900 text-white p-3 rounded-xl border border-gray-700 focus:border-[var(--color-primary)] outline-none resize-none h-24"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Tipo de Comida"}),_.jsx("div",{className:"grid grid-cols-4 gap-2",children:["breakfast","lunch","snack","dinner"].map(oe=>_.jsx("button",{onClick:()=>M(oe),className:`p-2 rounded-lg text-xs font-bold transition-all truncate ${I===oe?"bg-[var(--color-primary)] text-black":"bg-gray-800 text-gray-400"}`,children:Pe(oe)},oe))})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Caloras"}),_.jsx("input",{type:"number",value:U,onChange:oe=>L(oe.target.value),placeholder:"0",className:"w-full bg-gray-900 text-white p-3 rounded-xl border border-gray-700 focus:border-[var(--color-primary)] outline-none"})]}),_.jsxs("div",{className:"col-span-2 grid grid-cols-3 gap-2",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Prot (g)"}),_.jsx("input",{type:"number",value:V.protein,onChange:oe=>R({...V,protein:oe.target.value}),className:"w-full bg-gray-900 text-blue-400 p-2 rounded-lg border border-gray-800 text-center font-bold text-sm",placeholder:"0"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Carbs (g)"}),_.jsx("input",{type:"number",value:V.carbs,onChange:oe=>R({...V,carbs:oe.target.value}),className:"w-full bg-gray-900 text-green-400 p-2 rounded-lg border border-gray-800 text-center font-bold text-sm",placeholder:"0"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Grasas (g)"}),_.jsx("input",{type:"number",value:V.fat,onChange:oe=>R({...V,fat:oe.target.value}),className:"w-full bg-gray-900 text-yellow-400 p-2 rounded-lg border border-gray-800 text-center font-bold text-sm",placeholder:"0"})]})]})]}),_.jsxs("button",{onClick:be,className:"w-full bg-[var(--color-primary)] text-black font-bold py-3 rounded-xl hover:brightness-110 transition-all flex items-center justify-center gap-2 mt-4",children:[_.jsx(R_,{size:18})," Guardar Registro"]})]}):u?_.jsxs(_.Fragment,{children:[_.jsx("img",{src:u,alt:"Plato",className:"absolute inset-0 w-full h-full object-cover opacity-50"}),_.jsxs("div",{className:"relative z-10 flex flex-col gap-4 w-full max-w-xs",children:[!g&&!h&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"bg-black/80 p-2 rounded-xl backdrop-blur-sm",children:[_.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1 text-center",children:"Tipo de Comida"}),_.jsx("div",{className:"grid grid-cols-2 gap-2",children:["breakfast","lunch","snack","dinner"].map(oe=>_.jsx("button",{onClick:()=>M(oe),className:`p-2 rounded-lg text-xs font-bold transition-all ${I===oe?"bg-[var(--color-primary)] text-black":"bg-gray-700 text-gray-300"}`,children:Pe(oe)},oe))})]}),_.jsxs("button",{onClick:q,className:"bg-[var(--color-primary)] text-black font-bold py-3 px-8 rounded-full shadow-lg hover:scale-105 transition-transform flex items-center justify-center gap-2 w-full",children:[_.jsx(Vf,{size:20})," Analizar Plato"]})]}),_.jsx("button",{onClick:()=>d(null),className:"bg-black/50 text-white text-sm py-2 px-4 rounded-full backdrop-blur-md hover:bg-black/70 w-full",children:"Cambiar Foto"})]})]}):_.jsxs("div",{className:"text-center space-y-4",children:[_.jsx("div",{className:"w-20 h-20 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:_.jsx(Cg,{size:40,className:"text-[var(--color-primary)]"})}),_.jsx("h3",{className:"text-lg font-bold text-[var(--color-text)]",children:"Registrar Comida"}),_.jsxs("button",{onClick:()=>{var oe;return(oe=B.current)==null?void 0:oe.click()},className:"bg-[var(--color-secondary)] text-white font-bold py-2 px-6 rounded-xl hover:brightness-110 transition-all flex items-center gap-2 mx-auto",children:[_.jsx(AP,{size:18})," Subir Foto"]})]}),_.jsx("input",{type:"file",ref:B,onChange:ve,accept:"image/*",className:"hidden"})]}),h&&_.jsxs("div",{className:"text-center py-8 animate-pulse",children:[_.jsx(hp,{size:40,className:"animate-spin text-[var(--color-primary)] mx-auto mb-4"}),_.jsx("p",{className:"text-lg font-medium text-[var(--color-text)]",children:"Analizando ingredientes..."})]}),g&&_.jsxs("div",{className:"bg-[var(--color-card)] p-6 rounded-2xl border border-[var(--color-secondary)]/50 animate-fade-in space-y-4",children:[_.jsxs("div",{className:"flex justify-between items-center bg-gray-900/30 p-3 rounded-xl",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(zf,{size:16,className:"text-[var(--color-primary)]"}),_.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Fecha del registro"})]}),_.jsx("input",{type:"date",value:j,onChange:oe=>$(oe.target.value),className:"bg-gray-800 text-white text-xs font-bold px-3 py-1.5 rounded-lg border border-gray-700 outline-none focus:border-[var(--color-primary)]"})]}),_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("h3",{className:"text-lg font-bold text-[var(--color-text)]",children:"Anlisis Nutricional"}),x?_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"number",value:E==null?void 0:E.calories,onChange:oe=>T(ae=>ae?{...ae,calories:Number(oe.target.value)}:null),className:"bg-gray-800 text-white px-2 py-1 rounded w-20 text-right font-bold"}),_.jsx("span",{className:"text-xs font-bold text-[var(--color-primary)]",children:"kcal"})]}):_.jsxs("div",{className:"bg-[var(--color-primary)]/20 text-[var(--color-primary)] px-3 py-1 rounded-full text-xs font-bold",children:["~",g.calories," kcal"]})]}),_.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[_.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-xl text-center",children:[_.jsx("div",{className:"text-xs text-[var(--color-text)] opacity-70 uppercase font-bold mb-1",children:"Prot"}),x?_.jsx("input",{type:"number",value:E==null?void 0:E.macros.protein,onChange:oe=>T(ae=>ae?{...ae,macros:{...ae.macros,protein:Number(oe.target.value)}}:null),className:"bg-gray-800 text-blue-400 w-full text-center font-black rounded"}):_.jsxs("div",{className:"text-lg font-black text-blue-400",children:[g.macros.protein,"g"]})]}),_.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-xl text-center",children:[_.jsx("div",{className:"text-xs text-[var(--color-text)] opacity-70 uppercase font-bold mb-1",children:"Carbs"}),x?_.jsx("input",{type:"number",value:E==null?void 0:E.macros.carbs,onChange:oe=>T(ae=>ae?{...ae,macros:{...ae.macros,carbs:Number(oe.target.value)}}:null),className:"bg-gray-800 text-green-400 w-full text-center font-black rounded"}):_.jsxs("div",{className:"text-lg font-black text-green-400",children:[g.macros.carbs,"g"]})]}),_.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-xl text-center",children:[_.jsx("div",{className:"text-xs text-[var(--color-text)] opacity-70 uppercase font-bold mb-1",children:"Grasas"}),x?_.jsx("input",{type:"number",value:E==null?void 0:E.macros.fat,onChange:oe=>T(ae=>ae?{...ae,macros:{...ae.macros,fat:Number(oe.target.value)}}:null),className:"bg-gray-800 text-yellow-400 w-full text-center font-black rounded"}):_.jsxs("div",{className:"text-lg font-black text-yellow-400",children:[g.macros.fat,"g"]})]})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("h4",{className:"text-sm font-bold text-[var(--color-text)] opacity-80 mb-3 uppercase",children:"Alimentos"}),x?_.jsx("textarea",{value:E==null?void 0:E.foodItems.join(", "),onChange:oe=>T(ae=>ae?{...ae,foodItems:oe.target.value.split(",").map(Qe=>Qe.trim())}:null),className:"w-full bg-gray-800 text-gray-300 p-2 rounded-lg text-sm",rows:3}):_.jsx("ul",{className:"space-y-2",children:g.foodItems.map((oe,ae)=>_.jsxs("li",{className:"flex items-center gap-2 text-sm text-[var(--color-text)] opacity-80",children:[_.jsx(wP,{size:16,className:"text-[var(--color-primary)]"}),oe]},ae))})]}),_.jsx("div",{className:"flex gap-3",children:x?_.jsxs("button",{onClick:de,className:"flex-1 bg-green-600 text-white font-bold py-4 rounded-xl flex items-center justify-center gap-2",children:[_.jsx(R_,{size:20})," Guardar"]}):_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:J,className:"bg-gray-800 text-white font-bold p-4 rounded-xl",children:_.jsx(Rz,{size:20})}),_.jsx("button",{onClick:ye,className:"flex-1 bg-[var(--color-primary)] text-black font-bold py-4 rounded-xl",children:"Registrar Comida"})]})})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("h3",{className:"text-lg font-bold text-[var(--color-text)] flex items-center gap-2",children:[_.jsx(EP,{size:20,className:"text-[var(--color-primary)]"}),"Historial de Hoy"]}),et.length>0?et.map(oe=>_.jsxs("div",{className:"bg-[var(--color-card)] p-4 rounded-xl border border-gray-800 flex justify-between items-center group",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx("span",{className:"text-xs font-bold text-[var(--color-primary)] uppercase bg-[var(--color-primary)]/10 px-2 py-0.5 rounded",children:Pe(oe.mealType)}),_.jsx("span",{className:"text-xs text-gray-500",children:new Date(oe.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),_.jsx("p",{className:"text-sm text-[var(--color-text)] font-medium line-clamp-1",children:oe.foodItems.join(", ")})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("div",{className:"text-right",children:[_.jsx("div",{className:"font-bold text-[var(--color-text)]",children:oe.calories}),_.jsx("div",{className:"text-xs text-gray-500",children:"kcal"})]}),i&&_.jsx("button",{onClick:ae=>{ae.stopPropagation(),i(oe.id)},className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/20 rounded-lg transition-colors relative z-10",children:_.jsx(Ic,{size:18})})]})]},oe.id)):_.jsx("div",{className:"text-center py-8 text-gray-500 bg-gray-900/30 rounded-xl border border-dashed border-gray-800",children:_.jsx("p",{children:"No has registrado comidas hoy."})})]})]}),s==="plan"&&_.jsxs("div",{className:"flex flex-col gap-6",children:[_.jsxs("div",{className:"bg-[var(--color-card)] p-6 rounded-2xl border border-[var(--color-secondary)]",children:[_.jsxs("h3",{className:"text-xl font-bold text-[var(--color-text)] mb-4 flex items-center gap-2",children:[_.jsx(pp,{className:"text-[var(--color-primary)]"})," Tu Objetivo"]}),_.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:["lose_weight","gain_muscle","maintain","performance"].map(oe=>_.jsxs("button",{onClick:()=>pe(oe),className:`p-3 rounded-xl text-sm font-bold border-2 transition-all ${ue===oe?"border-[var(--color-primary)] bg-[var(--color-primary)]/10 text-[var(--color-primary)]":"border-gray-700 text-gray-400 hover:border-gray-500"}`,children:[oe==="lose_weight"&&"Perder Peso",oe==="gain_muscle"&&"Ganar Msculo",oe==="maintain"&&"Mantener",oe==="performance"&&"Rendimiento"]},oe))}),_.jsxs("button",{onClick:Ce,disabled:G,className:"w-full bg-[var(--color-primary)] text-black font-bold py-4 rounded-xl hover:brightness-110 transition-all shadow-lg flex items-center justify-center gap-2",children:[G?_.jsx(hp,{className:"animate-spin"}):_.jsx(pp,{size:20}),t.dietPlan?"Regenerar Plan":"Generar Plan de Dieta"]})]}),t.dietPlan&&_.jsxs("div",{className:"bg-[var(--color-card)] p-6 rounded-2xl border border-[var(--color-secondary)] animate-slide-up",children:[_.jsx("h3",{className:"text-xl font-bold text-[var(--color-text)] mb-4",children:"Tu Plan Diario"}),_.jsxs("div",{className:"flex justify-between mb-6 bg-black/30 p-4 rounded-xl",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"text-2xl font-black text-[var(--color-primary)]",children:t.dietPlan.dailyCalories}),_.jsx("div",{className:"text-xs text-gray-400",children:"Kcal"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-xl font-bold text-blue-400",children:[t.dietPlan.macros.protein,"g"]}),_.jsx("div",{className:"text-xs text-gray-400",children:"Prot"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-xl font-bold text-green-400",children:[t.dietPlan.macros.carbs,"g"]}),_.jsx("div",{className:"text-xs text-gray-400",children:"Carbs"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-xl font-bold text-yellow-400",children:[t.dietPlan.macros.fat,"g"]}),_.jsx("div",{className:"text-xs text-gray-400",children:"Grasas"})]})]}),_.jsx("div",{className:"space-y-4",children:t.dietPlan.meals.map((oe,ae)=>_.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-xl",children:[_.jsxs("div",{className:"flex justify-between items-start mb-1",children:[_.jsx("h4",{className:"font-bold text-[var(--color-text)]",children:oe.name}),_.jsxs("span",{className:"text-xs font-bold text-[var(--color-primary)]",children:[oe.calories," kcal"]})]}),_.jsx("p",{className:"text-sm text-gray-400",children:oe.description})]},ae))})]})]}),s==="progress"&&_.jsx("div",{className:"flex flex-col gap-6",children:_.jsxs("div",{className:"bg-[var(--color-card)] p-6 rounded-2xl border border-[var(--color-secondary)]",children:[_.jsxs("h3",{className:"text-xl font-bold text-[var(--color-text)] mb-4 flex items-center gap-2",children:[_.jsx(P_,{className:"text-[var(--color-primary)]"})," Control de Peso"]}),_.jsxs("div",{className:"flex gap-3 mb-6",children:[_.jsx("input",{type:"number",value:se,onChange:oe=>X(oe.target.value),placeholder:"Peso actual (kg)",className:"flex-1 bg-gray-900 text-white p-4 rounded-xl border border-gray-700 focus:border-[var(--color-primary)] outline-none"}),_.jsx("button",{onClick:Te,className:"bg-[var(--color-primary)] text-black font-bold px-6 rounded-xl",children:"Registrar"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("h4",{className:"text-sm font-bold text-gray-400 uppercase mb-2",children:"Historial"}),t.weightHistory&&t.weightHistory.length>0?[...t.weightHistory].reverse().map((oe,ae)=>_.jsxs("div",{className:"flex justify-between items-center bg-gray-900/30 p-3 rounded-lg",children:[_.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[_.jsx(zf,{size:16}),_.jsx("span",{className:"text-sm",children:new Date(oe.date).toLocaleDateString()})]}),_.jsxs("span",{className:"font-bold text-[var(--color-text)]",children:[oe.weight," kg"]})]},ae)):_.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay registros an."})]})]})})]})]})},woe=()=>{const[t,e]=C.useState(null),n=async()=>{try{const r=new Na;await m7(J1,r)}catch(r){console.error("Login error:",r),e("Error: "+(r.message||"No se pudo iniciar sesin."))}};return _.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-black text-white p-4 relative overflow-hidden",children:[_.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0",children:[_.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-[#ff0033] rounded-full blur-[150px] opacity-20 animate-pulse"}),_.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-[#00ffff] rounded-full blur-[150px] opacity-20 animate-pulse delay-1000"})]}),_.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center max-w-md w-full",children:[_.jsxs("div",{className:"mb-8 flex items-center gap-3",children:[_.jsx(Oc,{size:60,className:"text-[#ff0033]"}),_.jsxs("h1",{className:"text-5xl font-black tracking-tighter",children:["Crossfit-",_.jsx("span",{className:"text-[#ff0033]",children:"AI"})]})]}),_.jsx("p",{className:"text-gray-400 mb-12 text-lg",children:"Tu entrenador personal inteligente. Analiza tus WODs, controla tu nutricin y supera tus lmites."}),_.jsxs("button",{onClick:n,className:"w-full bg-white text-black font-bold py-4 px-6 rounded-2xl flex items-center justify-center gap-3 hover:scale-105 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.3)]",children:[_.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-6 h-6"}),_.jsx("span",{children:"Continuar con Google"})]}),t&&_.jsx("p",{className:"mt-4 text-red-500 text-sm font-bold bg-red-500/10 p-3 rounded-lg border border-red-500/20",children:t}),_.jsxs("div",{className:"mt-16 grid grid-cols-3 gap-4 text-center text-xs text-gray-500",children:[_.jsxs("div",{className:"flex flex-col items-center gap-2",children:[_.jsx(dp,{size:24,className:"text-[#ff0033]"}),_.jsx("span",{children:"WOD Analysis"})]}),_.jsxs("div",{className:"flex flex-col items-center gap-2",children:[_.jsx(Oc,{size:24,className:"text-[#00ffff]"}),_.jsx("span",{children:"Progress Tracking"})]}),_.jsxs("div",{className:"flex flex-col items-center gap-2",children:[_.jsx("div",{className:"text-2xl",children:""}),_.jsx("span",{children:"AI Nutritionist"})]})]})]})]})},bP={name:"Atleta",age:25,weight:75,height:175,gender:"male",fitnessLevel:"principiante",xp:0,levelProgress:0,isRegistered:!1,language:"es"},Eoe=rp[0],Soe=()=>{const[t,e]=C.useState("dashboard"),[n,r]=C.useState("scan"),[i,s]=C.useState(()=>{const pe=localStorage.getItem("cf_theme");return pe?JSON.parse(pe):Eoe}),[l,u]=C.useState(bP),[d,h]=C.useState([]),[m,g]=C.useState([]),[b,x]=C.useState(!0),[S,E]=C.useState(null),[T,I]=C.useState(""),[M,j]=C.useState({isOpen:!1,type:null,id:null});C.useEffect(()=>{const pe=Yq(J1,G=>{if(E(G),G){I(G.uid);const te=Oa(or,"users",G.uid),se=H0(te,de=>{if(de.exists())u(de.data());else{const ye={...bP,name:G.displayName||"Atleta",avatar:G.photoURL||void 0};pf(te,ye),u(ye)}x(!1)}),X=w2(Om(or,"workoutLogs"),E2("userId","==",G.uid)),ve=H0(X,de=>{const ye=de.docs.map(be=>({id:be.id,...be.data()}));h(ye)}),q=w2(Om(or,"nutritionLogs"),E2("userId","==",G.uid)),J=H0(q,de=>{const ye=de.docs.map(be=>({id:be.id,...be.data()}));g(ye)});return()=>{se(),ve(),J()}}else I(""),h([]),g([]),x(!1)});return()=>pe()},[]),C.useEffect(()=>localStorage.setItem("cf_theme",JSON.stringify(i)),[i]);const $=async pe=>{if(T)try{await pf(Oa(or,"users",T),pe,{merge:!0})}catch(G){console.error("Error updating user:",G)}};C.useEffect(()=>{const pe=()=>{if(!l.lastActiveDate||!l.xp)return;const G=new Date,te=new Date(l.lastActiveDate),se=Math.abs(G.getTime()-te.getTime());if(Math.ceil(se/(1e3*60*60*24))>3){const ve=l.lastPenaltyDate?new Date(l.lastPenaltyDate):te,q=Math.abs(G.getTime()-ve.getTime()),J=Math.floor(q/(1e3*60*60*24));if(J>0){const ye=J*20,be=Math.max(0,l.xp-ye);if(be!==l.xp){const{level:Ce,progress:Te}=B(be),et={...l,xp:be,fitnessLevel:Ce,levelProgress:Te,lastPenaltyDate:G.toISOString()};$(et),alert(`Has perdido ${ye} XP por inactividad! Entrena para recuperar tu nivel.`)}}}};pe(),pe()},[]),C.useEffect(()=>{let pe=!1;const G=d.map(se=>se.id?se:(pe=!0,{...se,id:crypto.randomUUID()})),te=m.map(se=>se.id?se:(pe=!0,{...se,id:crypto.randomUUID()}));pe&&(h(G),g(te),console.log("Fixed missing IDs in logs"))},[d.length,m.length]);const B=pe=>{const G={intermedio:1e3,avanzado:3e3,experto:7e3,master:15e3};return pe>=G.master?{level:"master",progress:100}:pe>=G.experto?{level:"experto",progress:(pe-G.experto)/(G.master-G.experto)*100}:pe>=G.avanzado?{level:"avanzado",progress:(pe-G.avanzado)/(G.experto-G.avanzado)*100}:pe>=G.intermedio?{level:"intermedio",progress:(pe-G.intermedio)/(G.avanzado-G.intermedio)*100}:{level:"principiante",progress:pe/G.intermedio*100}},F=pe=>{const G=100+(pe.xpEarned||0),te=(l.xp||0)+G,{level:se,progress:X}=B(te),ve={...l,xp:te,fitnessLevel:se,levelProgress:X,lastActiveDate:new Date().toISOString(),lastPenaltyDate:new Date().toISOString()};$(ve);const q=Oa(Om(or,"workoutLogs"));pf(q,{...pe,id:q.id,userId:T}),e("dashboard")},N=pe=>{const G=Oa(Om(or,"nutritionLogs"));pf(G,{...pe,id:G.id,userId:T})},P=pe=>{j({isOpen:!0,type:"workout",id:pe})},k=pe=>{j({isOpen:!0,type:"nutrition",id:pe})},U=async()=>{if(M.type==="workout"&&M.id){await pf(Oa(or,"workoutLogs",M.id),{},{merge:!1});const pe=K0(or);pe.delete(Oa(or,"workoutLogs",M.id)),await pe.commit()}else if(M.type==="nutrition"&&M.id){const pe=K0(or);pe.delete(Oa(or,"nutritionLogs",M.id)),await pe.commit()}else if(M.type==="reset"){const pe=Oa(or,"users",T),G=K0(or);G.update(pe,{xp:0,fitnessLevel:"principiante",levelProgress:0,lastActiveDate:A2(),lastPenaltyDate:A2()}),d.forEach(te=>{G.delete(Oa(or,"workoutLogs",te.id))}),await G.commit(),alert("Progreso reiniciado correctamente!")}j({isOpen:!1,type:null,id:null})},L=()=>{j({isOpen:!0,type:"reset",id:null})},V=()=>{j({isOpen:!1,type:null,id:null})},R=()=>_.jsxs("div",{className:"h-full flex flex-col",children:[_.jsxs("div",{className:"flex bg-[var(--color-card)] p-1 rounded-lg mb-4 shrink-0",children:[_.jsx("button",{className:`flex-1 py-2 text-sm font-bold rounded-md transition-colors ${n==="scan"?"bg-[var(--color-primary)] text-white":"text-gray-400"}`,onClick:()=>r("scan"),children:"Escanear WOD"}),_.jsx("button",{className:`flex-1 py-2 text-sm font-bold rounded-md transition-colors ${n==="coach"?"bg-[var(--color-primary)] text-white":"text-gray-400"}`,onClick:()=>r("coach"),children:"AI Coach"})]}),_.jsx("div",{className:"flex-1 overflow-hidden relative flex flex-col min-h-0",children:n==="scan"?_.jsx(H$,{user:l,onAddLog:F,onUpdateUser:$}):_.jsx(_oe,{user:l,onAddLog:F,onUpdateUser:$})})]}),ue=()=>{switch(t){case"dashboard":return _.jsx(yP,{logs:d,user:l,nutritionLogs:m,onDeleteLog:P});case"workout":return R();case"timers":return _.jsx(doe,{});case"movements":return _.jsx(voe,{});case"nutrition":return _.jsx(xoe,{user:l,nutritionLogs:m,onAddLog:N,onUpdateUser:$,onDeleteLog:k});case"profile":return _.jsx(c$,{user:l,onUpdateUser:$,currentTheme:i,onUpdateTheme:s,onReset:L});default:return _.jsx(yP,{logs:d,user:l,nutritionLogs:m,onDeleteLog:P})}};return b?_.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#ff0033]"})}):S?_.jsxs(l$,{activeTab:t,setActiveTab:e,theme:i,user:l,onUpdateUser:$,onUpdateTheme:s,onReset:L,children:[ue(),M.isOpen&&_.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",children:_.jsxs("div",{className:"bg-[var(--color-card)] w-full max-w-sm rounded-2xl border border-[var(--color-secondary)] shadow-2xl p-6",children:[_.jsx("h3",{className:"text-xl font-bold text-[var(--color-text)] mb-2",children:M.type==="reset"?"Reiniciar Progreso?":"Eliminar registro?"}),_.jsx("p",{className:"text-gray-400 mb-6",children:M.type==="reset"?"Se eliminarn todos los entrenamientos y volvers al nivel Principiante. Esta accin no se puede deshacer.":"Esta accin no se puede deshacer. Ests seguro de que quieres continuar?"}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:V,className:"flex-1 py-3 bg-gray-800 hover:bg-gray-700 text-white font-bold rounded-xl transition-colors",children:"Cancelar"}),_.jsx("button",{onClick:U,className:"flex-1 py-3 bg-red-500 hover:bg-red-600 text-white font-bold rounded-xl transition-colors",children:"Eliminar"})]})]})})]}):_.jsx(woe,{})},YL=document.getElementById("root");if(!YL)throw new Error("Could not find root element to mount to");const Toe=z5.createRoot(YL);Toe.render(_.jsx(up.StrictMode,{children:_.jsx(Soe,{})}));
