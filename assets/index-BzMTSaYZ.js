var zz=Object.defineProperty;var qz=(t,e,n)=>e in t?zz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var W0=(t,e,n)=>qz(t,typeof e!="symbol"?e+"":e,n);function Bz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function yo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var J0={exports:{}},If={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC;function Fz(){if(UC)return If;UC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return If.Fragment=e,If.jsx=n,If.jsxs=n,If}var VC;function jz(){return VC||(VC=1,J0.exports=Fz()),J0.exports}var T=jz(),X0={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC;function Hz(){if(zC)return Fe;zC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),_=Symbol.iterator;function E($){return $===null||typeof $!="object"?null:($=_&&$[_]||$["@@iterator"],typeof $=="function"?$:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function P($,te,pe){this.props=$,this.context=te,this.refs=C,this.updater=pe||w}P.prototype.isReactComponent={},P.prototype.setState=function($,te){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,te,"setState")},P.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function U(){}U.prototype=P.prototype;function O($,te,pe){this.props=$,this.context=te,this.refs=C,this.updater=pe||w}var H=O.prototype=new U;H.constructor=O,S(H,P.prototype),H.isPureReactComponent=!0;var F=Array.isArray;function G(){}var M={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function k($,te,pe){var _e=pe.ref;return{$$typeof:t,type:$,key:te,ref:_e!==void 0?_e:null,props:pe}}function B($,te){return k($.type,te,$.props)}function z($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function j($){var te={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(pe){return te[pe]})}var L=/\/+/g;function de($,te){return typeof $=="object"&&$!==null&&$.key!=null?j(""+$.key):te.toString(36)}function ge($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(G,G):($.status="pending",$.then(function(te){$.status==="pending"&&($.status="fulfilled",$.value=te)},function(te){$.status==="pending"&&($.status="rejected",$.reason=te)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function K($,te,pe,_e,Ee){var Re=typeof $;(Re==="undefined"||Re==="boolean")&&($=null);var Ie=!1;if($===null)Ie=!0;else switch(Re){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch($.$$typeof){case t:case e:Ie=!0;break;case h:return Ie=$._init,K(Ie($._payload),te,pe,_e,Ee)}}if(Ie)return Ee=Ee($),Ie=_e===""?"."+de($,0):_e,F(Ee)?(pe="",Ie!=null&&(pe=Ie.replace(L,"$&/")+"/"),K(Ee,te,pe,"",function(Oe){return Oe})):Ee!=null&&(z(Ee)&&(Ee=B(Ee,pe+(Ee.key==null||$&&$.key===Ee.key?"":(""+Ee.key).replace(L,"$&/")+"/")+Ie)),te.push(Ee)),1;Ie=0;var it=_e===""?".":_e+":";if(F($))for(var ce=0;ce<$.length;ce++)_e=$[ce],Re=it+de(_e,ce),Ie+=K(_e,te,pe,Re,Ee);else if(ce=E($),typeof ce=="function")for($=ce.call($),ce=0;!(_e=$.next()).done;)_e=_e.value,Re=it+de(_e,ce++),Ie+=K(_e,te,pe,Re,Ee);else if(Re==="object"){if(typeof $.then=="function")return K(ge($),te,pe,_e,Ee);throw te=String($),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function ne($,te,pe){if($==null)return $;var _e=[],Ee=0;return K($,_e,"","",function(Re){return te.call(pe,Re,Ee++)}),_e}function le($){if($._status===-1){var te=$._result;te=te(),te.then(function(pe){($._status===0||$._status===-1)&&($._status=1,$._result=pe)},function(pe){($._status===0||$._status===-1)&&($._status=2,$._result=pe)}),$._status===-1&&($._status=0,$._result=te)}if($._status===1)return $._result.default;throw $._result}var Q=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},be={map:ne,forEach:function($,te,pe){ne($,function(){te.apply(this,arguments)},pe)},count:function($){var te=0;return ne($,function(){te++}),te},toArray:function($){return ne($,function(te){return te})||[]},only:function($){if(!z($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Fe.Activity=m,Fe.Children=be,Fe.Component=P,Fe.Fragment=n,Fe.Profiler=i,Fe.PureComponent=O,Fe.StrictMode=r,Fe.Suspense=f,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Fe.__COMPILER_RUNTIME={__proto__:null,c:function($){return M.H.useMemoCache($)}},Fe.cache=function($){return function(){return $.apply(null,arguments)}},Fe.cacheSignal=function(){return null},Fe.cloneElement=function($,te,pe){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var _e=S({},$.props),Ee=$.key;if(te!=null)for(Re in te.key!==void 0&&(Ee=""+te.key),te)!D.call(te,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&te.ref===void 0||(_e[Re]=te[Re]);var Re=arguments.length-2;if(Re===1)_e.children=pe;else if(1<Re){for(var Ie=Array(Re),it=0;it<Re;it++)Ie[it]=arguments[it+2];_e.children=Ie}return k($.type,Ee,_e)},Fe.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:o,_context:$},$},Fe.createElement=function($,te,pe){var _e,Ee={},Re=null;if(te!=null)for(_e in te.key!==void 0&&(Re=""+te.key),te)D.call(te,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Ee[_e]=te[_e]);var Ie=arguments.length-2;if(Ie===1)Ee.children=pe;else if(1<Ie){for(var it=Array(Ie),ce=0;ce<Ie;ce++)it[ce]=arguments[ce+2];Ee.children=it}if($&&$.defaultProps)for(_e in Ie=$.defaultProps,Ie)Ee[_e]===void 0&&(Ee[_e]=Ie[_e]);return k($,Re,Ee)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function($){return{$$typeof:u,render:$}},Fe.isValidElement=z,Fe.lazy=function($){return{$$typeof:h,_payload:{_status:-1,_result:$},_init:le}},Fe.memo=function($,te){return{$$typeof:d,type:$,compare:te===void 0?null:te}},Fe.startTransition=function($){var te=M.T,pe={};M.T=pe;try{var _e=$(),Ee=M.S;Ee!==null&&Ee(pe,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(G,Q)}catch(Re){Q(Re)}finally{te!==null&&pe.types!==null&&(te.types=pe.types),M.T=te}},Fe.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Fe.use=function($){return M.H.use($)},Fe.useActionState=function($,te,pe){return M.H.useActionState($,te,pe)},Fe.useCallback=function($,te){return M.H.useCallback($,te)},Fe.useContext=function($){return M.H.useContext($)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function($,te){return M.H.useDeferredValue($,te)},Fe.useEffect=function($,te){return M.H.useEffect($,te)},Fe.useEffectEvent=function($){return M.H.useEffectEvent($)},Fe.useId=function(){return M.H.useId()},Fe.useImperativeHandle=function($,te,pe){return M.H.useImperativeHandle($,te,pe)},Fe.useInsertionEffect=function($,te){return M.H.useInsertionEffect($,te)},Fe.useLayoutEffect=function($,te){return M.H.useLayoutEffect($,te)},Fe.useMemo=function($,te){return M.H.useMemo($,te)},Fe.useOptimistic=function($,te){return M.H.useOptimistic($,te)},Fe.useReducer=function($,te,pe){return M.H.useReducer($,te,pe)},Fe.useRef=function($){return M.H.useRef($)},Fe.useState=function($){return M.H.useState($)},Fe.useSyncExternalStore=function($,te,pe){return M.H.useSyncExternalStore($,te,pe)},Fe.useTransition=function(){return M.H.useTransition()},Fe.version="19.2.0",Fe}var qC;function sc(){return qC||(qC=1,X0.exports=Hz()),X0.exports}var N=sc();const ck=yo(N),Gz=Bz({__proto__:null,default:ck},[N]);var Q0={exports:{}},Nf={},Z0={exports:{}},e_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BC;function $z(){return BC||(BC=1,(function(t){function e(K,ne){var le=K.length;K.push(ne);e:for(;0<le;){var Q=le-1>>>1,be=K[Q];if(0<i(be,ne))K[Q]=ne,K[le]=be,le=Q;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ne=K[0],le=K.pop();if(le!==ne){K[0]=le;e:for(var Q=0,be=K.length,$=be>>>1;Q<$;){var te=2*(Q+1)-1,pe=K[te],_e=te+1,Ee=K[_e];if(0>i(pe,le))_e<be&&0>i(Ee,pe)?(K[Q]=Ee,K[_e]=le,Q=_e):(K[Q]=pe,K[te]=le,Q=te);else if(_e<be&&0>i(Ee,le))K[Q]=Ee,K[_e]=le,Q=_e;else break e}}return ne}function i(K,ne){var le=K.sortIndex-ne.sortIndex;return le!==0?le:K.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],d=[],h=1,m=null,_=3,E=!1,w=!1,S=!1,C=!1,P=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function H(K){for(var ne=n(d);ne!==null;){if(ne.callback===null)r(d);else if(ne.startTime<=K)r(d),ne.sortIndex=ne.expirationTime,e(f,ne);else break;ne=n(d)}}function F(K){if(S=!1,H(K),!w)if(n(f)!==null)w=!0,G||(G=!0,j());else{var ne=n(d);ne!==null&&ge(F,ne.startTime-K)}}var G=!1,M=-1,D=5,k=-1;function B(){return C?!0:!(t.unstable_now()-k<D)}function z(){if(C=!1,G){var K=t.unstable_now();k=K;var ne=!0;try{e:{w=!1,S&&(S=!1,U(M),M=-1),E=!0;var le=_;try{t:{for(H(K),m=n(f);m!==null&&!(m.expirationTime>K&&B());){var Q=m.callback;if(typeof Q=="function"){m.callback=null,_=m.priorityLevel;var be=Q(m.expirationTime<=K);if(K=t.unstable_now(),typeof be=="function"){m.callback=be,H(K),ne=!0;break t}m===n(f)&&r(f),H(K)}else r(f);m=n(f)}if(m!==null)ne=!0;else{var $=n(d);$!==null&&ge(F,$.startTime-K),ne=!1}}break e}finally{m=null,_=le,E=!1}ne=void 0}}finally{ne?j():G=!1}}}var j;if(typeof O=="function")j=function(){O(z)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,de=L.port2;L.port1.onmessage=z,j=function(){de.postMessage(null)}}else j=function(){P(z,0)};function ge(K,ne){M=P(function(){K(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(K){switch(_){case 1:case 2:case 3:var ne=3;break;default:ne=_}var le=_;_=ne;try{return K()}finally{_=le}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(K,ne){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var le=_;_=K;try{return ne()}finally{_=le}},t.unstable_scheduleCallback=function(K,ne,le){var Q=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Q+le:Q):le=Q,K){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=le+be,K={id:h++,callback:ne,priorityLevel:K,startTime:le,expirationTime:be,sortIndex:-1},le>Q?(K.sortIndex=le,e(d,K),n(f)===null&&K===n(d)&&(S?(U(M),M=-1):S=!0,ge(F,le-Q))):(K.sortIndex=be,e(f,K),w||E||(w=!0,G||(G=!0,j()))),K},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(K){var ne=_;return function(){var le=_;_=ne;try{return K.apply(this,arguments)}finally{_=le}}}})(e_)),e_}var FC;function Kz(){return FC||(FC=1,Z0.exports=$z()),Z0.exports}var t_={exports:{}},Hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jC;function Yz(){if(jC)return Hn;jC=1;var t=sc();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:d,implementation:h}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Hn.createPortal=function(f,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,h)},Hn.flushSync=function(f){var d=l.T,h=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=h,r.d.f()}},Hn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Hn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Hn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:_,fetchPriority:E}):h==="script"&&r.d.X(f,{crossOrigin:m,integrity:_,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Hn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Hn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin);r.d.L(f,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Hn.preloadModule=function(f,d){if(typeof f=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Hn.requestFormReset=function(f){r.d.r(f)},Hn.unstable_batchedUpdates=function(f,d){return f(d)},Hn.useFormState=function(f,d,h){return l.H.useFormState(f,d,h)},Hn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Hn.version="19.2.0",Hn}var HC;function fk(){if(HC)return t_.exports;HC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),t_.exports=Yz(),t_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC;function Wz(){if(GC)return Nf;GC=1;var t=Kz(),e=sc(),n=fk();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(r(188))}function d(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,p=s;;){var b=c.return;if(b===null)break;var x=b.alternate;if(x===null){if(p=b.return,p!==null){c=p;continue}break}if(b.child===x.child){for(x=b.child;x;){if(x===c)return f(b),a;if(x===p)return f(b),s;x=x.sibling}throw Error(r(188))}if(c.return!==p.return)c=b,p=x;else{for(var I=!1,V=b.child;V;){if(V===c){I=!0,c=b,p=x;break}if(V===p){I=!0,p=b,c=x;break}V=V.sibling}if(!I){for(V=x.child;V;){if(V===c){I=!0,c=x,p=b;break}if(V===p){I=!0,p=x,c=b;break}V=V.sibling}if(!I)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function h(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=h(a),s!==null)return s;a=a.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),O=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function j(a){return a===null||typeof a!="object"?null:(a=z&&a[z]||a["@@iterator"],typeof a=="function"?a:null)}var L=Symbol.for("react.client.reference");function de(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===L?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case P:return"Profiler";case C:return"StrictMode";case F:return"Suspense";case G:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case O:return a.displayName||"Context";case U:return(a._context.displayName||"Context")+".Consumer";case H:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return s=a.displayName||null,s!==null?s:de(a.type)||"Memo";case D:s=a._payload,a=a._init;try{return de(a(s))}catch{}}return null}var ge=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Q=[],be=-1;function $(a){return{current:a}}function te(a){0>be||(a.current=Q[be],Q[be]=null,be--)}function pe(a,s){be++,Q[be]=a.current,a.current=s}var _e=$(null),Ee=$(null),Re=$(null),Ie=$(null);function it(a,s){switch(pe(Re,s),pe(Ee,a),pe(_e,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?aC(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=aC(s),a=sC(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}te(_e),pe(_e,a)}function ce(){te(_e),te(Ee),te(Re)}function Oe(a){a.memoizedState!==null&&pe(Ie,a);var s=_e.current,c=sC(s,a.type);s!==c&&(pe(Ee,a),pe(_e,c))}function ue(a){Ee.current===a&&(te(_e),te(Ee)),Ie.current===a&&(te(Ie),Sf._currentValue=le)}var se,et;function Be(a){if(se===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);se=s&&s[1]||"",et=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+a+et}var zt=!1;function Mt(a,s){if(!a||zt)return"";zt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(oe){var re=oe}Reflect.construct(a,[],me)}else{try{me.call()}catch(oe){re=oe}a.call(me.prototype)}}else{try{throw Error()}catch(oe){re=oe}(me=a())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(oe){if(oe&&re&&typeof oe.stack=="string")return[oe.stack,re.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=p.DetermineComponentFrameRoot(),I=x[0],V=x[1];if(I&&V){var Y=I.split(`
`),ee=V.split(`
`);for(b=p=0;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;for(;b<ee.length&&!ee[b].includes("DetermineComponentFrameRoot");)b++;if(p===Y.length||b===ee.length)for(p=Y.length-1,b=ee.length-1;1<=p&&0<=b&&Y[p]!==ee[b];)b--;for(;1<=p&&0<=b;p--,b--)if(Y[p]!==ee[b]){if(p!==1||b!==1)do if(p--,b--,0>b||Y[p]!==ee[b]){var fe=`
`+Y[p].replace(" at new "," at ");return a.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",a.displayName)),fe}while(1<=p&&0<=b);break}}}finally{zt=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Be(c):""}function jn(a,s){switch(a.tag){case 26:case 27:case 5:return Be(a.type);case 16:return Be("Lazy");case 13:return a.child!==s&&s!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return Mt(a.type,!1);case 11:return Mt(a.type.render,!1);case 1:return Mt(a.type,!0);case 31:return Be("Activity");default:return""}}function li(a){try{var s="",c=null;do s+=jn(a,c),c=a,a=a.return;while(a);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Ut=Object.prototype.hasOwnProperty,qt=t.unstable_scheduleCallback,ui=t.unstable_cancelCallback,Pl=t.unstable_shouldYield,Ts=t.unstable_requestPaint,_n=t.unstable_now,Oi=t.unstable_getCurrentPriorityLevel,Er=t.unstable_ImmediatePriority,Cc=t.unstable_UserBlockingPriority,va=t.unstable_NormalPriority,Qy=t.unstable_LowPriority,sh=t.unstable_IdlePriority,lh=t.log,uh=t.unstable_setDisableYieldValue,ci=null,Pn=null;function Vr(a){if(typeof lh=="function"&&uh(a),Pn&&typeof Pn.setStrictMode=="function")try{Pn.setStrictMode(ci,a)}catch{}}var jt=Math.clz32?Math.clz32:fh,ch=Math.log,Ml=Math.LN2;function fh(a){return a>>>=0,a===0?32:31-(ch(a)/Ml|0)|0}var Li=256,Ss=262144,Xt=4194304;function Ui(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Vi(a,s,c){var p=a.pendingLanes;if(p===0)return 0;var b=0,x=a.suspendedLanes,I=a.pingedLanes;a=a.warmLanes;var V=p&134217727;return V!==0?(p=V&~x,p!==0?b=Ui(p):(I&=V,I!==0?b=Ui(I):c||(c=V&~a,c!==0&&(b=Ui(c))))):(V=p&~x,V!==0?b=Ui(V):I!==0?b=Ui(I):c||(c=p&~a,c!==0&&(b=Ui(c)))),b===0?0:s!==0&&s!==b&&(s&x)===0&&(x=b&-b,c=s&-s,x>=c||x===32&&(c&4194048)!==0)?s:b}function fi(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function Zy(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dh(){var a=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),a}function zi(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function ws(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ev(a,s,c,p,b,x){var I=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var V=a.entanglements,Y=a.expirationTimes,ee=a.hiddenUpdates;for(c=I&~c;0<c;){var fe=31-jt(c),me=1<<fe;V[fe]=0,Y[fe]=-1;var re=ee[fe];if(re!==null)for(ee[fe]=null,fe=0;fe<re.length;fe++){var oe=re[fe];oe!==null&&(oe.lane&=-536870913)}c&=~me}p!==0&&As(a,p,0),x!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=x&~(I&~s))}function As(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var p=31-jt(s);a.entangledLanes|=s,a.entanglements[p]=a.entanglements[p]|1073741824|c&261930}function Ic(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var p=31-jt(c),b=1<<p;b&s|a[p]&s&&(a[p]|=s),c&=~b}}function Nc(a,s){var c=s&-s;return c=(c&42)!==0?1:Cs(c),(c&(a.suspendedLanes|s))!==0?0:c}function Cs(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function vo(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function hh(){var a=ne.p;return a!==0?a:(a=window.event,a===void 0?32:RC(a.type))}function di(a,s){var c=ne.p;try{return ne.p=a,s()}finally{ne.p=c}}var hi=Math.random().toString(36).slice(2),Qt="__reactFiber$"+hi,bn="__reactProps$"+hi,qi="__reactContainer$"+hi,Dl="__reactEvents$"+hi,tv="__reactListeners$"+hi,ph="__reactHandles$"+hi,mh="__reactResources$"+hi,Bi="__reactMarker$"+hi;function kl(a){delete a[Qt],delete a[bn],delete a[Dl],delete a[tv],delete a[ph]}function Fi(a){var s=a[Qt];if(s)return s;for(var c=a.parentNode;c;){if(s=c[qi]||c[Qt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=pC(a);a!==null;){if(c=a[Qt])return c;a=pC(a)}return s}a=c,c=a.parentNode}return null}function zr(a){if(a=a[Qt]||a[qi]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function xr(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function ji(a){var s=a[mh];return s||(s=a[mh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Zt(a){a[Bi]=!0}var Rc=new Set,Pc={};function Hi(a,s){Gi(a,s),Gi(a+"Capture",s)}function Gi(a,s){for(Pc[a]=s,a=0;a<s.length;a++)Rc.add(s[a])}var Mc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dc={},kc={};function gh(a){return Ut.call(kc,a)?!0:Ut.call(Dc,a)?!1:Mc.test(a)?kc[a]=!0:(Dc[a]=!0,!1)}function Ol(a,s,c){if(gh(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function Tr(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function en(a,s,c,p){if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+p)}}function En(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function _a(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Oc(a,s,c){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,x=p.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return b.call(this)},set:function(I){c=""+I,x.call(this,I)}}),Object.defineProperty(a,s,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(I){c=""+I},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function dt(a){if(!a._valueTracker){var s=_a(a)?"checked":"value";a._valueTracker=Oc(a,s,""+a[s])}}function Is(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),p="";return a&&(p=_a(a)?a.checked?"true":"false":a.value),a=p,a!==c?(s.setValue(a),!0):!1}function $i(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Ns=/[\n"\\]/g;function ar(a){return a.replace(Ns,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ll(a,s,c,p,b,x,I,V){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),s!=null?I==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+En(s)):a.value!==""+En(s)&&(a.value=""+En(s)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),s!=null?Lc(a,I,En(s)):c!=null?Lc(a,I,En(c)):p!=null&&a.removeAttribute("value"),b==null&&x!=null&&(a.defaultChecked=!!x),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?a.name=""+En(V):a.removeAttribute("name")}function yh(a,s,c,p,b,x,I,V){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),s!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||s!=null)){dt(a);return}c=c!=null?""+En(c):"",s=s!=null?""+En(s):c,V||s===a.value||(a.value=s),a.defaultValue=s}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=V?a.checked:!!p,a.defaultChecked=!!p,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I),dt(a)}function Lc(a,s,c){s==="number"&&$i(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function ba(a,s,c,p){if(a=a.options,s){s={};for(var b=0;b<c.length;b++)s["$"+c[b]]=!0;for(c=0;c<a.length;c++)b=s.hasOwnProperty("$"+a[c].value),a[c].selected!==b&&(a[c].selected=b),b&&p&&(a[c].defaultSelected=!0)}else{for(c=""+En(c),s=null,b=0;b<a.length;b++){if(a[b].value===c){a[b].selected=!0,p&&(a[b].defaultSelected=!0);return}s!==null||a[b].disabled||(s=a[b])}s!==null&&(s.selected=!0)}}function vh(a,s,c){if(s!=null&&(s=""+En(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+En(c):""}function Ea(a,s,c,p){if(s==null){if(p!=null){if(c!=null)throw Error(r(92));if(ge(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),s=c}c=En(s),a.defaultValue=c,p=a.textContent,p===c&&p!==""&&p!==null&&(a.value=p),dt(a)}function sr(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var _h=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uc(a,s,c){var p=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":p?a.setProperty(s,c):typeof c!="number"||c===0||_h.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function Vc(a,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var b in s)p=s[b],s.hasOwnProperty(b)&&c[b]!==p&&Uc(a,b,p)}else for(var x in s)s.hasOwnProperty(x)&&Uc(a,x,s[x])}function Ul(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vl(a){return xa.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function pi(){}var zc=null;function qr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ta=null,Ki=null;function Rs(a){var s=zr(a);if(s&&(a=s.stateNode)){var c=a[bn]||null;e:switch(a=s.stateNode,s.type){case"input":if(Ll(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ar(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var p=c[s];if(p!==a&&p.form===a.form){var b=p[bn]||null;if(!b)throw Error(r(90));Ll(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<c.length;s++)p=c[s],p.form===a.form&&Is(p)}break e;case"textarea":vh(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&ba(a,!!c.multiple,s,!1)}}}var zl=!1;function Sa(a,s,c){if(zl)return a(s,c);zl=!0;try{var p=a(s);return p}finally{if(zl=!1,(Ta!==null||Ki!==null)&&(hp(),Ta&&(s=Ta,a=Ki,Ki=Ta=null,Rs(s),a)))for(s=0;s<a.length;s++)Rs(a[s])}}function mi(a,s){var c=a.stateNode;if(c===null)return null;var p=c[bn]||null;if(p===null)return null;c=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=!1;if(Br)try{var yt={};Object.defineProperty(yt,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",yt,yt),window.removeEventListener("test",yt,yt)}catch{Ps=!1}var Yi=null,qc=null,Ms=null;function Bc(){if(Ms)return Ms;var a,s=qc,c=s.length,p,b="value"in Yi?Yi.value:Yi.textContent,x=b.length;for(a=0;a<c&&s[a]===b[a];a++);var I=c-a;for(p=1;p<=I&&s[c-p]===b[x-p];p++);return Ms=b.slice(a,1<p?1-p:void 0)}function Ds(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function _o(){return!0}function gi(){return!1}function Mn(a){function s(c,p,b,x,I){this._reactName=c,this._targetInst=b,this.type=p,this.nativeEvent=x,this.target=I,this.currentTarget=null;for(var V in a)a.hasOwnProperty(V)&&(c=a[V],this[V]=c?c(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?_o:gi,this.isPropagationStopped=gi,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),s}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=Mn(bo),wa=m({},bo,{view:0,detail:0}),Fc=Mn(wa),Aa,ql,Ji,Bl=m({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ca,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ji&&(Ji&&a.type==="mousemove"?(Aa=a.screenX-Ji.screenX,ql=a.screenY-Ji.screenY):ql=Aa=0,Ji=a),Aa)},movementY:function(a){return"movementY"in a?a.movementY:ql}}),jc=Mn(Bl),ks=m({},Bl,{dataTransfer:0}),Eh=Mn(ks),xh=m({},wa,{relatedTarget:0}),Os=Mn(xh),Hc=m({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),Th=Mn(Hc),Fl=m({},bo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Sh=Mn(Fl),wh=m({},bo,{data:0}),Xi=Mn(wh),Ah={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ih={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nh(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=Ih[a])?!!s[a]:!1}function Ca(){return Nh}var Zn=m({},wa,{key:function(a){if(a.key){var s=Ah[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Ds(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ch[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ca,charCode:function(a){return a.type==="keypress"?Ds(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ds(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Rh=Mn(Zn),Ph=m({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eo=Mn(Ph),v=m({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ca}),A=Mn(v),R=m({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=Mn(R),X=m({},Bl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ie=Mn(X),xe=m({},bo,{newState:0,oldState:0}),He=Mn(xe),Ht=[9,13,27,32],ut=Br&&"CompositionEvent"in window,Dt=null;Br&&"documentMode"in document&&(Dt=document.documentMode);var Fr=Br&&"TextEvent"in window&&!Dt,Qi=Br&&(!ut||Dt&&8<Dt&&11>=Dt),yi=" ",vi=!1;function Ls(a,s){switch(a){case"keyup":return Ht.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Hl=!1;function u5(a,s){switch(a){case"compositionend":return jl(s);case"keypress":return s.which!==32?null:(vi=!0,yi);case"textInput":return a=s.data,a===yi&&vi?null:a;default:return null}}function c5(a,s){if(Hl)return a==="compositionend"||!ut&&Ls(a,s)?(a=Bc(),Ms=qc=Yi=null,Hl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Qi&&s.locale!=="ko"?null:s.data;default:return null}}var f5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yw(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!f5[a.type]:s==="textarea"}function vw(a,s,c,p){Ta?Ki?Ki.push(p):Ki=[p]:Ta=p,s=bp(s,"onChange"),0<s.length&&(c=new Wi("onChange","change",null,c,p),a.push({event:c,listeners:s}))}var Gc=null,$c=null;function d5(a){eC(a,0)}function Mh(a){var s=xr(a);if(Is(s))return a}function _w(a,s){if(a==="change")return s}var bw=!1;if(Br){var nv;if(Br){var rv="oninput"in document;if(!rv){var Ew=document.createElement("div");Ew.setAttribute("oninput","return;"),rv=typeof Ew.oninput=="function"}nv=rv}else nv=!1;bw=nv&&(!document.documentMode||9<document.documentMode)}function xw(){Gc&&(Gc.detachEvent("onpropertychange",Tw),$c=Gc=null)}function Tw(a){if(a.propertyName==="value"&&Mh($c)){var s=[];vw(s,$c,a,qr(a)),Sa(d5,s)}}function h5(a,s,c){a==="focusin"?(xw(),Gc=s,$c=c,Gc.attachEvent("onpropertychange",Tw)):a==="focusout"&&xw()}function p5(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Mh($c)}function m5(a,s){if(a==="click")return Mh(s)}function g5(a,s){if(a==="input"||a==="change")return Mh(s)}function y5(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Sr=typeof Object.is=="function"?Object.is:y5;function Kc(a,s){if(Sr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),p=Object.keys(s);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var b=c[p];if(!Ut.call(s,b)||!Sr(a[b],s[b]))return!1}return!0}function Sw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ww(a,s){var c=Sw(a);a=0;for(var p;c;){if(c.nodeType===3){if(p=a+c.textContent.length,a<=s&&p>=s)return{node:c,offset:s-a};a=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Sw(c)}}function Aw(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Aw(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Cw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=$i(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=$i(a.document)}return s}function iv(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var v5=Br&&"documentMode"in document&&11>=document.documentMode,Gl=null,ov=null,Yc=null,av=!1;function Iw(a,s,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;av||Gl==null||Gl!==$i(p)||(p=Gl,"selectionStart"in p&&iv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Yc&&Kc(Yc,p)||(Yc=p,p=bp(ov,"onSelect"),0<p.length&&(s=new Wi("onSelect","select",null,s,c),a.push({event:s,listeners:p}),s.target=Gl)))}function Us(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var $l={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},sv={},Nw={};Br&&(Nw=document.createElement("div").style,"AnimationEvent"in window||(delete $l.animationend.animation,delete $l.animationiteration.animation,delete $l.animationstart.animation),"TransitionEvent"in window||delete $l.transitionend.transition);function Vs(a){if(sv[a])return sv[a];if(!$l[a])return a;var s=$l[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in Nw)return sv[a]=s[c];return a}var Rw=Vs("animationend"),Pw=Vs("animationiteration"),Mw=Vs("animationstart"),_5=Vs("transitionrun"),b5=Vs("transitionstart"),E5=Vs("transitioncancel"),Dw=Vs("transitionend"),kw=new Map,lv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lv.push("scrollEnd");function _i(a,s){kw.set(a,s),Hi(s,[a])}var Dh=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},jr=[],Kl=0,uv=0;function kh(){for(var a=Kl,s=uv=Kl=0;s<a;){var c=jr[s];jr[s++]=null;var p=jr[s];jr[s++]=null;var b=jr[s];jr[s++]=null;var x=jr[s];if(jr[s++]=null,p!==null&&b!==null){var I=p.pending;I===null?b.next=b:(b.next=I.next,I.next=b),p.pending=b}x!==0&&Ow(c,b,x)}}function Oh(a,s,c,p){jr[Kl++]=a,jr[Kl++]=s,jr[Kl++]=c,jr[Kl++]=p,uv|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function cv(a,s,c,p){return Oh(a,s,c,p),Lh(a)}function zs(a,s){return Oh(a,null,null,s),Lh(a)}function Ow(a,s,c){a.lanes|=c;var p=a.alternate;p!==null&&(p.lanes|=c);for(var b=!1,x=a.return;x!==null;)x.childLanes|=c,p=x.alternate,p!==null&&(p.childLanes|=c),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(b=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,b&&s!==null&&(b=31-jt(c),a=x.hiddenUpdates,p=a[b],p===null?a[b]=[s]:p.push(s),s.lane=c|536870912),x):null}function Lh(a){if(50<yf)throw yf=0,_0=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Yl={};function x5(a,s,c,p){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(a,s,c,p){return new x5(a,s,c,p)}function fv(a){return a=a.prototype,!(!a||!a.isReactComponent)}function xo(a,s){var c=a.alternate;return c===null?(c=wr(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function Lw(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Uh(a,s,c,p,b,x){var I=0;if(p=a,typeof a=="function")fv(a)&&(I=1);else if(typeof a=="string")I=Cz(a,c,_e.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=wr(31,c,s,b),a.elementType=k,a.lanes=x,a;case S:return qs(c.children,b,x,s);case C:I=8,b|=24;break;case P:return a=wr(12,c,s,b|2),a.elementType=P,a.lanes=x,a;case F:return a=wr(13,c,s,b),a.elementType=F,a.lanes=x,a;case G:return a=wr(19,c,s,b),a.elementType=G,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:I=10;break e;case U:I=9;break e;case H:I=11;break e;case M:I=14;break e;case D:I=16,p=null;break e}I=29,c=Error(r(130,a===null?"null":typeof a,"")),p=null}return s=wr(I,c,s,b),s.elementType=a,s.type=p,s.lanes=x,s}function qs(a,s,c,p){return a=wr(7,a,p,s),a.lanes=c,a}function dv(a,s,c){return a=wr(6,a,null,s),a.lanes=c,a}function Uw(a){var s=wr(18,null,null,0);return s.stateNode=a,s}function hv(a,s,c){return s=wr(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var Vw=new WeakMap;function Hr(a,s){if(typeof a=="object"&&a!==null){var c=Vw.get(a);return c!==void 0?c:(s={value:a,source:s,stack:li(s)},Vw.set(a,s),s)}return{value:a,source:s,stack:li(s)}}var Wl=[],Jl=0,Vh=null,Wc=0,Gr=[],$r=0,Ia=null,Zi=1,eo="";function To(a,s){Wl[Jl++]=Wc,Wl[Jl++]=Vh,Vh=a,Wc=s}function zw(a,s,c){Gr[$r++]=Zi,Gr[$r++]=eo,Gr[$r++]=Ia,Ia=a;var p=Zi;a=eo;var b=32-jt(p)-1;p&=~(1<<b),c+=1;var x=32-jt(s)+b;if(30<x){var I=b-b%5;x=(p&(1<<I)-1).toString(32),p>>=I,b-=I,Zi=1<<32-jt(s)+b|c<<b|p,eo=x+a}else Zi=1<<x|c<<b|p,eo=a}function pv(a){a.return!==null&&(To(a,1),zw(a,1,0))}function mv(a){for(;a===Vh;)Vh=Wl[--Jl],Wl[Jl]=null,Wc=Wl[--Jl],Wl[Jl]=null;for(;a===Ia;)Ia=Gr[--$r],Gr[$r]=null,eo=Gr[--$r],Gr[$r]=null,Zi=Gr[--$r],Gr[$r]=null}function qw(a,s){Gr[$r++]=Zi,Gr[$r++]=eo,Gr[$r++]=Ia,Zi=s.id,eo=s.overflow,Ia=a}var Dn=null,At=null,tt=!1,Na=null,Kr=!1,gv=Error(r(519));function Ra(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jc(Hr(s,a)),gv}function Bw(a){var s=a.stateNode,c=a.type,p=a.memoizedProps;switch(s[Qt]=a,s[bn]=p,c){case"dialog":Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":case"embed":Ye("load",s);break;case"video":case"audio":for(c=0;c<_f.length;c++)Ye(_f[c],s);break;case"source":Ye("error",s);break;case"img":case"image":case"link":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"input":Ye("invalid",s),yh(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Ye("invalid",s);break;case"textarea":Ye("invalid",s),Ea(s,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||p.suppressHydrationWarning===!0||iC(s.textContent,c)?(p.popover!=null&&(Ye("beforetoggle",s),Ye("toggle",s)),p.onScroll!=null&&Ye("scroll",s),p.onScrollEnd!=null&&Ye("scrollend",s),p.onClick!=null&&(s.onclick=pi),s=!0):s=!1,s||Ra(a,!0)}function Fw(a){for(Dn=a.return;Dn;)switch(Dn.tag){case 5:case 31:case 13:Kr=!1;return;case 27:case 3:Kr=!0;return;default:Dn=Dn.return}}function Xl(a){if(a!==Dn)return!1;if(!tt)return Fw(a),tt=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||k0(a.type,a.memoizedProps)),c=!c),c&&At&&Ra(a),Fw(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));At=hC(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));At=hC(a)}else s===27?(s=At,Ha(a.type)?(a=z0,z0=null,At=a):At=s):At=Dn?Wr(a.stateNode.nextSibling):null;return!0}function Bs(){At=Dn=null,tt=!1}function yv(){var a=Na;return a!==null&&(fr===null?fr=a:fr.push.apply(fr,a),Na=null),a}function Jc(a){Na===null?Na=[a]:Na.push(a)}var vv=$(null),Fs=null,So=null;function Pa(a,s,c){pe(vv,s._currentValue),s._currentValue=c}function wo(a){a._currentValue=vv.current,te(vv)}function _v(a,s,c){for(;a!==null;){var p=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),a===c)break;a=a.return}}function bv(a,s,c,p){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var x=b.dependencies;if(x!==null){var I=b.child;x=x.firstContext;e:for(;x!==null;){var V=x;x=b;for(var Y=0;Y<s.length;Y++)if(V.context===s[Y]){x.lanes|=c,V=x.alternate,V!==null&&(V.lanes|=c),_v(x.return,c,a),p||(I=null);break e}x=V.next}}else if(b.tag===18){if(I=b.return,I===null)throw Error(r(341));I.lanes|=c,x=I.alternate,x!==null&&(x.lanes|=c),_v(I,c,a),I=null}else I=b.child;if(I!==null)I.return=b;else for(I=b;I!==null;){if(I===a){I=null;break}if(b=I.sibling,b!==null){b.return=I.return,I=b;break}I=I.return}b=I}}function Ql(a,s,c,p){a=null;for(var b=s,x=!1;b!==null;){if(!x){if((b.flags&524288)!==0)x=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var I=b.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var V=b.type;Sr(b.pendingProps.value,I.value)||(a!==null?a.push(V):a=[V])}}else if(b===Ie.current){if(I=b.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(Sf):a=[Sf])}b=b.return}a!==null&&bv(s,a,c,p),s.flags|=262144}function zh(a){for(a=a.firstContext;a!==null;){if(!Sr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function js(a){Fs=a,So=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function kn(a){return jw(Fs,a)}function qh(a,s){return Fs===null&&js(a),jw(a,s)}function jw(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},So===null){if(a===null)throw Error(r(308));So=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else So=So.next=s;return c}var T5=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,p){a.push(p)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},S5=t.unstable_scheduleCallback,w5=t.unstable_NormalPriority,tn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ev(){return{controller:new T5,data:new Map,refCount:0}}function Xc(a){a.refCount--,a.refCount===0&&S5(w5,function(){a.controller.abort()})}var Qc=null,xv=0,Zl=0,eu=null;function A5(a,s){if(Qc===null){var c=Qc=[];xv=0,Zl=w0(),eu={status:"pending",value:void 0,then:function(p){c.push(p)}}}return xv++,s.then(Hw,Hw),s}function Hw(){if(--xv===0&&Qc!==null){eu!==null&&(eu.status="fulfilled");var a=Qc;Qc=null,Zl=0,eu=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function C5(a,s){var c=[],p={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return a.then(function(){p.status="fulfilled",p.value=s;for(var b=0;b<c.length;b++)(0,c[b])(s)},function(b){for(p.status="rejected",p.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),p}var Gw=K.S;K.S=function(a,s){I1=_n(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&A5(a,s),Gw!==null&&Gw(a,s)};var Hs=$(null);function Tv(){var a=Hs.current;return a!==null?a:xt.pooledCache}function Bh(a,s){s===null?pe(Hs,Hs.current):pe(Hs,s.pool)}function $w(){var a=Tv();return a===null?null:{parent:tn._currentValue,pool:a}}var tu=Error(r(460)),Sv=Error(r(474)),Fh=Error(r(542)),jh={then:function(){}};function Kw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Yw(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(pi,pi),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Jw(a),a;default:if(typeof s.status=="string")s.then(pi,pi);else{if(a=xt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(p){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=p}},function(p){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Jw(a),a}throw $s=s,tu}}function Gs(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?($s=c,tu):c}}var $s=null;function Ww(){if($s===null)throw Error(r(459));var a=$s;return $s=null,a}function Jw(a){if(a===tu||a===Fh)throw Error(r(483))}var nu=null,Zc=0;function Hh(a){var s=Zc;return Zc+=1,nu===null&&(nu=[]),Yw(nu,a,s)}function ef(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Gh(a,s){throw s.$$typeof===_?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function Xw(a){function s(J,W){if(a){var Z=J.deletions;Z===null?(J.deletions=[W],J.flags|=16):Z.push(W)}}function c(J,W){if(!a)return null;for(;W!==null;)s(J,W),W=W.sibling;return null}function p(J){for(var W=new Map;J!==null;)J.key!==null?W.set(J.key,J):W.set(J.index,J),J=J.sibling;return W}function b(J,W){return J=xo(J,W),J.index=0,J.sibling=null,J}function x(J,W,Z){return J.index=Z,a?(Z=J.alternate,Z!==null?(Z=Z.index,Z<W?(J.flags|=67108866,W):Z):(J.flags|=67108866,W)):(J.flags|=1048576,W)}function I(J){return a&&J.alternate===null&&(J.flags|=67108866),J}function V(J,W,Z,he){return W===null||W.tag!==6?(W=dv(Z,J.mode,he),W.return=J,W):(W=b(W,Z),W.return=J,W)}function Y(J,W,Z,he){var Me=Z.type;return Me===S?fe(J,W,Z.props.children,he,Z.key):W!==null&&(W.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===D&&Gs(Me)===W.type)?(W=b(W,Z.props),ef(W,Z),W.return=J,W):(W=Uh(Z.type,Z.key,Z.props,null,J.mode,he),ef(W,Z),W.return=J,W)}function ee(J,W,Z,he){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=hv(Z,J.mode,he),W.return=J,W):(W=b(W,Z.children||[]),W.return=J,W)}function fe(J,W,Z,he,Me){return W===null||W.tag!==7?(W=qs(Z,J.mode,he,Me),W.return=J,W):(W=b(W,Z),W.return=J,W)}function me(J,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=dv(""+W,J.mode,Z),W.return=J,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case E:return Z=Uh(W.type,W.key,W.props,null,J.mode,Z),ef(Z,W),Z.return=J,Z;case w:return W=hv(W,J.mode,Z),W.return=J,W;case D:return W=Gs(W),me(J,W,Z)}if(ge(W)||j(W))return W=qs(W,J.mode,Z,null),W.return=J,W;if(typeof W.then=="function")return me(J,Hh(W),Z);if(W.$$typeof===O)return me(J,qh(J,W),Z);Gh(J,W)}return null}function re(J,W,Z,he){var Me=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Me!==null?null:V(J,W,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:return Z.key===Me?Y(J,W,Z,he):null;case w:return Z.key===Me?ee(J,W,Z,he):null;case D:return Z=Gs(Z),re(J,W,Z,he)}if(ge(Z)||j(Z))return Me!==null?null:fe(J,W,Z,he,null);if(typeof Z.then=="function")return re(J,W,Hh(Z),he);if(Z.$$typeof===O)return re(J,W,qh(J,Z),he);Gh(J,Z)}return null}function oe(J,W,Z,he,Me){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return J=J.get(Z)||null,V(W,J,""+he,Me);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case E:return J=J.get(he.key===null?Z:he.key)||null,Y(W,J,he,Me);case w:return J=J.get(he.key===null?Z:he.key)||null,ee(W,J,he,Me);case D:return he=Gs(he),oe(J,W,Z,he,Me)}if(ge(he)||j(he))return J=J.get(Z)||null,fe(W,J,he,Me,null);if(typeof he.then=="function")return oe(J,W,Z,Hh(he),Me);if(he.$$typeof===O)return oe(J,W,Z,qh(W,he),Me);Gh(W,he)}return null}function Ce(J,W,Z,he){for(var Me=null,ot=null,Ne=W,$e=W=0,Je=null;Ne!==null&&$e<Z.length;$e++){Ne.index>$e?(Je=Ne,Ne=null):Je=Ne.sibling;var at=re(J,Ne,Z[$e],he);if(at===null){Ne===null&&(Ne=Je);break}a&&Ne&&at.alternate===null&&s(J,Ne),W=x(at,W,$e),ot===null?Me=at:ot.sibling=at,ot=at,Ne=Je}if($e===Z.length)return c(J,Ne),tt&&To(J,$e),Me;if(Ne===null){for(;$e<Z.length;$e++)Ne=me(J,Z[$e],he),Ne!==null&&(W=x(Ne,W,$e),ot===null?Me=Ne:ot.sibling=Ne,ot=Ne);return tt&&To(J,$e),Me}for(Ne=p(Ne);$e<Z.length;$e++)Je=oe(Ne,J,$e,Z[$e],he),Je!==null&&(a&&Je.alternate!==null&&Ne.delete(Je.key===null?$e:Je.key),W=x(Je,W,$e),ot===null?Me=Je:ot.sibling=Je,ot=Je);return a&&Ne.forEach(function(Wa){return s(J,Wa)}),tt&&To(J,$e),Me}function Le(J,W,Z,he){if(Z==null)throw Error(r(151));for(var Me=null,ot=null,Ne=W,$e=W=0,Je=null,at=Z.next();Ne!==null&&!at.done;$e++,at=Z.next()){Ne.index>$e?(Je=Ne,Ne=null):Je=Ne.sibling;var Wa=re(J,Ne,at.value,he);if(Wa===null){Ne===null&&(Ne=Je);break}a&&Ne&&Wa.alternate===null&&s(J,Ne),W=x(Wa,W,$e),ot===null?Me=Wa:ot.sibling=Wa,ot=Wa,Ne=Je}if(at.done)return c(J,Ne),tt&&To(J,$e),Me;if(Ne===null){for(;!at.done;$e++,at=Z.next())at=me(J,at.value,he),at!==null&&(W=x(at,W,$e),ot===null?Me=at:ot.sibling=at,ot=at);return tt&&To(J,$e),Me}for(Ne=p(Ne);!at.done;$e++,at=Z.next())at=oe(Ne,J,$e,at.value,he),at!==null&&(a&&at.alternate!==null&&Ne.delete(at.key===null?$e:at.key),W=x(at,W,$e),ot===null?Me=at:ot.sibling=at,ot=at);return a&&Ne.forEach(function(Vz){return s(J,Vz)}),tt&&To(J,$e),Me}function bt(J,W,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===S&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:e:{for(var Me=Z.key;W!==null;){if(W.key===Me){if(Me=Z.type,Me===S){if(W.tag===7){c(J,W.sibling),he=b(W,Z.props.children),he.return=J,J=he;break e}}else if(W.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===D&&Gs(Me)===W.type){c(J,W.sibling),he=b(W,Z.props),ef(he,Z),he.return=J,J=he;break e}c(J,W);break}else s(J,W);W=W.sibling}Z.type===S?(he=qs(Z.props.children,J.mode,he,Z.key),he.return=J,J=he):(he=Uh(Z.type,Z.key,Z.props,null,J.mode,he),ef(he,Z),he.return=J,J=he)}return I(J);case w:e:{for(Me=Z.key;W!==null;){if(W.key===Me)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){c(J,W.sibling),he=b(W,Z.children||[]),he.return=J,J=he;break e}else{c(J,W);break}else s(J,W);W=W.sibling}he=hv(Z,J.mode,he),he.return=J,J=he}return I(J);case D:return Z=Gs(Z),bt(J,W,Z,he)}if(ge(Z))return Ce(J,W,Z,he);if(j(Z)){if(Me=j(Z),typeof Me!="function")throw Error(r(150));return Z=Me.call(Z),Le(J,W,Z,he)}if(typeof Z.then=="function")return bt(J,W,Hh(Z),he);if(Z.$$typeof===O)return bt(J,W,qh(J,Z),he);Gh(J,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,W!==null&&W.tag===6?(c(J,W.sibling),he=b(W,Z),he.return=J,J=he):(c(J,W),he=dv(Z,J.mode,he),he.return=J,J=he),I(J)):c(J,W)}return function(J,W,Z,he){try{Zc=0;var Me=bt(J,W,Z,he);return nu=null,Me}catch(Ne){if(Ne===tu||Ne===Fh)throw Ne;var ot=wr(29,Ne,null,J.mode);return ot.lanes=he,ot.return=J,ot}finally{}}}var Ks=Xw(!0),Qw=Xw(!1),Ma=!1;function wv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Av(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Da(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ka(a,s,c){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(ct&2)!==0){var b=p.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),p.pending=s,s=Lh(a),Ow(a,null,c),s}return Oh(a,p,s,c),Lh(a)}function tf(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var p=s.lanes;p&=a.pendingLanes,c|=p,s.lanes=c,Ic(a,c)}}function Cv(a,s){var c=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var b=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var I={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?b=x=I:x=x.next=I,c=c.next}while(c!==null);x===null?b=x=s:x=x.next=s}else b=x=s;c={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:x,shared:p.shared,callbacks:p.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var Iv=!1;function nf(){if(Iv){var a=eu;if(a!==null)throw a}}function rf(a,s,c,p){Iv=!1;var b=a.updateQueue;Ma=!1;var x=b.firstBaseUpdate,I=b.lastBaseUpdate,V=b.shared.pending;if(V!==null){b.shared.pending=null;var Y=V,ee=Y.next;Y.next=null,I===null?x=ee:I.next=ee,I=Y;var fe=a.alternate;fe!==null&&(fe=fe.updateQueue,V=fe.lastBaseUpdate,V!==I&&(V===null?fe.firstBaseUpdate=ee:V.next=ee,fe.lastBaseUpdate=Y))}if(x!==null){var me=b.baseState;I=0,fe=ee=Y=null,V=x;do{var re=V.lane&-536870913,oe=re!==V.lane;if(oe?(We&re)===re:(p&re)===re){re!==0&&re===Zl&&(Iv=!0),fe!==null&&(fe=fe.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Ce=a,Le=V;re=s;var bt=c;switch(Le.tag){case 1:if(Ce=Le.payload,typeof Ce=="function"){me=Ce.call(bt,me,re);break e}me=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Le.payload,re=typeof Ce=="function"?Ce.call(bt,me,re):Ce,re==null)break e;me=m({},me,re);break e;case 2:Ma=!0}}re=V.callback,re!==null&&(a.flags|=64,oe&&(a.flags|=8192),oe=b.callbacks,oe===null?b.callbacks=[re]:oe.push(re))}else oe={lane:re,tag:V.tag,payload:V.payload,callback:V.callback,next:null},fe===null?(ee=fe=oe,Y=me):fe=fe.next=oe,I|=re;if(V=V.next,V===null){if(V=b.shared.pending,V===null)break;oe=V,V=oe.next,oe.next=null,b.lastBaseUpdate=oe,b.shared.pending=null}}while(!0);fe===null&&(Y=me),b.baseState=Y,b.firstBaseUpdate=ee,b.lastBaseUpdate=fe,x===null&&(b.shared.lanes=0),za|=I,a.lanes=I,a.memoizedState=me}}function Zw(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function eA(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)Zw(c[a],s)}var ru=$(null),$h=$(0);function tA(a,s){a=ko,pe($h,a),pe(ru,s),ko=a|s.baseLanes}function Nv(){pe($h,ko),pe(ru,ru.current)}function Rv(){ko=$h.current,te(ru),te($h)}var Ar=$(null),Yr=null;function Oa(a){var s=a.alternate;pe(Gt,Gt.current&1),pe(Ar,a),Yr===null&&(s===null||ru.current!==null||s.memoizedState!==null)&&(Yr=a)}function Pv(a){pe(Gt,Gt.current),pe(Ar,a),Yr===null&&(Yr=a)}function nA(a){a.tag===22?(pe(Gt,Gt.current),pe(Ar,a),Yr===null&&(Yr=a)):La()}function La(){pe(Gt,Gt.current),pe(Ar,Ar.current)}function Cr(a){te(Ar),Yr===a&&(Yr=null),te(Gt)}var Gt=$(0);function Kh(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||U0(c)||V0(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ao=0,Ge=null,vt=null,nn=null,Yh=!1,iu=!1,Ys=!1,Wh=0,of=0,ou=null,I5=0;function Bt(){throw Error(r(321))}function Mv(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!Sr(a[c],s[c]))return!1;return!0}function Dv(a,s,c,p,b,x){return Ao=x,Ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=a===null||a.memoizedState===null?zA:Yv,Ys=!1,x=c(p,b),Ys=!1,iu&&(x=iA(s,c,p,b)),rA(a),x}function rA(a){K.H=lf;var s=vt!==null&&vt.next!==null;if(Ao=0,nn=vt=Ge=null,Yh=!1,of=0,ou=null,s)throw Error(r(300));a===null||rn||(a=a.dependencies,a!==null&&zh(a)&&(rn=!0))}function iA(a,s,c,p){Ge=a;var b=0;do{if(iu&&(ou=null),of=0,iu=!1,25<=b)throw Error(r(301));if(b+=1,nn=vt=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}K.H=qA,x=s(c,p)}while(iu);return x}function N5(){var a=K.H,s=a.useState()[0];return s=typeof s.then=="function"?af(s):s,a=a.useState()[0],(vt!==null?vt.memoizedState:null)!==a&&(Ge.flags|=1024),s}function kv(){var a=Wh!==0;return Wh=0,a}function Ov(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function Lv(a){if(Yh){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Yh=!1}Ao=0,nn=vt=Ge=null,iu=!1,of=Wh=0,ou=null}function er(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Ge.memoizedState=nn=a:nn=nn.next=a,nn}function $t(){if(vt===null){var a=Ge.alternate;a=a!==null?a.memoizedState:null}else a=vt.next;var s=nn===null?Ge.memoizedState:nn.next;if(s!==null)nn=s,vt=a;else{if(a===null)throw Ge.alternate===null?Error(r(467)):Error(r(310));vt=a,a={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},nn===null?Ge.memoizedState=nn=a:nn=nn.next=a}return nn}function Jh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function af(a){var s=of;return of+=1,ou===null&&(ou=[]),a=Yw(ou,a,s),s=Ge,(nn===null?s.memoizedState:nn.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?zA:Yv),a}function Xh(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return af(a);if(a.$$typeof===O)return kn(a)}throw Error(r(438,String(a)))}function Uv(a){var s=null,c=Ge.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var p=Ge.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Jh(),Ge.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),p=0;p<a;p++)c[p]=B;return s.index++,c}function Co(a,s){return typeof s=="function"?s(a):s}function Qh(a){var s=$t();return Vv(s,vt,a)}function Vv(a,s,c){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var b=a.baseQueue,x=p.pending;if(x!==null){if(b!==null){var I=b.next;b.next=x.next,x.next=I}s.baseQueue=b=x,p.pending=null}if(x=a.baseState,b===null)a.memoizedState=x;else{s=b.next;var V=I=null,Y=null,ee=s,fe=!1;do{var me=ee.lane&-536870913;if(me!==ee.lane?(We&me)===me:(Ao&me)===me){var re=ee.revertLane;if(re===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),me===Zl&&(fe=!0);else if((Ao&re)===re){ee=ee.next,re===Zl&&(fe=!0);continue}else me={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},Y===null?(V=Y=me,I=x):Y=Y.next=me,Ge.lanes|=re,za|=re;me=ee.action,Ys&&c(x,me),x=ee.hasEagerState?ee.eagerState:c(x,me)}else re={lane:me,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},Y===null?(V=Y=re,I=x):Y=Y.next=re,Ge.lanes|=me,za|=me;ee=ee.next}while(ee!==null&&ee!==s);if(Y===null?I=x:Y.next=V,!Sr(x,a.memoizedState)&&(rn=!0,fe&&(c=eu,c!==null)))throw c;a.memoizedState=x,a.baseState=I,a.baseQueue=Y,p.lastRenderedState=x}return b===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function zv(a){var s=$t(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var p=c.dispatch,b=c.pending,x=s.memoizedState;if(b!==null){c.pending=null;var I=b=b.next;do x=a(x,I.action),I=I.next;while(I!==b);Sr(x,s.memoizedState)||(rn=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),c.lastRenderedState=x}return[x,p]}function oA(a,s,c){var p=Ge,b=$t(),x=tt;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=s();var I=!Sr((vt||b).memoizedState,c);if(I&&(b.memoizedState=c,rn=!0),b=b.queue,Fv(lA.bind(null,p,b,a),[a]),b.getSnapshot!==s||I||nn!==null&&nn.memoizedState.tag&1){if(p.flags|=2048,au(9,{destroy:void 0},sA.bind(null,p,b,c,s),null),xt===null)throw Error(r(349));x||(Ao&127)!==0||aA(p,s,c)}return c}function aA(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=Ge.updateQueue,s===null?(s=Jh(),Ge.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function sA(a,s,c,p){s.value=c,s.getSnapshot=p,uA(s)&&cA(a)}function lA(a,s,c){return c(function(){uA(s)&&cA(a)})}function uA(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!Sr(a,c)}catch{return!0}}function cA(a){var s=zs(a,2);s!==null&&dr(s,a,2)}function qv(a){var s=er();if(typeof a=="function"){var c=a;if(a=c(),Ys){Vr(!0);try{c()}finally{Vr(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:a},s}function fA(a,s,c,p){return a.baseState=c,Vv(a,vt,typeof p=="function"?p:Co)}function R5(a,s,c,p,b){if(tp(a))throw Error(r(485));if(a=s.action,a!==null){var x={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){x.listeners.push(I)}};K.T!==null?c(!0):x.isTransition=!1,p(x),c=s.pending,c===null?(x.next=s.pending=x,dA(s,x)):(x.next=c.next,s.pending=c.next=x)}}function dA(a,s){var c=s.action,p=s.payload,b=a.state;if(s.isTransition){var x=K.T,I={};K.T=I;try{var V=c(b,p),Y=K.S;Y!==null&&Y(I,V),hA(a,s,V)}catch(ee){Bv(a,s,ee)}finally{x!==null&&I.types!==null&&(x.types=I.types),K.T=x}}else try{x=c(b,p),hA(a,s,x)}catch(ee){Bv(a,s,ee)}}function hA(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){pA(a,s,p)},function(p){return Bv(a,s,p)}):pA(a,s,c)}function pA(a,s,c){s.status="fulfilled",s.value=c,mA(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,dA(a,c)))}function Bv(a,s,c){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=c,mA(s),s=s.next;while(s!==p)}a.action=null}function mA(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function gA(a,s){return s}function yA(a,s){if(tt){var c=xt.formState;if(c!==null){e:{var p=Ge;if(tt){if(At){t:{for(var b=At,x=Kr;b.nodeType!==8;){if(!x){b=null;break t}if(b=Wr(b.nextSibling),b===null){b=null;break t}}x=b.data,b=x==="F!"||x==="F"?b:null}if(b){At=Wr(b.nextSibling),p=b.data==="F!";break e}}Ra(p)}p=!1}p&&(s=c[0])}}return c=er(),c.memoizedState=c.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gA,lastRenderedState:s},c.queue=p,c=LA.bind(null,Ge,p),p.dispatch=c,p=qv(!1),x=Kv.bind(null,Ge,!1,p.queue),p=er(),b={state:s,dispatch:null,action:a,pending:null},p.queue=b,c=R5.bind(null,Ge,b,x,c),b.dispatch=c,p.memoizedState=a,[s,c,!1]}function vA(a){var s=$t();return _A(s,vt,a)}function _A(a,s,c){if(s=Vv(a,s,gA)[0],a=Qh(Co)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=af(s)}catch(I){throw I===tu?Fh:I}else p=s;s=$t();var b=s.queue,x=b.dispatch;return c!==s.memoizedState&&(Ge.flags|=2048,au(9,{destroy:void 0},P5.bind(null,b,c),null)),[p,x,a]}function P5(a,s){a.action=s}function bA(a){var s=$t(),c=vt;if(c!==null)return _A(s,c,a);$t(),s=s.memoizedState,c=$t();var p=c.queue.dispatch;return c.memoizedState=a,[s,p,!1]}function au(a,s,c,p){return a={tag:a,create:c,deps:p,inst:s,next:null},s=Ge.updateQueue,s===null&&(s=Jh(),Ge.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(p=c.next,c.next=a,a.next=p,s.lastEffect=a),a}function EA(){return $t().memoizedState}function Zh(a,s,c,p){var b=er();Ge.flags|=a,b.memoizedState=au(1|s,{destroy:void 0},c,p===void 0?null:p)}function ep(a,s,c,p){var b=$t();p=p===void 0?null:p;var x=b.memoizedState.inst;vt!==null&&p!==null&&Mv(p,vt.memoizedState.deps)?b.memoizedState=au(s,x,c,p):(Ge.flags|=a,b.memoizedState=au(1|s,x,c,p))}function xA(a,s){Zh(8390656,8,a,s)}function Fv(a,s){ep(2048,8,a,s)}function M5(a){Ge.flags|=4;var s=Ge.updateQueue;if(s===null)s=Jh(),Ge.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function TA(a){var s=$t().memoizedState;return M5({ref:s,nextImpl:a}),function(){if((ct&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function SA(a,s){return ep(4,2,a,s)}function wA(a,s){return ep(4,4,a,s)}function AA(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function CA(a,s,c){c=c!=null?c.concat([a]):null,ep(4,4,AA.bind(null,s,a),c)}function jv(){}function IA(a,s){var c=$t();s=s===void 0?null:s;var p=c.memoizedState;return s!==null&&Mv(s,p[1])?p[0]:(c.memoizedState=[a,s],a)}function NA(a,s){var c=$t();s=s===void 0?null:s;var p=c.memoizedState;if(s!==null&&Mv(s,p[1]))return p[0];if(p=a(),Ys){Vr(!0);try{a()}finally{Vr(!1)}}return c.memoizedState=[p,s],p}function Hv(a,s,c){return c===void 0||(Ao&1073741824)!==0&&(We&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=R1(),Ge.lanes|=a,za|=a,c)}function RA(a,s,c,p){return Sr(c,s)?c:ru.current!==null?(a=Hv(a,c,p),Sr(a,s)||(rn=!0),a):(Ao&42)===0||(Ao&1073741824)!==0&&(We&261930)===0?(rn=!0,a.memoizedState=c):(a=R1(),Ge.lanes|=a,za|=a,s)}function PA(a,s,c,p,b){var x=ne.p;ne.p=x!==0&&8>x?x:8;var I=K.T,V={};K.T=V,Kv(a,!1,s,c);try{var Y=b(),ee=K.S;if(ee!==null&&ee(V,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var fe=C5(Y,p);sf(a,s,fe,Rr(a))}else sf(a,s,p,Rr(a))}catch(me){sf(a,s,{then:function(){},status:"rejected",reason:me},Rr())}finally{ne.p=x,I!==null&&V.types!==null&&(I.types=V.types),K.T=I}}function D5(){}function Gv(a,s,c,p){if(a.tag!==5)throw Error(r(476));var b=MA(a).queue;PA(a,b,s,le,c===null?D5:function(){return DA(a),c(p)})}function MA(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:le},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function DA(a){var s=MA(a);s.next===null&&(s=a.alternate.memoizedState),sf(a,s.next.queue,{},Rr())}function $v(){return kn(Sf)}function kA(){return $t().memoizedState}function OA(){return $t().memoizedState}function k5(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=Rr();a=Da(c);var p=ka(s,a,c);p!==null&&(dr(p,s,c),tf(p,s,c)),s={cache:Ev()},a.payload=s;return}s=s.return}}function O5(a,s,c){var p=Rr();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},tp(a)?UA(s,c):(c=cv(a,s,c,p),c!==null&&(dr(c,a,p),VA(c,s,p)))}function LA(a,s,c){var p=Rr();sf(a,s,c,p)}function sf(a,s,c,p){var b={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(tp(a))UA(s,b);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var I=s.lastRenderedState,V=x(I,c);if(b.hasEagerState=!0,b.eagerState=V,Sr(V,I))return Oh(a,s,b,0),xt===null&&kh(),!1}catch{}finally{}if(c=cv(a,s,b,p),c!==null)return dr(c,a,p),VA(c,s,p),!0}return!1}function Kv(a,s,c,p){if(p={lane:2,revertLane:w0(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},tp(a)){if(s)throw Error(r(479))}else s=cv(a,c,p,2),s!==null&&dr(s,a,2)}function tp(a){var s=a.alternate;return a===Ge||s!==null&&s===Ge}function UA(a,s){iu=Yh=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function VA(a,s,c){if((c&4194048)!==0){var p=s.lanes;p&=a.pendingLanes,c|=p,s.lanes=c,Ic(a,c)}}var lf={readContext:kn,use:Xh,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};lf.useEffectEvent=Bt;var zA={readContext:kn,use:Xh,useCallback:function(a,s){return er().memoizedState=[a,s===void 0?null:s],a},useContext:kn,useEffect:xA,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,Zh(4194308,4,AA.bind(null,s,a),c)},useLayoutEffect:function(a,s){return Zh(4194308,4,a,s)},useInsertionEffect:function(a,s){Zh(4,2,a,s)},useMemo:function(a,s){var c=er();s=s===void 0?null:s;var p=a();if(Ys){Vr(!0);try{a()}finally{Vr(!1)}}return c.memoizedState=[p,s],p},useReducer:function(a,s,c){var p=er();if(c!==void 0){var b=c(s);if(Ys){Vr(!0);try{c(s)}finally{Vr(!1)}}}else b=s;return p.memoizedState=p.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},p.queue=a,a=a.dispatch=O5.bind(null,Ge,a),[p.memoizedState,a]},useRef:function(a){var s=er();return a={current:a},s.memoizedState=a},useState:function(a){a=qv(a);var s=a.queue,c=LA.bind(null,Ge,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:jv,useDeferredValue:function(a,s){var c=er();return Hv(c,a,s)},useTransition:function(){var a=qv(!1);return a=PA.bind(null,Ge,a.queue,!0,!1),er().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var p=Ge,b=er();if(tt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),xt===null)throw Error(r(349));(We&127)!==0||aA(p,s,c)}b.memoizedState=c;var x={value:c,getSnapshot:s};return b.queue=x,xA(lA.bind(null,p,x,a),[a]),p.flags|=2048,au(9,{destroy:void 0},sA.bind(null,p,x,c,s),null),c},useId:function(){var a=er(),s=xt.identifierPrefix;if(tt){var c=eo,p=Zi;c=(p&~(1<<32-jt(p)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Wh++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=I5++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:$v,useFormState:yA,useActionState:yA,useOptimistic:function(a){var s=er();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Kv.bind(null,Ge,!0,c),c.dispatch=s,[a,s]},useMemoCache:Uv,useCacheRefresh:function(){return er().memoizedState=k5.bind(null,Ge)},useEffectEvent:function(a){var s=er(),c={impl:a};return s.memoizedState=c,function(){if((ct&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Yv={readContext:kn,use:Xh,useCallback:IA,useContext:kn,useEffect:Fv,useImperativeHandle:CA,useInsertionEffect:SA,useLayoutEffect:wA,useMemo:NA,useReducer:Qh,useRef:EA,useState:function(){return Qh(Co)},useDebugValue:jv,useDeferredValue:function(a,s){var c=$t();return RA(c,vt.memoizedState,a,s)},useTransition:function(){var a=Qh(Co)[0],s=$t().memoizedState;return[typeof a=="boolean"?a:af(a),s]},useSyncExternalStore:oA,useId:kA,useHostTransitionStatus:$v,useFormState:vA,useActionState:vA,useOptimistic:function(a,s){var c=$t();return fA(c,vt,a,s)},useMemoCache:Uv,useCacheRefresh:OA};Yv.useEffectEvent=TA;var qA={readContext:kn,use:Xh,useCallback:IA,useContext:kn,useEffect:Fv,useImperativeHandle:CA,useInsertionEffect:SA,useLayoutEffect:wA,useMemo:NA,useReducer:zv,useRef:EA,useState:function(){return zv(Co)},useDebugValue:jv,useDeferredValue:function(a,s){var c=$t();return vt===null?Hv(c,a,s):RA(c,vt.memoizedState,a,s)},useTransition:function(){var a=zv(Co)[0],s=$t().memoizedState;return[typeof a=="boolean"?a:af(a),s]},useSyncExternalStore:oA,useId:kA,useHostTransitionStatus:$v,useFormState:bA,useActionState:bA,useOptimistic:function(a,s){var c=$t();return vt!==null?fA(c,vt,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Uv,useCacheRefresh:OA};qA.useEffectEvent=TA;function Wv(a,s,c,p){s=a.memoizedState,c=c(p,s),c=c==null?s:m({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Jv={enqueueSetState:function(a,s,c){a=a._reactInternals;var p=Rr(),b=Da(p);b.payload=s,c!=null&&(b.callback=c),s=ka(a,b,p),s!==null&&(dr(s,a,p),tf(s,a,p))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var p=Rr(),b=Da(p);b.tag=1,b.payload=s,c!=null&&(b.callback=c),s=ka(a,b,p),s!==null&&(dr(s,a,p),tf(s,a,p))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=Rr(),p=Da(c);p.tag=2,s!=null&&(p.callback=s),s=ka(a,p,c),s!==null&&(dr(s,a,c),tf(s,a,c))}};function BA(a,s,c,p,b,x,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,x,I):s.prototype&&s.prototype.isPureReactComponent?!Kc(c,p)||!Kc(b,x):!0}function FA(a,s,c,p){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,p),s.state!==a&&Jv.enqueueReplaceState(s,s.state,null)}function Ws(a,s){var c=s;if("ref"in s){c={};for(var p in s)p!=="ref"&&(c[p]=s[p])}if(a=a.defaultProps){c===s&&(c=m({},c));for(var b in a)c[b]===void 0&&(c[b]=a[b])}return c}function jA(a){Dh(a)}function HA(a){console.error(a)}function GA(a){Dh(a)}function np(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function $A(a,s,c){try{var p=a.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Xv(a,s,c){return c=Da(c),c.tag=3,c.payload={element:null},c.callback=function(){np(a,s)},c}function KA(a){return a=Da(a),a.tag=3,a}function YA(a,s,c,p){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var x=p.value;a.payload=function(){return b(x)},a.callback=function(){$A(s,c,p)}}var I=c.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){$A(s,c,p),typeof b!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var V=p.stack;this.componentDidCatch(p.value,{componentStack:V!==null?V:""})})}function L5(a,s,c,p,b){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=c.alternate,s!==null&&Ql(s,c,b,!0),c=Ar.current,c!==null){switch(c.tag){case 31:case 13:return Yr===null?pp():c.alternate===null&&Ft===0&&(Ft=3),c.flags&=-257,c.flags|=65536,c.lanes=b,p===jh?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([p]):s.add(p),x0(a,p,b)),!1;case 22:return c.flags|=65536,p===jh?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([p]):c.add(p)),x0(a,p,b)),!1}throw Error(r(435,c.tag))}return x0(a,p,b),pp(),!1}if(tt)return s=Ar.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,p!==gv&&(a=Error(r(422),{cause:p}),Jc(Hr(a,c)))):(p!==gv&&(s=Error(r(423),{cause:p}),Jc(Hr(s,c))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,p=Hr(p,c),b=Xv(a.stateNode,p,b),Cv(a,b),Ft!==4&&(Ft=2)),!1;var x=Error(r(520),{cause:p});if(x=Hr(x,c),gf===null?gf=[x]:gf.push(x),Ft!==4&&(Ft=2),s===null)return!0;p=Hr(p,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=b&-b,c.lanes|=a,a=Xv(c.stateNode,p,a),Cv(c,a),!1;case 1:if(s=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(qa===null||!qa.has(x))))return c.flags|=65536,b&=-b,c.lanes|=b,b=KA(b),YA(b,a,c,p),Cv(c,b),!1}c=c.return}while(c!==null);return!1}var Qv=Error(r(461)),rn=!1;function On(a,s,c,p){s.child=a===null?Qw(s,null,c,p):Ks(s,a.child,c,p)}function WA(a,s,c,p,b){c=c.render;var x=s.ref;if("ref"in p){var I={};for(var V in p)V!=="ref"&&(I[V]=p[V])}else I=p;return js(s),p=Dv(a,s,c,I,x,b),V=kv(),a!==null&&!rn?(Ov(a,s,b),Io(a,s,b)):(tt&&V&&pv(s),s.flags|=1,On(a,s,p,b),s.child)}function JA(a,s,c,p,b){if(a===null){var x=c.type;return typeof x=="function"&&!fv(x)&&x.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=x,XA(a,s,x,p,b)):(a=Uh(c.type,null,p,s,s.mode,b),a.ref=s.ref,a.return=s,s.child=a)}if(x=a.child,!a0(a,b)){var I=x.memoizedProps;if(c=c.compare,c=c!==null?c:Kc,c(I,p)&&a.ref===s.ref)return Io(a,s,b)}return s.flags|=1,a=xo(x,p),a.ref=s.ref,a.return=s,s.child=a}function XA(a,s,c,p,b){if(a!==null){var x=a.memoizedProps;if(Kc(x,p)&&a.ref===s.ref)if(rn=!1,s.pendingProps=p=x,a0(a,b))(a.flags&131072)!==0&&(rn=!0);else return s.lanes=a.lanes,Io(a,s,b)}return Zv(a,s,c,p,b)}function QA(a,s,c,p){var b=p.children,x=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,a!==null){for(p=s.child=a.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~x}else p=0,s.child=null;return ZA(a,s,x,c,p)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Bh(s,x!==null?x.cachePool:null),x!==null?tA(s,x):Nv(),nA(s);else return p=s.lanes=536870912,ZA(a,s,x!==null?x.baseLanes|c:c,c,p)}else x!==null?(Bh(s,x.cachePool),tA(s,x),La(),s.memoizedState=null):(a!==null&&Bh(s,null),Nv(),La());return On(a,s,b,c),s.child}function uf(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function ZA(a,s,c,p,b){var x=Tv();return x=x===null?null:{parent:tn._currentValue,pool:x},s.memoizedState={baseLanes:c,cachePool:x},a!==null&&Bh(s,null),Nv(),nA(s),a!==null&&Ql(a,s,p,!0),s.childLanes=b,null}function rp(a,s){return s=op({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function e1(a,s,c){return Ks(s,a.child,null,c),a=rp(s,s.pendingProps),a.flags|=2,Cr(s),s.memoizedState=null,a}function U5(a,s,c){var p=s.pendingProps,b=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(tt){if(p.mode==="hidden")return a=rp(s,p),s.lanes=536870912,uf(null,a);if(Pv(s),(a=At)?(a=dC(a,Kr),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Ia!==null?{id:Zi,overflow:eo}:null,retryLane:536870912,hydrationErrors:null},c=Uw(a),c.return=s,s.child=c,Dn=s,At=null)):a=null,a===null)throw Ra(s);return s.lanes=536870912,null}return rp(s,p)}var x=a.memoizedState;if(x!==null){var I=x.dehydrated;if(Pv(s),b)if(s.flags&256)s.flags&=-257,s=e1(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(rn||Ql(a,s,c,!1),b=(c&a.childLanes)!==0,rn||b){if(p=xt,p!==null&&(I=Nc(p,c),I!==0&&I!==x.retryLane))throw x.retryLane=I,zs(a,I),dr(p,a,I),Qv;pp(),s=e1(a,s,c)}else a=x.treeContext,At=Wr(I.nextSibling),Dn=s,tt=!0,Na=null,Kr=!1,a!==null&&qw(s,a),s=rp(s,p),s.flags|=4096;return s}return a=xo(a.child,{mode:p.mode,children:p.children}),a.ref=s.ref,s.child=a,a.return=s,a}function ip(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function Zv(a,s,c,p,b){return js(s),c=Dv(a,s,c,p,void 0,b),p=kv(),a!==null&&!rn?(Ov(a,s,b),Io(a,s,b)):(tt&&p&&pv(s),s.flags|=1,On(a,s,c,b),s.child)}function t1(a,s,c,p,b,x){return js(s),s.updateQueue=null,c=iA(s,p,c,b),rA(a),p=kv(),a!==null&&!rn?(Ov(a,s,x),Io(a,s,x)):(tt&&p&&pv(s),s.flags|=1,On(a,s,c,x),s.child)}function n1(a,s,c,p,b){if(js(s),s.stateNode===null){var x=Yl,I=c.contextType;typeof I=="object"&&I!==null&&(x=kn(I)),x=new c(p,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Jv,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=p,x.state=s.memoizedState,x.refs={},wv(s),I=c.contextType,x.context=typeof I=="object"&&I!==null?kn(I):Yl,x.state=s.memoizedState,I=c.getDerivedStateFromProps,typeof I=="function"&&(Wv(s,c,I,p),x.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(I=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),I!==x.state&&Jv.enqueueReplaceState(x,x.state,null),rf(s,p,x,b),nf(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(a===null){x=s.stateNode;var V=s.memoizedProps,Y=Ws(c,V);x.props=Y;var ee=x.context,fe=c.contextType;I=Yl,typeof fe=="object"&&fe!==null&&(I=kn(fe));var me=c.getDerivedStateFromProps;fe=typeof me=="function"||typeof x.getSnapshotBeforeUpdate=="function",V=s.pendingProps!==V,fe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(V||ee!==I)&&FA(s,x,p,I),Ma=!1;var re=s.memoizedState;x.state=re,rf(s,p,x,b),nf(),ee=s.memoizedState,V||re!==ee||Ma?(typeof me=="function"&&(Wv(s,c,me,p),ee=s.memoizedState),(Y=Ma||BA(s,c,Y,p,re,ee,I))?(fe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=ee),x.props=p,x.state=ee,x.context=I,p=Y):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{x=s.stateNode,Av(a,s),I=s.memoizedProps,fe=Ws(c,I),x.props=fe,me=s.pendingProps,re=x.context,ee=c.contextType,Y=Yl,typeof ee=="object"&&ee!==null&&(Y=kn(ee)),V=c.getDerivedStateFromProps,(ee=typeof V=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(I!==me||re!==Y)&&FA(s,x,p,Y),Ma=!1,re=s.memoizedState,x.state=re,rf(s,p,x,b),nf();var oe=s.memoizedState;I!==me||re!==oe||Ma||a!==null&&a.dependencies!==null&&zh(a.dependencies)?(typeof V=="function"&&(Wv(s,c,V,p),oe=s.memoizedState),(fe=Ma||BA(s,c,fe,p,re,oe,Y)||a!==null&&a.dependencies!==null&&zh(a.dependencies))?(ee||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(p,oe,Y),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(p,oe,Y)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||I===a.memoizedProps&&re===a.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&re===a.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=oe),x.props=p,x.state=oe,x.context=Y,p=fe):(typeof x.componentDidUpdate!="function"||I===a.memoizedProps&&re===a.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&re===a.memoizedState||(s.flags|=1024),p=!1)}return x=p,ip(a,s),p=(s.flags&128)!==0,x||p?(x=s.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,a!==null&&p?(s.child=Ks(s,a.child,null,b),s.child=Ks(s,null,c,b)):On(a,s,c,b),s.memoizedState=x.state,a=s.child):a=Io(a,s,b),a}function r1(a,s,c,p){return Bs(),s.flags|=256,On(a,s,c,p),s.child}var e0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function t0(a){return{baseLanes:a,cachePool:$w()}}function n0(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=Nr),a}function i1(a,s,c){var p=s.pendingProps,b=!1,x=(s.flags&128)!==0,I;if((I=x)||(I=a!==null&&a.memoizedState===null?!1:(Gt.current&2)!==0),I&&(b=!0,s.flags&=-129),I=(s.flags&32)!==0,s.flags&=-33,a===null){if(tt){if(b?Oa(s):La(),(a=At)?(a=dC(a,Kr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Ia!==null?{id:Zi,overflow:eo}:null,retryLane:536870912,hydrationErrors:null},c=Uw(a),c.return=s,s.child=c,Dn=s,At=null)):a=null,a===null)throw Ra(s);return V0(a)?s.lanes=32:s.lanes=536870912,null}var V=p.children;return p=p.fallback,b?(La(),b=s.mode,V=op({mode:"hidden",children:V},b),p=qs(p,b,c,null),V.return=s,p.return=s,V.sibling=p,s.child=V,p=s.child,p.memoizedState=t0(c),p.childLanes=n0(a,I,c),s.memoizedState=e0,uf(null,p)):(Oa(s),r0(s,V))}var Y=a.memoizedState;if(Y!==null&&(V=Y.dehydrated,V!==null)){if(x)s.flags&256?(Oa(s),s.flags&=-257,s=i0(a,s,c)):s.memoizedState!==null?(La(),s.child=a.child,s.flags|=128,s=null):(La(),V=p.fallback,b=s.mode,p=op({mode:"visible",children:p.children},b),V=qs(V,b,c,null),V.flags|=2,p.return=s,V.return=s,p.sibling=V,s.child=p,Ks(s,a.child,null,c),p=s.child,p.memoizedState=t0(c),p.childLanes=n0(a,I,c),s.memoizedState=e0,s=uf(null,p));else if(Oa(s),V0(V)){if(I=V.nextSibling&&V.nextSibling.dataset,I)var ee=I.dgst;I=ee,p=Error(r(419)),p.stack="",p.digest=I,Jc({value:p,source:null,stack:null}),s=i0(a,s,c)}else if(rn||Ql(a,s,c,!1),I=(c&a.childLanes)!==0,rn||I){if(I=xt,I!==null&&(p=Nc(I,c),p!==0&&p!==Y.retryLane))throw Y.retryLane=p,zs(a,p),dr(I,a,p),Qv;U0(V)||pp(),s=i0(a,s,c)}else U0(V)?(s.flags|=192,s.child=a.child,s=null):(a=Y.treeContext,At=Wr(V.nextSibling),Dn=s,tt=!0,Na=null,Kr=!1,a!==null&&qw(s,a),s=r0(s,p.children),s.flags|=4096);return s}return b?(La(),V=p.fallback,b=s.mode,Y=a.child,ee=Y.sibling,p=xo(Y,{mode:"hidden",children:p.children}),p.subtreeFlags=Y.subtreeFlags&65011712,ee!==null?V=xo(ee,V):(V=qs(V,b,c,null),V.flags|=2),V.return=s,p.return=s,p.sibling=V,s.child=p,uf(null,p),p=s.child,V=a.child.memoizedState,V===null?V=t0(c):(b=V.cachePool,b!==null?(Y=tn._currentValue,b=b.parent!==Y?{parent:Y,pool:Y}:b):b=$w(),V={baseLanes:V.baseLanes|c,cachePool:b}),p.memoizedState=V,p.childLanes=n0(a,I,c),s.memoizedState=e0,uf(a.child,p)):(Oa(s),c=a.child,a=c.sibling,c=xo(c,{mode:"visible",children:p.children}),c.return=s,c.sibling=null,a!==null&&(I=s.deletions,I===null?(s.deletions=[a],s.flags|=16):I.push(a)),s.child=c,s.memoizedState=null,c)}function r0(a,s){return s=op({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function op(a,s){return a=wr(22,a,null,s),a.lanes=0,a}function i0(a,s,c){return Ks(s,a.child,null,c),a=r0(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function o1(a,s,c){a.lanes|=s;var p=a.alternate;p!==null&&(p.lanes|=s),_v(a.return,s,c)}function o0(a,s,c,p,b,x){var I=a.memoizedState;I===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:b,treeForkCount:x}:(I.isBackwards=s,I.rendering=null,I.renderingStartTime=0,I.last=p,I.tail=c,I.tailMode=b,I.treeForkCount=x)}function a1(a,s,c){var p=s.pendingProps,b=p.revealOrder,x=p.tail;p=p.children;var I=Gt.current,V=(I&2)!==0;if(V?(I=I&1|2,s.flags|=128):I&=1,pe(Gt,I),On(a,s,p,c),p=tt?Wc:0,!V&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&o1(a,c,s);else if(a.tag===19)o1(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(c=s.child,b=null;c!==null;)a=c.alternate,a!==null&&Kh(a)===null&&(b=c),c=c.sibling;c=b,c===null?(b=s.child,s.child=null):(b=c.sibling,c.sibling=null),o0(s,!1,b,c,x,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,b=s.child,s.child=null;b!==null;){if(a=b.alternate,a!==null&&Kh(a)===null){s.child=b;break}a=b.sibling,b.sibling=c,c=b,b=a}o0(s,!0,c,null,x,p);break;case"together":o0(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function Io(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),za|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(Ql(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=xo(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=xo(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function a0(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&zh(a)))}function V5(a,s,c){switch(s.tag){case 3:it(s,s.stateNode.containerInfo),Pa(s,tn,a.memoizedState.cache),Bs();break;case 27:case 5:Oe(s);break;case 4:it(s,s.stateNode.containerInfo);break;case 10:Pa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Pv(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(Oa(s),s.flags|=128,null):(c&s.child.childLanes)!==0?i1(a,s,c):(Oa(s),a=Io(a,s,c),a!==null?a.sibling:null);Oa(s);break;case 19:var b=(a.flags&128)!==0;if(p=(c&s.childLanes)!==0,p||(Ql(a,s,c,!1),p=(c&s.childLanes)!==0),b){if(p)return a1(a,s,c);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),pe(Gt,Gt.current),p)break;return null;case 22:return s.lanes=0,QA(a,s,c,s.pendingProps);case 24:Pa(s,tn,a.memoizedState.cache)}return Io(a,s,c)}function s1(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)rn=!0;else{if(!a0(a,c)&&(s.flags&128)===0)return rn=!1,V5(a,s,c);rn=(a.flags&131072)!==0}else rn=!1,tt&&(s.flags&1048576)!==0&&zw(s,Wc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(a=Gs(s.elementType),s.type=a,typeof a=="function")fv(a)?(p=Ws(a,p),s.tag=1,s=n1(null,s,a,p,c)):(s.tag=0,s=Zv(null,s,a,p,c));else{if(a!=null){var b=a.$$typeof;if(b===H){s.tag=11,s=WA(null,s,a,p,c);break e}else if(b===M){s.tag=14,s=JA(null,s,a,p,c);break e}}throw s=de(a)||a,Error(r(306,s,""))}}return s;case 0:return Zv(a,s,s.type,s.pendingProps,c);case 1:return p=s.type,b=Ws(p,s.pendingProps),n1(a,s,p,b,c);case 3:e:{if(it(s,s.stateNode.containerInfo),a===null)throw Error(r(387));p=s.pendingProps;var x=s.memoizedState;b=x.element,Av(a,s),rf(s,p,null,c);var I=s.memoizedState;if(p=I.cache,Pa(s,tn,p),p!==x.cache&&bv(s,[tn],c,!0),nf(),p=I.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:I.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=r1(a,s,p,c);break e}else if(p!==b){b=Hr(Error(r(424)),s),Jc(b),s=r1(a,s,p,c);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(At=Wr(a.firstChild),Dn=s,tt=!0,Na=null,Kr=!0,c=Qw(s,null,p,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Bs(),p===b){s=Io(a,s,c);break e}On(a,s,p,c)}s=s.child}return s;case 26:return ip(a,s),a===null?(c=vC(s.type,null,s.pendingProps,null))?s.memoizedState=c:tt||(c=s.type,a=s.pendingProps,p=Ep(Re.current).createElement(c),p[Qt]=s,p[bn]=a,Ln(p,c,a),Zt(p),s.stateNode=p):s.memoizedState=vC(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Oe(s),a===null&&tt&&(p=s.stateNode=mC(s.type,s.pendingProps,Re.current),Dn=s,Kr=!0,b=At,Ha(s.type)?(z0=b,At=Wr(p.firstChild)):At=b),On(a,s,s.pendingProps.children,c),ip(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&tt&&((b=p=At)&&(p=pz(p,s.type,s.pendingProps,Kr),p!==null?(s.stateNode=p,Dn=s,At=Wr(p.firstChild),Kr=!1,b=!0):b=!1),b||Ra(s)),Oe(s),b=s.type,x=s.pendingProps,I=a!==null?a.memoizedProps:null,p=x.children,k0(b,x)?p=null:I!==null&&k0(b,I)&&(s.flags|=32),s.memoizedState!==null&&(b=Dv(a,s,N5,null,null,c),Sf._currentValue=b),ip(a,s),On(a,s,p,c),s.child;case 6:return a===null&&tt&&((a=c=At)&&(c=mz(c,s.pendingProps,Kr),c!==null?(s.stateNode=c,Dn=s,At=null,a=!0):a=!1),a||Ra(s)),null;case 13:return i1(a,s,c);case 4:return it(s,s.stateNode.containerInfo),p=s.pendingProps,a===null?s.child=Ks(s,null,p,c):On(a,s,p,c),s.child;case 11:return WA(a,s,s.type,s.pendingProps,c);case 7:return On(a,s,s.pendingProps,c),s.child;case 8:return On(a,s,s.pendingProps.children,c),s.child;case 12:return On(a,s,s.pendingProps.children,c),s.child;case 10:return p=s.pendingProps,Pa(s,s.type,p.value),On(a,s,p.children,c),s.child;case 9:return b=s.type._context,p=s.pendingProps.children,js(s),b=kn(b),p=p(b),s.flags|=1,On(a,s,p,c),s.child;case 14:return JA(a,s,s.type,s.pendingProps,c);case 15:return XA(a,s,s.type,s.pendingProps,c);case 19:return a1(a,s,c);case 31:return U5(a,s,c);case 22:return QA(a,s,c,s.pendingProps);case 24:return js(s),p=kn(tn),a===null?(b=Tv(),b===null&&(b=xt,x=Ev(),b.pooledCache=x,x.refCount++,x!==null&&(b.pooledCacheLanes|=c),b=x),s.memoizedState={parent:p,cache:b},wv(s),Pa(s,tn,b)):((a.lanes&c)!==0&&(Av(a,s),rf(s,null,null,c),nf()),b=a.memoizedState,x=s.memoizedState,b.parent!==p?(b={parent:p,cache:p},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),Pa(s,tn,p)):(p=x.cache,Pa(s,tn,p),p!==b.cache&&bv(s,[tn],c,!0))),On(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function No(a){a.flags|=4}function s0(a,s,c,p,b){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(k1())a.flags|=8192;else throw $s=jh,Sv}else a.flags&=-16777217}function l1(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!TC(s))if(k1())a.flags|=8192;else throw $s=jh,Sv}function ap(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?dh():536870912,a.lanes|=s,cu|=s)}function cf(a,s){if(!tt)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Ct(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,p=0;if(s)for(var b=a.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=p,a.childLanes=c,s}function z5(a,s,c){var p=s.pendingProps;switch(mv(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(s),null;case 1:return Ct(s),null;case 3:return c=s.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),wo(tn),ce(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Xl(s)?No(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,yv())),Ct(s),null;case 26:var b=s.type,x=s.memoizedState;return a===null?(No(s),x!==null?(Ct(s),l1(s,x)):(Ct(s),s0(s,b,null,p,c))):x?x!==a.memoizedState?(No(s),Ct(s),l1(s,x)):(Ct(s),s.flags&=-16777217):(a=a.memoizedProps,a!==p&&No(s),Ct(s),s0(s,b,a,p,c)),null;case 27:if(ue(s),c=Re.current,b=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&No(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return Ct(s),null}a=_e.current,Xl(s)?Bw(s):(a=mC(b,p,c),s.stateNode=a,No(s))}return Ct(s),null;case 5:if(ue(s),b=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&No(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return Ct(s),null}if(x=_e.current,Xl(s))Bw(s);else{var I=Ep(Re.current);switch(x){case 1:x=I.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:x=I.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":x=I.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":x=I.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":x=I.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof p.is=="string"?I.createElement("select",{is:p.is}):I.createElement("select"),p.multiple?x.multiple=!0:p.size&&(x.size=p.size);break;default:x=typeof p.is=="string"?I.createElement(b,{is:p.is}):I.createElement(b)}}x[Qt]=s,x[bn]=p;e:for(I=s.child;I!==null;){if(I.tag===5||I.tag===6)x.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===s)break e;for(;I.sibling===null;){if(I.return===null||I.return===s)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}s.stateNode=x;e:switch(Ln(x,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&No(s)}}return Ct(s),s0(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==p&&No(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(a=Re.current,Xl(s)){if(a=s.stateNode,c=s.memoizedProps,p=null,b=Dn,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}a[Qt]=s,a=!!(a.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||iC(a.nodeValue,c)),a||Ra(s,!0)}else a=Ep(a).createTextNode(p),a[Qt]=s,s.stateNode=a}return Ct(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(p=Xl(s),c!==null){if(a===null){if(!p)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Qt]=s}else Bs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ct(s),a=!1}else c=yv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(Cr(s),s):(Cr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Ct(s),null;case 13:if(p=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=Xl(s),p!==null&&p.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[Qt]=s}else Bs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ct(s),b=!1}else b=yv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?(Cr(s),s):(Cr(s),null)}return Cr(s),(s.flags&128)!==0?(s.lanes=c,s):(c=p!==null,a=a!==null&&a.memoizedState!==null,c&&(p=s.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),x=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(x=p.memoizedState.cachePool.pool),x!==b&&(p.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),ap(s,s.updateQueue),Ct(s),null);case 4:return ce(),a===null&&N0(s.stateNode.containerInfo),Ct(s),null;case 10:return wo(s.type),Ct(s),null;case 19:if(te(Gt),p=s.memoizedState,p===null)return Ct(s),null;if(b=(s.flags&128)!==0,x=p.rendering,x===null)if(b)cf(p,!1);else{if(Ft!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(x=Kh(a),x!==null){for(s.flags|=128,cf(p,!1),a=x.updateQueue,s.updateQueue=a,ap(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)Lw(c,a),c=c.sibling;return pe(Gt,Gt.current&1|2),tt&&To(s,p.treeForkCount),s.child}a=a.sibling}p.tail!==null&&_n()>fp&&(s.flags|=128,b=!0,cf(p,!1),s.lanes=4194304)}else{if(!b)if(a=Kh(x),a!==null){if(s.flags|=128,b=!0,a=a.updateQueue,s.updateQueue=a,ap(s,a),cf(p,!0),p.tail===null&&p.tailMode==="hidden"&&!x.alternate&&!tt)return Ct(s),null}else 2*_n()-p.renderingStartTime>fp&&c!==536870912&&(s.flags|=128,b=!0,cf(p,!1),s.lanes=4194304);p.isBackwards?(x.sibling=s.child,s.child=x):(a=p.last,a!==null?a.sibling=x:s.child=x,p.last=x)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=_n(),a.sibling=null,c=Gt.current,pe(Gt,b?c&1|2:c&1),tt&&To(s,p.treeForkCount),a):(Ct(s),null);case 22:case 23:return Cr(s),Rv(),p=s.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(c&536870912)!==0&&(s.flags&128)===0&&(Ct(s),s.subtreeFlags&6&&(s.flags|=8192)):Ct(s),c=s.updateQueue,c!==null&&ap(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==c&&(s.flags|=2048),a!==null&&te(Hs),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),wo(tn),Ct(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function q5(a,s){switch(mv(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return wo(tn),ce(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return ue(s),null;case 31:if(s.memoizedState!==null){if(Cr(s),s.alternate===null)throw Error(r(340));Bs()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Cr(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Bs()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return te(Gt),null;case 4:return ce(),null;case 10:return wo(s.type),null;case 22:case 23:return Cr(s),Rv(),a!==null&&te(Hs),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return wo(tn),null;case 25:return null;default:return null}}function u1(a,s){switch(mv(s),s.tag){case 3:wo(tn),ce();break;case 26:case 27:case 5:ue(s);break;case 4:ce();break;case 31:s.memoizedState!==null&&Cr(s);break;case 13:Cr(s);break;case 19:te(Gt);break;case 10:wo(s.type);break;case 22:case 23:Cr(s),Rv(),a!==null&&te(Hs);break;case 24:wo(tn)}}function ff(a,s){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var b=p.next;c=b;do{if((c.tag&a)===a){p=void 0;var x=c.create,I=c.inst;p=x(),I.destroy=p}c=c.next}while(c!==b)}}catch(V){pt(s,s.return,V)}}function Ua(a,s,c){try{var p=s.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var x=b.next;p=x;do{if((p.tag&a)===a){var I=p.inst,V=I.destroy;if(V!==void 0){I.destroy=void 0,b=s;var Y=c,ee=V;try{ee()}catch(fe){pt(b,Y,fe)}}}p=p.next}while(p!==x)}}catch(fe){pt(s,s.return,fe)}}function c1(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{eA(s,c)}catch(p){pt(a,a.return,p)}}}function f1(a,s,c){c.props=Ws(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(p){pt(a,s,p)}}function df(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof c=="function"?a.refCleanup=c(p):c.current=p}}catch(b){pt(a,s,b)}}function to(a,s){var c=a.ref,p=a.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(b){pt(a,s,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){pt(a,s,b)}else c.current=null}function d1(a){var s=a.type,c=a.memoizedProps,p=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(b){pt(a,a.return,b)}}function l0(a,s,c){try{var p=a.stateNode;lz(p,a.type,c,s),p[bn]=s}catch(b){pt(a,a.return,b)}}function h1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ha(a.type)||a.tag===4}function u0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||h1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ha(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function c0(a,s,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=pi));else if(p!==4&&(p===27&&Ha(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(c0(a,s,c),a=a.sibling;a!==null;)c0(a,s,c),a=a.sibling}function sp(a,s,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(p!==4&&(p===27&&Ha(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(sp(a,s,c),a=a.sibling;a!==null;)sp(a,s,c),a=a.sibling}function p1(a){var s=a.stateNode,c=a.memoizedProps;try{for(var p=a.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);Ln(s,p,c),s[Qt]=a,s[bn]=c}catch(x){pt(a,a.return,x)}}var Ro=!1,on=!1,f0=!1,m1=typeof WeakSet=="function"?WeakSet:Set,xn=null;function B5(a,s){if(a=a.containerInfo,M0=Ip,a=Cw(a),iv(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var b=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var I=0,V=-1,Y=-1,ee=0,fe=0,me=a,re=null;t:for(;;){for(var oe;me!==c||b!==0&&me.nodeType!==3||(V=I+b),me!==x||p!==0&&me.nodeType!==3||(Y=I+p),me.nodeType===3&&(I+=me.nodeValue.length),(oe=me.firstChild)!==null;)re=me,me=oe;for(;;){if(me===a)break t;if(re===c&&++ee===b&&(V=I),re===x&&++fe===p&&(Y=I),(oe=me.nextSibling)!==null)break;me=re,re=me.parentNode}me=oe}c=V===-1||Y===-1?null:{start:V,end:Y}}else c=null}c=c||{start:0,end:0}}else c=null;for(D0={focusedElem:a,selectionRange:c},Ip=!1,xn=s;xn!==null;)if(s=xn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,xn=a;else for(;xn!==null;){switch(s=xn,x=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)b=a[c],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,c=s,b=x.memoizedProps,x=x.memoizedState,p=c.stateNode;try{var Ce=Ws(c.type,b);a=p.getSnapshotBeforeUpdate(Ce,x),p.__reactInternalSnapshotBeforeUpdate=a}catch(Le){pt(c,c.return,Le)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)L0(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":L0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,xn=a;break}xn=s.return}}function g1(a,s,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:Mo(a,c),p&4&&ff(5,c);break;case 1:if(Mo(a,c),p&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(I){pt(c,c.return,I)}else{var b=Ws(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(b,s,a.__reactInternalSnapshotBeforeUpdate)}catch(I){pt(c,c.return,I)}}p&64&&c1(c),p&512&&df(c,c.return);break;case 3:if(Mo(a,c),p&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{eA(a,s)}catch(I){pt(c,c.return,I)}}break;case 27:s===null&&p&4&&p1(c);case 26:case 5:Mo(a,c),s===null&&p&4&&d1(c),p&512&&df(c,c.return);break;case 12:Mo(a,c);break;case 31:Mo(a,c),p&4&&_1(a,c);break;case 13:Mo(a,c),p&4&&b1(a,c),p&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=J5.bind(null,c),gz(a,c))));break;case 22:if(p=c.memoizedState!==null||Ro,!p){s=s!==null&&s.memoizedState!==null||on,b=Ro;var x=on;Ro=p,(on=s)&&!x?Do(a,c,(c.subtreeFlags&8772)!==0):Mo(a,c),Ro=b,on=x}break;case 30:break;default:Mo(a,c)}}function y1(a){var s=a.alternate;s!==null&&(a.alternate=null,y1(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&kl(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var kt=null,lr=!1;function Po(a,s,c){for(c=c.child;c!==null;)v1(a,s,c),c=c.sibling}function v1(a,s,c){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(ci,c)}catch{}switch(c.tag){case 26:on||to(c,s),Po(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:on||to(c,s);var p=kt,b=lr;Ha(c.type)&&(kt=c.stateNode,lr=!1),Po(a,s,c),Ef(c.stateNode),kt=p,lr=b;break;case 5:on||to(c,s);case 6:if(p=kt,b=lr,kt=null,Po(a,s,c),kt=p,lr=b,kt!==null)if(lr)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(c.stateNode)}catch(x){pt(c,s,x)}else try{kt.removeChild(c.stateNode)}catch(x){pt(c,s,x)}break;case 18:kt!==null&&(lr?(a=kt,cC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),vu(a)):cC(kt,c.stateNode));break;case 4:p=kt,b=lr,kt=c.stateNode.containerInfo,lr=!0,Po(a,s,c),kt=p,lr=b;break;case 0:case 11:case 14:case 15:Ua(2,c,s),on||Ua(4,c,s),Po(a,s,c);break;case 1:on||(to(c,s),p=c.stateNode,typeof p.componentWillUnmount=="function"&&f1(c,s,p)),Po(a,s,c);break;case 21:Po(a,s,c);break;case 22:on=(p=on)||c.memoizedState!==null,Po(a,s,c),on=p;break;default:Po(a,s,c)}}function _1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{vu(a)}catch(c){pt(s,s.return,c)}}}function b1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{vu(a)}catch(c){pt(s,s.return,c)}}function F5(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new m1),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new m1),s;default:throw Error(r(435,a.tag))}}function lp(a,s){var c=F5(a);s.forEach(function(p){if(!c.has(p)){c.add(p);var b=X5.bind(null,a,p);p.then(b,b)}})}function ur(a,s){var c=s.deletions;if(c!==null)for(var p=0;p<c.length;p++){var b=c[p],x=a,I=s,V=I;e:for(;V!==null;){switch(V.tag){case 27:if(Ha(V.type)){kt=V.stateNode,lr=!1;break e}break;case 5:kt=V.stateNode,lr=!1;break e;case 3:case 4:kt=V.stateNode.containerInfo,lr=!0;break e}V=V.return}if(kt===null)throw Error(r(160));v1(x,I,b),kt=null,lr=!1,x=b.alternate,x!==null&&(x.return=null),b.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)E1(s,a),s=s.sibling}var bi=null;function E1(a,s){var c=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ur(s,a),cr(a),p&4&&(Ua(3,a,a.return),ff(3,a),Ua(5,a,a.return));break;case 1:ur(s,a),cr(a),p&512&&(on||c===null||to(c,c.return)),p&64&&Ro&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var b=bi;if(ur(s,a),cr(a),p&512&&(on||c===null||to(c,c.return)),p&4){var x=c!==null?c.memoizedState:null;if(p=a.memoizedState,c===null)if(p===null)if(a.stateNode===null){e:{p=a.type,c=a.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":x=b.getElementsByTagName("title")[0],(!x||x[Bi]||x[Qt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=b.createElement(p),b.head.insertBefore(x,b.querySelector("head > title"))),Ln(x,p,c),x[Qt]=a,Zt(x),p=x;break e;case"link":var I=EC("link","href",b).get(p+(c.href||""));if(I){for(var V=0;V<I.length;V++)if(x=I[V],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){I.splice(V,1);break t}}x=b.createElement(p),Ln(x,p,c),b.head.appendChild(x);break;case"meta":if(I=EC("meta","content",b).get(p+(c.content||""))){for(V=0;V<I.length;V++)if(x=I[V],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){I.splice(V,1);break t}}x=b.createElement(p),Ln(x,p,c),b.head.appendChild(x);break;default:throw Error(r(468,p))}x[Qt]=a,Zt(x),p=x}a.stateNode=p}else xC(b,a.type,a.stateNode);else a.stateNode=bC(b,p,a.memoizedProps);else x!==p?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,p===null?xC(b,a.type,a.stateNode):bC(b,p,a.memoizedProps)):p===null&&a.stateNode!==null&&l0(a,a.memoizedProps,c.memoizedProps)}break;case 27:ur(s,a),cr(a),p&512&&(on||c===null||to(c,c.return)),c!==null&&p&4&&l0(a,a.memoizedProps,c.memoizedProps);break;case 5:if(ur(s,a),cr(a),p&512&&(on||c===null||to(c,c.return)),a.flags&32){b=a.stateNode;try{sr(b,"")}catch(Ce){pt(a,a.return,Ce)}}p&4&&a.stateNode!=null&&(b=a.memoizedProps,l0(a,b,c!==null?c.memoizedProps:b)),p&1024&&(f0=!0);break;case 6:if(ur(s,a),cr(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,c=a.stateNode;try{c.nodeValue=p}catch(Ce){pt(a,a.return,Ce)}}break;case 3:if(Sp=null,b=bi,bi=xp(s.containerInfo),ur(s,a),bi=b,cr(a),p&4&&c!==null&&c.memoizedState.isDehydrated)try{vu(s.containerInfo)}catch(Ce){pt(a,a.return,Ce)}f0&&(f0=!1,x1(a));break;case 4:p=bi,bi=xp(a.stateNode.containerInfo),ur(s,a),cr(a),bi=p;break;case 12:ur(s,a),cr(a);break;case 31:ur(s,a),cr(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,lp(a,p)));break;case 13:ur(s,a),cr(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(cp=_n()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,lp(a,p)));break;case 22:b=a.memoizedState!==null;var Y=c!==null&&c.memoizedState!==null,ee=Ro,fe=on;if(Ro=ee||b,on=fe||Y,ur(s,a),on=fe,Ro=ee,cr(a),p&8192)e:for(s=a.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(c===null||Y||Ro||on||Js(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){Y=c=s;try{if(x=Y.stateNode,b)I=x.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{V=Y.stateNode;var me=Y.memoizedProps.style,re=me!=null&&me.hasOwnProperty("display")?me.display:null;V.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Ce){pt(Y,Y.return,Ce)}}}else if(s.tag===6){if(c===null){Y=s;try{Y.stateNode.nodeValue=b?"":Y.memoizedProps}catch(Ce){pt(Y,Y.return,Ce)}}}else if(s.tag===18){if(c===null){Y=s;try{var oe=Y.stateNode;b?fC(oe,!0):fC(Y.stateNode,!1)}catch(Ce){pt(Y,Y.return,Ce)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=a.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,lp(a,c))));break;case 19:ur(s,a),cr(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,lp(a,p)));break;case 30:break;case 21:break;default:ur(s,a),cr(a)}}function cr(a){var s=a.flags;if(s&2){try{for(var c,p=a.return;p!==null;){if(h1(p)){c=p;break}p=p.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var b=c.stateNode,x=u0(a);sp(a,x,b);break;case 5:var I=c.stateNode;c.flags&32&&(sr(I,""),c.flags&=-33);var V=u0(a);sp(a,V,I);break;case 3:case 4:var Y=c.stateNode.containerInfo,ee=u0(a);c0(a,ee,Y);break;default:throw Error(r(161))}}catch(fe){pt(a,a.return,fe)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function x1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;x1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Mo(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)g1(a,s.alternate,s),s=s.sibling}function Js(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Ua(4,s,s.return),Js(s);break;case 1:to(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&f1(s,s.return,c),Js(s);break;case 27:Ef(s.stateNode);case 26:case 5:to(s,s.return),Js(s);break;case 22:s.memoizedState===null&&Js(s);break;case 30:Js(s);break;default:Js(s)}a=a.sibling}}function Do(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,b=a,x=s,I=x.flags;switch(x.tag){case 0:case 11:case 15:Do(b,x,c),ff(4,x);break;case 1:if(Do(b,x,c),p=x,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ee){pt(p,p.return,ee)}if(p=x,b=p.updateQueue,b!==null){var V=p.stateNode;try{var Y=b.shared.hiddenCallbacks;if(Y!==null)for(b.shared.hiddenCallbacks=null,b=0;b<Y.length;b++)Zw(Y[b],V)}catch(ee){pt(p,p.return,ee)}}c&&I&64&&c1(x),df(x,x.return);break;case 27:p1(x);case 26:case 5:Do(b,x,c),c&&p===null&&I&4&&d1(x),df(x,x.return);break;case 12:Do(b,x,c);break;case 31:Do(b,x,c),c&&I&4&&_1(b,x);break;case 13:Do(b,x,c),c&&I&4&&b1(b,x);break;case 22:x.memoizedState===null&&Do(b,x,c),df(x,x.return);break;case 30:break;default:Do(b,x,c)}s=s.sibling}}function d0(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Xc(c))}function h0(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Xc(a))}function Ei(a,s,c,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)T1(a,s,c,p),s=s.sibling}function T1(a,s,c,p){var b=s.flags;switch(s.tag){case 0:case 11:case 15:Ei(a,s,c,p),b&2048&&ff(9,s);break;case 1:Ei(a,s,c,p);break;case 3:Ei(a,s,c,p),b&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Xc(a)));break;case 12:if(b&2048){Ei(a,s,c,p),a=s.stateNode;try{var x=s.memoizedProps,I=x.id,V=x.onPostCommit;typeof V=="function"&&V(I,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Y){pt(s,s.return,Y)}}else Ei(a,s,c,p);break;case 31:Ei(a,s,c,p);break;case 13:Ei(a,s,c,p);break;case 23:break;case 22:x=s.stateNode,I=s.alternate,s.memoizedState!==null?x._visibility&2?Ei(a,s,c,p):hf(a,s):x._visibility&2?Ei(a,s,c,p):(x._visibility|=2,su(a,s,c,p,(s.subtreeFlags&10256)!==0||!1)),b&2048&&d0(I,s);break;case 24:Ei(a,s,c,p),b&2048&&h0(s.alternate,s);break;default:Ei(a,s,c,p)}}function su(a,s,c,p,b){for(b=b&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var x=a,I=s,V=c,Y=p,ee=I.flags;switch(I.tag){case 0:case 11:case 15:su(x,I,V,Y,b),ff(8,I);break;case 23:break;case 22:var fe=I.stateNode;I.memoizedState!==null?fe._visibility&2?su(x,I,V,Y,b):hf(x,I):(fe._visibility|=2,su(x,I,V,Y,b)),b&&ee&2048&&d0(I.alternate,I);break;case 24:su(x,I,V,Y,b),b&&ee&2048&&h0(I.alternate,I);break;default:su(x,I,V,Y,b)}s=s.sibling}}function hf(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,p=s,b=p.flags;switch(p.tag){case 22:hf(c,p),b&2048&&d0(p.alternate,p);break;case 24:hf(c,p),b&2048&&h0(p.alternate,p);break;default:hf(c,p)}s=s.sibling}}var pf=8192;function lu(a,s,c){if(a.subtreeFlags&pf)for(a=a.child;a!==null;)S1(a,s,c),a=a.sibling}function S1(a,s,c){switch(a.tag){case 26:lu(a,s,c),a.flags&pf&&a.memoizedState!==null&&Iz(c,bi,a.memoizedState,a.memoizedProps);break;case 5:lu(a,s,c);break;case 3:case 4:var p=bi;bi=xp(a.stateNode.containerInfo),lu(a,s,c),bi=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=pf,pf=16777216,lu(a,s,c),pf=p):lu(a,s,c));break;default:lu(a,s,c)}}function w1(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function mf(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];xn=p,C1(p,a)}w1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)A1(a),a=a.sibling}function A1(a){switch(a.tag){case 0:case 11:case 15:mf(a),a.flags&2048&&Ua(9,a,a.return);break;case 3:mf(a);break;case 12:mf(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,up(a)):mf(a);break;default:mf(a)}}function up(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];xn=p,C1(p,a)}w1(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Ua(8,s,s.return),up(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,up(s));break;default:up(s)}a=a.sibling}}function C1(a,s){for(;xn!==null;){var c=xn;switch(c.tag){case 0:case 11:case 15:Ua(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Xc(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,xn=p;else e:for(c=a;xn!==null;){p=xn;var b=p.sibling,x=p.return;if(y1(p),p===c){xn=null;break e}if(b!==null){b.return=x,xn=b;break e}xn=x}}}var j5={getCacheForType:function(a){var s=kn(tn),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return kn(tn).controller.signal}},H5=typeof WeakMap=="function"?WeakMap:Map,ct=0,xt=null,Ke=null,We=0,ht=0,Ir=null,Va=!1,uu=!1,p0=!1,ko=0,Ft=0,za=0,Xs=0,m0=0,Nr=0,cu=0,gf=null,fr=null,g0=!1,cp=0,I1=0,fp=1/0,dp=null,qa=null,dn=0,Ba=null,fu=null,Oo=0,y0=0,v0=null,N1=null,yf=0,_0=null;function Rr(){return(ct&2)!==0&&We!==0?We&-We:K.T!==null?w0():hh()}function R1(){if(Nr===0)if((We&536870912)===0||tt){var a=Ss;Ss<<=1,(Ss&3932160)===0&&(Ss=262144),Nr=a}else Nr=536870912;return a=Ar.current,a!==null&&(a.flags|=32),Nr}function dr(a,s,c){(a===xt&&(ht===2||ht===9)||a.cancelPendingCommit!==null)&&(du(a,0),Fa(a,We,Nr,!1)),ws(a,c),((ct&2)===0||a!==xt)&&(a===xt&&((ct&2)===0&&(Xs|=c),Ft===4&&Fa(a,We,Nr,!1)),no(a))}function P1(a,s,c){if((ct&6)!==0)throw Error(r(327));var p=!c&&(s&127)===0&&(s&a.expiredLanes)===0||fi(a,s),b=p?K5(a,s):E0(a,s,!0),x=p;do{if(b===0){uu&&!p&&Fa(a,s,0,!1);break}else{if(c=a.current.alternate,x&&!G5(c)){b=E0(a,s,!1),x=!1;continue}if(b===2){if(x=s,a.errorRecoveryDisabledLanes&x)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){s=I;e:{var V=a;b=gf;var Y=V.current.memoizedState.isDehydrated;if(Y&&(du(V,I).flags|=256),I=E0(V,I,!1),I!==2){if(p0&&!Y){V.errorRecoveryDisabledLanes|=x,Xs|=x,b=4;break e}x=fr,fr=b,x!==null&&(fr===null?fr=x:fr.push.apply(fr,x))}b=I}if(x=!1,b!==2)continue}}if(b===1){du(a,0),Fa(a,s,0,!0);break}e:{switch(p=a,x=b,x){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Fa(p,s,Nr,!Va);break e;case 2:fr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(b=cp+300-_n(),10<b)){if(Fa(p,s,Nr,!Va),Vi(p,0,!0)!==0)break e;Oo=s,p.timeoutHandle=lC(M1.bind(null,p,c,fr,dp,g0,s,Nr,Xs,cu,Va,x,"Throttled",-0,0),b);break e}M1(p,c,fr,dp,g0,s,Nr,Xs,cu,Va,x,null,-0,0)}}break}while(!0);no(a)}function M1(a,s,c,p,b,x,I,V,Y,ee,fe,me,re,oe){if(a.timeoutHandle=-1,me=s.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},S1(s,x,me);var Ce=(x&62914560)===x?cp-_n():(x&4194048)===x?I1-_n():0;if(Ce=Nz(me,Ce),Ce!==null){Oo=x,a.cancelPendingCommit=Ce(q1.bind(null,a,s,x,c,p,b,I,V,Y,fe,me,null,re,oe)),Fa(a,x,I,!ee);return}}q1(a,s,x,c,p,b,I,V,Y)}function G5(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var b=c[p],x=b.getSnapshot;b=b.value;try{if(!Sr(x(),b))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fa(a,s,c,p){s&=~m0,s&=~Xs,a.suspendedLanes|=s,a.pingedLanes&=~s,p&&(a.warmLanes|=s),p=a.expirationTimes;for(var b=s;0<b;){var x=31-jt(b),I=1<<x;p[x]=-1,b&=~I}c!==0&&As(a,c,s)}function hp(){return(ct&6)===0?(vf(0),!1):!0}function b0(){if(Ke!==null){if(ht===0)var a=Ke.return;else a=Ke,So=Fs=null,Lv(a),nu=null,Zc=0,a=Ke;for(;a!==null;)u1(a.alternate,a),a=a.return;Ke=null}}function du(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,fz(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Oo=0,b0(),xt=a,Ke=c=xo(a.current,null),We=s,ht=0,Ir=null,Va=!1,uu=fi(a,s),p0=!1,cu=Nr=m0=Xs=za=Ft=0,fr=gf=null,g0=!1,(s&8)!==0&&(s|=s&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=s;0<p;){var b=31-jt(p),x=1<<b;s|=a[b],p&=~x}return ko=s,kh(),c}function D1(a,s){Ge=null,K.H=lf,s===tu||s===Fh?(s=Ww(),ht=3):s===Sv?(s=Ww(),ht=4):ht=s===Qv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ir=s,Ke===null&&(Ft=1,np(a,Hr(s,a.current)))}function k1(){var a=Ar.current;return a===null?!0:(We&4194048)===We?Yr===null:(We&62914560)===We||(We&536870912)!==0?a===Yr:!1}function O1(){var a=K.H;return K.H=lf,a===null?lf:a}function L1(){var a=K.A;return K.A=j5,a}function pp(){Ft=4,Va||(We&4194048)!==We&&Ar.current!==null||(uu=!0),(za&134217727)===0&&(Xs&134217727)===0||xt===null||Fa(xt,We,Nr,!1)}function E0(a,s,c){var p=ct;ct|=2;var b=O1(),x=L1();(xt!==a||We!==s)&&(dp=null,du(a,s)),s=!1;var I=Ft;e:do try{if(ht!==0&&Ke!==null){var V=Ke,Y=Ir;switch(ht){case 8:b0(),I=6;break e;case 3:case 2:case 9:case 6:Ar.current===null&&(s=!0);var ee=ht;if(ht=0,Ir=null,hu(a,V,Y,ee),c&&uu){I=0;break e}break;default:ee=ht,ht=0,Ir=null,hu(a,V,Y,ee)}}$5(),I=Ft;break}catch(fe){D1(a,fe)}while(!0);return s&&a.shellSuspendCounter++,So=Fs=null,ct=p,K.H=b,K.A=x,Ke===null&&(xt=null,We=0,kh()),I}function $5(){for(;Ke!==null;)U1(Ke)}function K5(a,s){var c=ct;ct|=2;var p=O1(),b=L1();xt!==a||We!==s?(dp=null,fp=_n()+500,du(a,s)):uu=fi(a,s);e:do try{if(ht!==0&&Ke!==null){s=Ke;var x=Ir;t:switch(ht){case 1:ht=0,Ir=null,hu(a,s,x,1);break;case 2:case 9:if(Kw(x)){ht=0,Ir=null,V1(s);break}s=function(){ht!==2&&ht!==9||xt!==a||(ht=7),no(a)},x.then(s,s);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:Kw(x)?(ht=0,Ir=null,V1(s)):(ht=0,Ir=null,hu(a,s,x,7));break;case 5:var I=null;switch(Ke.tag){case 26:I=Ke.memoizedState;case 5:case 27:var V=Ke;if(I?TC(I):V.stateNode.complete){ht=0,Ir=null;var Y=V.sibling;if(Y!==null)Ke=Y;else{var ee=V.return;ee!==null?(Ke=ee,mp(ee)):Ke=null}break t}}ht=0,Ir=null,hu(a,s,x,5);break;case 6:ht=0,Ir=null,hu(a,s,x,6);break;case 8:b0(),Ft=6;break e;default:throw Error(r(462))}}Y5();break}catch(fe){D1(a,fe)}while(!0);return So=Fs=null,K.H=p,K.A=b,ct=c,Ke!==null?0:(xt=null,We=0,kh(),Ft)}function Y5(){for(;Ke!==null&&!Pl();)U1(Ke)}function U1(a){var s=s1(a.alternate,a,ko);a.memoizedProps=a.pendingProps,s===null?mp(a):Ke=s}function V1(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=t1(c,s,s.pendingProps,s.type,void 0,We);break;case 11:s=t1(c,s,s.pendingProps,s.type.render,s.ref,We);break;case 5:Lv(s);default:u1(c,s),s=Ke=Lw(s,ko),s=s1(c,s,ko)}a.memoizedProps=a.pendingProps,s===null?mp(a):Ke=s}function hu(a,s,c,p){So=Fs=null,Lv(s),nu=null,Zc=0;var b=s.return;try{if(L5(a,b,s,c,We)){Ft=1,np(a,Hr(c,a.current)),Ke=null;return}}catch(x){if(b!==null)throw Ke=b,x;Ft=1,np(a,Hr(c,a.current)),Ke=null;return}s.flags&32768?(tt||p===1?a=!0:uu||(We&536870912)!==0?a=!1:(Va=a=!0,(p===2||p===9||p===3||p===6)&&(p=Ar.current,p!==null&&p.tag===13&&(p.flags|=16384))),z1(s,a)):mp(s)}function mp(a){var s=a;do{if((s.flags&32768)!==0){z1(s,Va);return}a=s.return;var c=z5(s.alternate,s,ko);if(c!==null){Ke=c;return}if(s=s.sibling,s!==null){Ke=s;return}Ke=s=a}while(s!==null);Ft===0&&(Ft=5)}function z1(a,s){do{var c=q5(a.alternate,a);if(c!==null){c.flags&=32767,Ke=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){Ke=a;return}Ke=a=c}while(a!==null);Ft=6,Ke=null}function q1(a,s,c,p,b,x,I,V,Y){a.cancelPendingCommit=null;do gp();while(dn!==0);if((ct&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(x=s.lanes|s.childLanes,x|=uv,ev(a,c,x,I,V,Y),a===xt&&(Ke=xt=null,We=0),fu=s,Ba=a,Oo=c,y0=x,v0=b,N1=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Q5(va,function(){return G1(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=K.T,K.T=null,b=ne.p,ne.p=2,I=ct,ct|=4;try{B5(a,s,c)}finally{ct=I,ne.p=b,K.T=p}}dn=1,B1(),F1(),j1()}}function B1(){if(dn===1){dn=0;var a=Ba,s=fu,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=K.T,K.T=null;var p=ne.p;ne.p=2;var b=ct;ct|=4;try{E1(s,a);var x=D0,I=Cw(a.containerInfo),V=x.focusedElem,Y=x.selectionRange;if(I!==V&&V&&V.ownerDocument&&Aw(V.ownerDocument.documentElement,V)){if(Y!==null&&iv(V)){var ee=Y.start,fe=Y.end;if(fe===void 0&&(fe=ee),"selectionStart"in V)V.selectionStart=ee,V.selectionEnd=Math.min(fe,V.value.length);else{var me=V.ownerDocument||document,re=me&&me.defaultView||window;if(re.getSelection){var oe=re.getSelection(),Ce=V.textContent.length,Le=Math.min(Y.start,Ce),bt=Y.end===void 0?Le:Math.min(Y.end,Ce);!oe.extend&&Le>bt&&(I=bt,bt=Le,Le=I);var J=ww(V,Le),W=ww(V,bt);if(J&&W&&(oe.rangeCount!==1||oe.anchorNode!==J.node||oe.anchorOffset!==J.offset||oe.focusNode!==W.node||oe.focusOffset!==W.offset)){var Z=me.createRange();Z.setStart(J.node,J.offset),oe.removeAllRanges(),Le>bt?(oe.addRange(Z),oe.extend(W.node,W.offset)):(Z.setEnd(W.node,W.offset),oe.addRange(Z))}}}}for(me=[],oe=V;oe=oe.parentNode;)oe.nodeType===1&&me.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<me.length;V++){var he=me[V];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Ip=!!M0,D0=M0=null}finally{ct=b,ne.p=p,K.T=c}}a.current=s,dn=2}}function F1(){if(dn===2){dn=0;var a=Ba,s=fu,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=K.T,K.T=null;var p=ne.p;ne.p=2;var b=ct;ct|=4;try{g1(a,s.alternate,s)}finally{ct=b,ne.p=p,K.T=c}}dn=3}}function j1(){if(dn===4||dn===3){dn=0,Ts();var a=Ba,s=fu,c=Oo,p=N1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?dn=5:(dn=0,fu=Ba=null,H1(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(qa=null),vo(c),s=s.stateNode,Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(ci,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=K.T,b=ne.p,ne.p=2,K.T=null;try{for(var x=a.onRecoverableError,I=0;I<p.length;I++){var V=p[I];x(V.value,{componentStack:V.stack})}}finally{K.T=s,ne.p=b}}(Oo&3)!==0&&gp(),no(a),b=a.pendingLanes,(c&261930)!==0&&(b&42)!==0?a===_0?yf++:(yf=0,_0=a):yf=0,vf(0)}}function H1(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Xc(s)))}function gp(){return B1(),F1(),j1(),G1()}function G1(){if(dn!==5)return!1;var a=Ba,s=y0;y0=0;var c=vo(Oo),p=K.T,b=ne.p;try{ne.p=32>c?32:c,K.T=null,c=v0,v0=null;var x=Ba,I=Oo;if(dn=0,fu=Ba=null,Oo=0,(ct&6)!==0)throw Error(r(331));var V=ct;if(ct|=4,A1(x.current),T1(x,x.current,I,c),ct=V,vf(0,!1),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(ci,x)}catch{}return!0}finally{ne.p=b,K.T=p,H1(a,s)}}function $1(a,s,c){s=Hr(c,s),s=Xv(a.stateNode,s,2),a=ka(a,s,2),a!==null&&(ws(a,2),no(a))}function pt(a,s,c){if(a.tag===3)$1(a,a,c);else for(;s!==null;){if(s.tag===3){$1(s,a,c);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(qa===null||!qa.has(p))){a=Hr(c,a),c=KA(2),p=ka(s,c,2),p!==null&&(YA(c,p,s,a),ws(p,2),no(p));break}}s=s.return}}function x0(a,s,c){var p=a.pingCache;if(p===null){p=a.pingCache=new H5;var b=new Set;p.set(s,b)}else b=p.get(s),b===void 0&&(b=new Set,p.set(s,b));b.has(c)||(p0=!0,b.add(c),a=W5.bind(null,a,s,c),s.then(a,a))}function W5(a,s,c){var p=a.pingCache;p!==null&&p.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,xt===a&&(We&c)===c&&(Ft===4||Ft===3&&(We&62914560)===We&&300>_n()-cp?(ct&2)===0&&du(a,0):m0|=c,cu===We&&(cu=0)),no(a)}function K1(a,s){s===0&&(s=dh()),a=zs(a,s),a!==null&&(ws(a,s),no(a))}function J5(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),K1(a,c)}function X5(a,s){var c=0;switch(a.tag){case 31:case 13:var p=a.stateNode,b=a.memoizedState;b!==null&&(c=b.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),K1(a,c)}function Q5(a,s){return qt(a,s)}var yp=null,pu=null,T0=!1,vp=!1,S0=!1,ja=0;function no(a){a!==pu&&a.next===null&&(pu===null?yp=pu=a:pu=pu.next=a),vp=!0,T0||(T0=!0,ez())}function vf(a,s){if(!S0&&vp){S0=!0;do for(var c=!1,p=yp;p!==null;){if(a!==0){var b=p.pendingLanes;if(b===0)var x=0;else{var I=p.suspendedLanes,V=p.pingedLanes;x=(1<<31-jt(42|a)+1)-1,x&=b&~(I&~V),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,X1(p,x))}else x=We,x=Vi(p,p===xt?x:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(x&3)===0||fi(p,x)||(c=!0,X1(p,x));p=p.next}while(c);S0=!1}}function Z5(){Y1()}function Y1(){vp=T0=!1;var a=0;ja!==0&&cz()&&(a=ja);for(var s=_n(),c=null,p=yp;p!==null;){var b=p.next,x=W1(p,s);x===0?(p.next=null,c===null?yp=b:c.next=b,b===null&&(pu=c)):(c=p,(a!==0||(x&3)!==0)&&(vp=!0)),p=b}dn!==0&&dn!==5||vf(a),ja!==0&&(ja=0)}function W1(a,s){for(var c=a.suspendedLanes,p=a.pingedLanes,b=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var I=31-jt(x),V=1<<I,Y=b[I];Y===-1?((V&c)===0||(V&p)!==0)&&(b[I]=Zy(V,s)):Y<=s&&(a.expiredLanes|=V),x&=~V}if(s=xt,c=We,c=Vi(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,c===0||a===s&&(ht===2||ht===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&ui(p),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||fi(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(p!==null&&ui(p),vo(c)){case 2:case 8:c=Cc;break;case 32:c=va;break;case 268435456:c=sh;break;default:c=va}return p=J1.bind(null,a),c=qt(c,p),a.callbackPriority=s,a.callbackNode=c,s}return p!==null&&p!==null&&ui(p),a.callbackPriority=2,a.callbackNode=null,2}function J1(a,s){if(dn!==0&&dn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(gp()&&a.callbackNode!==c)return null;var p=We;return p=Vi(a,a===xt?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(P1(a,p,s),W1(a,_n()),a.callbackNode!=null&&a.callbackNode===c?J1.bind(null,a):null)}function X1(a,s){if(gp())return null;P1(a,s,!0)}function ez(){dz(function(){(ct&6)!==0?qt(Er,Z5):Y1()})}function w0(){if(ja===0){var a=Zl;a===0&&(a=Li,Li<<=1,(Li&261888)===0&&(Li=256)),ja=a}return ja}function Q1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Vl(""+a)}function Z1(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function tz(a,s,c,p,b){if(s==="submit"&&c&&c.stateNode===b){var x=Q1((b[bn]||null).action),I=p.submitter;I&&(s=(s=I[bn]||null)?Q1(s.formAction):I.getAttribute("formAction"),s!==null&&(x=s,I=null));var V=new Wi("action","action",null,p,b);a.push({event:V,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ja!==0){var Y=I?Z1(b,I):new FormData(b);Gv(c,{pending:!0,data:Y,method:b.method,action:x},null,Y)}}else typeof x=="function"&&(V.preventDefault(),Y=I?Z1(b,I):new FormData(b),Gv(c,{pending:!0,data:Y,method:b.method,action:x},x,Y))},currentTarget:b}]})}}for(var A0=0;A0<lv.length;A0++){var C0=lv[A0],nz=C0.toLowerCase(),rz=C0[0].toUpperCase()+C0.slice(1);_i(nz,"on"+rz)}_i(Rw,"onAnimationEnd"),_i(Pw,"onAnimationIteration"),_i(Mw,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(_5,"onTransitionRun"),_i(b5,"onTransitionStart"),_i(E5,"onTransitionCancel"),_i(Dw,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _f="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_f));function eC(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var p=a[c],b=p.event;p=p.listeners;e:{var x=void 0;if(s)for(var I=p.length-1;0<=I;I--){var V=p[I],Y=V.instance,ee=V.currentTarget;if(V=V.listener,Y!==x&&b.isPropagationStopped())break e;x=V,b.currentTarget=ee;try{x(b)}catch(fe){Dh(fe)}b.currentTarget=null,x=Y}else for(I=0;I<p.length;I++){if(V=p[I],Y=V.instance,ee=V.currentTarget,V=V.listener,Y!==x&&b.isPropagationStopped())break e;x=V,b.currentTarget=ee;try{x(b)}catch(fe){Dh(fe)}b.currentTarget=null,x=Y}}}}function Ye(a,s){var c=s[Dl];c===void 0&&(c=s[Dl]=new Set);var p=a+"__bubble";c.has(p)||(tC(s,a,2,!1),c.add(p))}function I0(a,s,c){var p=0;s&&(p|=4),tC(c,a,p,s)}var _p="_reactListening"+Math.random().toString(36).slice(2);function N0(a){if(!a[_p]){a[_p]=!0,Rc.forEach(function(c){c!=="selectionchange"&&(iz.has(c)||I0(c,!1,a),I0(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[_p]||(s[_p]=!0,I0("selectionchange",!1,s))}}function tC(a,s,c,p){switch(RC(s)){case 2:var b=Mz;break;case 8:b=Dz;break;default:b=H0}c=b.bind(null,s,c,a),b=void 0,!Ps||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),p?b!==void 0?a.addEventListener(s,c,{capture:!0,passive:b}):a.addEventListener(s,c,!0):b!==void 0?a.addEventListener(s,c,{passive:b}):a.addEventListener(s,c,!1)}function R0(a,s,c,p,b){var x=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var I=p.tag;if(I===3||I===4){var V=p.stateNode.containerInfo;if(V===b)break;if(I===4)for(I=p.return;I!==null;){var Y=I.tag;if((Y===3||Y===4)&&I.stateNode.containerInfo===b)return;I=I.return}for(;V!==null;){if(I=Fi(V),I===null)return;if(Y=I.tag,Y===5||Y===6||Y===26||Y===27){p=x=I;continue e}V=V.parentNode}}p=p.return}Sa(function(){var ee=x,fe=qr(c),me=[];e:{var re=kw.get(a);if(re!==void 0){var oe=Wi,Ce=a;switch(a){case"keypress":if(Ds(c)===0)break e;case"keydown":case"keyup":oe=Rh;break;case"focusin":Ce="focus",oe=Os;break;case"focusout":Ce="blur",oe=Os;break;case"beforeblur":case"afterblur":oe=Os;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=A;break;case Rw:case Pw:case Mw:oe=Th;break;case Dw:oe=q;break;case"scroll":case"scrollend":oe=Fc;break;case"wheel":oe=ie;break;case"copy":case"cut":case"paste":oe=Sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Eo;break;case"toggle":case"beforetoggle":oe=He}var Le=(s&4)!==0,bt=!Le&&(a==="scroll"||a==="scrollend"),J=Le?re!==null?re+"Capture":null:re;Le=[];for(var W=ee,Z;W!==null;){var he=W;if(Z=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Z===null||J===null||(he=mi(W,J),he!=null&&Le.push(bf(W,he,Z))),bt)break;W=W.return}0<Le.length&&(re=new oe(re,Ce,null,c,fe),me.push({event:re,listeners:Le}))}}if((s&7)===0){e:{if(re=a==="mouseover"||a==="pointerover",oe=a==="mouseout"||a==="pointerout",re&&c!==zc&&(Ce=c.relatedTarget||c.fromElement)&&(Fi(Ce)||Ce[qi]))break e;if((oe||re)&&(re=fe.window===fe?fe:(re=fe.ownerDocument)?re.defaultView||re.parentWindow:window,oe?(Ce=c.relatedTarget||c.toElement,oe=ee,Ce=Ce?Fi(Ce):null,Ce!==null&&(bt=o(Ce),Le=Ce.tag,Ce!==bt||Le!==5&&Le!==27&&Le!==6)&&(Ce=null)):(oe=null,Ce=ee),oe!==Ce)){if(Le=jc,he="onMouseLeave",J="onMouseEnter",W="mouse",(a==="pointerout"||a==="pointerover")&&(Le=Eo,he="onPointerLeave",J="onPointerEnter",W="pointer"),bt=oe==null?re:xr(oe),Z=Ce==null?re:xr(Ce),re=new Le(he,W+"leave",oe,c,fe),re.target=bt,re.relatedTarget=Z,he=null,Fi(fe)===ee&&(Le=new Le(J,W+"enter",Ce,c,fe),Le.target=Z,Le.relatedTarget=bt,he=Le),bt=he,oe&&Ce)t:{for(Le=oz,J=oe,W=Ce,Z=0,he=J;he;he=Le(he))Z++;he=0;for(var Me=W;Me;Me=Le(Me))he++;for(;0<Z-he;)J=Le(J),Z--;for(;0<he-Z;)W=Le(W),he--;for(;Z--;){if(J===W||W!==null&&J===W.alternate){Le=J;break t}J=Le(J),W=Le(W)}Le=null}else Le=null;oe!==null&&nC(me,re,oe,Le,!1),Ce!==null&&bt!==null&&nC(me,bt,Ce,Le,!0)}}e:{if(re=ee?xr(ee):window,oe=re.nodeName&&re.nodeName.toLowerCase(),oe==="select"||oe==="input"&&re.type==="file")var ot=_w;else if(yw(re))if(bw)ot=g5;else{ot=p5;var Ne=h5}else oe=re.nodeName,!oe||oe.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ee&&Ul(ee.elementType)&&(ot=_w):ot=m5;if(ot&&(ot=ot(a,ee))){vw(me,ot,c,fe);break e}Ne&&Ne(a,re,ee),a==="focusout"&&ee&&re.type==="number"&&ee.memoizedProps.value!=null&&Lc(re,"number",re.value)}switch(Ne=ee?xr(ee):window,a){case"focusin":(yw(Ne)||Ne.contentEditable==="true")&&(Gl=Ne,ov=ee,Yc=null);break;case"focusout":Yc=ov=Gl=null;break;case"mousedown":av=!0;break;case"contextmenu":case"mouseup":case"dragend":av=!1,Iw(me,c,fe);break;case"selectionchange":if(v5)break;case"keydown":case"keyup":Iw(me,c,fe)}var $e;if(ut)e:{switch(a){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Hl?Ls(a,c)&&(Je="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Je="onCompositionStart");Je&&(Qi&&c.locale!=="ko"&&(Hl||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Hl&&($e=Bc()):(Yi=fe,qc="value"in Yi?Yi.value:Yi.textContent,Hl=!0)),Ne=bp(ee,Je),0<Ne.length&&(Je=new Xi(Je,a,null,c,fe),me.push({event:Je,listeners:Ne}),$e?Je.data=$e:($e=jl(c),$e!==null&&(Je.data=$e)))),($e=Fr?u5(a,c):c5(a,c))&&(Je=bp(ee,"onBeforeInput"),0<Je.length&&(Ne=new Xi("onBeforeInput","beforeinput",null,c,fe),me.push({event:Ne,listeners:Je}),Ne.data=$e)),tz(me,a,ee,c,fe)}eC(me,s)})}function bf(a,s,c){return{instance:a,listener:s,currentTarget:c}}function bp(a,s){for(var c=s+"Capture",p=[];a!==null;){var b=a,x=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||x===null||(b=mi(a,c),b!=null&&p.unshift(bf(a,b,x)),b=mi(a,s),b!=null&&p.push(bf(a,b,x))),a.tag===3)return p;a=a.return}return[]}function oz(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function nC(a,s,c,p,b){for(var x=s._reactName,I=[];c!==null&&c!==p;){var V=c,Y=V.alternate,ee=V.stateNode;if(V=V.tag,Y!==null&&Y===p)break;V!==5&&V!==26&&V!==27||ee===null||(Y=ee,b?(ee=mi(c,x),ee!=null&&I.unshift(bf(c,ee,Y))):b||(ee=mi(c,x),ee!=null&&I.push(bf(c,ee,Y)))),c=c.return}I.length!==0&&a.push({event:s,listeners:I})}var az=/\r\n?/g,sz=/\u0000|\uFFFD/g;function rC(a){return(typeof a=="string"?a:""+a).replace(az,`
`).replace(sz,"")}function iC(a,s){return s=rC(s),rC(a)===s}function _t(a,s,c,p,b,x){switch(c){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||sr(a,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&sr(a,""+p);break;case"className":Tr(a,"class",p);break;case"tabIndex":Tr(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(a,c,p);break;case"style":Vc(a,p,x);break;case"data":if(s!=="object"){Tr(a,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=Vl(""+p),a.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(s!=="input"&&_t(a,s,"name",b.name,b,null),_t(a,s,"formEncType",b.formEncType,b,null),_t(a,s,"formMethod",b.formMethod,b,null),_t(a,s,"formTarget",b.formTarget,b,null)):(_t(a,s,"encType",b.encType,b,null),_t(a,s,"method",b.method,b,null),_t(a,s,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=Vl(""+p),a.setAttribute(c,p);break;case"onClick":p!=null&&(a.onclick=pi);break;case"onScroll":p!=null&&Ye("scroll",a);break;case"onScrollEnd":p!=null&&Ye("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}c=Vl(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""+p):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":p===!0?a.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,p):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(c,p):a.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(c):a.setAttribute(c,p);break;case"popover":Ye("beforetoggle",a),Ye("toggle",a),Ol(a,"popover",p);break;case"xlinkActuate":en(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":en(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":en(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":en(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":en(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":en(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":en(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":en(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":en(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Ol(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=bh.get(c)||c,Ol(a,c,p))}}function P0(a,s,c,p,b,x){switch(c){case"style":Vc(a,p,x);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof p=="string"?sr(a,p):(typeof p=="number"||typeof p=="bigint")&&sr(a,""+p);break;case"onScroll":p!=null&&Ye("scroll",a);break;case"onScrollEnd":p!=null&&Ye("scrollend",a);break;case"onClick":p!=null&&(a.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pc.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),s=c.slice(2,b?c.length-7:void 0),x=a[bn]||null,x=x!=null?x[c]:null,typeof x=="function"&&a.removeEventListener(s,x,b),typeof p=="function")){typeof x!="function"&&x!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,p,b);break e}c in a?a[c]=p:p===!0?a.setAttribute(c,""):Ol(a,c,p)}}}function Ln(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",a),Ye("load",a);var p=!1,b=!1,x;for(x in c)if(c.hasOwnProperty(x)){var I=c[x];if(I!=null)switch(x){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:_t(a,s,x,I,c,null)}}b&&_t(a,s,"srcSet",c.srcSet,c,null),p&&_t(a,s,"src",c.src,c,null);return;case"input":Ye("invalid",a);var V=x=I=b=null,Y=null,ee=null;for(p in c)if(c.hasOwnProperty(p)){var fe=c[p];if(fe!=null)switch(p){case"name":b=fe;break;case"type":I=fe;break;case"checked":Y=fe;break;case"defaultChecked":ee=fe;break;case"value":x=fe;break;case"defaultValue":V=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,s));break;default:_t(a,s,p,fe,c,null)}}yh(a,x,V,Y,ee,I,b,!1);return;case"select":Ye("invalid",a),p=I=x=null;for(b in c)if(c.hasOwnProperty(b)&&(V=c[b],V!=null))switch(b){case"value":x=V;break;case"defaultValue":I=V;break;case"multiple":p=V;default:_t(a,s,b,V,c,null)}s=x,c=I,a.multiple=!!p,s!=null?ba(a,!!p,s,!1):c!=null&&ba(a,!!p,c,!0);return;case"textarea":Ye("invalid",a),x=b=p=null;for(I in c)if(c.hasOwnProperty(I)&&(V=c[I],V!=null))switch(I){case"value":p=V;break;case"defaultValue":b=V;break;case"children":x=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:_t(a,s,I,V,c,null)}Ea(a,p,b,x);return;case"option":for(Y in c)if(c.hasOwnProperty(Y)&&(p=c[Y],p!=null))switch(Y){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:_t(a,s,Y,p,c,null)}return;case"dialog":Ye("beforetoggle",a),Ye("toggle",a),Ye("cancel",a),Ye("close",a);break;case"iframe":case"object":Ye("load",a);break;case"video":case"audio":for(p=0;p<_f.length;p++)Ye(_f[p],a);break;case"image":Ye("error",a),Ye("load",a);break;case"details":Ye("toggle",a);break;case"embed":case"source":case"link":Ye("error",a),Ye("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in c)if(c.hasOwnProperty(ee)&&(p=c[ee],p!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:_t(a,s,ee,p,c,null)}return;default:if(Ul(s)){for(fe in c)c.hasOwnProperty(fe)&&(p=c[fe],p!==void 0&&P0(a,s,fe,p,c,void 0));return}}for(V in c)c.hasOwnProperty(V)&&(p=c[V],p!=null&&_t(a,s,V,p,c,null))}function lz(a,s,c,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,x=null,I=null,V=null,Y=null,ee=null,fe=null;for(oe in c){var me=c[oe];if(c.hasOwnProperty(oe)&&me!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":Y=me;default:p.hasOwnProperty(oe)||_t(a,s,oe,null,p,me)}}for(var re in p){var oe=p[re];if(me=c[re],p.hasOwnProperty(re)&&(oe!=null||me!=null))switch(re){case"type":x=oe;break;case"name":b=oe;break;case"checked":ee=oe;break;case"defaultChecked":fe=oe;break;case"value":I=oe;break;case"defaultValue":V=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:oe!==me&&_t(a,s,re,oe,p,me)}}Ll(a,I,V,Y,ee,fe,x,b);return;case"select":oe=I=V=re=null;for(x in c)if(Y=c[x],c.hasOwnProperty(x)&&Y!=null)switch(x){case"value":break;case"multiple":oe=Y;default:p.hasOwnProperty(x)||_t(a,s,x,null,p,Y)}for(b in p)if(x=p[b],Y=c[b],p.hasOwnProperty(b)&&(x!=null||Y!=null))switch(b){case"value":re=x;break;case"defaultValue":V=x;break;case"multiple":I=x;default:x!==Y&&_t(a,s,b,x,p,Y)}s=V,c=I,p=oe,re!=null?ba(a,!!c,re,!1):!!p!=!!c&&(s!=null?ba(a,!!c,s,!0):ba(a,!!c,c?[]:"",!1));return;case"textarea":oe=re=null;for(V in c)if(b=c[V],c.hasOwnProperty(V)&&b!=null&&!p.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:_t(a,s,V,null,p,b)}for(I in p)if(b=p[I],x=c[I],p.hasOwnProperty(I)&&(b!=null||x!=null))switch(I){case"value":re=b;break;case"defaultValue":oe=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==x&&_t(a,s,I,b,p,x)}vh(a,re,oe);return;case"option":for(var Ce in c)if(re=c[Ce],c.hasOwnProperty(Ce)&&re!=null&&!p.hasOwnProperty(Ce))switch(Ce){case"selected":a.selected=!1;break;default:_t(a,s,Ce,null,p,re)}for(Y in p)if(re=p[Y],oe=c[Y],p.hasOwnProperty(Y)&&re!==oe&&(re!=null||oe!=null))switch(Y){case"selected":a.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:_t(a,s,Y,re,p,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in c)re=c[Le],c.hasOwnProperty(Le)&&re!=null&&!p.hasOwnProperty(Le)&&_t(a,s,Le,null,p,re);for(ee in p)if(re=p[ee],oe=c[ee],p.hasOwnProperty(ee)&&re!==oe&&(re!=null||oe!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:_t(a,s,ee,re,p,oe)}return;default:if(Ul(s)){for(var bt in c)re=c[bt],c.hasOwnProperty(bt)&&re!==void 0&&!p.hasOwnProperty(bt)&&P0(a,s,bt,void 0,p,re);for(fe in p)re=p[fe],oe=c[fe],!p.hasOwnProperty(fe)||re===oe||re===void 0&&oe===void 0||P0(a,s,fe,re,p,oe);return}}for(var J in c)re=c[J],c.hasOwnProperty(J)&&re!=null&&!p.hasOwnProperty(J)&&_t(a,s,J,null,p,re);for(me in p)re=p[me],oe=c[me],!p.hasOwnProperty(me)||re===oe||re==null&&oe==null||_t(a,s,me,re,p,oe)}function oC(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uz(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var b=c[p],x=b.transferSize,I=b.initiatorType,V=b.duration;if(x&&V&&oC(I)){for(I=0,V=b.responseEnd,p+=1;p<c.length;p++){var Y=c[p],ee=Y.startTime;if(ee>V)break;var fe=Y.transferSize,me=Y.initiatorType;fe&&oC(me)&&(Y=Y.responseEnd,I+=fe*(Y<V?1:(V-ee)/(Y-ee)))}if(--p,s+=8*(x+I)/(b.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var M0=null,D0=null;function Ep(a){return a.nodeType===9?a:a.ownerDocument}function aC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sC(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function k0(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var O0=null;function cz(){var a=window.event;return a&&a.type==="popstate"?a===O0?!1:(O0=a,!0):(O0=null,!1)}var lC=typeof setTimeout=="function"?setTimeout:void 0,fz=typeof clearTimeout=="function"?clearTimeout:void 0,uC=typeof Promise=="function"?Promise:void 0,dz=typeof queueMicrotask=="function"?queueMicrotask:typeof uC<"u"?function(a){return uC.resolve(null).then(a).catch(hz)}:lC;function hz(a){setTimeout(function(){throw a})}function Ha(a){return a==="head"}function cC(a,s){var c=s,p=0;do{var b=c.nextSibling;if(a.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"||c==="/&"){if(p===0){a.removeChild(b),vu(s);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")Ef(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Ef(c);for(var x=c.firstChild;x;){var I=x.nextSibling,V=x.nodeName;x[Bi]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=I}}else c==="body"&&Ef(a.ownerDocument.body);c=b}while(c);vu(s)}function fC(a,s){var c=a;a=0;do{var p=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=p}while(c)}function L0(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":L0(c),kl(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function pz(a,s,c,p){for(;a.nodeType===1;){var b=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[Bi])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var x=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=Wr(a.nextSibling),a===null)break}return null}function mz(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Wr(a.nextSibling),a===null))return null;return a}function dC(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=Wr(a.nextSibling),a===null))return null;return a}function U0(a){return a.data==="$?"||a.data==="$~"}function V0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function gz(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var p=function(){s(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function Wr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var z0=null;function hC(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return Wr(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function pC(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function mC(a,s,c){switch(s=Ep(c),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Ef(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);kl(a)}var Jr=new Map,gC=new Set;function xp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Lo=ne.d;ne.d={f:yz,r:vz,D:_z,C:bz,L:Ez,m:xz,X:Sz,S:Tz,M:wz};function yz(){var a=Lo.f(),s=hp();return a||s}function vz(a){var s=zr(a);s!==null&&s.tag===5&&s.type==="form"?DA(s):Lo.r(a)}var mu=typeof document>"u"?null:document;function yC(a,s,c){var p=mu;if(p&&typeof s=="string"&&s){var b=ar(s);b='link[rel="'+a+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),gC.has(b)||(gC.add(b),a={rel:a,crossOrigin:c,href:s},p.querySelector(b)===null&&(s=p.createElement("link"),Ln(s,"link",a),Zt(s),p.head.appendChild(s)))}}function _z(a){Lo.D(a),yC("dns-prefetch",a,null)}function bz(a,s){Lo.C(a,s),yC("preconnect",a,s)}function Ez(a,s,c){Lo.L(a,s,c);var p=mu;if(p&&a&&s){var b='link[rel="preload"][as="'+ar(s)+'"]';s==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+ar(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+ar(c.imageSizes)+'"]')):b+='[href="'+ar(a)+'"]';var x=b;switch(s){case"style":x=gu(a);break;case"script":x=yu(a)}Jr.has(x)||(a=m({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),Jr.set(x,a),p.querySelector(b)!==null||s==="style"&&p.querySelector(xf(x))||s==="script"&&p.querySelector(Tf(x))||(s=p.createElement("link"),Ln(s,"link",a),Zt(s),p.head.appendChild(s)))}}function xz(a,s){Lo.m(a,s);var c=mu;if(c&&a){var p=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+ar(p)+'"][href="'+ar(a)+'"]',x=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=yu(a)}if(!Jr.has(x)&&(a=m({rel:"modulepreload",href:a},s),Jr.set(x,a),c.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Tf(x)))return}p=c.createElement("link"),Ln(p,"link",a),Zt(p),c.head.appendChild(p)}}}function Tz(a,s,c){Lo.S(a,s,c);var p=mu;if(p&&a){var b=ji(p).hoistableStyles,x=gu(a);s=s||"default";var I=b.get(x);if(!I){var V={loading:0,preload:null};if(I=p.querySelector(xf(x)))V.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":s},c),(c=Jr.get(x))&&q0(a,c);var Y=I=p.createElement("link");Zt(Y),Ln(Y,"link",a),Y._p=new Promise(function(ee,fe){Y.onload=ee,Y.onerror=fe}),Y.addEventListener("load",function(){V.loading|=1}),Y.addEventListener("error",function(){V.loading|=2}),V.loading|=4,Tp(I,s,p)}I={type:"stylesheet",instance:I,count:1,state:V},b.set(x,I)}}}function Sz(a,s){Lo.X(a,s);var c=mu;if(c&&a){var p=ji(c).hoistableScripts,b=yu(a),x=p.get(b);x||(x=c.querySelector(Tf(b)),x||(a=m({src:a,async:!0},s),(s=Jr.get(b))&&B0(a,s),x=c.createElement("script"),Zt(x),Ln(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},p.set(b,x))}}function wz(a,s){Lo.M(a,s);var c=mu;if(c&&a){var p=ji(c).hoistableScripts,b=yu(a),x=p.get(b);x||(x=c.querySelector(Tf(b)),x||(a=m({src:a,async:!0,type:"module"},s),(s=Jr.get(b))&&B0(a,s),x=c.createElement("script"),Zt(x),Ln(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},p.set(b,x))}}function vC(a,s,c,p){var b=(b=Re.current)?xp(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=gu(c.href),c=ji(b).hoistableStyles,p=c.get(s),p||(p={type:"style",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=gu(c.href);var x=ji(b).hoistableStyles,I=x.get(a);if(I||(b=b.ownerDocument||b,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,I),(x=b.querySelector(xf(a)))&&!x._p&&(I.instance=x,I.state.loading=5),Jr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Jr.set(a,c),x||Az(b,a,c,I.state))),s&&p===null)throw Error(r(528,""));return I}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=yu(c),c=ji(b).hoistableScripts,p=c.get(s),p||(p={type:"script",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function gu(a){return'href="'+ar(a)+'"'}function xf(a){return'link[rel="stylesheet"]['+a+"]"}function _C(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function Az(a,s,c,p){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=a.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),Ln(s,"link",c),Zt(s),a.head.appendChild(s))}function yu(a){return'[src="'+ar(a)+'"]'}function Tf(a){return"script[async]"+a}function bC(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var p=a.querySelector('style[data-href~="'+ar(c.href)+'"]');if(p)return s.instance=p,Zt(p),p;var b=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Zt(p),Ln(p,"style",b),Tp(p,c.precedence,a),s.instance=p;case"stylesheet":b=gu(c.href);var x=a.querySelector(xf(b));if(x)return s.state.loading|=4,s.instance=x,Zt(x),x;p=_C(c),(b=Jr.get(b))&&q0(p,b),x=(a.ownerDocument||a).createElement("link"),Zt(x);var I=x;return I._p=new Promise(function(V,Y){I.onload=V,I.onerror=Y}),Ln(x,"link",p),s.state.loading|=4,Tp(x,c.precedence,a),s.instance=x;case"script":return x=yu(c.src),(b=a.querySelector(Tf(x)))?(s.instance=b,Zt(b),b):(p=c,(b=Jr.get(x))&&(p=m({},c),B0(p,b)),a=a.ownerDocument||a,b=a.createElement("script"),Zt(b),Ln(b,"link",p),a.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,Tp(p,c.precedence,a));return s.instance}function Tp(a,s,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,x=b,I=0;I<p.length;I++){var V=p[I];if(V.dataset.precedence===s)x=V;else if(x!==b)break}x?x.parentNode.insertBefore(a,x.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function q0(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function B0(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Sp=null;function EC(a,s,c){if(Sp===null){var p=new Map,b=Sp=new Map;b.set(c,p)}else b=Sp,p=b.get(c),p||(p=new Map,b.set(c,p));if(p.has(a))return p;for(p.set(a,null),c=c.getElementsByTagName(a),b=0;b<c.length;b++){var x=c[b];if(!(x[Bi]||x[Qt]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var I=x.getAttribute(s)||"";I=a+I;var V=p.get(I);V?V.push(x):p.set(I,[x])}}return p}function xC(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function Cz(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function TC(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function Iz(a,s,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=gu(p.href),x=s.querySelector(xf(b));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=wp.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=x,Zt(x);return}x=s.ownerDocument||s,p=_C(p),(b=Jr.get(b))&&q0(p,b),x=x.createElement("link"),Zt(x);var I=x;I._p=new Promise(function(V,Y){I.onload=V,I.onerror=Y}),Ln(x,"link",p),c.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=wp.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var F0=0;function Nz(a,s){return a.stylesheets&&a.count===0&&Cp(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var p=setTimeout(function(){if(a.stylesheets&&Cp(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+s);0<a.imgBytes&&F0===0&&(F0=62500*uz());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Cp(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>F0?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function wp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Ap=null;function Cp(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Ap=new Map,s.forEach(Rz,a),Ap=null,wp.call(a))}function Rz(a,s){if(!(s.state.loading&4)){var c=Ap.get(a);if(c)var p=c.get(null);else{c=new Map,Ap.set(a,c);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<b.length;x++){var I=b[x];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(c.set(I.dataset.precedence,I),p=I)}p&&c.set(null,p)}b=s.instance,I=b.getAttribute("data-precedence"),x=c.get(I)||p,x===p&&c.set(null,b),c.set(I,b),this.count++,p=wp.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),x?x.parentNode.insertBefore(b,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),s.state.loading|=4}}var Sf={$$typeof:O,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Pz(a,s,c,p,b,x,I,V,Y){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=x,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function SC(a,s,c,p,b,x,I,V,Y,ee,fe,me){return a=new Pz(a,s,c,I,Y,ee,fe,me,V),s=1,x===!0&&(s|=24),x=wr(3,null,null,s),a.current=x,x.stateNode=a,s=Ev(),s.refCount++,a.pooledCache=s,s.refCount++,x.memoizedState={element:p,isDehydrated:c,cache:s},wv(x),a}function wC(a){return a?(a=Yl,a):Yl}function AC(a,s,c,p,b,x){b=wC(b),p.context===null?p.context=b:p.pendingContext=b,p=Da(s),p.payload={element:c},x=x===void 0?null:x,x!==null&&(p.callback=x),c=ka(a,p,s),c!==null&&(dr(c,a,s),tf(c,a,s))}function CC(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function j0(a,s){CC(a,s),(a=a.alternate)&&CC(a,s)}function IC(a){if(a.tag===13||a.tag===31){var s=zs(a,67108864);s!==null&&dr(s,a,67108864),j0(a,67108864)}}function NC(a){if(a.tag===13||a.tag===31){var s=Rr();s=Cs(s);var c=zs(a,s);c!==null&&dr(c,a,s),j0(a,s)}}var Ip=!0;function Mz(a,s,c,p){var b=K.T;K.T=null;var x=ne.p;try{ne.p=2,H0(a,s,c,p)}finally{ne.p=x,K.T=b}}function Dz(a,s,c,p){var b=K.T;K.T=null;var x=ne.p;try{ne.p=8,H0(a,s,c,p)}finally{ne.p=x,K.T=b}}function H0(a,s,c,p){if(Ip){var b=G0(p);if(b===null)R0(a,s,p,Np,c),PC(a,p);else if(Oz(b,a,s,c,p))p.stopPropagation();else if(PC(a,p),s&4&&-1<kz.indexOf(a)){for(;b!==null;){var x=zr(b);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var I=Ui(x.pendingLanes);if(I!==0){var V=x;for(V.pendingLanes|=2,V.entangledLanes|=2;I;){var Y=1<<31-jt(I);V.entanglements[1]|=Y,I&=~Y}no(x),(ct&6)===0&&(fp=_n()+500,vf(0))}}break;case 31:case 13:V=zs(x,2),V!==null&&dr(V,x,2),hp(),j0(x,2)}if(x=G0(p),x===null&&R0(a,s,p,Np,c),x===b)break;b=x}b!==null&&p.stopPropagation()}else R0(a,s,p,null,c)}}function G0(a){return a=qr(a),$0(a)}var Np=null;function $0(a){if(Np=null,a=Fi(a),a!==null){var s=o(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=l(s),a!==null)return a;a=null}else if(c===31){if(a=u(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Np=a,null}function RC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oi()){case Er:return 2;case Cc:return 8;case va:case Qy:return 32;case sh:return 268435456;default:return 32}default:return 32}}var K0=!1,Ga=null,$a=null,Ka=null,wf=new Map,Af=new Map,Ya=[],kz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PC(a,s){switch(a){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":wf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Af.delete(s.pointerId)}}function Cf(a,s,c,p,b,x){return a===null||a.nativeEvent!==x?(a={blockedOn:s,domEventName:c,eventSystemFlags:p,nativeEvent:x,targetContainers:[b]},s!==null&&(s=zr(s),s!==null&&IC(s)),a):(a.eventSystemFlags|=p,s=a.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),a)}function Oz(a,s,c,p,b){switch(s){case"focusin":return Ga=Cf(Ga,a,s,c,p,b),!0;case"dragenter":return $a=Cf($a,a,s,c,p,b),!0;case"mouseover":return Ka=Cf(Ka,a,s,c,p,b),!0;case"pointerover":var x=b.pointerId;return wf.set(x,Cf(wf.get(x)||null,a,s,c,p,b)),!0;case"gotpointercapture":return x=b.pointerId,Af.set(x,Cf(Af.get(x)||null,a,s,c,p,b)),!0}return!1}function MC(a){var s=Fi(a.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){a.blockedOn=s,di(a.priority,function(){NC(c)});return}}else if(s===31){if(s=u(c),s!==null){a.blockedOn=s,di(a.priority,function(){NC(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Rp(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=G0(a.nativeEvent);if(c===null){c=a.nativeEvent;var p=new c.constructor(c.type,c);zc=p,c.target.dispatchEvent(p),zc=null}else return s=zr(c),s!==null&&IC(s),a.blockedOn=c,!1;s.shift()}return!0}function DC(a,s,c){Rp(a)&&c.delete(s)}function Lz(){K0=!1,Ga!==null&&Rp(Ga)&&(Ga=null),$a!==null&&Rp($a)&&($a=null),Ka!==null&&Rp(Ka)&&(Ka=null),wf.forEach(DC),Af.forEach(DC)}function Pp(a,s){a.blockedOn===s&&(a.blockedOn=null,K0||(K0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Lz)))}var Mp=null;function kC(a){Mp!==a&&(Mp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mp===a&&(Mp=null);for(var s=0;s<a.length;s+=3){var c=a[s],p=a[s+1],b=a[s+2];if(typeof p!="function"){if($0(p||c)===null)continue;break}var x=zr(c);x!==null&&(a.splice(s,3),s-=3,Gv(x,{pending:!0,data:b,method:c.method,action:p},p,b))}}))}function vu(a){function s(Y){return Pp(Y,a)}Ga!==null&&Pp(Ga,a),$a!==null&&Pp($a,a),Ka!==null&&Pp(Ka,a),wf.forEach(s),Af.forEach(s);for(var c=0;c<Ya.length;c++){var p=Ya[c];p.blockedOn===a&&(p.blockedOn=null)}for(;0<Ya.length&&(c=Ya[0],c.blockedOn===null);)MC(c),c.blockedOn===null&&Ya.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var b=c[p],x=c[p+1],I=b[bn]||null;if(typeof x=="function")I||kC(c);else if(I){var V=null;if(x&&x.hasAttribute("formAction")){if(b=x,I=x[bn]||null)V=I.formAction;else if($0(b)!==null)continue}else V=I.action;typeof V=="function"?c[p+1]=V:(c.splice(p,3),p-=3),kC(c)}}}function OC(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(I){return b=I})},focusReset:"manual",scroll:"manual"})}function s(){b!==null&&(b(),b=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),b!==null&&(b(),b=null)}}}function Y0(a){this._internalRoot=a}Dp.prototype.render=Y0.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,p=Rr();AC(c,p,a,s,null,null)},Dp.prototype.unmount=Y0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;AC(a.current,2,null,a,null,null),hp(),s[qi]=null}};function Dp(a){this._internalRoot=a}Dp.prototype.unstable_scheduleHydration=function(a){if(a){var s=hh();a={blockedOn:null,target:a,priority:s};for(var c=0;c<Ya.length&&s!==0&&s<Ya[c].priority;c++);Ya.splice(c,0,a),c===0&&MC(a)}};var LC=e.version;if(LC!=="19.2.0")throw Error(r(527,LC,"19.2.0"));ne.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(s),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var Uz={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kp.isDisabled&&kp.supportsFiber)try{ci=kp.inject(Uz),Pn=kp}catch{}}return Nf.createRoot=function(a,s){if(!i(a))throw Error(r(299));var c=!1,p="",b=jA,x=HA,I=GA;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(I=s.onRecoverableError)),s=SC(a,1,!1,null,null,c,p,null,b,x,I,OC),a[qi]=s.current,N0(a),new Y0(s)},Nf.hydrateRoot=function(a,s,c){if(!i(a))throw Error(r(299));var p=!1,b="",x=jA,I=HA,V=GA,Y=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(I=c.onCaughtError),c.onRecoverableError!==void 0&&(V=c.onRecoverableError),c.formState!==void 0&&(Y=c.formState)),s=SC(a,1,!0,s,c??null,p,b,Y,x,I,V,OC),s.context=wC(null),c=s.current,p=Rr(),p=Cs(p),b=Da(p),b.callback=null,ka(c,b,p),c=p,s.current.lanes=c,ws(s,c),no(s),a[qi]=s.current,N0(a),new Dp(s)},Nf.version="19.2.0",Nf}var $C;function Jz(){if($C)return Q0.exports;$C=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Q0.exports=Wz(),Q0.exports}var Xz=Jz();const Qz=yo(Xz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eq=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),KC=t=>{const e=eq(t);return e.charAt(0).toUpperCase()+e.slice(1)},dk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),tq=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},f)=>N.createElement("svg",{ref:f,...nq,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:dk("lucide",i),...!o&&!tq(u)&&{"aria-hidden":"true"},...u},[...l.map(([d,h])=>N.createElement(d,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(t,e)=>{const n=N.forwardRef(({className:r,...i},o)=>N.createElement(rq,{ref:o,iconNode:e,className:dk(`lucide-${Zz(KC(t))}`,`lucide-${t}`,r),...i}));return n.displayName=KC(t),n};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],qu=ze("activity",iq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],aq=ze("arrow-right",oq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ed=ze("calendar",sq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Hg=ze("camera",lq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hk=ze("check",uq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],fq=ze("chevron-down",cq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xb=ze("chevron-right",dq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Sm=ze("chevron-left",hq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],mq=ze("chevron-up",pq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],yq=ze("circle-alert",gq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],YC=ze("circle-check-big",vq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pk=ze("clock",_q);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],wm=ze("dumbbell",bq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],mk=ze("file-text",Eq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Op=ze("flame",xq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Sq=ze("globe",Tq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Aq=ze("house",wq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Iq=ze("image",Cq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Am=ze("loader-circle",Nq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Pq=ze("log-out",Rq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Dq=ze("menu",Mq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=[["path",{d:"M5 12h14",key:"1ays0h"}]],Oq=ze("minus",kq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Uq=ze("moon",Lq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],zq=ze("palette",Vq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Bq=ze("pause",qq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],jq=ze("pen",Fq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Gq=ze("pencil",Hq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Cm=ze("play",$q);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yq=ze("plus",Kq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],gk=ze("rotate-ccw",Wq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Qb=ze("save",Jq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Qq=ze("search",Xq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eB=ze("settings",Zq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],nB=ze("sparkles",tB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],iB=ze("sun",rB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Im=ze("target",oB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],sB=ze("timer",aB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bu=ze("trash-2",lB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Zb=ze("trending-up",uB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],fB=ze("type",cB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],yk=ze("upload",dB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],eE=ze("user",hB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],td=ze("utensils",pB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],gB=ze("video",mB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],vB=ze("volume-2",yB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],bB=ze("volume-x",_B);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kx=ze("x",EB),xB=({children:t,activeTab:e,setActiveTab:n,theme:r})=>{const i={"--color-primary":r.colors.primary,"--color-secondary":r.colors.secondary,"--color-bg":r.colors.bg,"--color-card":r.colors.card,"--color-text":r.colors.text},o=[{id:"dashboard",label:"Inicio",icon:T.jsx(Aq,{size:20})},{id:"workout",label:"Escanear WOD",icon:T.jsx(Hg,{size:20})},{id:"timers",label:"Timers",icon:T.jsx(sB,{size:20})},{id:"nutrition",label:"Nutricin",icon:T.jsx(td,{size:20})},{id:"movements",label:"Tcnica",icon:T.jsx(qu,{size:20})},{id:"profile",label:"Perfil",icon:T.jsx(eE,{size:20})}];return T.jsxs("div",{style:i,className:"flex flex-col h-screen w-full bg-[var(--color-bg)] text-[var(--color-text)] transition-colors duration-300",children:[T.jsx("header",{className:"flex-none p-4 flex items-center justify-between border-b border-[var(--color-secondary)] bg-[var(--color-card)] shadow-lg z-10 md:pl-24 transition-all",children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(qu,{className:"text-[var(--color-primary)]",size:28}),T.jsxs("h1",{className:"text-xl font-bold tracking-tight",children:["Crossfit-",T.jsx("span",{className:"text-[var(--color-primary)]",children:"AI"})]})]})}),T.jsx("main",{className:`flex-1 relative md:pl-20 transition-all ${e==="workout"?"overflow-hidden p-0":"overflow-y-auto p-4 md:p-6 pb-24 md:pb-6 custom-scrollbar"}`,children:T.jsx("div",{className:`mx-auto h-full ${e==="workout"?"max-w-full":"max-w-4xl"}`,children:t})}),T.jsx("nav",{className:"flex-none md:fixed md:left-0 md:top-0 md:h-screen md:w-20 md:flex-col md:justify-start md:pt-20 border-t md:border-t-0 md:border-r border-[var(--color-secondary)] bg-[var(--color-card)] z-20",children:T.jsx("div",{className:"flex md:flex-col justify-around md:justify-start md:gap-8 h-16 md:h-auto items-center w-full",children:o.map(l=>T.jsxs("button",{onClick:()=>n(l.id),className:`flex flex-col items-center justify-center w-full md:w-full md:py-4 gap-1 transition-all ${e===l.id?"text-[var(--color-primary)] scale-110":"text-gray-400 hover:text-[var(--color-primary)]"}`,children:[T.jsx("div",{className:`p-1 rounded-lg ${e===l.id?"bg-[var(--color-secondary)] bg-opacity-20":""}`,children:l.icon}),T.jsx("span",{className:"text-[10px] md:text-xs font-medium",children:l.label})]},l.id))})})]})},am=[{id:"neon-red",name:"Neon Red",colors:{primary:"#ff0033",secondary:"#99001f",bg:"#000000",card:"#111111",text:"#ffffff"}},{id:"neon-orange",name:"Neon Orange",colors:{primary:"#ff6600",secondary:"#993d00",bg:"#000000",card:"#111111",text:"#ffffff"}},{id:"neon-fuchsia",name:"Neon Fuchsia",colors:{primary:"#ff00ff",secondary:"#990099",bg:"#000000",card:"#111111",text:"#ffffff"}},{id:"neon-lilac",name:"Neon Lilac",colors:{primary:"#cc99ff",secondary:"#7a5c99",bg:"#000000",card:"#111111",text:"#ffffff"}},{id:"neon-green",name:"Neon Green",colors:{primary:"#39ff14",secondary:"#1f8c0b",bg:"#000000",card:"#111111",text:"#ffffff"}},{id:"neon-cyan",name:"Neon Cyan",colors:{primary:"#00ffff",secondary:"#009999",bg:"#000000",card:"#111111",text:"#ffffff"}}],TB=()=>{};var WC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},SB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],u=t[n++],f=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},_k={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,u=l?t[i+1]:0,f=i+2<t.length,d=f?t[i+2]:0,h=o>>2,m=(o&3)<<4|u>>4;let _=(u&15)<<2|d>>6,E=d&63;f||(E=64,l||(_=64)),r.push(n[h],n[m],n[_],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||d==null||m==null)throw new wB;const _=o<<2|u>>4;if(r.push(_),d!==64){const E=u<<4&240|d>>2;if(r.push(E),m!==64){const w=d<<6&192|m;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AB=function(t){const e=vk(t);return _k.encodeByteArray(e,!0)},Nm=function(t){return AB(t).replace(/\./g,"")},bk=function(t){try{return _k.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=()=>CB().__FIREBASE_DEFAULTS__,NB=()=>{if(typeof process>"u"||typeof WC>"u")return;const t=WC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bk(t[1]);return e&&JSON.parse(e)},Gg=()=>{try{return TB()||IB()||NB()||RB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ek=t=>{var e,n;return(n=(e=Gg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},PB=t=>{const e=Ek(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xk=()=>{var t;return(t=Gg())==null?void 0:t.config},Tk=t=>{var e;return(e=Gg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Nm(JSON.stringify(n)),Nm(JSON.stringify(l)),""].join(".")}const $f={};function kB(){const t={prod:[],emulator:[]};for(const e of Object.keys($f))$f[e]?t.emulator.push(e):t.prod.push(e);return t}function OB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let JC=!1;function wk(t,e){if(typeof window>"u"||typeof document>"u"||!lc(window.location.host)||$f[t]===e||$f[t]||JC)return;$f[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=kB().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,E){_.setAttribute("width","24"),_.setAttribute("id",E),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{JC=!0,l()},_}function h(_,E){_.setAttribute("id",E),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function m(){const _=OB(r),E=n("text"),w=document.getElementById(E)||document.createElement("span"),S=n("learnmore"),C=document.getElementById(S)||document.createElement("a"),P=n("preprendIcon"),U=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const O=_.element;u(O),h(C,S);const H=d();f(U,P),O.append(U,w,C,H),document.body.appendChild(O)}o?(w.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function UB(){var e;const t=(e=Gg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BB(){const t=Qn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FB(){return!UB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jB(){try{return typeof indexedDB=="object"}catch{return!1}}function HB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB="FirebaseError";class la extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=GB,Object.setPrototypeOf(this,la.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wd.prototype.create)}}class wd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?$B(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new la(i,u,r)}}function $B(t,e){return t.replace(KB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const KB=/\{\$([^}]+)}/g;function YB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ml(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(XC(o)&&XC(l)){if(!ml(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function XC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function WB(t,e){const n=new JB(t,e);return n.subscribe.bind(n)}class JB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=n_),i.error===void 0&&(i.error=n_),i.complete===void 0&&(i.complete=n_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function n_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t){return t&&t._delegate?t._delegate:t}class gl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QB=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new MB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eF(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ZB(t){return t===Qs?void 0:t}function eF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const nF={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},rF=Xe.INFO,iF={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},oF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=iF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ox{constructor(e){this.name=e,this._logLevel=rF,this._logHandler=oF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const aF=(t,e)=>e.some(n=>t instanceof n);let QC,ZC;function sF(){return QC||(QC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lF(){return ZC||(ZC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ak=new WeakMap,tE=new WeakMap,Ck=new WeakMap,r_=new WeakMap,Lx=new WeakMap;function uF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(is(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Ak.set(n,t)}).catch(()=>{}),Lx.set(e,t),e}function cF(t){if(tE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});tE.set(t,e)}let nE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ck.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fF(t){nE=t(nE)}function dF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(i_(this),e,...n);return Ck.set(r,e.sort?e.sort():[e]),is(r)}:lF().includes(t)?function(...e){return t.apply(i_(this),e),is(Ak.get(this))}:function(...e){return is(t.apply(i_(this),e))}}function hF(t){return typeof t=="function"?dF(t):(t instanceof IDBTransaction&&cF(t),aF(t,sF())?new Proxy(t,nE):t)}function is(t){if(t instanceof IDBRequest)return uF(t);if(r_.has(t))return r_.get(t);const e=hF(t);return e!==t&&(r_.set(t,e),Lx.set(e,t)),e}const i_=t=>Lx.get(t);function pF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),u=is(l);return r&&l.addEventListener("upgradeneeded",f=>{r(is(l.result),f.oldVersion,f.newVersion,is(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const mF=["get","getKey","getAll","getAllKeys","count"],gF=["put","add","delete","clear"],o_=new Map;function eI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(o_.get(e))return o_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mF.includes(n)))return;const o=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&f.done]))[0]};return o_.set(e,o),o}fF(t=>({...t,get:(e,n,r)=>eI(e,n)||t.get(e,n,r),has:(e,n)=>!!eI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rE="@firebase/app",tI="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new Ox("@firebase/app"),_F="@firebase/app-compat",bF="@firebase/analytics-compat",EF="@firebase/analytics",xF="@firebase/app-check-compat",TF="@firebase/app-check",SF="@firebase/auth",wF="@firebase/auth-compat",AF="@firebase/database",CF="@firebase/data-connect",IF="@firebase/database-compat",NF="@firebase/functions",RF="@firebase/functions-compat",PF="@firebase/installations",MF="@firebase/installations-compat",DF="@firebase/messaging",kF="@firebase/messaging-compat",OF="@firebase/performance",LF="@firebase/performance-compat",UF="@firebase/remote-config",VF="@firebase/remote-config-compat",zF="@firebase/storage",qF="@firebase/storage-compat",BF="@firebase/firestore",FF="@firebase/ai",jF="@firebase/firestore-compat",HF="firebase",GF="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="[DEFAULT]",$F={[rE]:"fire-core",[_F]:"fire-core-compat",[EF]:"fire-analytics",[bF]:"fire-analytics-compat",[TF]:"fire-app-check",[xF]:"fire-app-check-compat",[SF]:"fire-auth",[wF]:"fire-auth-compat",[AF]:"fire-rtdb",[CF]:"fire-data-connect",[IF]:"fire-rtdb-compat",[NF]:"fire-fn",[RF]:"fire-fn-compat",[PF]:"fire-iid",[MF]:"fire-iid-compat",[DF]:"fire-fcm",[kF]:"fire-fcm-compat",[OF]:"fire-perf",[LF]:"fire-perf-compat",[UF]:"fire-rc",[VF]:"fire-rc-compat",[zF]:"fire-gcs",[qF]:"fire-gcs-compat",[BF]:"fire-fst",[jF]:"fire-fst-compat",[FF]:"fire-vertex","fire-js":"fire-js",[HF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=new Map,KF=new Map,oE=new Map;function nI(t,e){try{t.container.addComponent(e)}catch(n){Yo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fu(t){const e=t.name;if(oE.has(e))return Yo.debug(`There were multiple attempts to register component ${e}.`),!1;oE.set(e,t);for(const n of Rm.values())nI(n,t);for(const n of KF.values())nI(n,t);return!0}function Ux(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new wd("app","Firebase",YF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=GF;function Ik(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:iE,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw os.create("bad-app-name",{appName:String(i)});if(n||(n=xk()),!n)throw os.create("no-options");const o=Rm.get(i);if(o){if(ml(n,o.options)&&ml(r,o.config))return o;throw os.create("duplicate-app",{appName:i})}const l=new tF(i);for(const f of oE.values())l.addComponent(f);const u=new WF(n,r,l);return Rm.set(i,u),u}function Nk(t=iE){const e=Rm.get(t);if(!e&&t===iE&&xk())return Ik();if(!e)throw os.create("no-app",{appName:t});return e}function as(t,e,n){let r=$F[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yo.warn(l.join(" "));return}Fu(new gl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF="firebase-heartbeat-database",XF=1,nd="firebase-heartbeat-store";let a_=null;function Rk(){return a_||(a_=pF(JF,XF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nd)}catch(n){console.warn(n)}}}}).catch(t=>{throw os.create("idb-open",{originalErrorMessage:t.message})})),a_}async function QF(t){try{const n=(await Rk()).transaction(nd),r=await n.objectStore(nd).get(Pk(t));return await n.done,r}catch(e){if(e instanceof la)Yo.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yo.warn(n.message)}}}async function rI(t,e){try{const r=(await Rk()).transaction(nd,"readwrite");await r.objectStore(nd).put(e,Pk(t)),await r.done}catch(n){if(n instanceof la)Yo.warn(n.message);else{const r=os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yo.warn(r.message)}}}function Pk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF=1024,ej=30;class tj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=iI();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>ej){const l=ij(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Yo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=iI(),{heartbeatsToSend:r,unsentEntries:i}=nj(this._heartbeatsCache.heartbeats),o=Nm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Yo.warn(n),""}}}function iI(){return new Date().toISOString().substring(0,10)}function nj(t,e=ZF){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),oI(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),oI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jB()?HB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function oI(t){return Nm(JSON.stringify({version:2,heartbeats:t})).length}function ij(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t){Fu(new gl("platform-logger",e=>new yF(e),"PRIVATE")),Fu(new gl("heartbeat",e=>new tj(e),"PRIVATE")),as(rE,tI,t),as(rE,tI,"esm2020"),as("fire-js","")}oj("");var aj="firebase",sj="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(aj,sj,"app");var aI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,Mk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,D){function k(){}k.prototype=D.prototype,M.F=D.prototype,M.prototype=new k,M.prototype.constructor=M,M.D=function(B,z,j){for(var L=Array(arguments.length-2),de=2;de<arguments.length;de++)L[de-2]=arguments[de];return D.prototype[z].apply(B,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,D,k){k||(k=0);const B=Array(16);if(typeof D=="string")for(var z=0;z<16;++z)B[z]=D.charCodeAt(k++)|D.charCodeAt(k++)<<8|D.charCodeAt(k++)<<16|D.charCodeAt(k++)<<24;else for(z=0;z<16;++z)B[z]=D[k++]|D[k++]<<8|D[k++]<<16|D[k++]<<24;D=M.g[0],k=M.g[1],z=M.g[2];let j=M.g[3],L;L=D+(j^k&(z^j))+B[0]+3614090360&4294967295,D=k+(L<<7&4294967295|L>>>25),L=j+(z^D&(k^z))+B[1]+3905402710&4294967295,j=D+(L<<12&4294967295|L>>>20),L=z+(k^j&(D^k))+B[2]+606105819&4294967295,z=j+(L<<17&4294967295|L>>>15),L=k+(D^z&(j^D))+B[3]+3250441966&4294967295,k=z+(L<<22&4294967295|L>>>10),L=D+(j^k&(z^j))+B[4]+4118548399&4294967295,D=k+(L<<7&4294967295|L>>>25),L=j+(z^D&(k^z))+B[5]+1200080426&4294967295,j=D+(L<<12&4294967295|L>>>20),L=z+(k^j&(D^k))+B[6]+2821735955&4294967295,z=j+(L<<17&4294967295|L>>>15),L=k+(D^z&(j^D))+B[7]+4249261313&4294967295,k=z+(L<<22&4294967295|L>>>10),L=D+(j^k&(z^j))+B[8]+1770035416&4294967295,D=k+(L<<7&4294967295|L>>>25),L=j+(z^D&(k^z))+B[9]+2336552879&4294967295,j=D+(L<<12&4294967295|L>>>20),L=z+(k^j&(D^k))+B[10]+4294925233&4294967295,z=j+(L<<17&4294967295|L>>>15),L=k+(D^z&(j^D))+B[11]+2304563134&4294967295,k=z+(L<<22&4294967295|L>>>10),L=D+(j^k&(z^j))+B[12]+1804603682&4294967295,D=k+(L<<7&4294967295|L>>>25),L=j+(z^D&(k^z))+B[13]+4254626195&4294967295,j=D+(L<<12&4294967295|L>>>20),L=z+(k^j&(D^k))+B[14]+2792965006&4294967295,z=j+(L<<17&4294967295|L>>>15),L=k+(D^z&(j^D))+B[15]+1236535329&4294967295,k=z+(L<<22&4294967295|L>>>10),L=D+(z^j&(k^z))+B[1]+4129170786&4294967295,D=k+(L<<5&4294967295|L>>>27),L=j+(k^z&(D^k))+B[6]+3225465664&4294967295,j=D+(L<<9&4294967295|L>>>23),L=z+(D^k&(j^D))+B[11]+643717713&4294967295,z=j+(L<<14&4294967295|L>>>18),L=k+(j^D&(z^j))+B[0]+3921069994&4294967295,k=z+(L<<20&4294967295|L>>>12),L=D+(z^j&(k^z))+B[5]+3593408605&4294967295,D=k+(L<<5&4294967295|L>>>27),L=j+(k^z&(D^k))+B[10]+38016083&4294967295,j=D+(L<<9&4294967295|L>>>23),L=z+(D^k&(j^D))+B[15]+3634488961&4294967295,z=j+(L<<14&4294967295|L>>>18),L=k+(j^D&(z^j))+B[4]+3889429448&4294967295,k=z+(L<<20&4294967295|L>>>12),L=D+(z^j&(k^z))+B[9]+568446438&4294967295,D=k+(L<<5&4294967295|L>>>27),L=j+(k^z&(D^k))+B[14]+3275163606&4294967295,j=D+(L<<9&4294967295|L>>>23),L=z+(D^k&(j^D))+B[3]+4107603335&4294967295,z=j+(L<<14&4294967295|L>>>18),L=k+(j^D&(z^j))+B[8]+1163531501&4294967295,k=z+(L<<20&4294967295|L>>>12),L=D+(z^j&(k^z))+B[13]+2850285829&4294967295,D=k+(L<<5&4294967295|L>>>27),L=j+(k^z&(D^k))+B[2]+4243563512&4294967295,j=D+(L<<9&4294967295|L>>>23),L=z+(D^k&(j^D))+B[7]+1735328473&4294967295,z=j+(L<<14&4294967295|L>>>18),L=k+(j^D&(z^j))+B[12]+2368359562&4294967295,k=z+(L<<20&4294967295|L>>>12),L=D+(k^z^j)+B[5]+4294588738&4294967295,D=k+(L<<4&4294967295|L>>>28),L=j+(D^k^z)+B[8]+2272392833&4294967295,j=D+(L<<11&4294967295|L>>>21),L=z+(j^D^k)+B[11]+1839030562&4294967295,z=j+(L<<16&4294967295|L>>>16),L=k+(z^j^D)+B[14]+4259657740&4294967295,k=z+(L<<23&4294967295|L>>>9),L=D+(k^z^j)+B[1]+2763975236&4294967295,D=k+(L<<4&4294967295|L>>>28),L=j+(D^k^z)+B[4]+1272893353&4294967295,j=D+(L<<11&4294967295|L>>>21),L=z+(j^D^k)+B[7]+4139469664&4294967295,z=j+(L<<16&4294967295|L>>>16),L=k+(z^j^D)+B[10]+3200236656&4294967295,k=z+(L<<23&4294967295|L>>>9),L=D+(k^z^j)+B[13]+681279174&4294967295,D=k+(L<<4&4294967295|L>>>28),L=j+(D^k^z)+B[0]+3936430074&4294967295,j=D+(L<<11&4294967295|L>>>21),L=z+(j^D^k)+B[3]+3572445317&4294967295,z=j+(L<<16&4294967295|L>>>16),L=k+(z^j^D)+B[6]+76029189&4294967295,k=z+(L<<23&4294967295|L>>>9),L=D+(k^z^j)+B[9]+3654602809&4294967295,D=k+(L<<4&4294967295|L>>>28),L=j+(D^k^z)+B[12]+3873151461&4294967295,j=D+(L<<11&4294967295|L>>>21),L=z+(j^D^k)+B[15]+530742520&4294967295,z=j+(L<<16&4294967295|L>>>16),L=k+(z^j^D)+B[2]+3299628645&4294967295,k=z+(L<<23&4294967295|L>>>9),L=D+(z^(k|~j))+B[0]+4096336452&4294967295,D=k+(L<<6&4294967295|L>>>26),L=j+(k^(D|~z))+B[7]+1126891415&4294967295,j=D+(L<<10&4294967295|L>>>22),L=z+(D^(j|~k))+B[14]+2878612391&4294967295,z=j+(L<<15&4294967295|L>>>17),L=k+(j^(z|~D))+B[5]+4237533241&4294967295,k=z+(L<<21&4294967295|L>>>11),L=D+(z^(k|~j))+B[12]+1700485571&4294967295,D=k+(L<<6&4294967295|L>>>26),L=j+(k^(D|~z))+B[3]+2399980690&4294967295,j=D+(L<<10&4294967295|L>>>22),L=z+(D^(j|~k))+B[10]+4293915773&4294967295,z=j+(L<<15&4294967295|L>>>17),L=k+(j^(z|~D))+B[1]+2240044497&4294967295,k=z+(L<<21&4294967295|L>>>11),L=D+(z^(k|~j))+B[8]+1873313359&4294967295,D=k+(L<<6&4294967295|L>>>26),L=j+(k^(D|~z))+B[15]+4264355552&4294967295,j=D+(L<<10&4294967295|L>>>22),L=z+(D^(j|~k))+B[6]+2734768916&4294967295,z=j+(L<<15&4294967295|L>>>17),L=k+(j^(z|~D))+B[13]+1309151649&4294967295,k=z+(L<<21&4294967295|L>>>11),L=D+(z^(k|~j))+B[4]+4149444226&4294967295,D=k+(L<<6&4294967295|L>>>26),L=j+(k^(D|~z))+B[11]+3174756917&4294967295,j=D+(L<<10&4294967295|L>>>22),L=z+(D^(j|~k))+B[2]+718787259&4294967295,z=j+(L<<15&4294967295|L>>>17),L=k+(j^(z|~D))+B[9]+3951481745&4294967295,M.g[0]=M.g[0]+D&4294967295,M.g[1]=M.g[1]+(z+(L<<21&4294967295|L>>>11))&4294967295,M.g[2]=M.g[2]+z&4294967295,M.g[3]=M.g[3]+j&4294967295}r.prototype.v=function(M,D){D===void 0&&(D=M.length);const k=D-this.blockSize,B=this.C;let z=this.h,j=0;for(;j<D;){if(z==0)for(;j<=k;)i(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<D;)if(B[z++]=M.charCodeAt(j++),z==this.blockSize){i(this,B),z=0;break}}else for(;j<D;)if(B[z++]=M[j++],z==this.blockSize){i(this,B),z=0;break}}this.h=z,this.o+=D},r.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var D=1;D<M.length-8;++D)M[D]=0;D=this.o*8;for(var k=M.length-8;k<M.length;++k)M[k]=D&255,D/=256;for(this.v(M),M=Array(16),D=0,k=0;k<4;++k)for(let B=0;B<32;B+=8)M[D++]=this.g[k]>>>B&255;return M};function o(M,D){var k=u;return Object.prototype.hasOwnProperty.call(k,M)?k[M]:k[M]=D(M)}function l(M,D){this.h=D;const k=[];let B=!0;for(let z=M.length-1;z>=0;z--){const j=M[z]|0;B&&j==D||(k[z]=j,B=!1)}this.g=k}var u={};function f(M){return-128<=M&&M<128?o(M,function(D){return new l([D|0],D<0?-1:0)}):new l([M|0],M<0?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return m;if(M<0)return C(d(-M));const D=[];let k=1;for(let B=0;M>=k;B++)D[B]=M/k|0,k*=4294967296;return new l(D,0)}function h(M,D){if(M.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(M.charAt(0)=="-")return C(h(M.substring(1),D));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=d(Math.pow(D,8));let B=m;for(let j=0;j<M.length;j+=8){var z=Math.min(8,M.length-j);const L=parseInt(M.substring(j,j+z),D);z<8?(z=d(Math.pow(D,z)),B=B.j(z).add(d(L))):(B=B.j(k),B=B.add(d(L)))}return B}var m=f(0),_=f(1),E=f(16777216);t=l.prototype,t.m=function(){if(S(this))return-C(this).m();let M=0,D=1;for(let k=0;k<this.g.length;k++){const B=this.i(k);M+=(B>=0?B:4294967296+B)*D,D*=4294967296}return M},t.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(w(this))return"0";if(S(this))return"-"+C(this).toString(M);const D=d(Math.pow(M,6));var k=this;let B="";for(;;){const z=H(k,D).g;k=P(k,z.j(D));let j=((k.g.length>0?k.g[0]:k.h)>>>0).toString(M);if(k=z,w(k))return j+B;for(;j.length<6;)j="0"+j;B=j+B}},t.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function w(M){if(M.h!=0)return!1;for(let D=0;D<M.g.length;D++)if(M.g[D]!=0)return!1;return!0}function S(M){return M.h==-1}t.l=function(M){return M=P(this,M),S(M)?-1:w(M)?0:1};function C(M){const D=M.g.length,k=[];for(let B=0;B<D;B++)k[B]=~M.g[B];return new l(k,~M.h).add(_)}t.abs=function(){return S(this)?C(this):this},t.add=function(M){const D=Math.max(this.g.length,M.g.length),k=[];let B=0;for(let z=0;z<=D;z++){let j=B+(this.i(z)&65535)+(M.i(z)&65535),L=(j>>>16)+(this.i(z)>>>16)+(M.i(z)>>>16);B=L>>>16,j&=65535,L&=65535,k[z]=L<<16|j}return new l(k,k[k.length-1]&-2147483648?-1:0)};function P(M,D){return M.add(C(D))}t.j=function(M){if(w(this)||w(M))return m;if(S(this))return S(M)?C(this).j(C(M)):C(C(this).j(M));if(S(M))return C(this.j(C(M)));if(this.l(E)<0&&M.l(E)<0)return d(this.m()*M.m());const D=this.g.length+M.g.length,k=[];for(var B=0;B<2*D;B++)k[B]=0;for(B=0;B<this.g.length;B++)for(let z=0;z<M.g.length;z++){const j=this.i(B)>>>16,L=this.i(B)&65535,de=M.i(z)>>>16,ge=M.i(z)&65535;k[2*B+2*z]+=L*ge,U(k,2*B+2*z),k[2*B+2*z+1]+=j*ge,U(k,2*B+2*z+1),k[2*B+2*z+1]+=L*de,U(k,2*B+2*z+1),k[2*B+2*z+2]+=j*de,U(k,2*B+2*z+2)}for(M=0;M<D;M++)k[M]=k[2*M+1]<<16|k[2*M];for(M=D;M<2*D;M++)k[M]=0;return new l(k,0)};function U(M,D){for(;(M[D]&65535)!=M[D];)M[D+1]+=M[D]>>>16,M[D]&=65535,D++}function O(M,D){this.g=M,this.h=D}function H(M,D){if(w(D))throw Error("division by zero");if(w(M))return new O(m,m);if(S(M))return D=H(C(M),D),new O(C(D.g),C(D.h));if(S(D))return D=H(M,C(D)),new O(C(D.g),D.h);if(M.g.length>30){if(S(M)||S(D))throw Error("slowDivide_ only works with positive integers.");for(var k=_,B=D;B.l(M)<=0;)k=F(k),B=F(B);var z=G(k,1),j=G(B,1);for(B=G(B,2),k=G(k,2);!w(B);){var L=j.add(B);L.l(M)<=0&&(z=z.add(k),j=L),B=G(B,1),k=G(k,1)}return D=P(M,z.j(D)),new O(z,D)}for(z=m;M.l(D)>=0;){for(k=Math.max(1,Math.floor(M.m()/D.m())),B=Math.ceil(Math.log(k)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),j=d(k),L=j.j(D);S(L)||L.l(M)>0;)k-=B,j=d(k),L=j.j(D);w(j)&&(j=_),z=z.add(j),M=P(M,L)}return new O(z,M)}t.B=function(M){return H(this,M).h},t.and=function(M){const D=Math.max(this.g.length,M.g.length),k=[];for(let B=0;B<D;B++)k[B]=this.i(B)&M.i(B);return new l(k,this.h&M.h)},t.or=function(M){const D=Math.max(this.g.length,M.g.length),k=[];for(let B=0;B<D;B++)k[B]=this.i(B)|M.i(B);return new l(k,this.h|M.h)},t.xor=function(M){const D=Math.max(this.g.length,M.g.length),k=[];for(let B=0;B<D;B++)k[B]=this.i(B)^M.i(B);return new l(k,this.h^M.h)};function F(M){const D=M.g.length+1,k=[];for(let B=0;B<D;B++)k[B]=M.i(B)<<1|M.i(B-1)>>>31;return new l(k,M.h)}function G(M,D){const k=D>>5;D%=32;const B=M.g.length-k,z=[];for(let j=0;j<B;j++)z[j]=D>0?M.i(j+k)>>>D|M.i(j+k+1)<<32-D:M.i(j+k);return new l(z,M.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Mk=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=h,ss=l}).apply(typeof aI<"u"?aI:typeof self<"u"?self:typeof window<"u"?window:{});var Lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dk,qf,kk,sm,aE,Ok,Lk,Uk;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lp=="object"&&Lp];for(var A=0;A<v.length;++A){var R=v[A];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(v,A){if(A)e:{var R=r;v=v.split(".");for(var q=0;q<v.length-1;q++){var X=v[q];if(!(X in R))break e;R=R[X]}v=v[v.length-1],q=R[v],A=A(q),A!=q&&A!=null&&e(R,v,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(A){var R=[],q;for(q in A)Object.prototype.hasOwnProperty.call(A,q)&&R.push([q,A[q]]);return R}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(v){var A=typeof v;return A=="object"&&v!=null||A=="function"}function f(v,A,R){return v.call.apply(v.bind,arguments)}function d(v,A,R){return d=f,d.apply(null,arguments)}function h(v,A){var R=Array.prototype.slice.call(arguments,1);return function(){var q=R.slice();return q.push.apply(q,arguments),v.apply(this,q)}}function m(v,A){function R(){}R.prototype=A.prototype,v.Z=A.prototype,v.prototype=new R,v.prototype.constructor=v,v.Ob=function(q,X,ie){for(var xe=Array(arguments.length-2),He=2;He<arguments.length;He++)xe[He-2]=arguments[He];return A.prototype[X].apply(q,xe)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function E(v){const A=v.length;if(A>0){const R=Array(A);for(let q=0;q<A;q++)R[q]=v[q];return R}return[]}function w(v,A){for(let q=1;q<arguments.length;q++){const X=arguments[q];var R=typeof X;if(R=R!="object"?R:X?Array.isArray(X)?"array":R:"null",R=="array"||R=="object"&&typeof X.length=="number"){R=v.length||0;const ie=X.length||0;v.length=R+ie;for(let xe=0;xe<ie;xe++)v[R+xe]=X[xe]}else v.push(X)}}class S{constructor(A,R){this.i=A,this.j=R,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function C(v){l.setTimeout(()=>{throw v},0)}function P(){var v=M;let A=null;return v.g&&(A=v.g,v.g=v.g.next,v.g||(v.h=null),A.next=null),A}class U{constructor(){this.h=this.g=null}add(A,R){const q=O.get();q.set(A,R),this.h?this.h.next=q:this.g=q,this.h=q}}var O=new S(()=>new H,v=>v.reset());class H{constructor(){this.next=this.g=this.h=null}set(A,R){this.h=A,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let F,G=!1,M=new U,D=()=>{const v=Promise.resolve(void 0);F=()=>{v.then(k)}};function k(){for(var v;v=P();){try{v.h.call(v.g)}catch(R){C(R)}var A=O;A.j(v),A.h<100&&(A.h++,v.next=A.g,A.g=v)}G=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(v,A){this.type=v,this.g=this.target=A,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,A=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const R=()=>{};l.addEventListener("test",R,A),l.removeEventListener("test",R,A)}catch{}return v})();function L(v){return/^[\s\xa0]*$/.test(v)}function de(v,A){z.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,A)}m(de,z),de.prototype.init=function(v,A){const R=this.type=v.type,q=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=A,A=v.relatedTarget,A||(R=="mouseover"?A=v.fromElement:R=="mouseout"&&(A=v.toElement)),this.relatedTarget=A,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),K=0;function ne(v,A,R,q,X){this.listener=v,this.proxy=null,this.src=A,this.type=R,this.capture=!!q,this.ha=X,this.key=++K,this.da=this.fa=!1}function le(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Q(v,A,R){for(const q in v)A.call(R,v[q],q,v)}function be(v,A){for(const R in v)A.call(void 0,v[R],R,v)}function $(v){const A={};for(const R in v)A[R]=v[R];return A}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(v,A){let R,q;for(let X=1;X<arguments.length;X++){q=arguments[X];for(R in q)v[R]=q[R];for(let ie=0;ie<te.length;ie++)R=te[ie],Object.prototype.hasOwnProperty.call(q,R)&&(v[R]=q[R])}}function _e(v){this.src=v,this.g={},this.h=0}_e.prototype.add=function(v,A,R,q,X){const ie=v.toString();v=this.g[ie],v||(v=this.g[ie]=[],this.h++);const xe=Re(v,A,q,X);return xe>-1?(A=v[xe],R||(A.fa=!1)):(A=new ne(A,this.src,ie,!!q,X),A.fa=R,v.push(A)),A};function Ee(v,A){const R=A.type;if(R in v.g){var q=v.g[R],X=Array.prototype.indexOf.call(q,A,void 0),ie;(ie=X>=0)&&Array.prototype.splice.call(q,X,1),ie&&(le(A),v.g[R].length==0&&(delete v.g[R],v.h--))}}function Re(v,A,R,q){for(let X=0;X<v.length;++X){const ie=v[X];if(!ie.da&&ie.listener==A&&ie.capture==!!R&&ie.ha==q)return X}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),it={};function ce(v,A,R,q,X){if(Array.isArray(A)){for(let ie=0;ie<A.length;ie++)ce(v,A[ie],R,q,X);return null}return R=li(R),v&&v[ge]?v.J(A,R,u(q)?!!q.capture:!1,X):Oe(v,A,R,!1,q,X)}function Oe(v,A,R,q,X,ie){if(!A)throw Error("Invalid event type");const xe=u(X)?!!X.capture:!!X;let He=Mt(v);if(He||(v[Ie]=He=new _e(v)),R=He.add(A,R,q,xe,ie),R.proxy)return R;if(q=ue(),R.proxy=q,q.src=v,q.listener=R,v.addEventListener)j||(X=xe),X===void 0&&(X=!1),v.addEventListener(A.toString(),q,X);else if(v.attachEvent)v.attachEvent(Be(A.toString()),q);else if(v.addListener&&v.removeListener)v.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return R}function ue(){function v(R){return A.call(v.src,v.listener,R)}const A=zt;return v}function se(v,A,R,q,X){if(Array.isArray(A))for(var ie=0;ie<A.length;ie++)se(v,A[ie],R,q,X);else q=u(q)?!!q.capture:!!q,R=li(R),v&&v[ge]?(v=v.i,ie=String(A).toString(),ie in v.g&&(A=v.g[ie],R=Re(A,R,q,X),R>-1&&(le(A[R]),Array.prototype.splice.call(A,R,1),A.length==0&&(delete v.g[ie],v.h--)))):v&&(v=Mt(v))&&(A=v.g[A.toString()],v=-1,A&&(v=Re(A,R,q,X)),(R=v>-1?A[v]:null)&&et(R))}function et(v){if(typeof v!="number"&&v&&!v.da){var A=v.src;if(A&&A[ge])Ee(A.i,v);else{var R=v.type,q=v.proxy;A.removeEventListener?A.removeEventListener(R,q,v.capture):A.detachEvent?A.detachEvent(Be(R),q):A.addListener&&A.removeListener&&A.removeListener(q),(R=Mt(A))?(Ee(R,v),R.h==0&&(R.src=null,A[Ie]=null)):le(v)}}}function Be(v){return v in it?it[v]:it[v]="on"+v}function zt(v,A){if(v.da)v=!0;else{A=new de(A,this);const R=v.listener,q=v.ha||v.src;v.fa&&et(v),v=R.call(q,A)}return v}function Mt(v){return v=v[Ie],v instanceof _e?v:null}var jn="__closure_events_fn_"+(Math.random()*1e9>>>0);function li(v){return typeof v=="function"?v:(v[jn]||(v[jn]=function(A){return v.handleEvent(A)}),v[jn])}function Ut(){B.call(this),this.i=new _e(this),this.M=this,this.G=null}m(Ut,B),Ut.prototype[ge]=!0,Ut.prototype.removeEventListener=function(v,A,R,q){se(this,v,A,R,q)};function qt(v,A){var R,q=v.G;if(q)for(R=[];q;q=q.G)R.push(q);if(v=v.M,q=A.type||A,typeof A=="string")A=new z(A,v);else if(A instanceof z)A.target=A.target||v;else{var X=A;A=new z(q,v),pe(A,X)}X=!0;let ie,xe;if(R)for(xe=R.length-1;xe>=0;xe--)ie=A.g=R[xe],X=ui(ie,q,!0,A)&&X;if(ie=A.g=v,X=ui(ie,q,!0,A)&&X,X=ui(ie,q,!1,A)&&X,R)for(xe=0;xe<R.length;xe++)ie=A.g=R[xe],X=ui(ie,q,!1,A)&&X}Ut.prototype.N=function(){if(Ut.Z.N.call(this),this.i){var v=this.i;for(const A in v.g){const R=v.g[A];for(let q=0;q<R.length;q++)le(R[q]);delete v.g[A],v.h--}}this.G=null},Ut.prototype.J=function(v,A,R,q){return this.i.add(String(v),A,!1,R,q)},Ut.prototype.K=function(v,A,R,q){return this.i.add(String(v),A,!0,R,q)};function ui(v,A,R,q){if(A=v.i.g[String(A)],!A)return!0;A=A.concat();let X=!0;for(let ie=0;ie<A.length;++ie){const xe=A[ie];if(xe&&!xe.da&&xe.capture==R){const He=xe.listener,Ht=xe.ha||xe.src;xe.fa&&Ee(v.i,xe),X=He.call(Ht,q)!==!1&&X}}return X&&!q.defaultPrevented}function Pl(v,A){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=d(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:l.setTimeout(v,A||0)}function Ts(v){v.g=Pl(()=>{v.g=null,v.i&&(v.i=!1,Ts(v))},v.l);const A=v.h;v.h=null,v.m.apply(null,A)}class _n extends B{constructor(A,R){super(),this.m=A,this.l=R,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Ts(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oi(v){B.call(this),this.h=v,this.g={}}m(Oi,B);var Er=[];function Cc(v){Q(v.g,function(A,R){this.g.hasOwnProperty(R)&&et(A)},v),v.g={}}Oi.prototype.N=function(){Oi.Z.N.call(this),Cc(this)},Oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var va=l.JSON.stringify,Qy=l.JSON.parse,sh=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function lh(){}function uh(){}var ci={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pn(){z.call(this,"d")}m(Pn,z);function Vr(){z.call(this,"c")}m(Vr,z);var jt={},ch=null;function Ml(){return ch=ch||new Ut}jt.Ia="serverreachability";function fh(v){z.call(this,jt.Ia,v)}m(fh,z);function Li(v){const A=Ml();qt(A,new fh(A))}jt.STAT_EVENT="statevent";function Ss(v,A){z.call(this,jt.STAT_EVENT,v),this.stat=A}m(Ss,z);function Xt(v){const A=Ml();qt(A,new Ss(A,v))}jt.Ja="timingevent";function Ui(v,A){z.call(this,jt.Ja,v),this.size=A}m(Ui,z);function Vi(v,A){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},A)}function fi(){this.g=!0}fi.prototype.ua=function(){this.g=!1};function Zy(v,A,R,q,X,ie){v.info(function(){if(v.g)if(ie){var xe="",He=ie.split("&");for(let ut=0;ut<He.length;ut++){var Ht=He[ut].split("=");if(Ht.length>1){const Dt=Ht[0];Ht=Ht[1];const Fr=Dt.split("_");xe=Fr.length>=2&&Fr[1]=="type"?xe+(Dt+"="+Ht+"&"):xe+(Dt+"=redacted&")}}}else xe=null;else xe=ie;return"XMLHTTP REQ ("+q+") [attempt "+X+"]: "+A+`
`+R+`
`+xe})}function dh(v,A,R,q,X,ie,xe){v.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+X+"]: "+A+`
`+R+`
`+ie+" "+xe})}function zi(v,A,R,q){v.info(function(){return"XMLHTTP TEXT ("+A+"): "+ev(v,R)+(q?" "+q:"")})}function ws(v,A){v.info(function(){return"TIMEOUT: "+A})}fi.prototype.info=function(){};function ev(v,A){if(!v.g)return A;if(!A)return null;try{const ie=JSON.parse(A);if(ie){for(v=0;v<ie.length;v++)if(Array.isArray(ie[v])){var R=ie[v];if(!(R.length<2)){var q=R[1];if(Array.isArray(q)&&!(q.length<1)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(let xe=1;xe<q.length;xe++)q[xe]=""}}}}return va(ie)}catch{return A}}var As={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ic={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Nc;function Cs(){}m(Cs,lh),Cs.prototype.g=function(){return new XMLHttpRequest},Nc=new Cs;function vo(v){return encodeURIComponent(String(v))}function hh(v){var A=1;v=v.split(":");const R=[];for(;A>0&&v.length;)R.push(v.shift()),A--;return v.length&&R.push(v.join(":")),R}function di(v,A,R,q){this.j=v,this.i=A,this.l=R,this.S=q||1,this.V=new Oi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Qt={},bn={};function qi(v,A,R){v.M=1,v.A=Is(en(A)),v.u=R,v.R=!0,Dl(v,null)}function Dl(v,A){v.F=Date.now(),Bi(v),v.B=en(v.A);var R=v.B,q=v.S;Array.isArray(q)||(q=[String(q)]),Ul(R.i,"t",q),v.C=0,R=v.j.L,v.h=new hi,v.g=Ih(v.j,R?A:null,!v.u),v.P>0&&(v.O=new _n(d(v.Y,v,v.g),v.P)),A=v.V,R=v.g,q=v.ba;var X="readystatechange";Array.isArray(X)||(X&&(Er[0]=X.toString()),X=Er);for(let ie=0;ie<X.length;ie++){const xe=ce(R,X[ie],q||A.handleEvent,!1,A.h||A);if(!xe)break;A.g[xe.key]=xe}A=v.J?$(v.J):{},v.u?(v.v||(v.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,A)):(v.v="GET",v.g.ea(v.B,v.v,null,A)),Li(),Zy(v.i,v.v,v.B,v.l,v.S,v.u)}di.prototype.ba=function(v){v=v.target;const A=this.O;A&&gi(v)==3?A.j():this.Y(v)},di.prototype.Y=function(v){try{if(v==this.g)e:{const He=gi(this.g),Ht=this.g.ya(),ut=this.g.ca();if(!(He<3)&&(He!=3||this.g&&(this.h.h||this.g.la()||Mn(this.g)))){this.K||He!=4||Ht==7||(Ht==8||ut<=0?Li(3):Li(2)),Fi(this);var A=this.g.ca();this.X=A;var R=tv(this);if(this.o=A==200,dh(this.i,this.v,this.B,this.l,this.S,He,A),this.o){if(this.U&&!this.L){t:{if(this.g){var q,X=this.g;if((q=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(q)){var ie=q;break t}}ie=null}if(v=ie)zi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ji(this,v);else{this.o=!1,this.m=3,Xt(12),xr(this),zr(this);break e}}if(this.R){v=!0;let Dt;for(;!this.K&&this.C<R.length;)if(Dt=mh(this,R),Dt==bn){He==4&&(this.m=4,Xt(14),v=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Dt==Qt){this.m=4,Xt(15),zi(this.i,this.l,R,"[Invalid Chunk]"),v=!1;break}else zi(this.i,this.l,Dt,null),ji(this,Dt);if(ph(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||R.length!=0||this.h.h||(this.m=1,Xt(16),v=!1),this.o=this.o&&v,!v)zi(this.i,this.l,R,"[Invalid Chunked Response]"),xr(this),zr(this);else if(R.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),Hc(xe),xe.P=!0,Xt(11))}}else zi(this.i,this.l,R,null),ji(this,R);He==4&&xr(this),this.o&&!this.K&&(He==4?Sh(this.j,this):(this.o=!1,Bi(this)))}else bo(this.g),A==400&&R.indexOf("Unknown SID")>0?(this.m=3,Xt(12)):(this.m=0,Xt(13)),xr(this),zr(this)}}}catch{}finally{}};function tv(v){if(!ph(v))return v.g.la();const A=Mn(v.g);if(A==="")return"";let R="";const q=A.length,X=gi(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return xr(v),zr(v),"";v.h.i=new l.TextDecoder}for(let ie=0;ie<q;ie++)v.h.h=!0,R+=v.h.i.decode(A[ie],{stream:!(X&&ie==q-1)});return A.length=0,v.h.g+=R,v.C=0,v.h.g}function ph(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function mh(v,A){var R=v.C,q=A.indexOf(`
`,R);return q==-1?bn:(R=Number(A.substring(R,q)),isNaN(R)?Qt:(q+=1,q+R>A.length?bn:(A=A.slice(q,q+R),v.C=q+R,A)))}di.prototype.cancel=function(){this.K=!0,xr(this)};function Bi(v){v.T=Date.now()+v.H,kl(v,v.H)}function kl(v,A){if(v.D!=null)throw Error("WatchDog timer not null");v.D=Vi(d(v.aa,v),A)}function Fi(v){v.D&&(l.clearTimeout(v.D),v.D=null)}di.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(ws(this.i,this.B),this.M!=2&&(Li(),Xt(17)),xr(this),this.m=2,zr(this)):kl(this,this.T-v)};function zr(v){v.j.I==0||v.K||Sh(v.j,v)}function xr(v){Fi(v);var A=v.O;A&&typeof A.dispose=="function"&&A.dispose(),v.O=null,Cc(v.V),v.g&&(A=v.g,v.g=null,A.abort(),A.dispose())}function ji(v,A){try{var R=v.j;if(R.I!=0&&(R.g==v||Gi(R.h,v))){if(!v.L&&Gi(R.h,v)&&R.I==3){try{var q=R.Ba.g.parse(A)}catch{q=null}if(Array.isArray(q)&&q.length==3){var X=q;if(X[0]==0){e:if(!R.v){if(R.g)if(R.g.F+3e3<v.F)Fl(R),Aa(R);else break e;Os(R),Xt(18)}}else R.xa=X[1],0<R.xa-R.K&&X[2]<37500&&R.F&&R.A==0&&!R.C&&(R.C=Vi(d(R.Va,R),6e3));Hi(R.h)<=1&&R.ta&&(R.ta=void 0)}else Xi(R,11)}else if((v.L||R.g==v)&&Fl(R),!L(A))for(X=R.Ba.g.parse(A),A=0;A<X.length;A++){let ut=X[A];const Dt=ut[0];if(!(Dt<=R.K))if(R.K=Dt,ut=ut[1],R.I==2)if(ut[0]=="c"){R.M=ut[1],R.ba=ut[2];const Fr=ut[3];Fr!=null&&(R.ka=Fr,R.j.info("VER="+R.ka));const Qi=ut[4];Qi!=null&&(R.za=Qi,R.j.info("SVER="+R.za));const yi=ut[5];yi!=null&&typeof yi=="number"&&yi>0&&(q=1.5*yi,R.O=q,R.j.info("backChannelRequestTimeoutMs_="+q)),q=R;const vi=v.g;if(vi){const Ls=vi.g?vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ls){var ie=q.h;ie.g||Ls.indexOf("spdy")==-1&&Ls.indexOf("quic")==-1&&Ls.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Mc(ie,ie.h),ie.h=null))}if(q.G){const jl=vi.g?vi.g.getResponseHeader("X-HTTP-Session-Id"):null;jl&&(q.wa=jl,dt(q.J,q.G,jl))}}R.I=3,R.l&&R.l.ra(),R.aa&&(R.T=Date.now()-v.F,R.j.info("Handshake RTT: "+R.T+"ms")),q=R;var xe=v;if(q.na=Ch(q,q.L?q.ba:null,q.W),xe.L){Dc(q.h,xe);var He=xe,Ht=q.O;Ht&&(He.H=Ht),He.D&&(Fi(He),Bi(He)),q.g=xe}else xh(q);R.i.length>0&&Ji(R)}else ut[0]!="stop"&&ut[0]!="close"||Xi(R,7);else R.I==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?Xi(R,7):Fc(R):ut[0]!="noop"&&R.l&&R.l.qa(ut),R.A=0)}}Li(4)}catch{}}var Zt=class{constructor(v,A){this.g=v,this.map=A}};function Rc(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pc(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function Hi(v){return v.h?1:v.g?v.g.size:0}function Gi(v,A){return v.h?v.h==A:v.g?v.g.has(A):!1}function Mc(v,A){v.g?v.g.add(A):v.h=A}function Dc(v,A){v.h&&v.h==A?v.h=null:v.g&&v.g.has(A)&&v.g.delete(A)}Rc.prototype.cancel=function(){if(this.i=kc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function kc(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let A=v.i;for(const R of v.g.values())A=A.concat(R.G);return A}return E(v.i)}var gh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ol(v,A){if(v){v=v.split("&");for(let R=0;R<v.length;R++){const q=v[R].indexOf("=");let X,ie=null;q>=0?(X=v[R].substring(0,q),ie=v[R].substring(q+1)):X=v[R],A(X,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Tr(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;v instanceof Tr?(this.l=v.l,En(this,v.j),this.o=v.o,this.g=v.g,_a(this,v.u),this.h=v.h,Oc(this,bh(v.i)),this.m=v.m):v&&(A=String(v).match(gh))?(this.l=!1,En(this,A[1]||"",!0),this.o=$i(A[2]||""),this.g=$i(A[3]||"",!0),_a(this,A[4]),this.h=$i(A[5]||"",!0),Oc(this,A[6]||"",!0),this.m=$i(A[7]||"")):(this.l=!1,this.i=new Ea(null,this.l))}Tr.prototype.toString=function(){const v=[];var A=this.j;A&&v.push(Ns(A,Ll,!0),":");var R=this.g;return(R||A=="file")&&(v.push("//"),(A=this.o)&&v.push(Ns(A,Ll,!0),"@"),v.push(vo(R).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.u,R!=null&&v.push(":",String(R))),(R=this.h)&&(this.g&&R.charAt(0)!="/"&&v.push("/"),v.push(Ns(R,R.charAt(0)=="/"?Lc:yh,!0))),(R=this.i.toString())&&v.push("?",R),(R=this.m)&&v.push("#",Ns(R,vh)),v.join("")},Tr.prototype.resolve=function(v){const A=en(this);let R=!!v.j;R?En(A,v.j):R=!!v.o,R?A.o=v.o:R=!!v.g,R?A.g=v.g:R=v.u!=null;var q=v.h;if(R)_a(A,v.u);else if(R=!!v.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var X=A.h.lastIndexOf("/");X!=-1&&(q=A.h.slice(0,X+1)+q)}if(X=q,X==".."||X==".")q="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){q=X.lastIndexOf("/",0)==0,X=X.split("/");const ie=[];for(let xe=0;xe<X.length;){const He=X[xe++];He=="."?q&&xe==X.length&&ie.push(""):He==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),q&&xe==X.length&&ie.push("")):(ie.push(He),q=!0)}q=ie.join("/")}else q=X}return R?A.h=q:R=v.i.toString()!=="",R?Oc(A,bh(v.i)):R=!!v.m,R&&(A.m=v.m),A};function en(v){return new Tr(v)}function En(v,A,R){v.j=R?$i(A,!0):A,v.j&&(v.j=v.j.replace(/:$/,""))}function _a(v,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);v.u=A}else v.u=null}function Oc(v,A,R){A instanceof Ea?(v.i=A,Vl(v.i,v.l)):(R||(A=Ns(A,ba)),v.i=new Ea(A,v.l))}function dt(v,A,R){v.i.set(A,R)}function Is(v){return dt(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function $i(v,A){return v?A?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Ns(v,A,R){return typeof v=="string"?(v=encodeURI(v).replace(A,ar),R&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function ar(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Ll=/[#\/\?@]/g,yh=/[#\?:]/g,Lc=/[#\?]/g,ba=/[#\?@]/g,vh=/#/g;function Ea(v,A){this.h=this.g=null,this.i=v||null,this.j=!!A}function sr(v){v.g||(v.g=new Map,v.h=0,v.i&&Ol(v.i,function(A,R){v.add(decodeURIComponent(A.replace(/\+/g," ")),R)}))}t=Ea.prototype,t.add=function(v,A){sr(this),this.i=null,v=xa(this,v);let R=this.g.get(v);return R||this.g.set(v,R=[]),R.push(A),this.h+=1,this};function _h(v,A){sr(v),A=xa(v,A),v.g.has(A)&&(v.i=null,v.h-=v.g.get(A).length,v.g.delete(A))}function Uc(v,A){return sr(v),A=xa(v,A),v.g.has(A)}t.forEach=function(v,A){sr(this),this.g.forEach(function(R,q){R.forEach(function(X){v.call(A,X,q,this)},this)},this)};function Vc(v,A){sr(v);let R=[];if(typeof A=="string")Uc(v,A)&&(R=R.concat(v.g.get(xa(v,A))));else for(v=Array.from(v.g.values()),A=0;A<v.length;A++)R=R.concat(v[A]);return R}t.set=function(v,A){return sr(this),this.i=null,v=xa(this,v),Uc(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[A]),this.h+=1,this},t.get=function(v,A){return v?(v=Vc(this,v),v.length>0?String(v[0]):A):A};function Ul(v,A,R){_h(v,A),R.length>0&&(v.i=null,v.g.set(xa(v,A),E(R)),v.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],A=Array.from(this.g.keys());for(let q=0;q<A.length;q++){var R=A[q];const X=vo(R);R=Vc(this,R);for(let ie=0;ie<R.length;ie++){let xe=X;R[ie]!==""&&(xe+="="+vo(R[ie])),v.push(xe)}}return this.i=v.join("&")};function bh(v){const A=new Ea;return A.i=v.i,v.g&&(A.g=new Map(v.g),A.h=v.h),A}function xa(v,A){return A=String(A),v.j&&(A=A.toLowerCase()),A}function Vl(v,A){A&&!v.j&&(sr(v),v.i=null,v.g.forEach(function(R,q){const X=q.toLowerCase();q!=X&&(_h(this,q),Ul(this,X,R))},v)),v.j=A}function pi(v,A){const R=new fi;if(l.Image){const q=new Image;q.onload=h(qr,R,"TestLoadImage: loaded",!0,A,q),q.onerror=h(qr,R,"TestLoadImage: error",!1,A,q),q.onabort=h(qr,R,"TestLoadImage: abort",!1,A,q),q.ontimeout=h(qr,R,"TestLoadImage: timeout",!1,A,q),l.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=v}else A(!1)}function zc(v,A){const R=new fi,q=new AbortController,X=setTimeout(()=>{q.abort(),qr(R,"TestPingServer: timeout",!1,A)},1e4);fetch(v,{signal:q.signal}).then(ie=>{clearTimeout(X),ie.ok?qr(R,"TestPingServer: ok",!0,A):qr(R,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(X),qr(R,"TestPingServer: error",!1,A)})}function qr(v,A,R,q,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),q(R)}catch{}}function Ta(){this.g=new sh}function Ki(v){this.i=v.Sb||null,this.h=v.ab||!1}m(Ki,lh),Ki.prototype.g=function(){return new Rs(this.i,this.h)};function Rs(v,A){Ut.call(this),this.H=v,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Rs,Ut),t=Rs.prototype,t.open=function(v,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=A,this.readyState=1,mi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(A.body=v),(this.H||l).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sa(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zl(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function zl(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var A=v.value?v.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!v.done}))&&(this.response=this.responseText+=A)}v.done?Sa(this):mi(this),this.readyState==3&&zl(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,Sa(this))},t.Na=function(v){this.g&&(this.response=v,Sa(this))},t.ga=function(){this.g&&Sa(this)};function Sa(v){v.readyState=4,v.l=null,v.j=null,v.B=null,mi(v)}t.setRequestHeader=function(v,A){this.A.append(v,A)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],A=this.h.entries();for(var R=A.next();!R.done;)R=R.value,v.push(R[0]+": "+R[1]),R=A.next();return v.join(`\r
`)};function mi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Br(v){let A="";return Q(v,function(R,q){A+=q,A+=":",A+=R,A+=`\r
`}),A}function Ps(v,A,R){e:{for(q in R){var q=!1;break e}q=!0}q||(R=Br(R),typeof v=="string"?R!=null&&vo(R):dt(v,A,R))}function yt(v){Ut.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(yt,Ut);var Yi=/^https?$/i,qc=["POST","PUT"];t=yt.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,A,R,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);A=A?A.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nc.g(),this.g.onreadystatechange=_(d(this.Ca,this));try{this.B=!0,this.g.open(A,String(v),!0),this.B=!1}catch(ie){Ms(this,ie);return}if(v=R||"",R=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var X in q)R.set(X,q[X]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const ie of q.keys())R.set(ie,q.get(ie));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(R.keys()).find(ie=>ie.toLowerCase()=="content-type"),X=l.FormData&&v instanceof l.FormData,!(Array.prototype.indexOf.call(qc,A,void 0)>=0)||q||X||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,xe]of R)this.g.setRequestHeader(ie,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(ie){Ms(this,ie)}};function Ms(v,A){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=A,v.o=5,Bc(v),_o(v)}function Bc(v){v.A||(v.A=!0,qt(v,"complete"),qt(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,qt(this,"complete"),qt(this,"abort"),_o(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_o(this,!0)),yt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ds(this):this.Xa())},t.Xa=function(){Ds(this)};function Ds(v){if(v.h&&typeof o<"u"){if(v.v&&gi(v)==4)setTimeout(v.Ca.bind(v),0);else if(qt(v,"readystatechange"),gi(v)==4){v.h=!1;try{const ie=v.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var R;if(!(R=A)){var q;if(q=ie===0){let xe=String(v.D).match(gh)[1]||null;!xe&&l.self&&l.self.location&&(xe=l.self.location.protocol.slice(0,-1)),q=!Yi.test(xe?xe.toLowerCase():"")}R=q}if(R)qt(v,"complete"),qt(v,"success");else{v.o=6;try{var X=gi(v)>2?v.g.statusText:""}catch{X=""}v.l=X+" ["+v.ca()+"]",Bc(v)}}finally{_o(v)}}}}function _o(v,A){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const R=v.g;v.g=null,A||qt(v,"ready");try{R.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function gi(v){return v.g?v.g.readyState:0}t.ca=function(){try{return gi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var A=this.g.responseText;return v&&A.indexOf(v)==0&&(A=A.substring(v.length)),Qy(A)}};function Mn(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function bo(v){const A={};v=(v.g&&gi(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<v.length;q++){if(L(v[q]))continue;var R=hh(v[q]);const X=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ie=A[X]||[];A[X]=ie,ie.push(R)}be(A,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wi(v,A,R){return R&&R.internalChannelParams&&R.internalChannelParams[v]||A}function wa(v){this.za=0,this.i=[],this.j=new fi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Wi("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Wi("baseRetryDelayMs",5e3,v),this.Za=Wi("retryDelaySeedMs",1e4,v),this.Ta=Wi("forwardChannelMaxRetries",2,v),this.va=Wi("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new Rc(v&&v.concurrentRequestLimit),this.Ba=new Ta,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=wa.prototype,t.ka=8,t.I=1,t.connect=function(v,A,R,q){Xt(0),this.W=v,this.H=A||{},R&&q!==void 0&&(this.H.OSID=R,this.H.OAID=q),this.F=this.X,this.J=Ch(this,null,this.W),Ji(this)};function Fc(v){if(ql(v),v.I==3){var A=v.V++,R=en(v.J);if(dt(R,"SID",v.M),dt(R,"RID",A),dt(R,"TYPE","terminate"),ks(v,R),A=new di(v,v.j,A),A.M=2,A.A=Is(en(R)),R=!1,l.navigator&&l.navigator.sendBeacon)try{R=l.navigator.sendBeacon(A.A.toString(),"")}catch{}!R&&l.Image&&(new Image().src=A.A,R=!0),R||(A.g=Ih(A.j,null),A.g.ea(A.A)),A.F=Date.now(),Bi(A)}Ah(v)}function Aa(v){v.g&&(Hc(v),v.g.cancel(),v.g=null)}function ql(v){Aa(v),v.v&&(l.clearTimeout(v.v),v.v=null),Fl(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&l.clearTimeout(v.m),v.m=null)}function Ji(v){if(!Pc(v.h)&&!v.m){v.m=!0;var A=v.Ea;F||D(),G||(F(),G=!0),M.add(A,v),v.D=0}}function Bl(v,A){return Hi(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=A.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=Vi(d(v.Ea,v,A),wh(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const X=new di(this,this.j,v);let ie=this.o;if(this.U&&(ie?(ie=$(ie),pe(ie,this.U)):ie=this.U),this.u!==null||this.R||(X.J=ie,ie=null),this.S)e:{for(var A=0,R=0;R<this.i.length;R++){t:{var q=this.i[R];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(A+=q,A>4096){A=R;break e}if(A===4096||R===this.i.length-1){A=R+1;break e}}A=1e3}else A=1e3;A=Eh(this,X,A),R=en(this.J),dt(R,"RID",v),dt(R,"CVER",22),this.G&&dt(R,"X-HTTP-Session-Id",this.G),ks(this,R),ie&&(this.R?A="headers="+vo(Br(ie))+"&"+A:this.u&&Ps(R,this.u,ie)),Mc(this.h,X),this.Ra&&dt(R,"TYPE","init"),this.S?(dt(R,"$req",A),dt(R,"SID","null"),X.U=!0,qi(X,R,null)):qi(X,R,A),this.I=2}}else this.I==3&&(v?jc(this,v):this.i.length==0||Pc(this.h)||jc(this))};function jc(v,A){var R;A?R=A.l:R=v.V++;const q=en(v.J);dt(q,"SID",v.M),dt(q,"RID",R),dt(q,"AID",v.K),ks(v,q),v.u&&v.o&&Ps(q,v.u,v.o),R=new di(v,v.j,R,v.D+1),v.u===null&&(R.J=v.o),A&&(v.i=A.G.concat(v.i)),A=Eh(v,R,1e3),R.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),Mc(v.h,R),qi(R,q,A)}function ks(v,A){v.H&&Q(v.H,function(R,q){dt(A,q,R)}),v.l&&Q({},function(R,q){dt(A,q,R)})}function Eh(v,A,R){R=Math.min(v.i.length,R);const q=v.l?d(v.l.Ka,v.l,v):null;e:{var X=v.i;let He=-1;for(;;){const Ht=["count="+R];He==-1?R>0?(He=X[0].g,Ht.push("ofs="+He)):He=0:Ht.push("ofs="+He);let ut=!0;for(let Dt=0;Dt<R;Dt++){var ie=X[Dt].g;const Fr=X[Dt].map;if(ie-=He,ie<0)He=Math.max(0,X[Dt].g-100),ut=!1;else try{ie="req"+ie+"_"||"";try{var xe=Fr instanceof Map?Fr:Object.entries(Fr);for(const[Qi,yi]of xe){let vi=yi;u(yi)&&(vi=va(yi)),Ht.push(ie+Qi+"="+encodeURIComponent(vi))}}catch(Qi){throw Ht.push(ie+"type="+encodeURIComponent("_badmap")),Qi}}catch{q&&q(Fr)}}if(ut){xe=Ht.join("&");break e}}xe=void 0}return v=v.i.splice(0,R),A.G=v,xe}function xh(v){if(!v.g&&!v.v){v.Y=1;var A=v.Da;F||D(),G||(F(),G=!0),M.add(A,v),v.A=0}}function Os(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=Vi(d(v.Da,v),wh(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,Th(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=Vi(d(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xt(10),Aa(this),Th(this))};function Hc(v){v.B!=null&&(l.clearTimeout(v.B),v.B=null)}function Th(v){v.g=new di(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var A=en(v.na);dt(A,"RID","rpc"),dt(A,"SID",v.M),dt(A,"AID",v.K),dt(A,"CI",v.F?"0":"1"),!v.F&&v.ia&&dt(A,"TO",v.ia),dt(A,"TYPE","xmlhttp"),ks(v,A),v.u&&v.o&&Ps(A,v.u,v.o),v.O&&(v.g.H=v.O);var R=v.g;v=v.ba,R.M=1,R.A=Is(en(A)),R.u=null,R.R=!0,Dl(R,v)}t.Va=function(){this.C!=null&&(this.C=null,Aa(this),Os(this),Xt(19))};function Fl(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function Sh(v,A){var R=null;if(v.g==A){Fl(v),Hc(v),v.g=null;var q=2}else if(Gi(v.h,A))R=A.G,Dc(v.h,A),q=1;else return;if(v.I!=0){if(A.o)if(q==1){R=A.u?A.u.length:0,A=Date.now()-A.F;var X=v.D;q=Ml(),qt(q,new Ui(q,R)),Ji(v)}else xh(v);else if(X=A.m,X==3||X==0&&A.X>0||!(q==1&&Bl(v,A)||q==2&&Os(v)))switch(R&&R.length>0&&(A=v.h,A.i=A.i.concat(R)),X){case 1:Xi(v,5);break;case 4:Xi(v,10);break;case 3:Xi(v,6);break;default:Xi(v,2)}}}function wh(v,A){let R=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(R*=2),R*A}function Xi(v,A){if(v.j.info("Error code "+A),A==2){var R=d(v.bb,v),q=v.Ua;const X=!q;q=new Tr(q||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||En(q,"https"),Is(q),X?pi(q.toString(),R):zc(q.toString(),R)}else Xt(2);v.I=0,v.l&&v.l.pa(A),Ah(v),ql(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function Ah(v){if(v.I=0,v.ja=[],v.l){const A=kc(v.h);(A.length!=0||v.i.length!=0)&&(w(v.ja,A),w(v.ja,v.i),v.h.i.length=0,E(v.i),v.i.length=0),v.l.oa()}}function Ch(v,A,R){var q=R instanceof Tr?en(R):new Tr(R);if(q.g!="")A&&(q.g=A+"."+q.g),_a(q,q.u);else{var X=l.location;q=X.protocol,A=A?A+"."+X.hostname:X.hostname,X=+X.port;const ie=new Tr(null);q&&En(ie,q),A&&(ie.g=A),X&&_a(ie,X),R&&(ie.h=R),q=ie}return R=v.G,A=v.wa,R&&A&&dt(q,R,A),dt(q,"VER",v.ka),ks(v,q),q}function Ih(v,A,R){if(A&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=v.Aa&&!v.ma?new yt(new Ki({ab:R})):new yt(v.ma),A.Fa(v.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nh(){}t=Nh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ca(){}Ca.prototype.g=function(v,A){return new Zn(v,A)};function Zn(v,A){Ut.call(this),this.g=new wa(A),this.l=v,this.h=A&&A.messageUrlParams||null,v=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(v?v["X-WebChannel-Content-Type"]=A.messageContentType:v={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(v?v["X-WebChannel-Client-Profile"]=A.sa:v={"X-WebChannel-Client-Profile":A.sa}),this.g.U=v,(v=A&&A.Qb)&&!L(v)&&(this.g.u=v),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!L(A)&&(this.g.G=A,v=this.h,v!==null&&A in v&&(v=this.h,A in v&&delete v[A])),this.j=new Eo(this)}m(Zn,Ut),Zn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){Fc(this.g)},Zn.prototype.o=function(v){var A=this.g;if(typeof v=="string"){var R={};R.__data__=v,v=R}else this.v&&(R={},R.__data__=va(v),v=R);A.i.push(new Zt(A.Ya++,v)),A.I==3&&Ji(A)},Zn.prototype.N=function(){this.g.l=null,delete this.j,Fc(this.g),delete this.g,Zn.Z.N.call(this)};function Rh(v){Pn.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var A=v.__sm__;if(A){e:{for(const R in A){v=R;break e}v=void 0}(this.i=v)&&(v=this.i,A=A!==null&&v in A?A[v]:void 0),this.data=A}else this.data=v}m(Rh,Pn);function Ph(){Vr.call(this),this.status=1}m(Ph,Vr);function Eo(v){this.g=v}m(Eo,Nh),Eo.prototype.ra=function(){qt(this.g,"a")},Eo.prototype.qa=function(v){qt(this.g,new Rh(v))},Eo.prototype.pa=function(v){qt(this.g,new Ph)},Eo.prototype.oa=function(){qt(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,Uk=function(){return new Ca},Lk=function(){return Ml()},Ok=jt,aE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,sm=As,Ic.COMPLETE="complete",kk=Ic,uh.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",Ut.prototype.listen=Ut.prototype.J,qf=uh,yt.prototype.listenOnce=yt.prototype.K,yt.prototype.getLastError=yt.prototype.Ha,yt.prototype.getLastErrorCode=yt.prototype.ya,yt.prototype.getStatus=yt.prototype.ca,yt.prototype.getResponseJson=yt.prototype.La,yt.prototype.getResponseText=yt.prototype.la,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Fa,Dk=yt}).apply(typeof Lp<"u"?Lp:typeof self<"u"?self:typeof window<"u"?window:{});const sI="@firebase/firestore",lI="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=new Ox("@firebase/firestore");function xu(){return yl.logLevel}function we(t,...e){if(yl.logLevel<=Xe.DEBUG){const n=e.map(Vx);yl.debug(`Firestore (${cc}): ${t}`,...n)}}function Wo(t,...e){if(yl.logLevel<=Xe.ERROR){const n=e.map(Vx);yl.error(`Firestore (${cc}): ${t}`,...n)}}function ju(t,...e){if(yl.logLevel<=Xe.WARN){const n=e.map(Vx);yl.warn(`Firestore (${cc}): ${t}`,...n)}}function Vx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Vk(t,r,n)}function Vk(t,e,n){let r=`FIRESTORE (${cc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Wo(r),new Error(r)}function ft(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Vk(e,i,r)}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends la{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Kn.UNAUTHENTICATED)))}shutdown(){}}class uj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class cj{constructor(e){this.t=e,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new sl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new sl,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new sl)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft(typeof r.accessToken=="string",31837,{l:r}),new zk(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new Kn(e)}}class fj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new fj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Kn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0,3512);const r=o=>{o.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,we("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new uI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new uI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=pj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function sE(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return s_(i)===s_(o)?Qe(i,o):s_(i)?1:-1}return Qe(t.length,e.length)}const mj=55296,gj=57343;function s_(t){const e=t.charCodeAt(0);return e>=mj&&e<=gj}function Hu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="__name__";class ro{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ro.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ro?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=ro.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Qe(e.length,n.length)}static compareSegments(e,n){const r=ro.isNumericId(e),i=ro.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ro.extractNumericId(e).compare(ro.extractNumericId(n)):sE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class wt extends ro{construct(e,n,r){return new wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new wt(n)}static emptyPath(){return new wt([])}}const yj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends ro{construct(e,n,r){return new qn(e,n,r)}static isValidIdentifier(e){return yj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cI}static keyField(){return new qn([cI])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Se(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Se(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new Se(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qn(n)}static emptyPath(){return new qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(wt.fromString(e))}static fromName(e){return new ke(wt.fromString(e).popFirst(5))}static empty(){return new ke(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t,e,n){if(!n)throw new Se(ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vj(t,e,n,r){if(e===!0&&r===!0)throw new Se(ye.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fI(t){if(!ke.isDocumentKey(t))throw new Se(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dI(t){if(ke.isDocumentKey(t))throw new Se(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $g(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue(12329,{type:typeof t})}function ll(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$g(t);throw new Se(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,e){const n={typeString:t};return e&&(n.value=e),n}function Cd(t,e){if(!Bk(t))throw new Se(ye.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Se(ye.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=-62135596800,pI=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*pI);return new Rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hI)throw new Se(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pI}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cd(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:un("string",Rt._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new Rt(0,0))}static max(){return new qe(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=-1;function _j(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=qe.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new cs(i,ke.empty(),e)}function bj(t){return new cs(t.readTime,t.key,rd)}class cs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cs(qe.min(),ke.empty(),rd)}static max(){return new cs(qe.max(),ke.empty(),rd)}}function Ej(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(t){if(t.code!==ye.FAILED_PRECONDITION||t.message!==xj)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.reject(n)}static resolve(e){return new ve(((n,r)=>{n(e)}))}static reject(e){return new ve(((n,r)=>{r(e)}))}static waitFor(e){return new ve(((n,r)=>{let i=0,o=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++o,l&&o===i&&n()}),(f=>r(f)))})),l=!0,o===i&&n()}))}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next((i=>i?ve.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new ve(((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let f=0;f<o;f++){const d=f;n(e[d]).next((h=>{l[d]=h,++u,u===o&&r(l)}),(h=>i(h)))}}))}static doWhile(e,n){return new ve(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function Sj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=-1;function Yg(t){return t==null}function Pm(t){return t===0&&1/t==-1/0}function wj(t){return typeof t=="number"&&Number.isInteger(t)&&!Pm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="";function Aj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mI(e)),e=Cj(t.get(n),e);return mI(e)}function Cj(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case Fk:n+="";break;default:n+=o}}return n}function mI(t){return t+Fk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ys(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||Vn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Up(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Up(this.root,e,this.comparator,!1)}getReverseIterator(){return new Up(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Up(this.root,e,this.comparator,!0)}}class Up{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Vn.RED,this.left=i??Vn.EMPTY,this.right=o??Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Vn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Vn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1;Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yI(this.data.getIterator())}getIteratorFrom(e){return new yI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new pn(this.comparator);return n.data=e,n}}class yI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.fields=e,e.sort(qn.comparator)}static empty(){return new Dr([])}unionWith(e){let n=new pn(qn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Hk("Invalid base64 string: "+o):o}})(e);return new Fn(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new Fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const Ij=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(t){if(ft(!!t,39018),typeof t=="string"){let e=0;const n=Ij.exec(t);if(ft(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ds(t){return typeof t=="string"?Fn.fromBase64String(t):Fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="server_timestamp",$k="__type__",Kk="__previous_value__",Yk="__local_write_time__";function Bx(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[$k])==null?void 0:r.stringValue)===Gk}function Wg(t){const e=t.mapValue.fields[Kk];return Bx(e)?Wg(e):e}function id(t){const e=fs(t.mapValue.fields[Yk].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n,r,i,o,l,u,f,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=h}}const Mm="(default)";class od{constructor(e,n){this.projectId=e,this.database=n||Mm}static empty(){return new od("","")}get isDefaultDatabase(){return this.database===Mm}isEqual(e){return e instanceof od&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="__type__",Rj="__max__",Vp={mapValue:{}},Jk="__vector__",Dm="value";function hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bx(t)?4:Mj(t)?9007199254740991:Pj(t)?10:11:Ue(28295,{value:t})}function fo(t,e){if(t===e)return!0;const n=hs(t);if(n!==hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return id(t).isEqual(id(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=fs(i.timestampValue),u=fs(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return ds(i.bytesValue).isEqual(ds(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Yt(i.geoPointValue.latitude)===Yt(o.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Yt(i.integerValue)===Yt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Yt(i.doubleValue),u=Yt(o.doubleValue);return l===u?Pm(l)===Pm(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Hu(t.arrayValue.values||[],e.arrayValue.values||[],fo);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(gI(l)!==gI(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!fo(l[f],u[f])))return!1;return!0})(t,e);default:return Ue(52216,{left:t})}}function ad(t,e){return(t.values||[]).find((n=>fo(n,e)))!==void 0}function Gu(t,e){if(t===e)return 0;const n=hs(t),r=hs(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const u=Yt(o.integerValue||o.doubleValue),f=Yt(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return vI(t.timestampValue,e.timestampValue);case 4:return vI(id(t),id(e));case 5:return sE(t.stringValue,e.stringValue);case 6:return(function(o,l){const u=ds(o),f=ds(l);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const u=o.split("/"),f=l.split("/");for(let d=0;d<u.length&&d<f.length;d++){const h=Qe(u[d],f[d]);if(h!==0)return h}return Qe(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const u=Qe(Yt(o.latitude),Yt(l.latitude));return u!==0?u:Qe(Yt(o.longitude),Yt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return _I(t.arrayValue,e.arrayValue);case 10:return(function(o,l){var _,E,w,S;const u=o.fields||{},f=l.fields||{},d=(_=u[Dm])==null?void 0:_.arrayValue,h=(E=f[Dm])==null?void 0:E.arrayValue,m=Qe(((w=d==null?void 0:d.values)==null?void 0:w.length)||0,((S=h==null?void 0:h.values)==null?void 0:S.length)||0);return m!==0?m:_I(d,h)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Vp.mapValue&&l===Vp.mapValue)return 0;if(o===Vp.mapValue)return 1;if(l===Vp.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),d=l.fields||{},h=Object.keys(d);f.sort(),h.sort();for(let m=0;m<f.length&&m<h.length;++m){const _=sE(f[m],h[m]);if(_!==0)return _;const E=Gu(u[f[m]],d[h[m]]);if(E!==0)return E}return Qe(f.length,h.length)})(t.mapValue,e.mapValue);default:throw Ue(23264,{he:n})}}function vI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=fs(t),r=fs(e),i=Qe(n.seconds,r.seconds);return i!==0?i:Qe(n.nanos,r.nanos)}function _I(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Gu(n[i],r[i]);if(o)return o}return Qe(n.length,r.length)}function $u(t){return lE(t)}function lE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=fs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ds(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=lE(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${lE(n.fields[l])}`;return i+"}"})(t.mapValue):Ue(61005,{value:t})}function lm(t){switch(hs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wg(t);return e?16+lm(e):16;case 5:return 2*t.stringValue.length;case 6:return ds(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+lm(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ys(r.fields,((o,l)=>{i+=o.length+lm(l)})),i})(t.mapValue);default:throw Ue(13486,{value:t})}}function bI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function uE(t){return!!t&&"integerValue"in t}function Fx(t){return!!t&&"arrayValue"in t}function EI(t){return!!t&&"nullValue"in t}function xI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function um(t){return!!t&&"mapValue"in t}function Pj(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Wk])==null?void 0:r.stringValue)===Jk}function Kf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ys(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Kf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kf(t.arrayValue.values[n]);return e}return{...t}}function Mj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Rj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!um(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kf(n)}setAll(e){let n=qn.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Kf(l):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());um(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];um(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ys(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new gr(Kf(this.value))}}function Xk(t){const e=[];return ys(t.fields,((n,r)=>{const i=new qn([n]);if(um(r)){const o=Xk(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new Dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,n,r,i,o,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Yn(e,0,qe.min(),qe.min(),qe.min(),gr.empty(),0)}static newFoundDocument(e,n,r,i){return new Yn(e,1,n,qe.min(),r,i,0)}static newNoDocument(e,n){return new Yn(e,2,n,qe.min(),qe.min(),gr.empty(),0)}static newUnknownDocument(e,n){return new Yn(e,3,n,qe.min(),qe.min(),gr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n){this.position=e,this.inclusive=n}}function TI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=ke.comparator(ke.fromName(l.referenceValue),n.key):r=Gu(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function SI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n="asc"){this.field=e,this.dir=n}}function Dj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{}class ln extends Qk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Oj(e,n,r):n==="array-contains"?new Vj(e,r):n==="in"?new zj(e,r):n==="not-in"?new qj(e,r):n==="array-contains-any"?new Bj(e,r):new ln(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Lj(e,r):new Uj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Gu(n,this.value)):n!==null&&hs(this.value)===hs(n)&&this.matchesComparison(Gu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends Qk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ni(e,n)}matches(e){return Zk(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Zk(t){return t.op==="and"}function eO(t){return kj(t)&&Zk(t)}function kj(t){for(const e of t.filters)if(e instanceof Ni)return!1;return!0}function cE(t){if(t instanceof ln)return t.field.canonicalString()+t.op.toString()+$u(t.value);if(eO(t))return t.filters.map((e=>cE(e))).join(",");{const e=t.filters.map((n=>cE(n))).join(",");return`${t.op}(${e})`}}function tO(t,e){return t instanceof ln?(function(r,i){return i instanceof ln&&r.op===i.op&&r.field.isEqual(i.field)&&fo(r.value,i.value)})(t,e):t instanceof Ni?(function(r,i){return i instanceof Ni&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,l,u)=>o&&tO(l,i.filters[u])),!0):!1})(t,e):void Ue(19439)}function nO(t){return t instanceof ln?(function(n){return`${n.field.canonicalString()} ${n.op} ${$u(n.value)}`})(t):t instanceof Ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(nO).join(" ,")+"}"})(t):"Filter"}class Oj extends ln{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class Lj extends ln{constructor(e,n){super(e,"in",n),this.keys=rO("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Uj extends ln{constructor(e,n){super(e,"not-in",n),this.keys=rO("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function rO(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ke.fromName(r.referenceValue)))}class Vj extends ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fx(n)&&ad(n.arrayValue,this.value)}}class zj extends ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ad(this.value.arrayValue,n)}}class qj extends ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ad(this.value.arrayValue,n)}}class Bj extends ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ad(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function wI(t,e=null,n=[],r=[],i=null,o=null,l=null){return new Fj(t,e,n,r,i,o,l)}function jx(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>cE(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Yg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>$u(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>$u(r))).join(",")),e.Te=n}return e.Te}function Hx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Dj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!SI(t.startAt,e.startAt)&&SI(t.endAt,e.endAt)}function fE(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n=null,r=[],i=[],o=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jj(t,e,n,r,i,o,l,u){return new Id(t,e,n,r,i,o,l,u)}function Gx(t){return new Id(t)}function AI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iO(t){return t.collectionGroup!==null}function Yf(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new pn(qn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Om(o,r))})),n.has(qn.keyField().canonicalString())||e.Ie.push(new Om(qn.keyField(),r))}return e.Ie}function oo(t){const e=je(t);return e.Ee||(e.Ee=Hj(e,Yf(t))),e.Ee}function Hj(t,e){if(t.limitType==="F")return wI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Om(i.field,o)}));const n=t.endAt?new km(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new km(t.startAt.position,t.startAt.inclusive):null;return wI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dE(t,e){const n=t.filters.concat([e]);return new Id(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hE(t,e,n){return new Id(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jg(t,e){return Hx(oo(t),oo(e))&&t.limitType===e.limitType}function oO(t){return`${jx(oo(t))}|lt:${t.limitType}`}function Tu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>nO(i))).join(", ")}]`),Yg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>$u(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>$u(i))).join(",")),`Target(${r})`})(oo(t))}; limitType=${t.limitType})`}function Xg(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ke.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of Yf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,f){const d=TI(l,u,f);return l.inclusive?d<=0:d<0})(r.startAt,Yf(r),i)||r.endAt&&!(function(l,u,f){const d=TI(l,u,f);return l.inclusive?d>=0:d>0})(r.endAt,Yf(r),i))})(t,e)}function Gj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aO(t){return(e,n)=>{let r=!1;for(const i of Yf(t)){const o=$j(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function $j(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):(function(o,l,u){const f=l.data.field(o),d=u.data.field(o);return f!==null&&d!==null?Gu(f,d):Ue(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return jk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=new Vt(ke.comparator);function Jo(){return Kj}const sO=new Vt(ke.comparator);function Bf(...t){let e=sO;for(const n of t)e=e.insert(n.key,n);return e}function lO(t){let e=sO;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function nl(){return Wf()}function uO(){return Wf()}function Wf(){return new wl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Yj=new Vt(ke.comparator),Wj=new pn(ke.comparator);function Ze(...t){let e=Wj;for(const n of t)e=e.add(n);return e}const Jj=new pn(Qe);function Xj(){return Jj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pm(e)?"-0":e}}function cO(t){return{integerValue:""+t}}function Qj(t,e){return wj(e)?cO(e):$x(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this._=void 0}}function Zj(t,e,n){return t instanceof Lm?(function(i,o){const l={fields:{[$k]:{stringValue:Gk},[Yk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Bx(o)&&(o=Wg(o)),o&&(l.fields[Kk]=o),{mapValue:l}})(n,e):t instanceof sd?dO(t,e):t instanceof ld?hO(t,e):(function(i,o){const l=fO(i,o),u=CI(l)+CI(i.Ae);return uE(l)&&uE(i.Ae)?cO(u):$x(i.serializer,u)})(t,e)}function e9(t,e,n){return t instanceof sd?dO(t,e):t instanceof ld?hO(t,e):n}function fO(t,e){return t instanceof Um?(function(r){return uE(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Lm extends Qg{}class sd extends Qg{constructor(e){super(),this.elements=e}}function dO(t,e){const n=pO(e);for(const r of t.elements)n.some((i=>fo(i,r)))||n.push(r);return{arrayValue:{values:n}}}class ld extends Qg{constructor(e){super(),this.elements=e}}function hO(t,e){let n=pO(e);for(const r of t.elements)n=n.filter((i=>!fo(i,r)));return{arrayValue:{values:n}}}class Um extends Qg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function CI(t){return Yt(t.integerValue||t.doubleValue)}function pO(t){return Fx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function t9(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof sd&&i instanceof sd||r instanceof ld&&i instanceof ld?Hu(r.elements,i.elements,fo):r instanceof Um&&i instanceof Um?fo(r.Ae,i.Ae):r instanceof Lm&&i instanceof Lm})(t.transform,e.transform)}class n9{constructor(e,n){this.version=e,this.transformResults=n}}class ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zg{}function mO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kx(t.key,ni.none()):new Nd(t.key,t.data,ni.none());{const n=t.data,r=gr.empty();let i=new pn(qn.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new vs(t.key,r,new Dr(i.toArray()),ni.none())}}function r9(t,e,n){t instanceof Nd?(function(i,o,l){const u=i.value.clone(),f=NI(i.fieldTransforms,o,l.transformResults);u.setAll(f),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof vs?(function(i,o,l){if(!cm(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=NI(i.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(gO(i)),f.setAll(u),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Jf(t,e,n,r){return t instanceof Nd?(function(o,l,u,f){if(!cm(o.precondition,l))return u;const d=o.value.clone(),h=RI(o.fieldTransforms,f,l);return d.setAll(h),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof vs?(function(o,l,u,f){if(!cm(o.precondition,l))return u;const d=RI(o.fieldTransforms,f,l),h=l.data;return h.setAll(gO(o)),h.setAll(d),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(o,l,u){return cm(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function i9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=fO(r.transform,i||null);o!=null&&(n===null&&(n=gr.empty()),n.set(r.field,o))}return n||null}function II(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hu(r,i,((o,l)=>t9(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nd extends Zg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vs extends Zg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function gO(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function NI(t,e,n){const r=new Map;ft(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,e9(l,u,n[i]))}return r}function RI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,Zj(o,l,e))}return r}class Kx extends Zg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o9 extends Zg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&r9(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uO();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(i.key)?null:u;const f=mO(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ze())}isEqual(e){return this.batchId===e.batchId&&Hu(this.mutations,e.mutations,((n,r)=>II(n,r)))&&Hu(this.baseMutations,e.baseMutations,((n,r)=>II(n,r)))}}class Yx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ft(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Yj})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new Yx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,nt;function u9(t){switch(t){case ye.OK:return Ue(64938);case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return Ue(15467,{code:t})}}function yO(t){if(t===void 0)return Wo("GRPC error has no .code"),ye.UNKNOWN;switch(t){case an.OK:return ye.OK;case an.CANCELLED:return ye.CANCELLED;case an.UNKNOWN:return ye.UNKNOWN;case an.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case an.INTERNAL:return ye.INTERNAL;case an.UNAVAILABLE:return ye.UNAVAILABLE;case an.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case an.NOT_FOUND:return ye.NOT_FOUND;case an.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case an.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case an.ABORTED:return ye.ABORTED;case an.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case an.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case an.DATA_LOSS:return ye.DATA_LOSS;default:return Ue(39323,{code:t})}}(nt=an||(an={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=new ss([4294967295,4294967295],0);function PI(t){const e=c9().encode(t),n=new Mk;return n.update(e),new Uint8Array(n.digest())}function MI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ss([n,r],0),new ss([i,o],0)]}class Wx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ff(`Invalid padding: ${n}`);if(r<0)throw new Ff(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ff(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ff(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ss.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ss.fromNumber(r)));return i.compare(f9)===1&&(i=new ss([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=PI(e),[r,i]=MI(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Wx(o,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=PI(e),[r,i]=MI(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ff extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ey(qe.min(),i,new Vt(Qe),Jo(),Ze())}}class Rd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rd(r,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class vO{constructor(e,n){this.targetId=e,this.Ce=n}}class _O{constructor(e,n,r=Fn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class DI{constructor(){this.ve=0,this.Fe=kI(),this.Me=Fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ze(),n=Ze(),r=Ze();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ue(38017,{changeType:o})}})),new Rd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=kI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class d9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jo(),this.Je=zp(),this.He=zp(),this.Ye=new Vt(Qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(fE(o))if(r===0){const l=new ke(o.path);this.et(n,l,Yn.newNoDocument(l,qe.min()))}else ft(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,u;try{l=ds(r).toUint8Array()}catch(f){if(f instanceof Hk)return ju("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new Wx(l,i,o)}catch(f){return ju(f instanceof Ff?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&fE(u.target)){const f=new ke(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Yn.newNoDocument(f,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=Ze();this.He.forEach(((o,l)=>{let u=!0;l.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const i=new ey(e,n,this.Ye,this.je,r);return this.je=Jo(),this.Je=zp(),this.He=zp(),this.Ye=new Vt(Qe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new DI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pn(Qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pn(Qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new DI),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zp(){return new Vt(ke.comparator)}function kI(){return new Vt(ke.comparator)}const h9={asc:"ASCENDING",desc:"DESCENDING"},p9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m9={and:"AND",or:"OR"};class g9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pE(t,e){return t.useProto3Json||Yg(e)?e:{value:e}}function Vm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function y9(t,e){return Vm(t,e.toTimestamp())}function ao(t){return ft(!!t,49232),qe.fromTimestamp((function(n){const r=fs(n);return new Rt(r.seconds,r.nanos)})(t))}function Jx(t,e){return mE(t,e).canonicalString()}function mE(t,e){const n=(function(i){return new wt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function EO(t){const e=wt.fromString(t);return ft(AO(e),10190,{key:e.toString()}),e}function gE(t,e){return Jx(t.databaseId,e.path)}function l_(t,e){const n=EO(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(TO(n))}function xO(t,e){return Jx(t.databaseId,e)}function v9(t){const e=EO(t);return e.length===4?wt.emptyPath():TO(e)}function yE(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TO(t){return ft(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function OI(t,e,n){return{name:gE(t,e),fields:n.value.mapValue.fields}}function _9(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ue(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(d,h){return d.useProto3Json?(ft(h===void 0||typeof h=="string",58123),Fn.fromBase64String(h||"")):(ft(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Fn.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(d){const h=d.code===void 0?ye.UNKNOWN:yO(d.code);return new Se(h,d.message||"")})(l);n=new _O(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=l_(t,r.document.name),o=ao(r.document.updateTime),l=r.document.createTime?ao(r.document.createTime):qe.min(),u=new gr({mapValue:{fields:r.document.fields}}),f=Yn.newFoundDocument(i,o,l,u),d=r.targetIds||[],h=r.removedTargetIds||[];n=new fm(d,h,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=l_(t,r.document),o=r.readTime?ao(r.readTime):qe.min(),l=Yn.newNoDocument(i,o),u=r.removedTargetIds||[];n=new fm([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=l_(t,r.document),o=r.removedTargetIds||[];n=new fm([],o,i,null)}else{if(!("filter"in e))return Ue(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new l9(i,o),u=r.targetId;n=new vO(u,l)}}return n}function b9(t,e){let n;if(e instanceof Nd)n={update:OI(t,e.key,e.value)};else if(e instanceof Kx)n={delete:gE(t,e.key)};else if(e instanceof vs)n={update:OI(t,e.key,e.data),updateMask:N9(e.fieldMask)};else{if(!(e instanceof o9))return Ue(16599,{Vt:e.type});n={verify:gE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const u=l.transform;if(u instanceof Lm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof sd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ld)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Um)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ue(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:y9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ue(27497)})(t,e.precondition)),n}function E9(t,e){return t&&t.length>0?(ft(e!==void 0,14353),t.map((n=>(function(i,o){let l=i.updateTime?ao(i.updateTime):ao(o);return l.isEqual(qe.min())&&(l=ao(o)),new n9(l,i.transformResults||[])})(n,e)))):[]}function x9(t,e){return{documents:[xO(t,e.path)]}}function T9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xO(t,i);const o=(function(d){if(d.length!==0)return wO(Ni.create(d,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(d){if(d.length!==0)return d.map((h=>(function(_){return{field:Su(_.field),direction:A9(_.dir)}})(h)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=pE(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function S9(t){let e=v9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ft(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(m){const _=SO(m);return _ instanceof Ni&&eO(_)?_.getFilters():[_]})(n.where));let l=[];n.orderBy&&(l=(function(m){return m.map((_=>(function(w){return new Om(wu(w.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(_)))})(n.orderBy));let u=null;n.limit&&(u=(function(m){let _;return _=typeof m=="object"?m.value:m,Yg(_)?null:_})(n.limit));let f=null;n.startAt&&(f=(function(m){const _=!!m.before,E=m.values||[];return new km(E,_)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const _=!m.before,E=m.values||[];return new km(E,_)})(n.endAt)),jj(e,i,l,o,u,"F",f,d)}function w9(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SO(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wu(n.unaryFilter.field);return ln.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=wu(n.unaryFilter.field);return ln.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wu(n.unaryFilter.field);return ln.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=wu(n.unaryFilter.field);return ln.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(t):t.fieldFilter!==void 0?(function(n){return ln.create(wu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ni.create(n.compositeFilter.filters.map((r=>SO(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(n.compositeFilter.op))})(t):Ue(30097,{filter:t})}function A9(t){return h9[t]}function C9(t){return p9[t]}function I9(t){return m9[t]}function Su(t){return{fieldPath:t.canonicalString()}}function wu(t){return qn.fromServerFormat(t.fieldPath)}function wO(t){return t instanceof ln?(function(n){if(n.op==="=="){if(xI(n.value))return{unaryFilter:{field:Su(n.field),op:"IS_NAN"}};if(EI(n.value))return{unaryFilter:{field:Su(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xI(n.value))return{unaryFilter:{field:Su(n.field),op:"IS_NOT_NAN"}};if(EI(n.value))return{unaryFilter:{field:Su(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Su(n.field),op:C9(n.op),value:n.value}}})(t):t instanceof Ni?(function(n){const r=n.getFilters().map((i=>wO(i)));return r.length===1?r[0]:{compositeFilter:{op:I9(n.op),filters:r}}})(t):Ue(54877,{filter:t})}function N9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function AO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r,i,o=qe.min(),l=qe.min(),u=Fn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e){this.yt=e}}function P9(t){const e=S9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(){this.Cn=new D9}addToCollectionParentIndex(e,n){return this.Cn.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(cs.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class D9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pn(wt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pn(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CO=41943040;class mr{static withCacheSize(e){return new mr(e,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr.DEFAULT_COLLECTION_PERCENTILE=10,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mr.DEFAULT=new mr(CO,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mr.DISABLED=new mr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ku(0)}static cr(){return new Ku(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="LruGarbageCollector",k9=1048576;function VI([t,e],[n,r]){const i=Qe(t,n);return i===0?Qe(e,r):i}class O9{constructor(e){this.Ir=e,this.buffer=new pn(VI),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();VI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class L9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(UI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){dc(n)?we(UI,"Ignoring IndexedDB error during garbage collection: ",n):await fc(n)}await this.Vr(3e5)}))}}class U9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ve.resolve(Kg.ce);const r=new O9(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(LI)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LI):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,l,u,f,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,l=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,u=Date.now(),this.removeTargets(e,r,n)))).next((m=>(o=m,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),xu()<=Xe.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-h}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${m} documents in `+(d-f)+`ms
Total Duration: ${d-h}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m}))))}}function V9(t,e){return new U9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(){this.changes=new wl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Jf(r.mutation,i,Dr.empty(),Rt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ze()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ze()){const i=nl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let l=Bf();return o.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=nl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ze())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let o=Jo();const l=Wf(),u=(function(){return Wf()})();return n.forEach(((f,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof vs)?o=o.insert(d.key,d):h!==void 0?(l.set(d.key,h.mutation.getFieldMask()),Jf(h.mutation,d,h.mutation.getFieldMask(),Rt.now())):l.set(d.key,Dr.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,h)=>l.set(d,h))),n.forEach(((d,h)=>u.set(d,new q9(h,l.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Wf();let i=new Vt(((l,u)=>l-u)),o=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((f=>{const d=n.get(f);if(d===null)return;let h=r.get(f)||Dr.empty();h=u.applyToLocalView(d,h),r.set(f,h);const m=(i.get(u.batchId)||Ze()).add(f);i=i.insert(u.batchId,m)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,h=f.value,m=uO();h.forEach((_=>{if(!o.has(_)){const E=mO(n.get(_),r.get(_));E!==null&&m.set(_,E),o=o.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(e,d,m))}return ve.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return ke.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ve.resolve(nl());let u=rd,f=o;return l.next((d=>ve.forEach(d,((h,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),o.get(h)?ve.resolve():this.remoteDocumentCache.getEntry(e,h).next((_=>{f=f.insert(h,_)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,Ze()))).next((h=>({batchId:u,changes:lO(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((r=>{let i=Bf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=Bf();return this.indexManager.getCollectionParents(e,o).next((u=>ve.forEach(u,(f=>{const d=(function(m,_){return new Id(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((h=>{h.forEach(((m,_)=>{l=l.insert(m,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((l=>{o.forEach(((f,d)=>{const h=d.getKey();l.get(h)===null&&(l=l.insert(h,Yn.newInvalidDocument(h)))}));let u=Bf();return l.forEach(((f,d)=>{const h=o.get(f);h!==void 0&&Jf(h.mutation,d,Dr.empty(),Rt.now()),Xg(n,d)&&(u=u.insert(f,d))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ve.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ao(i.createTime)}})(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:P9(i.bundledQuery),readTime:ao(i.readTime)}})(n)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(){this.overlays=new Vt(ke.comparator),this.qr=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=nl();return ve.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=nl(),o=n.length+1,l=new ke(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Vt(((d,h)=>d-h));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=o.get(d.largestBatchId);h===null&&(h=nl(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const u=nl(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,h)=>u.set(d,h))),!(u.size()>=i)););return ve.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new s9(n,r));let o=this.qr.get(n);o===void 0&&(o=Ze(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.Qr=new pn(wn.$r),this.Ur=new pn(wn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new wn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new wn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ke(new wt([])),r=new wn(n,e),i=new wn(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ke(new wt([])),r=new wn(n,e),i=new wn(n,e+1);let o=Ze();return this.Ur.forEachInRange([r,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new wn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ke.comparator(e.key,n.key)||Qe(e.Yr,n.Yr)}static Kr(e,n){return Qe(e.Yr,n.Yr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pn(wn.$r)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new a9(o,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new wn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ve.resolve(l)}lookupMutationBatch(e,n){return ve.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return ve.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?qx:this.tr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wn(n,0),i=new wn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);o.push(u)})),ve.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pn(Qe);return n.forEach((i=>{const o=new wn(i,0),l=new wn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(u=>{r=r.add(u.Yr)}))})),ve.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ke.isDocumentKey(o)||(o=o.child(""));const l=new wn(new ke(o),0);let u=new pn(Qe);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(f.Yr)),!0)}),l),ve.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ve.forEach(n.mutations,(i=>{const o=new wn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new wn(n,0),i=this.Zr.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.ri=e,this.docs=(function(){return new Vt(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():Yn.newInvalidDocument(n))}getEntries(e,n){let r=Jo();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Yn.newInvalidDocument(i))})),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Jo();const l=n.path,u=new ke(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:h}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||Ej(bj(h),r)<=0||(i.has(h.key)||Xg(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return ve.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ue(9500)}ii(e,n){return ve.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new K9(this)}getSize(e){return ve.resolve(this.size)}}class K9 extends z9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ve.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e){this.persistence=e,this.si=new wl((n=>jx(n)),Hx),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.oi=0,this._i=new Xx,this.targetCount=0,this.ai=Ku.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ve.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ku(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Pr(n),ve.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ve.waitFor(o).next((()=>i))}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),ve.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n){this.ui={},this.overlays={},this.ci=new Kg(0),this.li=!1,this.li=!0,this.hi=new H9,this.referenceDelegate=e(this),this.Pi=new Y9(this),this.indexManager=new M9,this.remoteDocumentCache=(function(i){return new $9(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new R9(n),this.Ii=new F9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new j9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new G9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new W9(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return ve.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class W9 extends Tj{constructor(e){super(),this.currentSequenceNumber=e}}class Qx{constructor(e){this.persistence=e,this.Ri=new Xx,this.Vi=null}static mi(e){return new Qx(e)}get fi(){if(this.Vi)return this.Vi;throw Ue(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.fi,(r=>{const i=ke.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,qe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ve.or([()=>ve.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zm{constructor(e,n){this.persistence=e,this.pi=new wl((r=>Aj(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=V9(this,n)}static mi(e,n){return new zm(e,n)}Ei(){}di(e){return ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ve.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?ve.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,o.removeEntry(l,qe.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lm(e.data.value)),n}br(e,n,r){return ve.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ve.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ze(),i=Ze();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Zx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return FB()?8:Sj(Qn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new J9;return this.Ss(e,n,l).next((u=>{if(o.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(xu()<=Xe.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Tu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ve.resolve()):(xu()<=Xe.DEBUG&&we("QueryEngine","Query:",Tu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(xu()<=Xe.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Tu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oo(n))):ve.resolve())}ys(e,n){if(AI(n))return ve.resolve(null);let r=oo(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=hE(n,null,"F"),r=oo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=Ze(...o);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.Ds(n,u);return this.Cs(n,d,l,f.readTime)?this.ys(e,hE(n,null,"F")):this.vs(e,d,n,f)}))))})))))}ws(e,n,r,i){return AI(n)||i.isEqual(qe.min())?ve.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,i)?ve.resolve(null):(xu()<=Xe.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Tu(n)),this.vs(e,l,n,_j(i,rd)).next((u=>u)))}))}Ds(e,n){let r=new pn(aO(e));return n.forEach(((i,o)=>{Xg(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return xu()<=Xe.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Tu(n)),this.ps.getDocumentsMatchingQuery(e,n,cs.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="LocalStore",Q9=3e8;class Z9{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Vt(Qe),this.xs=new wl((o=>jx(o)),Hx),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function e8(t,e,n,r){return new Z9(t,e,n,r)}async function NO(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],u=[];let f=Ze();for(const d of i){l.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}for(const d of o){u.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}return n.localDocuments.getDocuments(r,f).next((d=>({Ls:d,removedBatchIds:l,addedBatchIds:u})))}))}))}function t8(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,h){const m=d.batch,_=m.keys();let E=ve.resolve();return _.forEach((w=>{E=E.next((()=>h.getEntry(f,w))).next((S=>{const C=d.docVersions.get(w);ft(C!==null,48541),S.version.compareTo(C)<0&&(m.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),h.addEntry(S)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(f,m)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=Ze();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function RO(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function n8(t,e){const n=je(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((h,m)=>{const _=i.get(m);if(!_)return;u.push(n.Pi.removeMatchingKeys(o,h.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(o,h.addedDocuments,m))));let E=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?E=E.withResumeToken(Fn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):h.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(h.resumeToken,r)),i=i.insert(m,E),(function(S,C,P){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=Q9?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(_,E,h)&&u.push(n.Pi.updateTargetData(o,E))}));let f=Jo(),d=Ze();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))})),u.push(r8(o,l,e.documentUpdates).next((h=>{f=h.ks,d=h.qs}))),!r.isEqual(qe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(o).next((m=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(h)}return ve.waitFor(u).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(n.Ms=i,o)))}function r8(t,e,n){let r=Ze(),i=Ze();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=Jo();return n.forEach(((u,f)=>{const d=o.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(qe.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):we(eT,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function i8(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=qx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function o8(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,ve.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new rs(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function vE(t,e,n){const r=je(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!dc(l))throw l;we(eT,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function zI(t,e,n){const r=je(t);let i=qe.min(),o=Ze();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,d,h){const m=je(f),_=m.xs.get(h);return _!==void 0?ve.resolve(m.Ms.get(_)):m.Pi.getTargetData(d,h)})(r,l,oo(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:qe.min(),n?o:Ze()))).next((u=>(a8(r,Gj(e),u),{documents:u,Qs:o})))))}function a8(t,e,n){let r=t.Os.get(e)||qe.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class qI{constructor(){this.activeTargetIds=Xj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s8{constructor(){this.Mo=new qI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new qI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="ConnectivityMonitor";class FI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(BI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(BI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qp=null;function _E(){return qp===null?qp=(function(){return 268435456+Math.round(2147483648*Math.random())})():qp++,"0x"+qp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="RestConnection",u8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class c8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Mm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const l=_E(),u=this.zo(e,n.toUriEncodedString());we(u_,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,o);const{host:d}=new URL(u),h=lc(d);return this.Jo(e,u,f,r,h).then((m=>(we(u_,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw ju(u_,`RPC '${e}' ${l} failed with error: `,m,"url: ",u,"request:",r),m}))}Ho(e,n,r,i,o,l){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=u8[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="WebChannelConnection";class d8 extends c8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const l=_E();return new Promise(((u,f)=>{const d=new Dk;d.setWithCredentials(!0),d.listenOnce(kk.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case sm.NO_ERROR:const m=d.getResponseJson();we(Gn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),u(m);break;case sm.TIMEOUT:we(Gn,`RPC '${e}' ${l} timed out`),f(new Se(ye.DEADLINE_EXCEEDED,"Request time out"));break;case sm.HTTP_ERROR:const _=d.getStatus();if(we(Gn,`RPC '${e}' ${l} failed with status:`,_,"response text:",d.getResponseText()),_>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const w=E==null?void 0:E.error;if(w&&w.status&&w.message){const S=(function(P){const U=P.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(U)>=0?U:ye.UNKNOWN})(w.status);f(new Se(S,w.message))}else f(new Se(ye.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new Se(ye.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{we(Gn,`RPC '${e}' ${l} completed.`)}}));const h=JSON.stringify(i);we(Gn,`RPC '${e}' ${l} sending request:`,i),d.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=_E(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Uk(),u=Lk(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const h=o.join("");we(Gn,`Creating RPC '${e}' stream ${i}: ${h}`,f);const m=l.createWebChannel(h,f);this.I_(m);let _=!1,E=!1;const w=new f8({Yo:C=>{E?we(Gn,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(_||(we(Gn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),_=!0),we(Gn,`RPC '${e}' stream ${i} sending:`,C),m.send(C))},Zo:()=>m.close()}),S=(C,P,U)=>{C.listen(P,(O=>{try{U(O)}catch(H){setTimeout((()=>{throw H}),0)}}))};return S(m,qf.EventType.OPEN,(()=>{E||(we(Gn,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),S(m,qf.EventType.CLOSE,(()=>{E||(E=!0,we(Gn,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(m))})),S(m,qf.EventType.ERROR,(C=>{E||(E=!0,ju(Gn,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),w.a_(new Se(ye.UNAVAILABLE,"The operation could not be completed")))})),S(m,qf.EventType.MESSAGE,(C=>{var P;if(!E){const U=C.data[0];ft(!!U,16349);const O=U,H=(O==null?void 0:O.error)||((P=O[0])==null?void 0:P.error);if(H){we(Gn,`RPC '${e}' stream ${i} received error:`,H);const F=H.status;let G=(function(k){const B=an[k];if(B!==void 0)return yO(B)})(F),M=H.message;G===void 0&&(G=ye.INTERNAL,M="Unknown error status: "+F+" with message "+H.message),E=!0,w.a_(new Se(G,M)),m.close()}else we(Gn,`RPC '${e}' stream ${i} received:`,U),w.u_(U)}})),S(u,Ok.STAT_EVENT,(C=>{C.stat===aE.PROXY?we(Gn,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===aE.NOPROXY&&we(Gn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function c_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t){return new g9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="PersistentStream";class MO{constructor(e,n,r,i,o,l,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PO(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ye.RESOURCE_EXHAUSTED?(Wo(n.toString()),Wo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Se(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(jI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(we(jI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class h8 extends MO{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_9(this.serializer,e),r=(function(o){if(!("targetChange"in o))return qe.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?qe.min():l.readTime?ao(l.readTime):qe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=yE(this.serializer),n.addTarget=(function(o,l){let u;const f=l.target;if(u=fE(f)?{documents:x9(o,f)}:{query:T9(o,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=bO(o,l.resumeToken);const d=pE(o,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(qe.min())>0){u.readTime=Vm(o,l.snapshotVersion.toTimestamp());const d=pE(o,l.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const r=w9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=yE(this.serializer),n.removeTarget=e,this.q_(n)}}class p8 extends MO{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=E9(e.writeResults,e.commitTime),r=ao(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=yE(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>b9(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{}class g8 extends m8{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Se(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,mE(n,r),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(ye.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,mE(n,r),i,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(ye.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class y8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wo(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="RemoteStore";class v8{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Al(this)&&(we(vl,"Restarting streams for network reachability change."),await(async function(f){const d=je(f);d.Ea.add(4),await Pd(d),d.Ra.set("Unknown"),d.Ea.delete(4),await ny(d)})(this))}))})),this.Ra=new y8(r,i)}}async function ny(t){if(Al(t))for(const e of t.da)await e(!0)}async function Pd(t){for(const e of t.da)await e(!1)}function DO(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),iT(n)?rT(n):hc(n).O_()&&nT(n,e))}function tT(t,e){const n=je(t),r=hc(n);n.Ia.delete(e),r.O_()&&kO(n,e),n.Ia.size===0&&(r.O_()?r.L_():Al(n)&&n.Ra.set("Unknown"))}function nT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hc(t).Y_(e)}function kO(t,e){t.Va.Ue(e),hc(t).Z_(e)}function rT(t){t.Va=new d9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),hc(t).start(),t.Ra.ua()}function iT(t){return Al(t)&&!hc(t).x_()&&t.Ia.size>0}function Al(t){return je(t).Ea.size===0}function OO(t){t.Va=void 0}async function _8(t){t.Ra.set("Online")}async function b8(t){t.Ia.forEach(((e,n)=>{nT(t,e)}))}async function E8(t,e){OO(t),iT(t)?(t.Ra.ha(e),rT(t)):t.Ra.set("Unknown")}async function x8(t,e,n){if(t.Ra.set("Online"),e instanceof _O&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){we(vl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qm(t,r)}else if(e instanceof fm?t.Va.Ze(e):e instanceof vO?t.Va.st(e):t.Va.tt(e),!n.isEqual(qe.min()))try{const r=await RO(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const h=o.Ia.get(d);h&&o.Ia.set(d,h.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,d)=>{const h=o.Ia.get(f);if(!h)return;o.Ia.set(f,h.withResumeToken(Fn.EMPTY_BYTE_STRING,h.snapshotVersion)),kO(o,f);const m=new rs(h.target,f,d,h.sequenceNumber);nT(o,m)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){we(vl,"Failed to raise snapshot:",r),await qm(t,r)}}async function qm(t,e,n){if(!dc(e))throw e;t.Ea.add(1),await Pd(t),t.Ra.set("Offline"),n||(n=()=>RO(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(vl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ny(t)}))}function LO(t,e){return e().catch((n=>qm(t,n,e)))}async function ry(t){const e=je(t),n=ps(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qx;for(;T8(e);)try{const i=await i8(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,S8(e,i)}catch(i){await qm(e,i)}UO(e)&&VO(e)}function T8(t){return Al(t)&&t.Ta.length<10}function S8(t,e){t.Ta.push(e);const n=ps(t);n.O_()&&n.X_&&n.ea(e.mutations)}function UO(t){return Al(t)&&!ps(t).x_()&&t.Ta.length>0}function VO(t){ps(t).start()}async function w8(t){ps(t).ra()}async function A8(t){const e=ps(t);for(const n of t.Ta)e.ea(n.mutations)}async function C8(t,e,n){const r=t.Ta.shift(),i=Yx.from(r,e,n);await LO(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await ry(t)}async function I8(t,e){e&&ps(t).X_&&await(async function(r,i){if((function(l){return u9(l)&&l!==ye.ABORTED})(i.code)){const o=r.Ta.shift();ps(r).B_(),await LO(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await ry(r)}})(t,e),UO(t)&&VO(t)}async function HI(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),we(vl,"RemoteStore received new credentials");const r=Al(n);n.Ea.add(3),await Pd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ny(n)}async function N8(t,e){const n=je(t);e?(n.Ea.delete(2),await ny(n)):e||(n.Ea.add(2),await Pd(n),n.Ra.set("Unknown"))}function hc(t){return t.ma||(t.ma=(function(n,r,i){const o=je(n);return o.sa(),new h8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:_8.bind(null,t),t_:b8.bind(null,t),r_:E8.bind(null,t),H_:x8.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),iT(t)?rT(t):t.Ra.set("Unknown")):(await t.ma.stop(),OO(t))}))),t.ma}function ps(t){return t.fa||(t.fa=(function(n,r,i){const o=je(n);return o.sa(),new p8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:w8.bind(null,t),r_:I8.bind(null,t),ta:A8.bind(null,t),na:C8.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await ry(t)):(await t.fa.stop(),t.Ta.length>0&&(we(vl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new sl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,u=new oT(e,n,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function aT(t,e){if(Wo("AsyncQueue",`${e}: ${t}`),dc(t))return new Se(ye.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{static emptySet(e){return new Ru(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=Bf(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ru)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ru;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.ga=new Vt(ke.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ue(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Yu{constructor(e,n,r,i,o,l,u,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Yu(e,n,Ru.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class P8{constructor(){this.queries=$I(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=je(n),o=i.queries;i.queries=$I(),o.forEach(((l,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new Se(ye.ABORTED,"Firestore shutting down"))}}function $I(){return new wl((t=>oO(t)),Jg)}async function M8(t,e){const n=je(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new R8,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=aT(l,`Initialization of query '${Tu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&sT(n)}async function D8(t,e){const n=je(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function k8(t,e){const n=je(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&sT(n)}function O8(t,e,n){const r=je(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function sT(t){t.Ca.forEach((e=>{e.next()}))}var bE,KI;(KI=bE||(bE={})).Ma="default",KI.Cache="cache";class L8{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Yu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.key=e}}class qO{constructor(e){this.key=e}}class U8{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ze(),this.mutatedKeys=Ze(),this.eu=aO(e),this.tu=new Ru(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new GI,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,m)=>{const _=i.get(h),E=Xg(this.query,m)?m:null,w=!!_&&this.mutatedKeys.has(_.key),S=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let C=!1;_&&E?_.data.isEqual(E.data)?w!==S&&(r.track({type:3,doc:E}),C=!0):this.su(_,E)||(r.track({type:2,doc:E}),C=!0,(f&&this.eu(E,f)>0||d&&this.eu(E,d)<0)&&(u=!0)):!_&&E?(r.track({type:0,doc:E}),C=!0):_&&!E&&(r.track({type:1,doc:_}),C=!0,(f||d)&&(u=!0)),C&&(E?(l=l.add(E),o=S?o.add(h):o.delete(h)):(l=l.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const h=this.query.limitType==="F"?l.last():l.first();l=l.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:l,iu:r,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((h,m)=>(function(E,w){const S=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Rt:C})}};return S(E)-S(w)})(h.type,m.type)||this.eu(h.doc,m.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,d=f!==this.Za;return this.Za=f,l.length!==0||d?{snapshot:new Yu(this.query,e.tu,o,l,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new qO(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new zO(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Yu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lT="SyncEngine";class V8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class z8{constructor(e){this.key=e,this.hu=!1}}class q8{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new wl((u=>oO(u)),Jg),this.Iu=new Map,this.Eu=new Set,this.du=new Vt(ke.comparator),this.Au=new Map,this.Ru=new Xx,this.Vu={},this.mu=new Map,this.fu=Ku.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function B8(t,e,n=!0){const r=$O(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await BO(r,e,n,!0),i}async function F8(t,e){const n=$O(t);await BO(n,e,!0,!1)}async function BO(t,e,n,r){const i=await o8(t.localStore,oo(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await j8(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&DO(t.remoteStore,i),u}async function j8(t,e,n,r,i){t.pu=(m,_,E)=>(async function(S,C,P,U){let O=C.view.ru(P);O.Cs&&(O=await zI(S.localStore,C.query,!1).then((({documents:M})=>C.view.ru(M,O))));const H=U&&U.targetChanges.get(C.targetId),F=U&&U.targetMismatches.get(C.targetId)!=null,G=C.view.applyChanges(O,S.isPrimaryClient,H,F);return WI(S,C.targetId,G.au),G.snapshot})(t,m,_,E);const o=await zI(t.localStore,e,!0),l=new U8(e,o.Qs),u=l.ru(o.documents),f=Rd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=l.applyChanges(u,t.isPrimaryClient,f);WI(t,n,d.au);const h=new V8(e,n,l);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function H8(t,e,n){const r=je(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((l=>!Jg(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await vE(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&tT(r.remoteStore,i.targetId),EE(r,i.targetId)})).catch(fc)):(EE(r,i.targetId),await vE(r.localStore,i.targetId,!0))}async function G8(t,e){const n=je(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),tT(n.remoteStore,r.targetId))}async function $8(t,e,n){const r=Z8(t);try{const i=await(function(l,u){const f=je(l),d=Rt.now(),h=u.reduce(((E,w)=>E.add(w.key)),Ze());let m,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let w=Jo(),S=Ze();return f.Ns.getEntries(E,h).next((C=>{w=C,w.forEach(((P,U)=>{U.isValidDocument()||(S=S.add(P))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,w))).next((C=>{m=C;const P=[];for(const U of u){const O=i9(U,m.get(U.key).overlayedDocument);O!=null&&P.push(new vs(U.key,O,Xk(O.value.mapValue),ni.exists(!0)))}return f.mutationQueue.addMutationBatch(E,d,P,u)})).next((C=>{_=C;const P=C.applyToLocalDocumentSet(m,S);return f.documentOverlayCache.saveOverlays(E,C.batchId,P)}))})).then((()=>({batchId:_.batchId,changes:lO(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,f){let d=l.Vu[l.currentUser.toKey()];d||(d=new Vt(Qe)),d=d.insert(u,f),l.Vu[l.currentUser.toKey()]=d})(r,i.batchId,n),await Md(r,i.changes),await ry(r.remoteStore)}catch(i){const o=aT(i,"Failed to persist write");n.reject(o)}}async function FO(t,e){const n=je(t);try{const r=await n8(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=n.Au.get(o);l&&(ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?ft(l.hu,14607):i.removedDocuments.size>0&&(ft(l.hu,42227),l.hu=!1))})),await Md(n,r,e)}catch(r){await fc(r)}}function YI(t,e,n){const r=je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const f=je(l);f.onlineState=u;let d=!1;f.queries.forEach(((h,m)=>{for(const _ of m.Sa)_.va(u)&&(d=!0)})),d&&sT(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function K8(t,e,n){const r=je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let l=new Vt(ke.comparator);l=l.insert(o,Yn.newNoDocument(o,qe.min()));const u=Ze().add(o),f=new ey(qe.min(),new Map,new Vt(Qe),l,u);await FO(r,f),r.du=r.du.remove(o),r.Au.delete(e),uT(r)}else await vE(r.localStore,e,!1).then((()=>EE(r,e,n))).catch(fc)}async function Y8(t,e){const n=je(t),r=e.batch.batchId;try{const i=await t8(n.localStore,e);HO(n,r,null),jO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Md(n,i)}catch(i){await fc(i)}}async function W8(t,e,n){const r=je(t);try{const i=await(function(l,u){const f=je(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return f.mutationQueue.lookupMutationBatch(d,u).next((m=>(ft(m!==null,37113),h=m.keys(),f.mutationQueue.removeMutationBatch(d,m)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,h,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>f.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);HO(r,e,n),jO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Md(r,i)}catch(i){await fc(i)}}function jO(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function HO(t,e,n){const r=je(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function EE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||GO(t,r)}))}function GO(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(tT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),uT(t))}function WI(t,e,n){for(const r of n)r instanceof zO?(t.Ru.addReference(r.key,e),J8(t,r)):r instanceof qO?(we(lT,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||GO(t,r.key)):Ue(19791,{wu:r})}function J8(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(we(lT,"New document in limbo: "+n),t.Eu.add(r),uT(t))}function uT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ke(wt.fromString(e)),r=t.fu.next();t.Au.set(r,new z8(n)),t.du=t.du.insert(n,r),DO(t.remoteStore,new rs(oo(Gx(n.path)),r,"TargetPurposeLimboResolution",Kg.ce))}}async function Md(t,e,n){const r=je(t),i=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{l.push(r.pu(f,e,n).then((d=>{var h;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(f.targetId,m?"current":"not-current")}if(d){i.push(d);const m=Zx.As(f.targetId,d);o.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,d){const h=je(f);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>ve.forEach(d,(_=>ve.forEach(_.Es,(E=>h.persistence.referenceDelegate.addReference(m,_.targetId,E))).next((()=>ve.forEach(_.ds,(E=>h.persistence.referenceDelegate.removeReference(m,_.targetId,E)))))))))}catch(m){if(!dc(m))throw m;we(eT,"Failed to update sequence numbers: "+m)}for(const m of d){const _=m.targetId;if(!m.fromCache){const E=h.Ms.get(_),w=E.snapshotVersion,S=E.withLastLimboFreeSnapshotVersion(w);h.Ms=h.Ms.insert(_,S)}}})(r.localStore,o))}async function X8(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){we(lT,"User change. New user:",e.toKey());const r=await NO(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new Se(ye.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Md(n,r.Ls)}}function Q8(t,e){const n=je(t),r=n.Au.get(e);if(r&&r.hu)return Ze().add(r.key);{let i=Ze();const o=n.Iu.get(e);if(!o)return i;for(const l of o){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function $O(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K8.bind(null,e),e.Pu.H_=k8.bind(null,e.eventManager),e.Pu.yu=O8.bind(null,e.eventManager),e}function Z8(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Y8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W8.bind(null,e),e}class Bm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ty(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return e8(this.persistence,new X9,e.initialUser,this.serializer)}Cu(e){return new IO(Qx.mi,this.serializer)}Du(e){return new s8}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bm.provider={build:()=>new Bm};class eH extends Bm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ft(this.persistence.referenceDelegate instanceof zm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new L9(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mr.withCacheSize(this.cacheSizeBytes):mr.DEFAULT;return new IO((r=>zm.mi(r,n)),this.serializer)}}class xE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=X8.bind(null,this.syncEngine),await N8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new P8})()}createDatastore(e){const n=ty(e.databaseInfo.databaseId),r=(function(o){return new d8(o)})(e.databaseInfo);return(function(o,l,u,f){return new g8(o,l,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,l,u){return new v8(r,i,o,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>YI(this.syncEngine,n,0)),(function(){return FI.v()?new FI:new l8})())}createSyncEngine(e,n){return(function(i,o,l,u,f,d,h){const m=new q8(i,o,l,u,f,d);return h&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=je(i);we(vl,"RemoteStore shutting down."),o.Ea.add(5),await Pd(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}xE.provider={build:()=>new xE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="FirestoreClient";class nH{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Kn.UNAUTHENTICATED,this.clientId=zx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{we(ms,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(we(ms,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=aT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function f_(t,e){t.asyncQueue.verifyOperationInProgress(),we(ms,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await NO(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function JI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rH(t);we(ms,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>HI(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>HI(e.remoteStore,i))),t._onlineComponents=e}async function rH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(ms,"Using user provided OfflineComponentProvider");try{await f_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ju("Error using user provided cache. Falling back to memory cache: "+n),await f_(t,new Bm)}}else we(ms,"Using default OfflineComponentProvider"),await f_(t,new eH(void 0));return t._offlineComponents}async function KO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(ms,"Using user provided OnlineComponentProvider"),await JI(t,t._uninitializedComponentsProvider._online)):(we(ms,"Using default OnlineComponentProvider"),await JI(t,new xE))),t._onlineComponents}function iH(t){return KO(t).then((e=>e.syncEngine))}async function XI(t){const e=await KO(t),n=e.eventManager;return n.onListen=B8.bind(null,e.syncEngine),n.onUnlisten=H8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=F8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=G8.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO="firestore.googleapis.com",ZI=!0;class eN{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WO,this.ssl=ZI}else this.host=e.host,this.ssl=e.ssl??ZI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<k9)throw new Se(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YO(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Se(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Se(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Se(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new lj;switch(r.type){case"firstParty":return new dj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=QI.get(n);r&&(we("ComponentProvider","Removing Datastore"),QI.delete(n),r.terminate())})(this),Promise.resolve()}}function oH(t,e,n,r={}){var d;t=ll(t,iy);const i=lc(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(Sk(`https://${u}`),wk("Firestore",!0)),o.host!==WO&&o.host!==u&&ju("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:u,ssl:i,emulatorOptions:r};if(!ml(f,l)&&(t._setSettings(f),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=Kn.MOCK_USER;else{h=DB(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Se(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Kn(_)}t._authCredentials=new uj(new zk(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pc(this.firestore,e,this._query)}}class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}toJSON(){return{type:cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Cd(n,cn._jsonSchema))return new cn(e,r||null,new ke(wt.fromString(n.referencePath)))}}cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:un("string",cn._jsonSchemaVersion),referencePath:un("string")};class ls extends pc{constructor(e,n,r){super(e,n,Gx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ke(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function Bp(t,e,...n){if(t=Cn(t),qk("collection","path",e),t instanceof iy){const r=wt.fromString(e,...n);return dI(r),new ls(t,null,r)}{if(!(t instanceof cn||t instanceof ls))throw new Se(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return dI(r),new ls(t.firestore,null,r)}}function Uo(t,e,...n){if(t=Cn(t),arguments.length===1&&(e=zx.newId()),qk("doc","path",e),t instanceof iy){const r=wt.fromString(e,...n);return fI(r),new cn(t,null,new ke(r))}{if(!(t instanceof cn||t instanceof ls))throw new Se(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return fI(r),new cn(t.firestore,t instanceof ls?t.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="AsyncQueue";class nN{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PO(this,"async_queue_retry"),this._c=()=>{const r=c_();r&&we(tN,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=c_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=c_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new sl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dc(e))throw e;we(tN,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Wo("INTERNAL UNHANDLED ERROR: ",rN(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=oT.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Ue(47125,{Pc:rN(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function rN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class ud extends iy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new nN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nN(e),this._firestoreClient=void 0,await e}}}function aH(t,e){const n=typeof t=="object"?t:Nk(),r=typeof t=="string"?t:Mm,i=Ux(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=PB("firestore");o&&oH(i,...o)}return i}function cT(t){if(t._terminated)throw new Se(ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sH(t),t._firestoreClient}function sH(t){var r,i,o;const e=t._freezeSettings(),n=(function(u,f,d,h){return new Nj(u,f,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,YO(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new nH(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(Fn.fromBase64String(e))}catch(n){throw new Se(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ei(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cd(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:un("string",ei._jsonSchemaVersion),bytes:un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:so._jsonSchemaVersion}}static fromJSON(e){if(Cd(e,so._jsonSchema))return new so(e.latitude,e.longitude)}}so._jsonSchemaVersion="firestore/geoPoint/1.0",so._jsonSchema={type:un("string",so._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:lo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cd(e,lo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new lo(e.vectorValues);throw new Se(ye.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}lo._jsonSchemaVersion="firestore/vectorValue/1.0",lo._jsonSchema={type:un("string",lo._jsonSchemaVersion),vectorValues:un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH=/^__.*__$/;class uH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nd(e,this.data,n,this.fieldTransforms)}}class JO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function XO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ac:t})}}class dT{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(XO(this.Ac)&&lH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class cH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ty(e)}Cc(e,n,r,i=!1){return new dT({Ac:e,methodName:n,Dc:r,path:qn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hT(t){const e=t._freezeSettings(),n=ty(t._databaseId);return new cH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QO(t,e,n,r,i,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);pT("Data must be an object, but it was:",l,r);const u=ZO(r,l);let f,d;if(o.merge)f=new Dr(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const h=[];for(const m of o.mergeFields){const _=TE(e,m,n);if(!l.contains(_))throw new Se(ye.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);tL(h,_)||h.push(_)}f=new Dr(h),d=l.fieldTransforms.filter((m=>f.covers(m.field)))}else f=null,d=l.fieldTransforms;return new uH(new gr(u),f,d)}class Dd extends fT{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dd}}function fH(t,e,n,r){const i=t.Cc(1,e,n);pT("Data must be an object, but it was:",i,r);const o=[],l=gr.empty();ys(r,((f,d)=>{const h=mT(e,f,n);d=Cn(d);const m=i.yc(h);if(d instanceof Dd)o.push(h);else{const _=kd(d,m);_!=null&&(o.push(h),l.set(h,_))}}));const u=new Dr(o);return new JO(l,u,i.fieldTransforms)}function dH(t,e,n,r,i,o){const l=t.Cc(1,e,n),u=[TE(e,r,n)],f=[i];if(o.length%2!=0)throw new Se(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)u.push(TE(e,o[_])),f.push(o[_+1]);const d=[],h=gr.empty();for(let _=u.length-1;_>=0;--_)if(!tL(d,u[_])){const E=u[_];let w=f[_];w=Cn(w);const S=l.yc(E);if(w instanceof Dd)d.push(E);else{const C=kd(w,S);C!=null&&(d.push(E),h.set(E,C))}}const m=new Dr(d);return new JO(h,m,l.fieldTransforms)}function hH(t,e,n,r=!1){return kd(n,t.Cc(r?4:3,e))}function kd(t,e){if(eL(t=Cn(t)))return pT("Unsupported field value:",e,t),ZO(t,e);if(t instanceof fT)return(function(r,i){if(!XO(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let l=0;for(const u of r){let f=kd(u,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Qj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Rt.fromDate(r);return{timestampValue:Vm(i.serializer,o)}}if(r instanceof Rt){const o=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vm(i.serializer,o)}}if(r instanceof so)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ei)return{bytesValue:bO(i.serializer,r._byteString)};if(r instanceof cn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Jx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lo)return(function(l,u){return{mapValue:{fields:{[Wk]:{stringValue:Jk},[Dm]:{arrayValue:{values:l.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return $x(u.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${$g(r)}`)})(t,e)}function ZO(t,e){const n={};return jk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(t,((r,i)=>{const o=kd(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function eL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof so||t instanceof ei||t instanceof cn||t instanceof fT||t instanceof lo)}function pT(t,e,n){if(!eL(n)||!Bk(n)){const r=$g(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function TE(t,e,n){if((e=Cn(e))instanceof oy)return e._internalPath;if(typeof e=="string")return mT(t,e);throw Fm("Field path arguments must be of type string or ",t,!1,void 0,n)}const pH=new RegExp("[~\\*/\\[\\]]");function mT(t,e,n){if(e.search(pH)>=0)throw Fm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oy(...e.split("."))._internalPath}catch{throw Fm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fm(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Se(ye.INVALID_ARGUMENT,u+t+f)}function tL(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mH extends nL{data(){return super.data()}}function gT(t,e){return typeof e=="string"?mT(t,e):e instanceof oy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yT{}class yH extends yT{}function oN(t,e,...n){let r=[];e instanceof yT&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((f=>f instanceof vT)).length,u=o.filter((f=>f instanceof ay)).length;if(l>1||l>0&&u>0)throw new Se(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class ay extends yH{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ay(e,n,r)}_apply(e){const n=this._parse(e);return rL(e._query,n),new pc(e.firestore,e.converter,dE(e._query,n))}_parse(e){const n=hT(e.firestore);return(function(o,l,u,f,d,h,m){let _;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Se(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){lN(m,h);const w=[];for(const S of m)w.push(sN(f,o,S));_={arrayValue:{values:w}}}else _=sN(f,o,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||lN(m,h),_=hH(u,l,m,h==="in"||h==="not-in");return ln.create(d,h,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function aN(t,e,n){const r=e,i=gT("where",t);return ay._create(i,r,n)}class vT extends yT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vT(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let l=i;const u=o.getFlattenedFilters();for(const f of u)rL(l,f),l=dE(l,f)})(e._query,n),new pc(e.firestore,e.converter,dE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function sN(t,e,n){if(typeof(n=Cn(n))=="string"){if(n==="")throw new Se(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iO(e)&&n.indexOf("/")!==-1)throw new Se(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(wt.fromString(n));if(!ke.isDocumentKey(r))throw new Se(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bI(t,new ke(r))}if(n instanceof cn)return bI(t,n._key);throw new Se(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$g(n)}.`)}function lN(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rL(t,e){const n=(function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Se(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class vH{convertValue(e,n="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ys(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Dm].arrayValue)==null?void 0:i.values)==null?void 0:o.map((l=>Yt(l.doubleValue)));return new lo(n)}convertGeoPoint(e){return new so(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(id(e));default:return null}}convertTimestamp(e){const n=fs(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wt.fromString(e);ft(AO(r),9688,{name:e});const i=new od(r.get(1),r.get(3)),o=new ke(r.popFirst(5));return i.isEqual(n)||Wo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class jf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ul extends nL{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ye.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ul._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ul._jsonSchemaVersion="firestore/documentSnapshot/1.0",ul._jsonSchema={type:un("string",ul._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class dm extends ul{data(e={}){return super.data(e)}}class Pu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new jf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new dm(this._firestore,this._userDataWriter,r.key,r,new jf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const f=new dm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new jf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new dm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new jf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return u.type!==0&&(d=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),h=l.indexOf(u.doc.key)),{type:_H(u.type),doc:f,oldIndex:d,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ye.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _H(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:t})}}Pu._jsonSchemaVersion="firestore/querySnapshot/1.0",Pu._jsonSchema={type:un("string",Pu._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};class oL extends vH{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function Rf(t,e,n){t=ll(t,cn);const r=ll(t.firestore,ud),i=iL(t.converter,e,n);return aL(r,[QO(hT(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ni.none())])}function d_(t,...e){var f,d,h;t=Cn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||iN(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(iN(e[r])){const m=e[r];e[r]=(f=m.next)==null?void 0:f.bind(m),e[r+1]=(d=m.error)==null?void 0:d.bind(m),e[r+2]=(h=m.complete)==null?void 0:h.bind(m)}let o,l,u;if(t instanceof cn)l=ll(t.firestore,ud),u=Gx(t._key.path),o={next:m=>{e[r]&&e[r](bH(l,t,m))},error:e[r+1],complete:e[r+2]};else{const m=ll(t,pc);l=ll(m.firestore,ud),u=m._query;const _=new oL(l);o={next:E=>{e[r]&&e[r](new Pu(l,_,m,E))},error:e[r+1],complete:e[r+2]},gH(t._query)}return(function(_,E,w,S){const C=new tH(S),P=new L8(E,C,w);return _.asyncQueue.enqueueAndForget((async()=>M8(await XI(_),P))),()=>{C.Nu(),_.asyncQueue.enqueueAndForget((async()=>D8(await XI(_),P)))}})(cT(l),u,i,o)}function aL(t,e){return(function(r,i){const o=new sl;return r.asyncQueue.enqueueAndForget((async()=>$8(await iH(r),i,o))),o.promise})(cT(t),e)}function bH(t,e,n){const r=n.docs.get(e._key),i=new oL(t);return new ul(t,i,e._key,r,new jf(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=hT(e)}set(e,n,r){this._verifyNotCommitted();const i=h_(e,this._firestore),o=iL(i.converter,n,r),l=QO(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,ni.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=h_(e,this._firestore);let l;return l=typeof(n=Cn(n))=="string"||n instanceof oy?dH(this._dataReader,"WriteBatch.update",o._key,n,r,i):fH(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(l.toMutation(o._key,ni.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=h_(e,this._firestore);return this._mutations=this._mutations.concat(new Kx(n._key,ni.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function h_(t,e){if((t=Cn(t)).firestore!==e)throw new Se(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(){return new Dd("deleteField")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t){return cT(t=ll(t,ud)),new EH(t,(e=>aL(t,e)))}(function(e,n=!0){(function(i){cc=i})(uc),Fu(new gl("firestore",((r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new ud(new cj(r.getProvider("auth-internal")),new hj(l,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Se(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new od(d.options.projectId,h)})(l,i),l);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),as(sI,lI,e),as(sI,lI,"esm2020")})();function sL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xH=sL,lL=new wd("auth","Firebase",sL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=new Ox("@firebase/auth");function TH(t,...e){jm.logLevel<=Xe.WARN&&jm.warn(`Auth (${uc}): ${t}`,...e)}function hm(t,...e){jm.logLevel<=Xe.ERROR&&jm.error(`Auth (${uc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t,...e){throw bT(t,...e)}function Ci(t,...e){return bT(t,...e)}function _T(t,e,n){const r={...xH(),[e]:n};return new wd("auth","Firebase",r).create(e,{appName:t.name})}function cl(t){return _T(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function SH(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ho(t,"argument-error"),_T(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lL.create(t,...e)}function Ve(t,e,...n){if(!t)throw bT(e,...n)}function Fo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hm(e),new Error(e)}function Xo(t,e){t||Fo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function wH(){return cN()==="http:"||cN()==="https:"}function cN(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wH()||zB()||"connection"in navigator)?navigator.onLine:!0}function CH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xo(n>e,"Short delay should be less than long delay!"),this.isMobile=LB()||qB()}get(){return AH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(t,e){Xo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RH=new Od(3e4,6e4);function xT(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function mc(t,e,n,r,i={}){return cL(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Ad({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:f,...o};return VB()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&lc(t.emulatorConfig.host)&&(d.credentials="include"),uL.fetch()(await fL(t,t.config.apiHost,n,u),d)})}async function cL(t,e,n){t._canInitEmulator=!1;const r={...IH,...e};try{const i=new MH(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Fp(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fp(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Fp(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Fp(t,"user-disabled",l);const h=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw _T(t,h,d);ho(t,h)}}catch(i){if(i instanceof la)throw i;ho(t,"network-request-failed",{message:String(i)})}}async function PH(t,e,n,r,i={}){const o=await mc(t,e,n,r,i);return"mfaPendingCredential"in o&&ho(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function fL(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?ET(t.config,i):`${t.config.apiScheme}://${i}`;return NH.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class MH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ci(this.auth,"network-request-failed")),RH.get())})}}function Fp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ci(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DH(t,e){return mc(t,"POST","/v1/accounts:delete",e)}async function Hm(t,e){return mc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kH(t,e=!1){const n=Cn(t),r=await n.getIdToken(e),i=TT(r);Ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Xf(m_(i.auth_time)),issuedAtTime:Xf(m_(i.iat)),expirationTime:Xf(m_(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function m_(t){return Number(t)*1e3}function TT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hm("JWT malformed, contained fewer than 3 sections"),null;try{const i=bk(n);return i?JSON.parse(i):(hm("Failed to decode base64 JWT payload"),null)}catch(i){return hm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function fN(t){const e=TT(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof la&&OH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function OH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xf(this.lastLoginAt),this.creationTime=Xf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gm(t){var m;const e=t.auth,n=await t.getIdToken(),r=await cd(t,Hm(e,{idToken:n}));Ve(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(m=i.providerUserInfo)!=null&&m.length?dL(i.providerUserInfo):[],l=VH(t.providerData,o),u=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=u?f:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new wE(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function UH(t){const e=Cn(t);await Gm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VH(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function dL(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zH(t,e){const n=await cL(t,{},async()=>{const r=Ad({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await fL(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return t.emulatorConfig&&lc(t.emulatorConfig.host)&&(f.credentials="include"),uL.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qH(t,e){return mc(t,"POST","/v2/accounts:revokeToken",xT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=fN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await zH(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new Mu;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ve(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Ve(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mu,this.toJSON())}_performRefresh(){return Fo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ai{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new LH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new wE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await cd(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kH(this,e)}reload(){return UH(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xi(this.auth.app))return Promise.reject(cl(this.auth));const e=await this.getIdToken();return await cd(this,DH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,f=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:_,isAnonymous:E,providerData:w,stsTokenManager:S}=n;Ve(m&&S,e,"internal-error");const C=Mu.fromJSON(this.name,S);Ve(typeof m=="string",e,"internal-error"),Ja(r,e.name),Ja(i,e.name),Ve(typeof _=="boolean",e,"internal-error"),Ve(typeof E=="boolean",e,"internal-error"),Ja(o,e.name),Ja(l,e.name),Ja(u,e.name),Ja(f,e.name),Ja(d,e.name),Ja(h,e.name);const P=new Ai({uid:m,auth:e,email:i,emailVerified:_,displayName:r,isAnonymous:E,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:C,createdAt:d,lastLoginAt:h});return w&&Array.isArray(w)&&(P.providerData=w.map(U=>({...U}))),f&&(P._redirectEventId=f),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Mu;i.updateFromServerResponse(n);const o=new Ai({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Gm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ve(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?dL(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Mu;u.updateFromIdToken(r);const f=new Ai({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new wE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new Map;function jo(t){Xo(t instanceof Function,"Expected a class definition");let e=dN.get(t);return e?(Xo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hL.type="NONE";const hN=hL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t,e,n){return`firebase:${t}:${e}:${n}`}class Du{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=pm(this.userKey,i.apiKey,o),this.fullPersistenceKey=pm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Hm(this.auth,{idToken:e}).catch(()=>{});return n?Ai._fromGetAccountInfoResponse(this.auth,n,e):null}return Ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Du(jo(hN),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||jo(hN);const l=pm(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const h=await d._get(l);if(h){let m;if(typeof h=="string"){const _=await Hm(e,{idToken:h}).catch(()=>{});if(!_)break;m=await Ai._fromGetAccountInfoResponse(e,_,h)}else m=Ai._fromJSON(e,h);d!==o&&(u=m),o=d;break}}catch{}const f=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Du(o,e,r):(o=f[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new Du(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_L(e))return"Blackberry";if(bL(e))return"Webos";if(mL(e))return"Safari";if((e.includes("chrome/")||gL(e))&&!e.includes("edge/"))return"Chrome";if(vL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function pL(t=Qn()){return/firefox\//i.test(t)}function mL(t=Qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gL(t=Qn()){return/crios\//i.test(t)}function yL(t=Qn()){return/iemobile/i.test(t)}function vL(t=Qn()){return/android/i.test(t)}function _L(t=Qn()){return/blackberry/i.test(t)}function bL(t=Qn()){return/webos/i.test(t)}function ST(t=Qn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BH(t=Qn()){var e;return ST(t)&&!!((e=window.navigator)!=null&&e.standalone)}function FH(){return BB()&&document.documentMode===10}function EL(t=Qn()){return ST(t)||vL(t)||bL(t)||_L(t)||/windows phone/i.test(t)||yL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t,e=[]){let n;switch(t){case"Browser":n=pN(Qn());break;case"Worker":n=`${pN(Qn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,u)=>{try{const f=e(o);l(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HH(t,e={}){return mc(t,"GET","/v2/passwordPolicy",xT(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GH=6;class $H{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??GH,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mN(this),this.idTokenSubscription=new mN(this),this.beforeStateQueue=new jH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jo(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Du.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hm(this,{idToken:e}),r=await Ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(xi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(o=this.redirectUser)==null?void 0:o._redirectEventId,u=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xi(this.app))return Promise.reject(cl(this));const n=e?Cn(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xi(this.app)?Promise.reject(cl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xi(this.app)?Promise.reject(cl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HH(this),n=new $H(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qH(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&jo(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await Du.create(this,[jo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(xi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&TH(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function sy(t){return Cn(t)}class mN{constructor(e){this.auth=e,this.observer=null,this.addObserver=WB(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wT={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YH(t){wT=t}function WH(t){return wT.loadJS(t)}function JH(){return wT.gapiScript}function XH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QH(t,e){const n=Ux(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ml(o,e??{}))return i;ho(i,"already-initialized")}return n.initialize({options:e})}function ZH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function eG(t,e,n){const r=sy(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=TL(e),{host:l,port:u}=tG(e),f=u===null?"":`:${u}`,d={url:`${o}//${l}${f}/`},h=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(ml(d,r.config.emulator)&&ml(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,lc(l)?(Sk(`${o}//${l}${f}`),wk("Auth",!0)):nG()}function TL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tG(t){const e=TL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:gN(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:gN(l)}}}function gN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nG(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fo("not implemented")}_getIdTokenResponse(e){return Fo("not implemented")}_linkToIdToken(e,n){return Fo("not implemented")}_getReauthenticationResolver(e){return Fo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t,e){return PH(t,"POST","/v1/accounts:signInWithIdp",xT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG="http://localhost";class _l extends SL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _l(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ho("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const l=new _l(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ku(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ku(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ku(e,n)}buildRequest(){const e={requestUri:rG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ad(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld extends AT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends Ld{constructor(){super("facebook.com")}static credential(e){return _l._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Za.credential(e.oauthAccessToken)}catch{return null}}}Za.FACEBOOK_SIGN_IN_METHOD="facebook.com";Za.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends Ld{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _l._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zo.credential(n,r)}catch{return null}}}zo.GOOGLE_SIGN_IN_METHOD="google.com";zo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Ld{constructor(){super("github.com")}static credential(e){return _l._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Ld{constructor(){super("twitter.com")}static credential(e,n){return _l._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ts.credential(n,r)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ai._fromIdTokenResponse(e,r,i),l=yN(r);return new Wu({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=yN(r);return new Wu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function yN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m extends la{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$m.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new $m(e,n,r,i)}}function wL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?$m._fromErrorAndOperation(t,o,e,r):o})}async function iG(t,e,n=!1){const r=await cd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oG(t,e,n=!1){const{auth:r}=t;if(xi(r.app))return Promise.reject(cl(r));const i="reauthenticate";try{const o=await cd(t,wL(r,i,e,t),n);Ve(o.idToken,r,"internal-error");const l=TT(o.idToken);Ve(l,r,"internal-error");const{sub:u}=l;return Ve(t.uid===u,r,"user-mismatch"),Wu._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ho(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aG(t,e,n=!1){if(xi(t.app))return Promise.reject(cl(t));const r="signIn",i=await wL(t,r,e),o=await Wu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function sG(t,e,n,r){return Cn(t).onIdTokenChanged(e,n,r)}function lG(t,e,n){return Cn(t).beforeAuthStateChanged(e,n)}function uG(t,e,n,r){return Cn(t).onAuthStateChanged(e,n,r)}const Km="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Km,"1"),this.storage.removeItem(Km),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cG=1e3,fG=10;class CL extends AL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);FH()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,fG):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},cG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CL.type="LOCAL";const dG=CL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL extends AL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IL.type="SESSION";const NL=IL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ly(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async d=>d(n.origin,o)),f=await hG(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ly.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,f)=>{const d=CT("",20);i.port1.start();const h=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(m){const _=m;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(_.data.response);break;default:clearTimeout(h),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(){return window}function mG(t){uo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(){return typeof uo().WorkerGlobalScope<"u"&&typeof uo().importScripts=="function"}async function gG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function vG(){return RL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="firebaseLocalStorageDb",_G=1,Ym="firebaseLocalStorage",ML="fbase_key";class Ud{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uy(t,e){return t.transaction([Ym],e?"readwrite":"readonly").objectStore(Ym)}function bG(){const t=indexedDB.deleteDatabase(PL);return new Ud(t).toPromise()}function AE(){const t=indexedDB.open(PL,_G);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ym,{keyPath:ML})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ym)?e(r):(r.close(),await bG(),e(await AE()))})})}async function vN(t,e,n){const r=uy(t,!0).put({[ML]:e,value:n});return new Ud(r).toPromise()}async function EG(t,e){const n=uy(t,!1).get(e),r=await new Ud(n).toPromise();return r===void 0?null:r.value}function _N(t,e){const n=uy(t,!0).delete(e);return new Ud(n).toPromise()}const xG=800,TG=3;class DL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await AE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>TG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ly._getInstance(vG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await gG(),!this.activeServiceWorker)return;this.sender=new pG(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await AE();return await vN(e,Km,"1"),await _N(e,Km),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>EG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_N(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=uy(i,!1).getAll();return new Ud(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DL.type="LOCAL";const SG=DL;new Od(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t,e){return e?jo(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends SL{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ku(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ku(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ku(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wG(t){return aG(t.auth,new IT(t),t.bypassAuthState)}function AG(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),oG(n,new IT(t),t.bypassAuthState)}async function CG(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),iG(n,new IT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wG;case"linkViaPopup":case"linkViaRedirect":return CG;case"reauthViaPopup":case"reauthViaRedirect":return AG;default:ho(this.auth,"internal-error")}}resolve(e){Xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG=new Od(2e3,1e4);async function NG(t,e,n){if(xi(t.app))return Promise.reject(Ci(t,"operation-not-supported-in-this-environment"));const r=sy(t);SH(t,e,AT);const i=kL(r,n);return new rl(r,"signInViaPopup",e,i).executeNotNull()}class rl extends OL{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Xo(this.filter.length===1,"Popup operations only handle one event");const e=CT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IG.get())};e()}}rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG="pendingRedirect",mm=new Map;class PG extends OL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mm.get(this.auth._key());if(!e){try{const r=await MG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mm.set(this.auth._key(),e)}return this.bypassAuthState||mm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MG(t,e){const n=OG(e),r=kG(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function DG(t,e){mm.set(t._key(),e)}function kG(t){return jo(t._redirectPersistence)}function OG(t){return pm(RG,t.config.apiKey,t.name)}async function LG(t,e,n=!1){if(xi(t.app))return Promise.reject(cl(t));const r=sy(t),i=kL(r,e),l=await new PG(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG=600*1e3;class VG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!LL(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ci(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UG&&this.cachedEventUids.clear(),this.cachedEventUids.has(bN(e))}saveEventToCache(e){this.cachedEventUids.add(bN(e)),this.lastProcessedEventTime=Date.now()}}function bN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qG(t,e={}){return mc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FG=/^https?/;async function jG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qG(t);for(const n of e)try{if(HG(n))return}catch{}ho(t,"unauthorized-domain")}function HG(t){const e=SE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!FG.test(n))return!1;if(BG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG=new Od(3e4,6e4);function EN(){const t=uo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $G(t){return new Promise((e,n)=>{var i,o,l;function r(){EN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EN(),n(Ci(t,"network-request-failed"))},timeout:GG.get()})}if((o=(i=uo().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((l=uo().gapi)!=null&&l.load)r();else{const u=XH("iframefcb");return uo()[u]=()=>{gapi.load?r():n(Ci(t,"network-request-failed"))},WH(`${JH()}?onload=${u}`).catch(f=>n(f))}}).catch(e=>{throw gm=null,e})}let gm=null;function KG(t){return gm=gm||$G(t),gm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG=new Od(5e3,15e3),WG="__/auth/iframe",JG="emulator/auth/iframe",XG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZG(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ET(e,JG):`https://${t.config.authDomain}/${WG}`,r={apiKey:e.apiKey,appName:t.name,v:uc},i=QG.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ad(r).slice(1)}`}async function e$(t){const e=await KG(t),n=uo().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:ZG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XG,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Ci(t,"network-request-failed"),u=uo().setTimeout(()=>{o(l)},YG.get());function f(){uo().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n$=500,r$=600,i$="_blank",o$="http://localhost";class xN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a$(t,e,n,r=n$,i=r$){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...t$,width:r.toString(),height:i.toString(),top:o,left:l},d=Qn().toLowerCase();n&&(u=gL(d)?i$:n),pL(d)&&(e=e||o$,f.scrollbars="yes");const h=Object.entries(f).reduce((_,[E,w])=>`${_}${E}=${w},`,"");if(BH(d)&&u!=="_self")return s$(e||"",u),new xN(null);const m=window.open(e||"",u,h);Ve(m,t,"popup-blocked");try{m.focus()}catch{}return new xN(m)}function s$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$="__/auth/handler",u$="emulator/auth/handler",c$=encodeURIComponent("fac");async function TN(t,e,n,r,i,o){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:uc,eventId:i};if(e instanceof AT){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",YB(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))l[h]=m}if(e instanceof Ld){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(l.scopes=h.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const f=await t._getAppCheckToken(),d=f?`#${c$}=${encodeURIComponent(f)}`:"";return`${f$(t)}?${Ad(u).slice(1)}${d}`}function f$({config:t}){return t.emulator?ET(t,u$):`https://${t.authDomain}/${l$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="webStorageSupport";class d${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NL,this._completeRedirectFn=LG,this._overrideRedirectResult=DG}async _openPopup(e,n,r,i){var l;Xo((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const o=await TN(e,n,r,SE(),i);return a$(e,o,CT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await TN(e,n,r,SE(),i);return mG(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Xo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await e$(e),r=new VG(e);return n.register("authEvent",i=>(Ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(g_,{type:g_},i=>{var l;const o=(l=i==null?void 0:i[0])==null?void 0:l[g_];o!==void 0&&n(!!o),ho(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return EL()||mL()||ST()}}const h$=d$;var SN="@firebase/auth",wN="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g$(t){Fu(new gl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ve(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xL(t)},d=new KH(r,i,o,f);return ZH(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fu(new gl("auth-internal",e=>{const n=sy(e.getProvider("auth").getImmediate());return(r=>new p$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(SN,wN,m$(t)),as(SN,wN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$=300,v$=Tk("authIdTokenMaxAge")||y$;let AN=null;const _$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>v$)return;const i=n==null?void 0:n.token;AN!==i&&(AN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function b$(t=Nk()){const e=Ux(t,"auth");if(e.isInitialized())return e.getImmediate();const n=QH(t,{popupRedirectResolver:h$,persistence:[SG,dG,NL]}),r=Tk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=_$(o.toString());lG(n,l,()=>l(n.currentUser)),sG(n,u=>l(u))}}const i=Ek("auth");return i&&eG(n,`http://${i}`),n}function E$(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}YH({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Ci("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",E$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g$("Browser");const x$={apiKey:"AIzaSyB7q70QgLNxV7axxqmtfSRL2fdb2COhKd4",authDomain:"crossfit-ai.firebaseapp.com",projectId:"crossfit-ai",storageBucket:"crossfit-ai.firebasestorage.app",messagingSenderId:"148121694956",appId:"1:148121694956:web:e68d0871f5a38f3fad2bc9",measurementId:"G-ZW9CW0FRX9"},UL=Ik(x$),hr=aH(UL),NT=b$(UL),T$=({user:t,onUpdateUser:e,currentTheme:n,onUpdateTheme:r,onReset:i})=>{const[o,l]=N.useState(t),[u,f]=N.useState(!1),[d,h]=N.useState(!1),[m,_]=N.useState(!1),[E,w]=N.useState(!t.isRegistered),S=N.useRef(null),C=n.colors.bg==="#ffffff",P=D=>{const{name:k,value:B}=D.target;l(z=>({...z,[k]:k==="age"||k==="weight"||k==="height"?Number(B):B})),f(!1)},U=()=>{var D;(D=S.current)==null||D.click()},O=D=>{var B;const k=(B=D.target.files)==null?void 0:B[0];if(k){const z=new FileReader;z.onloadend=()=>{const j=z.result;l(L=>({...L,avatar:j})),e({...t,avatar:j})},z.readAsDataURL(k)}},H=D=>{D.preventDefault();const k={...o,isRegistered:!0};e(k),l(k),f(!0),w(!1),setTimeout(()=>f(!1),3e3)},F=()=>{const D=o.language==="es"?"en":"es",k={...o,language:D};l(k),e(k)},G=()=>{if(C){const D=n.id.replace("-light",""),k=am.find(B=>B.id===D)||am[0];r(k)}else{const D={...n,id:`${n.id}-light`,colors:{...n.colors,bg:"#ffffff",card:"#f3f4f6",text:"#111827"}};r(D)}},M=async()=>{try{await NT.signOut()}catch(D){console.error("Error signing out:",D)}};return T.jsxs("div",{className:"relative min-h-full animate-fade-in",children:[T.jsxs("div",{className:"flex items-center justify-between mb-8",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("div",{className:"relative group cursor-pointer",onClick:U,children:[T.jsx("div",{className:"w-20 h-20 rounded-full bg-[var(--color-card)] flex items-center justify-center border-2 border-[var(--color-primary)] overflow-hidden shadow-[0_0_15px_var(--color-primary)] transition-all group-hover:scale-105",children:o.avatar?T.jsx("img",{src:o.avatar,alt:"Profile",className:"w-full h-full object-cover"}):T.jsx(eE,{size:40,className:"text-[var(--color-text)] opacity-80"})}),T.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:T.jsx(Hg,{size:24,className:"text-white"})}),T.jsx("input",{type:"file",ref:S,onChange:O,accept:"image/*",className:"hidden"})]}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text)]",children:o.name}),T.jsxs("p",{className:"text-sm text-[var(--color-primary)] font-medium uppercase tracking-wider",children:["Nivel ",o.fitnessLevel]}),T.jsxs("div",{className:"mt-2 w-48",children:[T.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 mb-1",children:[T.jsxs("span",{children:["XP: ",o.xp||0]}),T.jsxs("span",{children:[Math.floor(o.levelProgress||0),"%"]})]}),T.jsx("div",{className:"h-1.5 bg-gray-800 rounded-full overflow-hidden",children:T.jsx("div",{className:"h-full bg-[var(--color-primary)] transition-all duration-500",style:{width:`${o.levelProgress||0}%`}})})]})]})]}),T.jsxs("div",{className:"flex gap-2",children:[t.isRegistered&&!E&&T.jsx("button",{onClick:()=>w(!0),className:"p-3 bg-[var(--color-card)] rounded-full hover:bg-[var(--color-primary)]/20 transition-colors border border-gray-800/20",children:T.jsx(jq,{size:24,className:"text-[var(--color-text)]"})}),T.jsx("button",{onClick:()=>h(!0),className:"p-3 bg-[var(--color-card)] rounded-full hover:bg-[var(--color-primary)]/20 transition-colors border border-gray-800/20",children:T.jsx(Dq,{size:24,className:"text-[var(--color-text)]"})})]})]}),T.jsxs("div",{className:"bg-[var(--color-card)] p-6 rounded-3xl shadow-2xl border border-[var(--color-secondary)]/30 backdrop-blur-sm",children:[T.jsxs("h3",{className:"text-xl font-bold mb-6 text-[var(--color-text)] flex items-center gap-2",children:[T.jsx(eE,{size:20,className:"text-[var(--color-primary)]"}),"Datos Biomtricos"]}),T.jsxs("form",{onSubmit:H,className:"space-y-5",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 ml-1",children:"Nombre"}),T.jsx("input",{type:"text",name:"name",value:o.name,onChange:P,disabled:!E,className:`w-full bg-[var(--color-bg)] text-[var(--color-text)] rounded-xl p-4 border border-gray-800/20 focus:border-[var(--color-primary)] focus:ring-1 focus:ring-[var(--color-primary)] outline-none transition-all ${E?"":"opacity-60 cursor-not-allowed"}`})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 ml-1",children:"Pas (Para dietas locales)"}),T.jsx("input",{type:"text",name:"country",value:o.country||"",onChange:P,placeholder:"Ej: Argentina, Mxico, Espaa",disabled:!E,className:`w-full bg-[var(--color-bg)] text-[var(--color-text)] rounded-xl p-4 border border-gray-800/20 focus:border-[var(--color-primary)] focus:ring-1 focus:ring-[var(--color-primary)] outline-none transition-all ${E?"":"opacity-60 cursor-not-allowed"}`})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 ml-1",children:"Edad"}),T.jsx("input",{type:"number",name:"age",value:o.age,onChange:P,disabled:!E,className:`w-full bg-[var(--color-bg)] text-[var(--color-text)] rounded-xl p-4 border border-gray-800/20 focus:border-[var(--color-primary)] focus:ring-1 focus:ring-[var(--color-primary)] outline-none transition-all ${E?"":"opacity-60 cursor-not-allowed"}`})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 ml-1",children:"Sexo"}),T.jsxs("select",{name:"gender",value:o.gender,onChange:P,disabled:!E,className:`w-full bg-[var(--color-bg)] text-[var(--color-text)] rounded-xl p-4 border border-gray-800/20 focus:border-[var(--color-primary)] focus:ring-1 focus:ring-[var(--color-primary)] outline-none transition-all appearance-none ${E?"":"opacity-60 cursor-not-allowed"}`,children:[T.jsx("option",{value:"male",children:"Hombre"}),T.jsx("option",{value:"female",children:"Mujer"}),T.jsx("option",{value:"other",children:"Otro"})]})]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 ml-1",children:"Peso (kg)"}),T.jsx("input",{type:"number",name:"weight",value:o.weight,onChange:P,disabled:!E,className:`w-full bg-[var(--color-bg)] text-[var(--color-text)] rounded-xl p-4 border border-gray-800/20 focus:border-[var(--color-primary)] focus:ring-1 focus:ring-[var(--color-primary)] outline-none transition-all ${E?"":"opacity-60 cursor-not-allowed"}`})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 ml-1",children:"Altura (cm)"}),T.jsx("input",{type:"number",name:"height",value:o.height,onChange:P,disabled:!E,className:`w-full bg-[var(--color-bg)] text-[var(--color-text)] rounded-xl p-4 border border-gray-800/20 focus:border-[var(--color-primary)] focus:ring-1 focus:ring-[var(--color-primary)] outline-none transition-all ${E?"":"opacity-60 cursor-not-allowed"}`})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 ml-1",children:"Nivel (Auto)"}),T.jsxs("div",{className:"w-full bg-[var(--color-bg)]/50 rounded-xl p-4 border border-gray-800/20 text-gray-400 capitalize cursor-not-allowed flex justify-between items-center",children:[T.jsx("span",{children:o.fitnessLevel==="rx"?"RX":o.fitnessLevel==="beginner"?"Principiante (Scaled)":o.fitnessLevel==="intermediate"?"Intermedio":o.fitnessLevel==="elite"?"Elite":o.fitnessLevel}),T.jsx("span",{className:"text-xs bg-gray-800/50 px-2 py-1 rounded text-gray-500",children:"Solo Lectura"})]})]}),E&&T.jsxs("button",{type:"submit",className:"w-full mt-6 bg-[var(--color-primary)] hover:opacity-90 text-white font-bold py-4 rounded-xl flex items-center justify-center gap-2 transition-all shadow-[0_4px_20px_-5px_var(--color-primary)]",children:[T.jsx(Qb,{size:20}),u?"Guardado Exitosamente":t.isRegistered?"Guardar Cambios":"Registrar Perfil"]})]})]}),d&&T.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end",children:[T.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>h(!1)}),T.jsxs("div",{className:"relative w-80 h-full bg-[#0a0a0a] border-l border-gray-800 p-6 shadow-2xl animate-slide-left overflow-y-auto",children:[T.jsxs("div",{className:"flex justify-between items-center mb-8",children:[T.jsx("h2",{className:"text-xl font-bold text-white",children:"Configuracin"}),T.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-gray-800 rounded-full transition-colors text-gray-400",children:T.jsx(kx,{size:24})})]}),T.jsxs("div",{className:"mb-8",children:[T.jsxs("h3",{className:"text-sm font-bold text-gray-500 uppercase mb-4 flex items-center gap-2",children:[C?T.jsx(iB,{size:16}):T.jsx(Uq,{size:16})," Modo"]}),T.jsxs("button",{onClick:G,className:"w-full flex items-center justify-between p-4 bg-[var(--color-card)] rounded-xl border border-gray-800 hover:border-[var(--color-primary)] transition-all group",children:[T.jsx("span",{className:"text-[var(--color-text)] font-medium",children:C?"Modo Claro":"Modo Oscuro"}),T.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded transition-colors ${C?"bg-yellow-500/20 text-yellow-500":"bg-blue-500/20 text-blue-500"}`,children:"ACTIVADO"})]})]}),T.jsxs("div",{className:"mb-8",children:[T.jsxs("h3",{className:"text-sm font-bold text-gray-500 uppercase mb-4 flex items-center gap-2",children:[T.jsx(Sq,{size:16})," Idioma"]}),T.jsxs("button",{onClick:F,className:"w-full flex items-center justify-between p-4 bg-[var(--color-card)] rounded-xl border border-gray-800 hover:border-[var(--color-primary)] transition-all group",children:[T.jsx("span",{className:"text-[var(--color-text)] font-medium",children:o.language==="en"?"English":"Espaol"}),T.jsx("span",{className:"text-[var(--color-primary)] text-xs font-bold bg-[var(--color-primary)]/10 px-2 py-1 rounded group-hover:bg-[var(--color-primary)] group-hover:text-white transition-colors",children:"CAMBIAR"})]})]}),T.jsxs("div",{children:[T.jsxs("button",{onClick:()=>_(!m),className:"w-full flex items-center justify-between text-sm font-bold text-gray-500 uppercase mb-4 hover:text-[var(--color-primary)] transition-colors",children:[T.jsxs("span",{className:"flex items-center gap-2",children:[T.jsx(zq,{size:16})," Tema Neon"]}),m?T.jsx(mq,{size:16}):T.jsx(fq,{size:16})]}),m&&T.jsx("div",{className:"grid grid-cols-2 gap-3 animate-fade-in",children:am.map(D=>T.jsxs("button",{onClick:()=>{if(C){const k={...D,id:`${D.id}-light`,colors:{...D.colors,bg:"#ffffff",card:"#f3f4f6",text:"#111827"}};r(k)}else r(D)},className:`
                        relative p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-2
                        ${n.id.includes(D.id)?"border-[var(--color-primary)] bg-[var(--color-primary)]/10":"border-gray-800 bg-[var(--color-card)] hover:border-gray-600"}
                      `,children:[T.jsx("div",{className:"w-8 h-8 rounded-full shadow-[0_0_10px]",style:{backgroundColor:D.colors.primary,boxShadow:`0 0 10px ${D.colors.primary}`}}),T.jsx("span",{className:`text-xs font-medium ${n.id.includes(D.id)?"text-[var(--color-text)]":"text-gray-400"}`,children:D.name.replace("Neon ","")})]},D.id))})]}),T.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-800 space-y-4",children:[T.jsxs("div",{children:[T.jsxs("h3",{className:"text-sm font-bold text-red-500 uppercase mb-4 flex items-center gap-2",children:[T.jsx(Bu,{size:16})," Zona de Peligro"]}),T.jsxs("button",{onClick:()=>{h(!1),i()},className:"w-full flex items-center justify-between p-4 bg-red-500/10 rounded-xl border border-red-500/30 hover:bg-red-500 hover:text-white transition-all group",children:[T.jsx("span",{className:"text-red-500 font-medium group-hover:text-white",children:"Reiniciar Progreso"}),T.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded bg-red-500/20 text-red-500 group-hover:bg-white/20 group-hover:text-white transition-colors",children:"RESET"})]})]}),T.jsx("button",{onClick:M,className:"w-full flex items-center justify-between p-4 bg-gray-800/50 rounded-xl border border-gray-700 hover:bg-gray-800 hover:text-white transition-all group",children:T.jsxs("span",{className:"text-gray-400 font-medium group-hover:text-white flex items-center gap-2",children:[T.jsx(Pq,{size:18})," Cerrar Sesin"]})})]}),T.jsx("div",{className:"mt-12 pt-6 border-t border-gray-800 text-center",children:T.jsx("p",{className:"text-xs text-gray-600",children:"CrossFit App v1.0"})})]})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let S$,w$;function A$(){return{geminiUrl:S$,vertexUrl:w$}}function C$(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const l=A$();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ua{}function Te(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(t,e,n){for(let o=0;o<e.length-1;o++){const l=e[o];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const f=t[u];if(Array.isArray(n))for(let d=0;d<f.length;d++){const h=f[d];y(h,e.slice(o+1),n[d])}else for(const d of f)y(d,e.slice(o+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const f=t[u];y(f[0],e.slice(o+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function g(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const l=t[o];return Array.isArray(l)?l.map(u=>g(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function I$(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),l=new Set;let u=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){u=f;break}if(u!==-1&&o.length>u)for(let f=u;f<o.length;f++){const d=o[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}CE(t,i,o,0,l)}}function CE(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const l=o.slice(0,-2),u=t;if(l in u&&Array.isArray(u[l]))for(const f of u[l])CE(f,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of u)f[d]=l[d];for(const[d,h]of Object.entries(f)){const m=[];for(const _ of n.slice(r))_==="*"?m.push(d):m.push(_);y(l,m,h)}for(const d of u)delete l[d]}}else{const l=t;o in l&&CE(l[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RT(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N$(t){const e={},n=g(t,["operationName"]);n!=null&&y(e,["operationName"],n);const r=g(t,["resourceName"]);return r!=null&&y(e,["_url","resourceName"],r),e}function R$(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response","generateVideoResponse"]);return l!=null&&y(e,["response"],M$(l)),e}function P$(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response"]);return l!=null&&y(e,["response"],D$(l)),e}function M$(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>k$(l))),y(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function D$(t){const e={},n=g(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>O$(l))),y(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function k$(t){const e={},n=g(t,["video"]);return n!=null&&y(e,["video"],B$(n)),e}function O$(t){const e={},n=g(t,["_self"]);return n!=null&&y(e,["video"],F$(n)),e}function L$(t){const e={},n=g(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function U$(t){const e={},n=g(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function V$(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response"]);return l!=null&&y(e,["response"],z$(l)),e}function z$(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&y(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function VL(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response"]);return l!=null&&y(e,["response"],q$(l)),e}function q$(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&y(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function B$(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],RT(r));const i=g(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function F$(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],RT(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var CN;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(CN||(CN={}));var IN;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(IN||(IN={}));var NN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(NN||(NN={}));var rt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(rt||(rt={}));var RN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(RN||(RN={}));var PN;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(PN||(PN={}));var MN;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(MN||(MN={}));var DN;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(DN||(DN={}));var kN;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(kN||(kN={}));var ON;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(ON||(ON={}));var LN;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(LN||(LN={}));var UN;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(UN||(UN={}));var VN;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(VN||(VN={}));var zN;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(zN||(zN={}));var qN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(qN||(qN={}));var BN;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(BN||(BN={}));var FN;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(FN||(FN={}));var jN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(jN||(jN={}));var HN;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(HN||(HN={}));var Wm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Wm||(Wm={}));var GN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(GN||(GN={}));var $N;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})($N||($N={}));var KN;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(KN||(KN={}));var IE;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(IE||(IE={}));var YN;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(YN||(YN={}));var WN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(WN||(WN={}));var JN;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(JN||(JN={}));var XN;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(XN||(XN={}));var QN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(QN||(QN={}));var ZN;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ZN||(ZN={}));var eR;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(eR||(eR={}));var tR;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(tR||(tR={}));var nR;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(nR||(nR={}));var rR;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(rR||(rR={}));var iR;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(iR||(iR={}));var oR;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(oR||(oR={}));var aR;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(aR||(aR={}));var sR;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(sR||(sR={}));var lR;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(lR||(lR={}));var uR;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(uR||(uR={}));var cR;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(cR||(cR={}));var fR;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(fR||(fR={}));var dR;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(dR||(dR={}));var hR;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(hR||(hR={}));var pR;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(pR||(pR={}));var mR;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(mR||(mR={}));var gR;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(gR||(gR={}));var yR;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(yR||(yR={}));var vR;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(vR||(vR={}));var _R;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(_R||(_R={}));var bR;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(bR||(bR={}));var ER;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ER||(ER={}));var xR;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(xR||(xR={}));var TR;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(TR||(TR={}));var Cu;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Cu||(Cu={}));class NE{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Pf{get text(){var e,n,r,i,o,l,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const m=[];for(const _ of(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[E,w]of Object.entries(_))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(w!==null||w!==void 0)&&m.push(E);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;h=!0,d+=_.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,o,l,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const m of(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[_,E]of Object.entries(m))_!=="inlineData"&&(E!==null||E!==void 0)&&h.push(_);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,o,l,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,o,l,u,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,o,l,u,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class SR{}class wR{}class j${}class H${}class G${}class $${}class AR{}class CR{}class IR{}class K${}class Jm{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Jm;let i;const o=e;return n?i=P$(o):i=R$(o),Object.assign(r,i),r}}class NR{}class RR{}class PR{}class Y${}class W${}class J${}class PT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new PT,o=V$(e);return Object.assign(r,o),r}}class X${}class Q${}class Z${}class MR{}class e7{get text(){var e,n,r;let i="",o=!1;const l=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(u))f!=="text"&&f!=="thought"&&d!==null&&l.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(l))u!=="inlineData"&&f!==null&&o.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class t7{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class MT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new MT,o=VL(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function st(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function zL(t,e){const n=st(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function qL(t){return Array.isArray(t)?t.map(e=>Xm(e)):[Xm(t)]}function Xm(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function BL(t){const e=Xm(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function FL(t){const e=Xm(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function DR(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function jL(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>DR(e)):[DR(t)]}function RE(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function kR(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function OR(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Jn(t){if(t==null)throw new Error("ContentUnion is required");return RE(t)?t:{role:"user",parts:jL(t)}}function DT(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Jn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Jn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Jn(n)):[Jn(e)]}function ri(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(kR(t)||OR(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Jn(t)]}const e=[],n=[],r=RE(t[0]);for(const i of t){const o=RE(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(kR(i)||OR(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:jL(n)}),e}function n7(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(rt).includes(n[0].toUpperCase())?n[0].toUpperCase():rt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(rt).includes(r.toUpperCase())?r.toUpperCase():rt.TYPE_UNSPECIFIED})}}function Ou(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&n7(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(rt).includes(u.toUpperCase())?u.toUpperCase():rt.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=Ou(u);else if(r.includes(l)){const f=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}f.push(Ou(d))}e[l]=f}else if(i.includes(l)){const f={};for(const[d,h]of Object.entries(u))f[d]=Ou(h);e[l]=f}else{if(l==="additionalProperties")continue;e[l]=u}return e}function kT(t){return Ou(t)}function OT(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function LT(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function gc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ou(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ou(e.response));return t}function yc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function r7(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ca(t,e){if(typeof e!="string")throw new Error("name must be a string");return r7(t,e,"cachedContents")}function HL(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function _s(t){return RT(t)}function i7(t){return t!=null&&typeof t=="object"&&"name"in t}function o7(t){return t!=null&&typeof t=="object"&&"video"in t}function a7(t){return t!=null&&typeof t=="object"&&"uri"in t}function GL(t){var e;let n;if(i7(t)&&(n=t.name),!(a7(t)&&(n=t.uri,n===void 0))&&!(o7(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function $L(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function KL(t){for(const e of["models","tunedModels","publisherModels"])if(s7(t,e))return t[e];return[]}function s7(t,e){return t!==null&&typeof t=="object"&&e in t}function l7(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function u7(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=l7(i,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function YL(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function c7(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function WL(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function vc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function JL(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f7(t){const e={},n=g(t,["responsesFile"]);n!=null&&y(e,["fileName"],n);const r=g(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>G7(l))),y(e,["inlinedResponses"],o)}const i=g(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["inlinedEmbedContentResponses"],o)}return e}function d7(t){const e={},n=g(t,["predictionsFormat"]);n!=null&&y(e,["format"],n);const r=g(t,["gcsDestination","outputUriPrefix"]);r!=null&&y(e,["gcsUri"],r);const i=g(t,["bigqueryDestination","outputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function h7(t){const e={},n=g(t,["format"]);n!=null&&y(e,["predictionsFormat"],n);const r=g(t,["gcsUri"]);r!=null&&y(e,["gcsDestination","outputUriPrefix"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&y(e,["bigqueryDestination","outputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ym(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata","displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["metadata","state"]);i!=null&&y(e,["state"],JL(i));const o=g(t,["metadata","createTime"]);o!=null&&y(e,["createTime"],o);const l=g(t,["metadata","endTime"]);l!=null&&y(e,["endTime"],l);const u=g(t,["metadata","updateTime"]);u!=null&&y(e,["updateTime"],u);const f=g(t,["metadata","model"]);f!=null&&y(e,["model"],f);const d=g(t,["metadata","output"]);return d!=null&&y(e,["dest"],f7(WL(d))),e}function PE(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["state"]);i!=null&&y(e,["state"],JL(i));const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["createTime"]);l!=null&&y(e,["createTime"],l);const u=g(t,["startTime"]);u!=null&&y(e,["startTime"],u);const f=g(t,["endTime"]);f!=null&&y(e,["endTime"],f);const d=g(t,["updateTime"]);d!=null&&y(e,["updateTime"],d);const h=g(t,["model"]);h!=null&&y(e,["model"],h);const m=g(t,["inputConfig"]);m!=null&&y(e,["src"],p7(m));const _=g(t,["outputConfig"]);_!=null&&y(e,["dest"],d7(WL(_)));const E=g(t,["completionStats"]);return E!=null&&y(e,["completionStats"],E),e}function p7(t){const e={},n=g(t,["instancesFormat"]);n!=null&&y(e,["format"],n);const r=g(t,["gcsSource","uris"]);r!=null&&y(e,["gcsUri"],r);const i=g(t,["bigquerySource","inputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function m7(t,e){const n={};if(g(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(e,["fileName"]);r!=null&&y(n,["fileName"],r);const i=g(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>H7(t,l))),y(n,["requests","requests"],o)}return n}function g7(t){const e={},n=g(t,["format"]);n!=null&&y(e,["instancesFormat"],n);const r=g(t,["gcsUri"]);r!=null&&y(e,["gcsSource","uris"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&y(e,["bigquerySource","inputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function y7(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function v7(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],vc(t,r)),n}function _7(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],vc(t,r)),n}function b7(t){const e={},n=g(t,["content"]);n!=null&&y(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],E7(r));const i=g(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const o=g(t,["finishReason"]);o!=null&&y(e,["finishReason"],o);const l=g(t,["avgLogprobs"]);l!=null&&y(e,["avgLogprobs"],l);const u=g(t,["groundingMetadata"]);u!=null&&y(e,["groundingMetadata"],u);const f=g(t,["index"]);f!=null&&y(e,["index"],f);const d=g(t,["logprobsResult"]);d!=null&&y(e,["logprobsResult"],d);const h=g(t,["safetyRatings"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(E=>E)),y(e,["safetyRatings"],_)}const m=g(t,["urlContextMetadata"]);return m!=null&&y(e,["urlContextMetadata"],m),e}function E7(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function XL(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Q7(o))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function x7(t,e){const n={},r=g(t,["displayName"]);if(e!==void 0&&r!=null&&y(e,["batch","displayName"],r),g(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function T7(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=g(t,["dest"]);return e!==void 0&&i!=null&&y(e,["outputConfig"],h7(c7(i))),n}function LR(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["src"]);i!=null&&y(n,["batch","inputConfig"],m7(t,YL(t,i)));const o=g(e,["config"]);return o!=null&&x7(o,n),n}function S7(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["model"],st(t,r));const i=g(e,["src"]);i!=null&&y(n,["inputConfig"],g7(YL(t,i)));const o=g(e,["config"]);return o!=null&&T7(o,n),n}function w7(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["batch","displayName"],r),n}function A7(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["src"]);i!=null&&y(n,["batch","inputConfig"],D7(t,i));const o=g(e,["config"]);return o!=null&&w7(o,n),n}function C7(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],vc(t,r)),n}function I7(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],vc(t,r)),n}function N7(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);return o!=null&&y(e,["error"],o),e}function R7(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);return o!=null&&y(e,["error"],o),e}function P7(t,e){const n={},r=g(e,["contents"]);if(r!=null){let o=DT(t,r);Array.isArray(o)&&(o=o.map(l=>l)),y(n,["requests[]","request","content"],o)}const i=g(e,["config"]);return i!=null&&(y(n,["_self"],M7(i,n)),I$(n,{"requests[].*":"requests[].request.*"})),n}function M7(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const o=g(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&y(e,["requests[]","outputDimensionality"],o),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function D7(t,e){const n={},r=g(e,["fileName"]);r!=null&&y(n,["file_name"],r);const i=g(e,["inlinedRequests"]);return i!=null&&y(n,["requests"],P7(t,i)),n}function k7(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function O7(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function L7(t){const e={},n=g(t,["mode"]);n!=null&&y(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function U7(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],XL(Jn(i)));const o=g(e,["temperature"]);o!=null&&y(r,["temperature"],o);const l=g(e,["topP"]);l!=null&&y(r,["topP"],l);const u=g(e,["topK"]);u!=null&&y(r,["topK"],u);const f=g(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=g(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const _=g(e,["logprobs"]);_!=null&&y(r,["logprobs"],_);const E=g(e,["presencePenalty"]);E!=null&&y(r,["presencePenalty"],E);const w=g(e,["frequencyPenalty"]);w!=null&&y(r,["frequencyPenalty"],w);const S=g(e,["seed"]);S!=null&&y(r,["seed"],S);const C=g(e,["responseMimeType"]);C!=null&&y(r,["responseMimeType"],C);const P=g(e,["responseSchema"]);P!=null&&y(r,["responseSchema"],kT(P));const U=g(e,["responseJsonSchema"]);if(U!=null&&y(r,["responseJsonSchema"],U),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=g(e,["safetySettings"]);if(n!==void 0&&O!=null){let j=O;Array.isArray(j)&&(j=j.map(L=>Z7(L))),y(n,["safetySettings"],j)}const H=g(e,["tools"]);if(n!==void 0&&H!=null){let j=yc(H);Array.isArray(j)&&(j=j.map(L=>tK(gc(L)))),y(n,["tools"],j)}const F=g(e,["toolConfig"]);if(n!==void 0&&F!=null&&y(n,["toolConfig"],eK(F)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=g(e,["cachedContent"]);n!==void 0&&G!=null&&y(n,["cachedContent"],ca(t,G));const M=g(e,["responseModalities"]);M!=null&&y(r,["responseModalities"],M);const D=g(e,["mediaResolution"]);D!=null&&y(r,["mediaResolution"],D);const k=g(e,["speechConfig"]);if(k!=null&&y(r,["speechConfig"],OT(k)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=g(e,["thinkingConfig"]);B!=null&&y(r,["thinkingConfig"],B);const z=g(e,["imageConfig"]);return z!=null&&y(r,["imageConfig"],j7(z)),r}function V7(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>b7(d))),y(e,["candidates"],f)}const i=g(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const o=g(t,["promptFeedback"]);o!=null&&y(e,["promptFeedback"],o);const l=g(t,["responseId"]);l!=null&&y(e,["responseId"],l);const u=g(t,["usageMetadata"]);return u!=null&&y(e,["usageMetadata"],u),e}function z7(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],vc(t,r)),n}function q7(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],vc(t,r)),n}function B7(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function F7(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function j7(t){const e={},n=g(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function H7(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["request","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let u=ri(i);Array.isArray(u)&&(u=u.map(f=>XL(f))),y(n,["request","contents"],u)}const o=g(e,["metadata"]);o!=null&&y(n,["metadata"],o);const l=g(e,["config"]);return l!=null&&y(n,["request","generationConfig"],U7(t,l,g(n,["request"],{}))),n}function G7(t){const e={},n=g(t,["response"]);n!=null&&y(e,["response"],V7(n));const r=g(t,["error"]);return r!=null&&y(e,["error"],r),e}function $7(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);if(e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),g(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function K7(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);e!==void 0&&i!=null&&y(e,["_query","pageToken"],i);const o=g(t,["filter"]);return e!==void 0&&o!=null&&y(e,["_query","filter"],o),n}function Y7(t){const e={},n=g(t,["config"]);return n!=null&&$7(n,e),e}function W7(t){const e={},n=g(t,["config"]);return n!=null&&K7(n,e),e}function J7(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>ym(l))),y(e,["batchJobs"],o)}return e}function X7(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>PE(l))),y(e,["batchJobs"],o)}return e}function Q7(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&y(e,["fileData"],k7(o));const l=g(t,["functionCall"]);l!=null&&y(e,["functionCall"],O7(l));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&y(e,["inlineData"],y7(f));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const _=g(t,["videoMetadata"]);return _!=null&&y(e,["videoMetadata"],_),e}function Z7(t){const e={},n=g(t,["category"]);if(n!=null&&y(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function eK(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],L7(n));const r=g(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function tK(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=g(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const l=g(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],B7(u));const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],F7(f));const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qo;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Qo||(Qo={}));class Cl{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nK extends ua{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Cl(Qo.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=LR(this.apiClient,e),r=n._url,i=Te("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,f=u.requests,d=[];for(const h of f){const m=Object.assign({},h);if(m.systemInstruction){const _=m.systemInstruction;delete m.systemInstruction;const E=m.request;E.systemInstruction=_,m.request=E}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),l=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=S7(this.apiClient,e);return u=Te("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>PE(h))}else{const d=LR(this.apiClient,e);return u=Te("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>ym(h))}}async createEmbeddingsInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=A7(this.apiClient,e);return o=Te("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>ym(f))}}async get(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=q7(this.apiClient,e);return u=Te("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>PE(h))}else{const d=z7(this.apiClient,e);return u=Te("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>ym(h))}}async cancel(e){var n,r,i,o;let l="",u={};if(this.apiClient.isVertexAI()){const f=_7(this.apiClient,e);l=Te("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=v7(this.apiClient,e);l=Te("batches/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=W7(e);return u=Te("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=X7(h),_=new MR;return Object.assign(_,m),_})}else{const d=Y7(e);return u=Te("batches",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=J7(h),_=new MR;return Object.assign(_,m),_})}}async delete(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=I7(this.apiClient,e);return u=Te("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>R7(h))}else{const d=C7(this.apiClient,e);return u=Te("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>N7(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rK(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function UR(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>AK(o))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function iK(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const o=g(t,["displayName"]);e!==void 0&&o!=null&&y(e,["displayName"],o);const l=g(t,["contents"]);if(e!==void 0&&l!=null){let h=ri(l);Array.isArray(h)&&(h=h.map(m=>UR(m))),y(e,["contents"],h)}const u=g(t,["systemInstruction"]);e!==void 0&&u!=null&&y(e,["systemInstruction"],UR(Jn(u)));const f=g(t,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>IK(m))),y(e,["tools"],h)}const d=g(t,["toolConfig"]);if(e!==void 0&&d!=null&&y(e,["toolConfig"],CK(d)),g(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function oK(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const o=g(t,["displayName"]);e!==void 0&&o!=null&&y(e,["displayName"],o);const l=g(t,["contents"]);if(e!==void 0&&l!=null){let m=ri(l);Array.isArray(m)&&(m=m.map(_=>_)),y(e,["contents"],m)}const u=g(t,["systemInstruction"]);e!==void 0&&u!=null&&y(e,["systemInstruction"],Jn(u));const f=g(t,["tools"]);if(e!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(_=>NK(_))),y(e,["tools"],m)}const d=g(t,["toolConfig"]);e!==void 0&&d!=null&&y(e,["toolConfig"],d);const h=g(t,["kmsKeyName"]);return e!==void 0&&h!=null&&y(e,["encryption_spec","kmsKeyName"],h),n}function aK(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["model"],zL(t,r));const i=g(e,["config"]);return i!=null&&iK(i,n),n}function sK(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["model"],zL(t,r));const i=g(e,["config"]);return i!=null&&oK(i,n),n}function lK(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],ca(t,r)),n}function uK(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],ca(t,r)),n}function cK(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function fK(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function dK(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function hK(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function pK(t){const e={},n=g(t,["mode"]);n!=null&&y(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function mK(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&y(e,["description"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const l=g(t,["response"]);l!=null&&y(e,["response"],l);const u=g(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function gK(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],ca(t,r)),n}function yK(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],ca(t,r)),n}function vK(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function _K(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function bK(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function EK(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function xK(t){const e={},n=g(t,["config"]);return n!=null&&bK(n,e),e}function TK(t){const e={},n=g(t,["config"]);return n!=null&&EK(n,e),e}function SK(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["cachedContents"],o)}return e}function wK(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["cachedContents"],o)}return e}function AK(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&y(e,["fileData"],dK(o));const l=g(t,["functionCall"]);l!=null&&y(e,["functionCall"],hK(l));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&y(e,["inlineData"],rK(f));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const _=g(t,["videoMetadata"]);return _!=null&&y(e,["videoMetadata"],_),e}function CK(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],pK(n));const r=g(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function IK(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=g(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const l=g(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],vK(u));const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],_K(f));const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function NK(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(_=>mK(_))),y(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const o=g(t,["computerUse"]);if(o!=null&&y(e,["computerUse"],o),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(t,["codeExecution"]);l!=null&&y(e,["codeExecution"],l);const u=g(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const f=g(t,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const d=g(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const h=g(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function RK(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function PK(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function MK(t,e){const n={},r=g(e,["name"]);r!=null&&y(n,["_url","name"],ca(t,r));const i=g(e,["config"]);return i!=null&&RK(i,n),n}function DK(t,e){const n={},r=g(e,["name"]);r!=null&&y(n,["_url","name"],ca(t,r));const i=g(e,["config"]);return i!=null&&PK(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kK extends ua{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Cl(Qo.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=sK(this.apiClient,e);return u=Te("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=aK(this.apiClient,e);return u=Te("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=yK(this.apiClient,e);return u=Te("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=gK(this.apiClient,e);return u=Te("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=uK(this.apiClient,e);return u=Te("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=fK(h),_=new RR;return Object.assign(_,m),_})}else{const d=lK(this.apiClient,e);return u=Te("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=cK(h),_=new RR;return Object.assign(_,m),_})}}async update(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=DK(this.apiClient,e);return u=Te("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=MK(this.apiClient,e);return u=Te("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=TK(e);return u=Te("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=wK(h),_=new PR;return Object.assign(_,m),_})}else{const d=xK(e);return u=Te("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=SK(h),_=new PR;return Object.assign(_,m),_})}}}function VR(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function It(t){return this instanceof It?(this.v=t,this):new It(t)}function Lu(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(E){return function(w){return Promise.resolve(w).then(E,m)}}function u(E,w){r[E]&&(i[E]=function(S){return new Promise(function(C,P){o.push([E,S,C,P])>1||f(E,S)})},w&&(i[E]=w(i[E])))}function f(E,w){try{d(r[E](w))}catch(S){_(o[0][3],S)}}function d(E){E.value instanceof It?Promise.resolve(E.value.v).then(h,m):_(o[0][2],E)}function h(E){f("next",E)}function m(E){f("throw",E)}function _(E,w){E(w),o.shift(),o.length&&f(o[0][0],o[0][1])}}function Qf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof VR=="function"?VR(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(l){return new Promise(function(u,f){l=t[o](l),i(u,f,l.done,l.value)})}}function i(o,l,u,f){Promise.resolve(f).then(function(d){o({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OK(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:QL(n)}function QL(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function LK(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function zR(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!QL(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class UK{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new VK(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class VK{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),LK(o)}async sendMessage(e){var n;await this.sendPromise;const r=Jn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,u;const f=await i,d=(l=(o=f.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,h=f.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let _=[];h!=null&&(_=(u=h.slice(m))!==null&&u!==void 0?u:[]);const E=d?[d]:[];this.recordHistory(r,E,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Jn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?zR(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Lu(this,arguments,function*(){var l,u,f,d;const h=[];try{for(var m=!0,_=Qf(e),E;E=yield It(_.next()),l=E.done,!l;m=!0){d=E.value,m=!1;const w=d;if(OK(w)){const S=(i=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;S!==void 0&&h.push(S)}yield yield It(w)}}catch(w){u={error:w}}finally{try{!m&&!l&&(f=_.return)&&(yield It(f.call(_)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...zR(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cy extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,cy.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zK(t){const e={},n=g(t,["file"]);return n!=null&&y(e,["file"],n),e}function qK(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function BK(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","file"],GL(n)),e}function FK(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function jK(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","file"],GL(n)),e}function HK(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function GK(t){const e={},n=g(t,["config"]);return n!=null&&HK(n,e),e}function $K(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KK extends ua{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Cl(Qo.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=GK(e);return o=Te("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=$K(f),h=new X$;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=zK(e);return o=Te("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=qK(f),h=new Q$;return Object.assign(h,d),h})}}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=jK(e);return o=Te("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=BK(e);return o=Te("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=FK(f),h=new Z$;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vm(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function YK(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>cY(o))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function WK(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function JK(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function XK(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&y(e,["description"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const l=g(t,["response"]);l!=null&&y(e,["response"],l);const u=g(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function QK(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const o=g(t,["candidateCount"]);o!=null&&y(e,["candidateCount"],o);const l=g(t,["enableAffectiveDialog"]);l!=null&&y(e,["enableAffectiveDialog"],l);const u=g(t,["frequencyPenalty"]);u!=null&&y(e,["frequencyPenalty"],u);const f=g(t,["logprobs"]);f!=null&&y(e,["logprobs"],f);const d=g(t,["maxOutputTokens"]);d!=null&&y(e,["maxOutputTokens"],d);const h=g(t,["mediaResolution"]);h!=null&&y(e,["mediaResolution"],h);const m=g(t,["presencePenalty"]);m!=null&&y(e,["presencePenalty"],m);const _=g(t,["responseLogprobs"]);_!=null&&y(e,["responseLogprobs"],_);const E=g(t,["responseMimeType"]);E!=null&&y(e,["responseMimeType"],E);const w=g(t,["responseModalities"]);w!=null&&y(e,["responseModalities"],w);const S=g(t,["responseSchema"]);S!=null&&y(e,["responseSchema"],S);const C=g(t,["routingConfig"]);C!=null&&y(e,["routingConfig"],C);const P=g(t,["seed"]);P!=null&&y(e,["seed"],P);const U=g(t,["speechConfig"]);U!=null&&y(e,["speechConfig"],ZL(U));const O=g(t,["stopSequences"]);O!=null&&y(e,["stopSequences"],O);const H=g(t,["temperature"]);H!=null&&y(e,["temperature"],H);const F=g(t,["thinkingConfig"]);F!=null&&y(e,["thinkingConfig"],F);const G=g(t,["topK"]);G!=null&&y(e,["topK"],G);const M=g(t,["topP"]);if(M!=null&&y(e,["topP"],M),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ZK(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function eY(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function tY(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const l=g(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const u=g(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const f=g(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","speechConfig"],LT(m));const _=g(t,["thinkingConfig"]);e!==void 0&&_!=null&&y(e,["setup","generationConfig","thinkingConfig"],_);const E=g(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],E);const w=g(t,["systemInstruction"]);e!==void 0&&w!=null&&y(e,["setup","systemInstruction"],YK(Jn(w)));const S=g(t,["tools"]);if(e!==void 0&&S!=null){let G=yc(S);Array.isArray(G)&&(G=G.map(M=>dY(gc(M)))),y(e,["setup","tools"],G)}const C=g(t,["sessionResumption"]);e!==void 0&&C!=null&&y(e,["setup","sessionResumption"],fY(C));const P=g(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&y(e,["setup","inputAudioTranscription"],P);const U=g(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&y(e,["setup","outputAudioTranscription"],U);const O=g(t,["realtimeInputConfig"]);e!==void 0&&O!=null&&y(e,["setup","realtimeInputConfig"],O);const H=g(t,["contextWindowCompression"]);e!==void 0&&H!=null&&y(e,["setup","contextWindowCompression"],H);const F=g(t,["proactivity"]);return e!==void 0&&F!=null&&y(e,["setup","proactivity"],F),n}function nY(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],QK(r));const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const l=g(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const u=g(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const f=g(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","speechConfig"],ZL(LT(m)));const _=g(t,["thinkingConfig"]);e!==void 0&&_!=null&&y(e,["setup","generationConfig","thinkingConfig"],_);const E=g(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],E);const w=g(t,["systemInstruction"]);e!==void 0&&w!=null&&y(e,["setup","systemInstruction"],Jn(w));const S=g(t,["tools"]);if(e!==void 0&&S!=null){let G=yc(S);Array.isArray(G)&&(G=G.map(M=>hY(gc(M)))),y(e,["setup","tools"],G)}const C=g(t,["sessionResumption"]);e!==void 0&&C!=null&&y(e,["setup","sessionResumption"],C);const P=g(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&y(e,["setup","inputAudioTranscription"],P);const U=g(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&y(e,["setup","outputAudioTranscription"],U);const O=g(t,["realtimeInputConfig"]);e!==void 0&&O!=null&&y(e,["setup","realtimeInputConfig"],O);const H=g(t,["contextWindowCompression"]);e!==void 0&&H!=null&&y(e,["setup","contextWindowCompression"],H);const F=g(t,["proactivity"]);return e!==void 0&&F!=null&&y(e,["setup","proactivity"],F),n}function rY(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["setup","model"],st(t,r));const i=g(e,["config"]);return i!=null&&y(n,["config"],tY(i,n)),n}function iY(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["setup","model"],st(t,r));const i=g(e,["config"]);return i!=null&&y(n,["config"],nY(i,n)),n}function oY(t){const e={},n=g(t,["musicGenerationConfig"]);return n!=null&&y(e,["musicGenerationConfig"],n),e}function aY(t){const e={},n=g(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["weightedPrompts"],r)}return e}function sY(t){const e={},n=g(t,["media"]);if(n!=null){let d=qL(n);Array.isArray(d)&&(d=d.map(h=>vm(h))),y(e,["mediaChunks"],d)}const r=g(t,["audio"]);r!=null&&y(e,["audio"],vm(FL(r)));const i=g(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const o=g(t,["video"]);o!=null&&y(e,["video"],vm(BL(o)));const l=g(t,["text"]);l!=null&&y(e,["text"],l);const u=g(t,["activityStart"]);u!=null&&y(e,["activityStart"],u);const f=g(t,["activityEnd"]);return f!=null&&y(e,["activityEnd"],f),e}function lY(t){const e={},n=g(t,["media"]);if(n!=null){let d=qL(n);Array.isArray(d)&&(d=d.map(h=>h)),y(e,["mediaChunks"],d)}const r=g(t,["audio"]);r!=null&&y(e,["audio"],FL(r));const i=g(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const o=g(t,["video"]);o!=null&&y(e,["video"],BL(o));const l=g(t,["text"]);l!=null&&y(e,["text"],l);const u=g(t,["activityStart"]);u!=null&&y(e,["activityStart"],u);const f=g(t,["activityEnd"]);return f!=null&&y(e,["activityEnd"],f),e}function uY(t){const e={},n=g(t,["setupComplete"]);n!=null&&y(e,["setupComplete"],n);const r=g(t,["serverContent"]);r!=null&&y(e,["serverContent"],r);const i=g(t,["toolCall"]);i!=null&&y(e,["toolCall"],i);const o=g(t,["toolCallCancellation"]);o!=null&&y(e,["toolCallCancellation"],o);const l=g(t,["usageMetadata"]);l!=null&&y(e,["usageMetadata"],pY(l));const u=g(t,["goAway"]);u!=null&&y(e,["goAway"],u);const f=g(t,["sessionResumptionUpdate"]);return f!=null&&y(e,["sessionResumptionUpdate"],f),e}function cY(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&y(e,["fileData"],WK(o));const l=g(t,["functionCall"]);l!=null&&y(e,["functionCall"],JK(l));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&y(e,["inlineData"],vm(f));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const _=g(t,["videoMetadata"]);return _!=null&&y(e,["videoMetadata"],_),e}function fY(t){const e={},n=g(t,["handle"]);if(n!=null&&y(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ZL(t){const e={},n=g(t,["languageCode"]);n!=null&&y(e,["languageCode"],n);const r=g(t,["voiceConfig"]);if(r!=null&&y(e,["voiceConfig"],r),g(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function dY(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=g(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const l=g(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],ZK(u));const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],eY(f));const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function hY(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(_=>XK(_))),y(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const o=g(t,["computerUse"]);if(o!=null&&y(e,["computerUse"],o),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(t,["codeExecution"]);l!=null&&y(e,["codeExecution"],l);const u=g(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const f=g(t,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const d=g(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const h=g(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function pY(t){const e={},n=g(t,["promptTokenCount"]);n!=null&&y(e,["promptTokenCount"],n);const r=g(t,["cachedContentTokenCount"]);r!=null&&y(e,["cachedContentTokenCount"],r);const i=g(t,["candidatesTokenCount"]);i!=null&&y(e,["responseTokenCount"],i);const o=g(t,["toolUsePromptTokenCount"]);o!=null&&y(e,["toolUsePromptTokenCount"],o);const l=g(t,["thoughtsTokenCount"]);l!=null&&y(e,["thoughtsTokenCount"],l);const u=g(t,["totalTokenCount"]);u!=null&&y(e,["totalTokenCount"],u);const f=g(t,["promptTokensDetails"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(w=>w)),y(e,["promptTokensDetails"],E)}const d=g(t,["cacheTokensDetails"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(w=>w)),y(e,["cacheTokensDetails"],E)}const h=g(t,["candidatesTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(w=>w)),y(e,["responseTokensDetails"],E)}const m=g(t,["toolUsePromptTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(w=>w)),y(e,["toolUsePromptTokensDetails"],E)}const _=g(t,["trafficType"]);return _!=null&&y(e,["trafficType"],_),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mY(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function gY(t){const e={},n=g(t,["content"]);n!=null&&y(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],yY(r));const i=g(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const o=g(t,["finishReason"]);o!=null&&y(e,["finishReason"],o);const l=g(t,["avgLogprobs"]);l!=null&&y(e,["avgLogprobs"],l);const u=g(t,["groundingMetadata"]);u!=null&&y(e,["groundingMetadata"],u);const f=g(t,["index"]);f!=null&&y(e,["index"],f);const d=g(t,["logprobsResult"]);d!=null&&y(e,["logprobsResult"],d);const h=g(t,["safetyRatings"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(E=>E)),y(e,["safetyRatings"],_)}const m=g(t,["urlContextMetadata"]);return m!=null&&y(e,["urlContextMetadata"],m),e}function yY(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function vY(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let o=ri(i);Array.isArray(o)&&(o=o.map(l=>l)),y(n,["contents"],o)}return n}function _Y(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(e,["tokensInfo"],i)}return e}function bY(t){const e={},n=g(t,["values"]);n!=null&&y(e,["values"],n);const r=g(t,["statistics"]);return r!=null&&y(e,["statistics"],EY(r)),e}function EY(t){const e={},n=g(t,["truncated"]);n!=null&&y(e,["truncated"],n);const r=g(t,["token_count"]);return r!=null&&y(e,["tokenCount"],r),e}function fy(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>RW(o))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function xY(t){const e={},n=g(t,["controlType"]);n!=null&&y(e,["controlType"],n);const r=g(t,["enableControlImageComputation"]);return r!=null&&y(e,["computeControl"],r),e}function TY(t){const e={};if(g(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function SY(t,e){const n={},r=g(t,["systemInstruction"]);e!==void 0&&r!=null&&y(e,["systemInstruction"],Jn(r));const i=g(t,["tools"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>i4(u))),y(e,["tools"],l)}const o=g(t,["generationConfig"]);return e!==void 0&&o!=null&&y(e,["generationConfig"],mW(o)),n}function wY(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let l=ri(i);Array.isArray(l)&&(l=l.map(u=>fy(u))),y(n,["contents"],l)}const o=g(e,["config"]);return o!=null&&TY(o),n}function AY(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let l=ri(i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}const o=g(e,["config"]);return o!=null&&SY(o,n),n}function CY(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);r!=null&&y(e,["totalTokens"],r);const i=g(t,["cachedContentTokenCount"]);return i!=null&&y(e,["cachedContentTokenCount"],i),e}function IY(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);return r!=null&&y(e,["totalTokens"],r),e}function NY(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],st(t,r)),n}function RY(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],st(t,r)),n}function PY(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function MY(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function DY(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const o=g(t,["numberOfImages"]);e!==void 0&&o!=null&&y(e,["parameters","sampleCount"],o);const l=g(t,["aspectRatio"]);e!==void 0&&l!=null&&y(e,["parameters","aspectRatio"],l);const u=g(t,["guidanceScale"]);e!==void 0&&u!=null&&y(e,["parameters","guidanceScale"],u);const f=g(t,["seed"]);e!==void 0&&f!=null&&y(e,["parameters","seed"],f);const d=g(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&y(e,["parameters","safetySetting"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&y(e,["parameters","includeSafetyAttributes"],m);const _=g(t,["includeRaiReason"]);e!==void 0&&_!=null&&y(e,["parameters","includeRaiReason"],_);const E=g(t,["language"]);e!==void 0&&E!=null&&y(e,["parameters","language"],E);const w=g(t,["outputMimeType"]);e!==void 0&&w!=null&&y(e,["parameters","outputOptions","mimeType"],w);const S=g(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&y(e,["parameters","outputOptions","compressionQuality"],S);const C=g(t,["addWatermark"]);e!==void 0&&C!=null&&y(e,["parameters","addWatermark"],C);const P=g(t,["labels"]);e!==void 0&&P!=null&&y(e,["labels"],P);const U=g(t,["editMode"]);e!==void 0&&U!=null&&y(e,["parameters","editMode"],U);const O=g(t,["baseSteps"]);return e!==void 0&&O!=null&&y(e,["parameters","editConfig","baseSteps"],O),n}function kY(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=g(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>LW(f))),y(n,["instances[0]","referenceImages"],u)}const l=g(e,["config"]);return l!=null&&DY(l,n),n}function OY(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>dy(o))),y(e,["generatedImages"],i)}return e}function LY(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const o=g(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&y(e,["requests[]","outputDimensionality"],o),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function UY(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&y(e,["instances[]","task_type"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&y(e,["instances[]","title"],i);const o=g(t,["outputDimensionality"]);e!==void 0&&o!=null&&y(e,["parameters","outputDimensionality"],o);const l=g(t,["mimeType"]);e!==void 0&&l!=null&&y(e,["instances[]","mimeType"],l);const u=g(t,["autoTruncate"]);return e!==void 0&&u!=null&&y(e,["parameters","autoTruncate"],u),n}function VY(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let u=DT(t,i);Array.isArray(u)&&(u=u.map(f=>f)),y(n,["requests[]","content"],u)}const o=g(e,["config"]);o!=null&&LY(o,n);const l=g(e,["model"]);return l!==void 0&&y(n,["requests[]","model"],st(t,l)),n}function zY(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let l=DT(t,i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["instances[]","content"],l)}const o=g(e,["config"]);return o!=null&&UY(o,n),n}function qY(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["embeddings"],o)}const i=g(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function BY(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>bY(l))),y(e,["embeddings"],o)}const i=g(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function FY(t){const e={},n=g(t,["endpoint"]);n!=null&&y(e,["name"],n);const r=g(t,["deployedModelId"]);return r!=null&&y(e,["deployedModelId"],r),e}function jY(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function HY(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function GY(t){const e={},n=g(t,["mode"]);n!=null&&y(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function $Y(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&y(e,["description"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const l=g(t,["response"]);l!=null&&y(e,["response"],l);const u=g(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function KY(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],fy(Jn(i)));const o=g(e,["temperature"]);o!=null&&y(r,["temperature"],o);const l=g(e,["topP"]);l!=null&&y(r,["topP"],l);const u=g(e,["topK"]);u!=null&&y(r,["topK"],u);const f=g(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=g(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const _=g(e,["logprobs"]);_!=null&&y(r,["logprobs"],_);const E=g(e,["presencePenalty"]);E!=null&&y(r,["presencePenalty"],E);const w=g(e,["frequencyPenalty"]);w!=null&&y(r,["frequencyPenalty"],w);const S=g(e,["seed"]);S!=null&&y(r,["seed"],S);const C=g(e,["responseMimeType"]);C!=null&&y(r,["responseMimeType"],C);const P=g(e,["responseSchema"]);P!=null&&y(r,["responseSchema"],kT(P));const U=g(e,["responseJsonSchema"]);if(U!=null&&y(r,["responseJsonSchema"],U),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=g(e,["safetySettings"]);if(n!==void 0&&O!=null){let j=O;Array.isArray(j)&&(j=j.map(L=>UW(L))),y(n,["safetySettings"],j)}const H=g(e,["tools"]);if(n!==void 0&&H!=null){let j=yc(H);Array.isArray(j)&&(j=j.map(L=>HW(gc(L)))),y(n,["tools"],j)}const F=g(e,["toolConfig"]);if(n!==void 0&&F!=null&&y(n,["toolConfig"],jW(F)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=g(e,["cachedContent"]);n!==void 0&&G!=null&&y(n,["cachedContent"],ca(t,G));const M=g(e,["responseModalities"]);M!=null&&y(r,["responseModalities"],M);const D=g(e,["mediaResolution"]);D!=null&&y(r,["mediaResolution"],D);const k=g(e,["speechConfig"]);if(k!=null&&y(r,["speechConfig"],OT(k)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=g(e,["thinkingConfig"]);B!=null&&y(r,["thinkingConfig"],B);const z=g(e,["imageConfig"]);return z!=null&&y(r,["imageConfig"],bW(z)),r}function YY(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],Jn(i));const o=g(e,["temperature"]);o!=null&&y(r,["temperature"],o);const l=g(e,["topP"]);l!=null&&y(r,["topP"],l);const u=g(e,["topK"]);u!=null&&y(r,["topK"],u);const f=g(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=g(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const _=g(e,["logprobs"]);_!=null&&y(r,["logprobs"],_);const E=g(e,["presencePenalty"]);E!=null&&y(r,["presencePenalty"],E);const w=g(e,["frequencyPenalty"]);w!=null&&y(r,["frequencyPenalty"],w);const S=g(e,["seed"]);S!=null&&y(r,["seed"],S);const C=g(e,["responseMimeType"]);C!=null&&y(r,["responseMimeType"],C);const P=g(e,["responseSchema"]);P!=null&&y(r,["responseSchema"],kT(P));const U=g(e,["responseJsonSchema"]);U!=null&&y(r,["responseJsonSchema"],U);const O=g(e,["routingConfig"]);O!=null&&y(r,["routingConfig"],O);const H=g(e,["modelSelectionConfig"]);H!=null&&y(r,["modelConfig"],H);const F=g(e,["safetySettings"]);if(n!==void 0&&F!=null){let K=F;Array.isArray(K)&&(K=K.map(ne=>ne)),y(n,["safetySettings"],K)}const G=g(e,["tools"]);if(n!==void 0&&G!=null){let K=yc(G);Array.isArray(K)&&(K=K.map(ne=>i4(gc(ne)))),y(n,["tools"],K)}const M=g(e,["toolConfig"]);n!==void 0&&M!=null&&y(n,["toolConfig"],M);const D=g(e,["labels"]);n!==void 0&&D!=null&&y(n,["labels"],D);const k=g(e,["cachedContent"]);n!==void 0&&k!=null&&y(n,["cachedContent"],ca(t,k));const B=g(e,["responseModalities"]);B!=null&&y(r,["responseModalities"],B);const z=g(e,["mediaResolution"]);z!=null&&y(r,["mediaResolution"],z);const j=g(e,["speechConfig"]);j!=null&&y(r,["speechConfig"],r4(OT(j)));const L=g(e,["audioTimestamp"]);L!=null&&y(r,["audioTimestamp"],L);const de=g(e,["thinkingConfig"]);de!=null&&y(r,["thinkingConfig"],de);const ge=g(e,["imageConfig"]);return ge!=null&&y(r,["imageConfig"],EW(ge)),r}function qR(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let l=ri(i);Array.isArray(l)&&(l=l.map(u=>fy(u))),y(n,["contents"],l)}const o=g(e,["config"]);return o!=null&&y(n,["generationConfig"],KY(t,o,n)),n}function BR(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let l=ri(i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}const o=g(e,["config"]);return o!=null&&y(n,["generationConfig"],YY(t,o,n)),n}function FR(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>gY(d))),y(e,["candidates"],f)}const i=g(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const o=g(t,["promptFeedback"]);o!=null&&y(e,["promptFeedback"],o);const l=g(t,["responseId"]);l!=null&&y(e,["responseId"],l);const u=g(t,["usageMetadata"]);return u!=null&&y(e,["usageMetadata"],u),e}function jR(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),y(e,["candidates"],d)}const i=g(t,["createTime"]);i!=null&&y(e,["createTime"],i);const o=g(t,["modelVersion"]);o!=null&&y(e,["modelVersion"],o);const l=g(t,["promptFeedback"]);l!=null&&y(e,["promptFeedback"],l);const u=g(t,["responseId"]);u!=null&&y(e,["responseId"],u);const f=g(t,["usageMetadata"]);return f!=null&&y(e,["usageMetadata"],f),e}function WY(t,e){const n={};if(g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=g(t,["aspectRatio"]);e!==void 0&&i!=null&&y(e,["parameters","aspectRatio"],i);const o=g(t,["guidanceScale"]);if(e!==void 0&&o!=null&&y(e,["parameters","guidanceScale"],o),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=g(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&y(e,["parameters","safetySetting"],l);const u=g(t,["personGeneration"]);e!==void 0&&u!=null&&y(e,["parameters","personGeneration"],u);const f=g(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&y(e,["parameters","includeSafetyAttributes"],f);const d=g(t,["includeRaiReason"]);e!==void 0&&d!=null&&y(e,["parameters","includeRaiReason"],d);const h=g(t,["language"]);e!==void 0&&h!=null&&y(e,["parameters","language"],h);const m=g(t,["outputMimeType"]);e!==void 0&&m!=null&&y(e,["parameters","outputOptions","mimeType"],m);const _=g(t,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&y(e,["parameters","outputOptions","compressionQuality"],_),g(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=g(t,["imageSize"]);if(e!==void 0&&E!=null&&y(e,["parameters","sampleImageSize"],E),g(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function JY(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const o=g(t,["numberOfImages"]);e!==void 0&&o!=null&&y(e,["parameters","sampleCount"],o);const l=g(t,["aspectRatio"]);e!==void 0&&l!=null&&y(e,["parameters","aspectRatio"],l);const u=g(t,["guidanceScale"]);e!==void 0&&u!=null&&y(e,["parameters","guidanceScale"],u);const f=g(t,["seed"]);e!==void 0&&f!=null&&y(e,["parameters","seed"],f);const d=g(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&y(e,["parameters","safetySetting"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&y(e,["parameters","includeSafetyAttributes"],m);const _=g(t,["includeRaiReason"]);e!==void 0&&_!=null&&y(e,["parameters","includeRaiReason"],_);const E=g(t,["language"]);e!==void 0&&E!=null&&y(e,["parameters","language"],E);const w=g(t,["outputMimeType"]);e!==void 0&&w!=null&&y(e,["parameters","outputOptions","mimeType"],w);const S=g(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&y(e,["parameters","outputOptions","compressionQuality"],S);const C=g(t,["addWatermark"]);e!==void 0&&C!=null&&y(e,["parameters","addWatermark"],C);const P=g(t,["labels"]);e!==void 0&&P!=null&&y(e,["labels"],P);const U=g(t,["imageSize"]);e!==void 0&&U!=null&&y(e,["parameters","sampleImageSize"],U);const O=g(t,["enhancePrompt"]);return e!==void 0&&O!=null&&y(e,["parameters","enhancePrompt"],O),n}function XY(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=g(e,["config"]);return o!=null&&WY(o,n),n}function QY(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=g(e,["config"]);return o!=null&&JY(o,n),n}function ZY(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>fW(l))),y(e,["generatedImages"],o)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],t4(i)),e}function eW(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>dy(l))),y(e,["generatedImages"],o)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],n4(i)),e}function tW(t,e){const n={},r=g(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r),g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(t,["durationSeconds"]);if(e!==void 0&&i!=null&&y(e,["parameters","durationSeconds"],i),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=g(t,["aspectRatio"]);e!==void 0&&o!=null&&y(e,["parameters","aspectRatio"],o);const l=g(t,["resolution"]);e!==void 0&&l!=null&&y(e,["parameters","resolution"],l);const u=g(t,["personGeneration"]);if(e!==void 0&&u!=null&&y(e,["parameters","personGeneration"],u),g(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=g(t,["negativePrompt"]);e!==void 0&&f!=null&&y(e,["parameters","negativePrompt"],f);const d=g(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&y(e,["parameters","enhancePrompt"],d),g(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=g(t,["lastFrame"]);e!==void 0&&h!=null&&y(e,["instances[0]","lastFrame"],hy(h));const m=g(t,["referenceImages"]);if(e!==void 0&&m!=null){let _=m;Array.isArray(_)&&(_=_.map(E=>rJ(E))),y(e,["instances[0]","referenceImages"],_)}if(g(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function nW(t,e){const n={},r=g(t,["numberOfVideos"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=g(t,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const o=g(t,["fps"]);e!==void 0&&o!=null&&y(e,["parameters","fps"],o);const l=g(t,["durationSeconds"]);e!==void 0&&l!=null&&y(e,["parameters","durationSeconds"],l);const u=g(t,["seed"]);e!==void 0&&u!=null&&y(e,["parameters","seed"],u);const f=g(t,["aspectRatio"]);e!==void 0&&f!=null&&y(e,["parameters","aspectRatio"],f);const d=g(t,["resolution"]);e!==void 0&&d!=null&&y(e,["parameters","resolution"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const m=g(t,["pubsubTopic"]);e!==void 0&&m!=null&&y(e,["parameters","pubsubTopic"],m);const _=g(t,["negativePrompt"]);e!==void 0&&_!=null&&y(e,["parameters","negativePrompt"],_);const E=g(t,["enhancePrompt"]);e!==void 0&&E!=null&&y(e,["parameters","enhancePrompt"],E);const w=g(t,["generateAudio"]);e!==void 0&&w!=null&&y(e,["parameters","generateAudio"],w);const S=g(t,["lastFrame"]);e!==void 0&&S!=null&&y(e,["instances[0]","lastFrame"],Di(S));const C=g(t,["referenceImages"]);if(e!==void 0&&C!=null){let O=C;Array.isArray(O)&&(O=O.map(H=>iJ(H))),y(e,["instances[0]","referenceImages"],O)}const P=g(t,["mask"]);e!==void 0&&P!=null&&y(e,["instances[0]","mask"],nJ(P));const U=g(t,["compressionQuality"]);return e!==void 0&&U!=null&&y(e,["parameters","compressionQuality"],U),n}function rW(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response","generateVideoResponse"]);return l!=null&&y(e,["response"],sW(l)),e}function iW(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response"]);return l!=null&&y(e,["response"],lW(l)),e}function oW(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=g(e,["image"]);o!=null&&y(n,["instances[0]","image"],hy(o));const l=g(e,["video"]);l!=null&&y(n,["instances[0]","video"],o4(l));const u=g(e,["source"]);u!=null&&uW(u,n);const f=g(e,["config"]);return f!=null&&tW(f,n),n}function aW(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=g(e,["image"]);o!=null&&y(n,["instances[0]","image"],Di(o));const l=g(e,["video"]);l!=null&&y(n,["instances[0]","video"],a4(l));const u=g(e,["source"]);u!=null&&cW(u,n);const f=g(e,["config"]);return f!=null&&nW(f,n),n}function sW(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>hW(l))),y(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function lW(t){const e={},n=g(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>pW(l))),y(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function uW(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],hy(i));const o=g(t,["video"]);return e!==void 0&&o!=null&&y(e,["instances[0]","video"],o4(o)),n}function cW(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],Di(i));const o=g(t,["video"]);return e!==void 0&&o!=null&&y(e,["instances[0]","video"],a4(o)),n}function fW(t){const e={},n=g(t,["_self"]);n!=null&&y(e,["image"],xW(n));const r=g(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=g(t,["_self"]);return i!=null&&y(e,["safetyAttributes"],t4(i)),e}function dy(t){const e={},n=g(t,["_self"]);n!=null&&y(e,["image"],e4(n));const r=g(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=g(t,["_self"]);i!=null&&y(e,["safetyAttributes"],n4(i));const o=g(t,["prompt"]);return o!=null&&y(e,["enhancedPrompt"],o),e}function dW(t){const e={},n=g(t,["_self"]);n!=null&&y(e,["mask"],e4(n));const r=g(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(e,["labels"],i)}return e}function hW(t){const e={},n=g(t,["video"]);return n!=null&&y(e,["video"],eJ(n)),e}function pW(t){const e={},n=g(t,["_self"]);return n!=null&&y(e,["video"],tJ(n)),e}function mW(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const o=g(t,["candidateCount"]);o!=null&&y(e,["candidateCount"],o);const l=g(t,["enableAffectiveDialog"]);l!=null&&y(e,["enableAffectiveDialog"],l);const u=g(t,["frequencyPenalty"]);u!=null&&y(e,["frequencyPenalty"],u);const f=g(t,["logprobs"]);f!=null&&y(e,["logprobs"],f);const d=g(t,["maxOutputTokens"]);d!=null&&y(e,["maxOutputTokens"],d);const h=g(t,["mediaResolution"]);h!=null&&y(e,["mediaResolution"],h);const m=g(t,["presencePenalty"]);m!=null&&y(e,["presencePenalty"],m);const _=g(t,["responseLogprobs"]);_!=null&&y(e,["responseLogprobs"],_);const E=g(t,["responseMimeType"]);E!=null&&y(e,["responseMimeType"],E);const w=g(t,["responseModalities"]);w!=null&&y(e,["responseModalities"],w);const S=g(t,["responseSchema"]);S!=null&&y(e,["responseSchema"],S);const C=g(t,["routingConfig"]);C!=null&&y(e,["routingConfig"],C);const P=g(t,["seed"]);P!=null&&y(e,["seed"],P);const U=g(t,["speechConfig"]);U!=null&&y(e,["speechConfig"],r4(U));const O=g(t,["stopSequences"]);O!=null&&y(e,["stopSequences"],O);const H=g(t,["temperature"]);H!=null&&y(e,["temperature"],H);const F=g(t,["thinkingConfig"]);F!=null&&y(e,["thinkingConfig"],F);const G=g(t,["topK"]);G!=null&&y(e,["topK"],G);const M=g(t,["topP"]);if(M!=null&&y(e,["topP"],M),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function gW(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],st(t,r)),n}function yW(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],st(t,r)),n}function vW(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function _W(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function bW(t){const e={},n=g(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function EW(t){const e={},n=g(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=g(t,["imageSize"]);r!=null&&y(e,["imageSize"],r);const i=g(t,["outputMimeType"]);i!=null&&y(e,["imageOutputOptions","mimeType"],i);const o=g(t,["outputCompressionQuality"]);return o!=null&&y(e,["imageOutputOptions","compressionQuality"],o),e}function xW(t){const e={},n=g(t,["bytesBase64Encoded"]);n!=null&&y(e,["imageBytes"],_s(n));const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function e4(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&y(e,["imageBytes"],_s(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function hy(t){const e={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(t,["imageBytes"]);n!=null&&y(e,["bytesBase64Encoded"],_s(n));const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Di(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=g(t,["imageBytes"]);r!=null&&y(e,["bytesBase64Encoded"],_s(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function TW(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=g(e,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);const l=g(e,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],$L(t,u)),r}function SW(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=g(e,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);const l=g(e,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],$L(t,u)),r}function wW(t,e){const n={},r=g(e,["config"]);return r!=null&&TW(t,r,n),n}function AW(t,e){const n={},r=g(e,["config"]);return r!=null&&SW(t,r,n),n}function CW(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let o=KL(i);Array.isArray(o)&&(o=o.map(l=>ME(l))),y(e,["models"],o)}return e}function IW(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let o=KL(i);Array.isArray(o)&&(o=o.map(l=>DE(l))),y(e,["models"],o)}return e}function NW(t){const e={},n=g(t,["maskMode"]);n!=null&&y(e,["maskMode"],n);const r=g(t,["segmentationClasses"]);r!=null&&y(e,["maskClasses"],r);const i=g(t,["maskDilation"]);return i!=null&&y(e,["dilation"],i),e}function ME(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);i!=null&&y(e,["description"],i);const o=g(t,["version"]);o!=null&&y(e,["version"],o);const l=g(t,["_self"]);l!=null&&y(e,["tunedModelInfo"],GW(l));const u=g(t,["inputTokenLimit"]);u!=null&&y(e,["inputTokenLimit"],u);const f=g(t,["outputTokenLimit"]);f!=null&&y(e,["outputTokenLimit"],f);const d=g(t,["supportedGenerationMethods"]);d!=null&&y(e,["supportedActions"],d);const h=g(t,["temperature"]);h!=null&&y(e,["temperature"],h);const m=g(t,["maxTemperature"]);m!=null&&y(e,["maxTemperature"],m);const _=g(t,["topP"]);_!=null&&y(e,["topP"],_);const E=g(t,["topK"]);E!=null&&y(e,["topK"],E);const w=g(t,["thinking"]);return w!=null&&y(e,["thinking"],w),e}function DE(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);i!=null&&y(e,["description"],i);const o=g(t,["versionId"]);o!=null&&y(e,["version"],o);const l=g(t,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(_=>FY(_))),y(e,["endpoints"],m)}const u=g(t,["labels"]);u!=null&&y(e,["labels"],u);const f=g(t,["_self"]);f!=null&&y(e,["tunedModelInfo"],$W(f));const d=g(t,["defaultCheckpointId"]);d!=null&&y(e,["defaultCheckpointId"],d);const h=g(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(_=>_)),y(e,["checkpoints"],m)}return e}function RW(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&y(e,["fileData"],jY(o));const l=g(t,["functionCall"]);l!=null&&y(e,["functionCall"],HY(l));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&y(e,["inlineData"],mY(f));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const _=g(t,["videoMetadata"]);return _!=null&&y(e,["videoMetadata"],_),e}function PW(t){const e={},n=g(t,["productImage"]);return n!=null&&y(e,["image"],Di(n)),e}function MW(t,e){const n={},r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=g(t,["baseSteps"]);e!==void 0&&i!=null&&y(e,["parameters","baseSteps"],i);const o=g(t,["outputGcsUri"]);e!==void 0&&o!=null&&y(e,["parameters","storageUri"],o);const l=g(t,["seed"]);e!==void 0&&l!=null&&y(e,["parameters","seed"],l);const u=g(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&y(e,["parameters","safetySetting"],u);const f=g(t,["personGeneration"]);e!==void 0&&f!=null&&y(e,["parameters","personGeneration"],f);const d=g(t,["addWatermark"]);e!==void 0&&d!=null&&y(e,["parameters","addWatermark"],d);const h=g(t,["outputMimeType"]);e!==void 0&&h!=null&&y(e,["parameters","outputOptions","mimeType"],h);const m=g(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&y(e,["parameters","outputOptions","compressionQuality"],m);const _=g(t,["enhancePrompt"]);e!==void 0&&_!=null&&y(e,["parameters","enhancePrompt"],_);const E=g(t,["labels"]);return e!==void 0&&E!=null&&y(e,["labels"],E),n}function DW(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["source"]);i!=null&&OW(i,n);const o=g(e,["config"]);return o!=null&&MW(o,n),n}function kW(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>dy(i))),y(e,["generatedImages"],r)}return e}function OW(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["personImage"]);e!==void 0&&i!=null&&y(e,["instances[0]","personImage","image"],Di(i));const o=g(t,["productImages"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>PW(u))),y(e,["instances[0]","productImages"],l)}return n}function LW(t){const e={},n=g(t,["referenceImage"]);n!=null&&y(e,["referenceImage"],Di(n));const r=g(t,["referenceId"]);r!=null&&y(e,["referenceId"],r);const i=g(t,["referenceType"]);i!=null&&y(e,["referenceType"],i);const o=g(t,["maskImageConfig"]);o!=null&&y(e,["maskImageConfig"],NW(o));const l=g(t,["controlImageConfig"]);l!=null&&y(e,["controlImageConfig"],xY(l));const u=g(t,["styleImageConfig"]);u!=null&&y(e,["styleImageConfig"],u);const f=g(t,["subjectImageConfig"]);return f!=null&&y(e,["subjectImageConfig"],f),e}function t4(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function n4(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function UW(t){const e={},n=g(t,["category"]);if(n!=null&&y(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function VW(t){const e={},n=g(t,["image"]);return n!=null&&y(e,["image"],Di(n)),e}function zW(t,e){const n={},r=g(t,["mode"]);e!==void 0&&r!=null&&y(e,["parameters","mode"],r);const i=g(t,["maxPredictions"]);e!==void 0&&i!=null&&y(e,["parameters","maxPredictions"],i);const o=g(t,["confidenceThreshold"]);e!==void 0&&o!=null&&y(e,["parameters","confidenceThreshold"],o);const l=g(t,["maskDilation"]);e!==void 0&&l!=null&&y(e,["parameters","maskDilation"],l);const u=g(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&y(e,["parameters","binaryColorThreshold"],u);const f=g(t,["labels"]);return e!==void 0&&f!=null&&y(e,["labels"],f),n}function qW(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["source"]);i!=null&&FW(i,n);const o=g(e,["config"]);return o!=null&&zW(o,n),n}function BW(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>dW(i))),y(e,["generatedMasks"],r)}return e}function FW(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],Di(i));const o=g(t,["scribbleImage"]);return e!==void 0&&o!=null&&y(e,["instances[0]","scribble"],VW(o)),n}function r4(t){const e={},n=g(t,["languageCode"]);n!=null&&y(e,["languageCode"],n);const r=g(t,["voiceConfig"]);if(r!=null&&y(e,["voiceConfig"],r),g(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function jW(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],GY(n));const r=g(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function HW(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=g(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const l=g(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],vW(u));const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],_W(f));const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function i4(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(_=>$Y(_))),y(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const o=g(t,["computerUse"]);if(o!=null&&y(e,["computerUse"],o),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(t,["codeExecution"]);l!=null&&y(e,["codeExecution"],l);const u=g(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const f=g(t,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const d=g(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const h=g(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function GW(t){const e={},n=g(t,["baseModel"]);n!=null&&y(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function $W(t){const e={},n=g(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function KW(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const o=g(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&y(e,["defaultCheckpointId"],o),n}function YW(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const o=g(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&y(e,["defaultCheckpointId"],o),n}function WW(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","name"],st(t,r));const i=g(e,["config"]);return i!=null&&KW(i,n),n}function JW(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["config"]);return i!=null&&YW(i,n),n}function XW(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=g(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&y(e,["parameters","safetySetting"],i);const o=g(t,["personGeneration"]);e!==void 0&&o!=null&&y(e,["parameters","personGeneration"],o);const l=g(t,["includeRaiReason"]);e!==void 0&&l!=null&&y(e,["parameters","includeRaiReason"],l);const u=g(t,["outputMimeType"]);e!==void 0&&u!=null&&y(e,["parameters","outputOptions","mimeType"],u);const f=g(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&y(e,["parameters","outputOptions","compressionQuality"],f);const d=g(t,["enhanceInputImage"]);e!==void 0&&d!=null&&y(e,["parameters","upscaleConfig","enhanceInputImage"],d);const h=g(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&y(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=g(t,["labels"]);e!==void 0&&m!=null&&y(e,["labels"],m);const _=g(t,["numberOfImages"]);e!==void 0&&_!=null&&y(e,["parameters","sampleCount"],_);const E=g(t,["mode"]);return e!==void 0&&E!=null&&y(e,["parameters","mode"],E),n}function QW(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["image"]);i!=null&&y(n,["instances[0]","image"],Di(i));const o=g(e,["upscaleFactor"]);o!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],o);const l=g(e,["config"]);return l!=null&&XW(l,n),n}function ZW(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>dy(o))),y(e,["generatedImages"],i)}return e}function eJ(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],_s(r));const i=g(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function tJ(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],_s(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function nJ(t){const e={},n=g(t,["image"]);n!=null&&y(e,["_self"],Di(n));const r=g(t,["maskMode"]);return r!=null&&y(e,["maskMode"],r),e}function rJ(t){const e={},n=g(t,["image"]);n!=null&&y(e,["image"],hy(n));const r=g(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function iJ(t){const e={},n=g(t,["image"]);n!=null&&y(e,["image"],Di(n));const r=g(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function o4(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["uri"],n);const r=g(t,["videoBytes"]);r!=null&&y(e,["encodedVideo"],_s(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["encoding"],i),e}function a4(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["gcsUri"],n);const r=g(t,["videoBytes"]);r!=null&&y(e,["bytesBase64Encoded"],_s(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oJ="Content-Type",aJ="X-Server-Timeout",sJ="User-Agent",kE="x-goog-api-client",lJ="1.30.0",uJ=`google-genai-sdk/${lJ}`,cJ="v1beta1",fJ="v1beta",HR=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class dJ{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:cJ,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:fJ,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))i.searchParams.append(l,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=l}return n&&n.extraBody!==null&&hJ(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await GR(i),new NE(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await GR(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Lu(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:f}=yield It(i.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(f,{stream:!0});try{const m=JSON.parse(d);if("error"in m){const _=JSON.parse(JSON.stringify(m.error)),E=_.status,w=_.code,S=`got status: ${E}. ${JSON.stringify(m)}`;if(w>=400&&w<600)throw new cy({message:S,status:w})}}catch(m){if(m.name==="ApiError")throw m}l+=d;let h=l.match(HR);for(;h;){const m=h[1];try{const _=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield It(new NE(_)),l=l.slice(h[0].length),h=l.match(HR)}catch(_){throw new Error(`exception parsing stream chunk ${m}. ${_}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=uJ+" "+this.clientOptions.userAgentExtra;return e[sJ]=n,e[kE]=n,e[oJ]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(aJ,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(e);i.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const f={file:i},d=this.getFileName(e),h=Te("upload/v1beta/files",f._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,f,n==null?void 0:n.httpOptions);return o.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,l=await o.stat(n),u=String(l.size),f=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&r.customMetadata&&(m.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(m.chunkingConfig=r.chunkingConfig);const _=await this.fetchUploadUrl(d,u,f,h,m,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,_,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,l){var u;let f={};l?f=l:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:f});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function GR(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new cy({message:i,status:n}):new Error(i)}}function hJ(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const u=Object.assign({},o);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const d=l[f],h=u[f];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?u[f]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),u[f]=d)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pJ="mcp_used/unknown";let mJ=!1;function s4(t){for(const e of t)if(gJ(e)||typeof e=="object"&&"inputSchema"in e)return!0;return mJ}function l4(t){var e;const n=(e=t[kE])!==null&&e!==void 0?e:"";t[kE]=(n+` ${pJ}`).trimStart()}function gJ(t){return t!==null&&typeof t=="object"&&t instanceof UT}function yJ(t,e=100){return Lu(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield It(t.listTools({cursor:r}));for(const l of o.tools)yield yield It(l),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class UT{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new UT(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const h of this.mcpClients)try{for(var u=!0,f=(n=void 0,Qf(yJ(h))),d;d=await f.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const m=i;l.push(m);const _=m.name;if(o[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);o[_]=h}}catch(m){n={error:m}}finally{try{!u&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),u7(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function vJ(t,e,n){const r=new t7;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class _J{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=xJ(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const h=new Promise(O=>{d=O}),m=e.callbacks,_=function(){d({})},E=this.apiClient,w={onopen:_,onmessage:O=>{vJ(E,m.onmessage,O)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(O){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(O){}},S=this.webSocketFactory.create(f,EJ(l),w);S.connect(),await h;const U={setup:{model:st(this.apiClient,e.model)}};return S.send(JSON.stringify(U)),new bJ(S,this.apiClient)}}class bJ{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=aY(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=oY(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Cu.PLAY)}pause(){this.sendPlaybackControl(Cu.PAUSE)}stop(){this.sendPlaybackControl(Cu.STOP)}resetContext(){this.sendPlaybackControl(Cu.RESET_CONTEXT)}close(){this.conn.close()}}function EJ(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function xJ(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TJ="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function SJ(t,e,n){const r=new e7;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const l=uY(o);Object.assign(r,l)}else Object.assign(r,o);e(r)}class wJ{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new _J(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&s4(e.config.tools)&&l4(m);const _=NJ(m);if(this.apiClient.isVertexAI())h=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,h);else{const k=this.apiClient.getApiKey();let B="BidiGenerateContent",z="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),B="BidiGenerateContentConstrained",z="access_token"),h=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${B}?${z}=${k}`}let E=()=>{};const w=new Promise(k=>{E=k}),S=e.callbacks,C=function(){var k;(k=S==null?void 0:S.onopen)===null||k===void 0||k.call(S),E({})},P=this.apiClient,U={onopen:C,onmessage:k=>{SJ(P,S.onmessage,k)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function(k){}},O=this.webSocketFactory.create(h,IJ(_),U);O.connect(),await w;let H=st(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const k=this.apiClient.getProject(),B=this.apiClient.getLocation();H=`projects/${k}/locations/${B}/`+H}let F={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Wm.AUDIO]}:e.config.responseModalities=[Wm.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],M=[];for(const k of G)if(this.isCallableTool(k)){const B=k;M.push(await B.tool())}else M.push(k);M.length>0&&(e.config.tools=M);const D={model:H,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=iY(this.apiClient,D):F=rY(this.apiClient,D),delete F.config,O.send(JSON.stringify(F)),new CJ(O,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const AJ={turnComplete:!0};class CJ{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ri(n.turns),e.isVertexAI()||(r=r.map(i=>fy(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(TJ)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},AJ),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:lY(e)}:n={realtimeInput:sY(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function IJ(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function NJ(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $R=10;function KR(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Uu(l)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Uu(t){return"callTool"in t&&typeof t.callTool=="function"}function RJ(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Uu(i)))!==null&&r!==void 0?r:!1}function YR(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Uu(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function WR(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PJ extends ua{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,l,u;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!RJ(n)||KR(n.config))return await this.generateContentInternal(f);const d=YR(n);if(d.length>0){const S=d.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let h,m;const _=ri(f.contents),E=(o=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:$R;let w=0;for(;w<E&&(h=await this.generateContentInternal(f),!(!h.functionCalls||h.functionCalls.length===0));){const S=h.candidates[0].content,C=[];for(const P of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Uu(P)){const O=await P.callTool(h.functionCalls);C.push(...O)}w++,m={role:"user",parts:C},f.contents=ri(f.contents),f.contents.push(S),f.contents.push(m),WR(f.config)&&(_.push(S),_.push(m))}return WR(f.config)&&(h.automaticFunctionCallingHistory=_),h},this.generateContentStream=async n=>{var r,i,o,l,u;if(this.maybeMoveToResponseJsonSchem(n),KR(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const f=YR(n);if(f.length>0){const m=f.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=f==null?void 0:f.safetyAttributes:l.push(f);let u;return o?u={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Cl(Qo.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,l,u,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((f=(u=n.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const l=await Promise.all(o.map(async f=>Uu(f)?await f.tool():f)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&s4(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),l4(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const l of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Uu(l)){const u=l,f=await u.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:$R;let l=!1,u=0;const f=await this.initAfcToolsMap(e);return(function(d,h,m){var _,E;return Lu(this,arguments,function*(){for(var w,S,C,P;u<o;){l&&(u++,l=!1);const F=yield It(d.processParamsMaybeAddMcpUsage(m)),G=yield It(d.generateContentStreamInternal(F)),M=[],D=[];try{for(var U=!0,O=(S=void 0,Qf(G)),H;H=yield It(O.next()),w=H.done,!w;U=!0){P=H.value,U=!1;const k=P;if(yield yield It(k),k.candidates&&(!((_=k.candidates[0])===null||_===void 0)&&_.content)){D.push(k.candidates[0].content);for(const B of(E=k.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(u<o&&B.functionCall){if(!B.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(B.functionCall.name)){const z=yield It(h.get(B.functionCall.name).callTool([B.functionCall]));M.push(...z)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${B.functionCall.name}`)}}}}catch(k){S={error:k}}finally{try{!U&&!w&&(C=O.return)&&(yield It(C.call(O)))}finally{if(S)throw S.error}}if(M.length>0){l=!0;const k=new Pf;k.candidates=[{content:{role:"user",parts:M}}],yield yield It(k);const B=[];B.push(...D),B.push({role:"user",parts:M});const z=ri(m.contents).concat(B);m.contents=z}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=BR(this.apiClient,e);return u=Te("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=jR(h),_=new Pf;return Object.assign(_,m),_})}else{const d=qR(this.apiClient,e);return u=Te("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=FR(h),_=new Pf;return Object.assign(_,m),_})}}async generateContentStreamInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=BR(this.apiClient,e);return u=Te("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return Lu(this,arguments,function*(){var _,E,w,S;try{for(var C=!0,P=Qf(m),U;U=yield It(P.next()),_=U.done,!_;C=!0){S=U.value,C=!1;const O=S,H=jR(yield It(O.json()));H.sdkHttpResponse={headers:O.headers};const F=new Pf;Object.assign(F,H),yield yield It(F)}}catch(O){E={error:O}}finally{try{!C&&!_&&(w=P.return)&&(yield It(w.call(P)))}finally{if(E)throw E.error}}})})}else{const d=qR(this.apiClient,e);return u=Te("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(m){return Lu(this,arguments,function*(){var _,E,w,S;try{for(var C=!0,P=Qf(m),U;U=yield It(P.next()),_=U.done,!_;C=!0){S=U.value,C=!1;const O=S,H=FR(yield It(O.json()));H.sdkHttpResponse={headers:O.headers};const F=new Pf;Object.assign(F,H),yield yield It(F)}}catch(O){E={error:O}}finally{try{!C&&!_&&(w=P.return)&&(yield It(w.call(P)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=zY(this.apiClient,e);return u=Te("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=BY(h),_=new SR;return Object.assign(_,m),_})}else{const d=VY(this.apiClient,e);return u=Te("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=qY(h),_=new SR;return Object.assign(_,m),_})}}async generateImagesInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=QY(this.apiClient,e);return u=Te("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=eW(h),_=new wR;return Object.assign(_,m),_})}else{const d=XY(this.apiClient,e);return u=Te("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=ZY(h),_=new wR;return Object.assign(_,m),_})}}async editImageInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=kY(this.apiClient,e);return o=Te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=OY(f),h=new j$;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=QW(this.apiClient,e);return o=Te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=ZW(f),h=new H$;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=DW(this.apiClient,e);return o=Te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=kW(f),h=new G$;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=qW(this.apiClient,e);return o=Te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=BW(f),h=new $$;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=yW(this.apiClient,e);return u=Te("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>DE(h))}else{const d=gW(this.apiClient,e);return u=Te("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>ME(h))}}async listInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=AW(this.apiClient,e);return u=Te("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=IW(h),_=new AR;return Object.assign(_,m),_})}else{const d=wW(this.apiClient,e);return u=Te("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=CW(h),_=new AR;return Object.assign(_,m),_})}}async update(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=JW(this.apiClient,e);return u=Te("{model}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>DE(h))}else{const d=WW(this.apiClient,e);return u=Te("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>ME(h))}}async delete(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=RY(this.apiClient,e);return u=Te("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=MY(h),_=new CR;return Object.assign(_,m),_})}else{const d=NY(this.apiClient,e);return u=Te("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=PY(h),_=new CR;return Object.assign(_,m),_})}}async countTokens(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=AY(this.apiClient,e);return u=Te("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=IY(h),_=new IR;return Object.assign(_,m),_})}else{const d=wY(this.apiClient,e);return u=Te("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=CY(h),_=new IR;return Object.assign(_,m),_})}}async computeTokens(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=vY(this.apiClient,e);return o=Te("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=_Y(f),h=new K$;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=aW(this.apiClient,e);return u=Te("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const m=iW(h),_=new Jm;return Object.assign(_,m),_})}else{const d=oW(this.apiClient,e);return u=Te("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>{const m=rW(h),_=new Jm;return Object.assign(_,m),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MJ extends ua{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=U$(e);return u=Te("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const d=L$(e);return u=Te("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=N$(e);return o=Te("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DJ(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function kJ(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>jJ(o))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function OJ(t,e,n){const r={},i=g(e,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const o=g(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&y(n,["newSessionExpireTime"],o);const l=g(e,["uses"]);n!==void 0&&l!=null&&y(n,["uses"],l);const u=g(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&y(n,["bidiGenerateContentSetup"],FJ(t,u));const f=g(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&y(n,["fieldMask"],f),r}function LJ(t,e){const n={},r=g(e,["config"]);return r!=null&&y(n,["config"],OJ(t,r,n)),n}function UJ(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function VJ(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zJ(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function qJ(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function BJ(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const l=g(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const u=g(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const f=g(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","speechConfig"],LT(m));const _=g(t,["thinkingConfig"]);e!==void 0&&_!=null&&y(e,["setup","generationConfig","thinkingConfig"],_);const E=g(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],E);const w=g(t,["systemInstruction"]);e!==void 0&&w!=null&&y(e,["setup","systemInstruction"],kJ(Jn(w)));const S=g(t,["tools"]);if(e!==void 0&&S!=null){let G=yc(S);Array.isArray(G)&&(G=G.map(M=>GJ(gc(M)))),y(e,["setup","tools"],G)}const C=g(t,["sessionResumption"]);e!==void 0&&C!=null&&y(e,["setup","sessionResumption"],HJ(C));const P=g(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&y(e,["setup","inputAudioTranscription"],P);const U=g(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&y(e,["setup","outputAudioTranscription"],U);const O=g(t,["realtimeInputConfig"]);e!==void 0&&O!=null&&y(e,["setup","realtimeInputConfig"],O);const H=g(t,["contextWindowCompression"]);e!==void 0&&H!=null&&y(e,["setup","contextWindowCompression"],H);const F=g(t,["proactivity"]);return e!==void 0&&F!=null&&y(e,["setup","proactivity"],F),n}function FJ(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["setup","model"],st(t,r));const i=g(e,["config"]);return i!=null&&y(n,["config"],BJ(i,n)),n}function jJ(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&y(e,["fileData"],UJ(o));const l=g(t,["functionCall"]);l!=null&&y(e,["functionCall"],VJ(l));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&y(e,["inlineData"],DJ(f));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const _=g(t,["videoMetadata"]);return _!=null&&y(e,["videoMetadata"],_),e}function HJ(t){const e={},n=g(t,["handle"]);if(n!=null&&y(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function GJ(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=g(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const l=g(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],zJ(u));const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],qJ(f));const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $J(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function KJ(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=$J(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const f=[];o&&f.push(o),u.length>0&&f.push(...u),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class YJ extends ua{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=LJ(this.apiClient,e);o=Te("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const f=KJ(u,e.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WJ(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["displayName"],r),n}function JJ(t){const e={},n=g(t,["config"]);return n!=null&&WJ(n,e),e}function XJ(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function QJ(t){const e={},n=g(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&XJ(r,e),e}function ZJ(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function eX(t,e){const n={},r=g(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["customMetadata"],o)}const i=g(t,["chunkingConfig"]);return e!==void 0&&i!=null&&y(e,["chunkingConfig"],i),n}function tX(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response"]);return l!=null&&y(e,["response"],rX(l)),e}function nX(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=g(t,["fileName"]);r!=null&&y(e,["fileName"],r);const i=g(t,["config"]);return i!=null&&eX(i,e),e}function rX(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&y(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function iX(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function oX(t){const e={},n=g(t,["config"]);return n!=null&&iX(n,e),e}function aX(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["fileSearchStores"],o)}return e}function sX(t,e){const n={},r=g(t,["mimeType"]);e!==void 0&&r!=null&&y(e,["mimeType"],r);const i=g(t,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const o=g(t,["customMetadata"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>f)),y(e,["customMetadata"],u)}const l=g(t,["chunkingConfig"]);return e!==void 0&&l!=null&&y(e,["chunkingConfig"],l),n}function lX(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=g(t,["config"]);return r!=null&&sX(r,e),e}function uX(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cX(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function fX(t){const e={},n=g(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&cX(r,e),e}function dX(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function hX(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function pX(t){const e={},n=g(t,["parent"]);n!=null&&y(e,["_url","parent"],n);const r=g(t,["config"]);return r!=null&&hX(r,e),e}function mX(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gX extends ua{constructor(e){super(),this.apiClient=e,this.list=async n=>new Cl(Qo.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=dX(e);return o=Te("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=fX(e);i=Te("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=pX(e);return o=Te("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=mX(f),h=new Y$;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yX extends ua{constructor(e,n=new gX(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Cl(Qo.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=JJ(e);return o=Te("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ZJ(e);return o=Te("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=QJ(e);i=Te("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=oX(e);return o=Te("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=aX(f),h=new W$;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=lX(e);return o=Te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=uX(f),h=new J$;return Object.assign(h,d),h})}}async importFile(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=nX(e);return o=Te("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=tX(f),h=new PT;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vX(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function _X(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function bX(t,e,n){const r={};if(g(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&y(e,["displayName"],i),g(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=g(t,["epochCount"]);e!==void 0&&o!=null&&y(e,["tuningTask","hyperparameters","epochCount"],o);const l=g(t,["learningRateMultiplier"]);if(l!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),g(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(t,["batchSize"]);e!==void 0&&u!=null&&y(e,["tuningTask","hyperparameters","batchSize"],u);const f=g(t,["learningRate"]);if(e!==void 0&&f!=null&&y(e,["tuningTask","hyperparameters","learningRate"],f),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function EX(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const E=g(t,["validationDataset"]);e!==void 0&&E!=null&&y(e,["supervisedTuningSpec"],JR(E))}else if(i==="PREFERENCE_TUNING"){const E=g(t,["validationDataset"]);e!==void 0&&E!=null&&y(e,["preferenceOptimizationSpec"],JR(E))}const o=g(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&y(e,["tunedModelDisplayName"],o);const l=g(t,["description"]);e!==void 0&&l!=null&&y(e,["description"],l);let u=g(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const E=g(t,["epochCount"]);e!==void 0&&E!=null&&y(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(u==="PREFERENCE_TUNING"){const E=g(t,["epochCount"]);e!==void 0&&E!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let f=g(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const E=g(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(f==="PREFERENCE_TUNING"){const E=g(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const E=g(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&y(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(d==="PREFERENCE_TUNING"){const E=g(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&y(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const E=g(t,["adapterSize"]);e!==void 0&&E!=null&&y(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(h==="PREFERENCE_TUNING"){const E=g(t,["adapterSize"]);e!==void 0&&E!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(g(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=g(t,["labels"]);e!==void 0&&m!=null&&y(e,["labels"],m);const _=g(t,["beta"]);return e!==void 0&&_!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","beta"],_),r}function xX(t,e){const n={},r=g(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const o=g(t,["trainingDataset"]);o!=null&&DX(o);const l=g(t,["config"]);return l!=null&&bX(l,n),n}function TX(t,e){const n={},r=g(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const o=g(t,["trainingDataset"]);o!=null&&kX(o,n,e);const l=g(t,["config"]);return l!=null&&EX(l,n,e),n}function SX(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function wX(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function AX(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const o=g(t,["pageToken"]);e!==void 0&&o!=null&&y(e,["_query","pageToken"],o);const l=g(t,["filter"]);return e!==void 0&&l!=null&&y(e,["_query","filter"],l),r}function CX(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const o=g(t,["pageToken"]);e!==void 0&&o!=null&&y(e,["_query","pageToken"],o);const l=g(t,["filter"]);return e!==void 0&&l!=null&&y(e,["_query","filter"],l),r}function IX(t,e){const n={},r=g(t,["config"]);return r!=null&&AX(r,n),n}function NX(t,e){const n={},r=g(t,["config"]);return r!=null&&CX(r,n),n}function RX(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=g(t,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u4(u))),y(n,["tuningJobs"],l)}return n}function PX(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=g(t,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>OE(u))),y(n,["tuningJobs"],l)}return n}function MX(t,e){const n={},r=g(t,["name"]);r!=null&&y(n,["model"],r);const i=g(t,["name"]);return i!=null&&y(n,["endpoint"],i),n}function DX(t,e){const n={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(n,["examples","examples"],i)}return n}function kX(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=g(t,["gcsUri"]);e!==void 0&&l!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=g(t,["gcsUri"]);e!==void 0&&l!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let o=g(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=g(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=g(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(g(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function u4(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&y(n,["name"],i);const o=g(t,["state"]);o!=null&&y(n,["state"],HL(o));const l=g(t,["createTime"]);l!=null&&y(n,["createTime"],l);const u=g(t,["tuningTask","startTime"]);u!=null&&y(n,["startTime"],u);const f=g(t,["tuningTask","completeTime"]);f!=null&&y(n,["endTime"],f);const d=g(t,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=g(t,["description"]);h!=null&&y(n,["description"],h);const m=g(t,["baseModel"]);m!=null&&y(n,["baseModel"],m);const _=g(t,["_self"]);return _!=null&&y(n,["tunedModel"],MX(_)),n}function OE(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&y(n,["name"],i);const o=g(t,["state"]);o!=null&&y(n,["state"],HL(o));const l=g(t,["createTime"]);l!=null&&y(n,["createTime"],l);const u=g(t,["startTime"]);u!=null&&y(n,["startTime"],u);const f=g(t,["endTime"]);f!=null&&y(n,["endTime"],f);const d=g(t,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=g(t,["error"]);h!=null&&y(n,["error"],h);const m=g(t,["description"]);m!=null&&y(n,["description"],m);const _=g(t,["baseModel"]);_!=null&&y(n,["baseModel"],_);const E=g(t,["tunedModel"]);E!=null&&y(n,["tunedModel"],E);const w=g(t,["preTunedModel"]);w!=null&&y(n,["preTunedModel"],w);const S=g(t,["supervisedTuningSpec"]);S!=null&&y(n,["supervisedTuningSpec"],S);const C=g(t,["preferenceOptimizationSpec"]);C!=null&&y(n,["preferenceOptimizationSpec"],C);const P=g(t,["tuningDataStats"]);P!=null&&y(n,["tuningDataStats"],P);const U=g(t,["encryptionSpec"]);U!=null&&y(n,["encryptionSpec"],U);const O=g(t,["partnerModelTuningSpec"]);O!=null&&y(n,["partnerModelTuningSpec"],O);const H=g(t,["customBaseModel"]);H!=null&&y(n,["customBaseModel"],H);const F=g(t,["experiment"]);F!=null&&y(n,["experiment"],F);const G=g(t,["labels"]);G!=null&&y(n,["labels"],G);const M=g(t,["outputUri"]);M!=null&&y(n,["outputUri"],M);const D=g(t,["pipelineJob"]);D!=null&&y(n,["pipelineJob"],D);const k=g(t,["serviceAccount"]);k!=null&&y(n,["serviceAccount"],k);const B=g(t,["tunedModelDisplayName"]);B!=null&&y(n,["tunedModelDisplayName"],B);const z=g(t,["veoTuningSpec"]);return z!=null&&y(n,["veoTuningSpec"],z),n}function OX(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&y(n,["name"],i);const o=g(t,["metadata"]);o!=null&&y(n,["metadata"],o);const l=g(t,["done"]);l!=null&&y(n,["done"],l);const u=g(t,["error"]);return u!=null&&y(n,["error"],u),n}function JR(t,e){const n={},r=g(t,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=g(t,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LX extends ua{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Cl(Qo.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:IE.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=wX(e);return u=Te("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>OE(h))}else{const d=SX(e);return u=Te("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>u4(h))}}async listInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=NX(e);return u=Te("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=PX(h),_=new NR;return Object.assign(_,m),_})}else{const d=IX(e);return u=Te("tunedModels",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),l.then(h=>{const m=RX(h),_=new NR;return Object.assign(_,m),_})}}async cancel(e){var n,r,i,o;let l="",u={};if(this.apiClient.isVertexAI()){const f=_X(e);l=Te("{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=vX(e);l=Te("{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=TX(e,e);return o=Te("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>OE(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xX(e);return o=Te("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>OX(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UX{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const VX=1024*1024*8,zX=3,qX=1e3,BX=2,Qm="x-goog-upload-status";async function FX(t,e,n){var r;const i=await c4(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Qm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function jX(t,e,n){var r;const i=await c4(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Qm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=VL(o),u=new MT;return Object.assign(u,l),u}async function c4(t,e,n){var r,i;let o=0,l=0,u=new NE(new Response),f="upload";for(o=t.size;l<o;){const d=Math.min(VX,o-l),h=t.slice(l,l+d);l+d>=o&&(f+=", finalize");let m=0,_=qX;for(;m<zX&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[Qm]));)m++,await GX(_),_=_*BX;if(l+=d,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[Qm])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function HX(t){return{size:t.size,type:t.type}}function GX(t){return new Promise(e=>setTimeout(e,t))}class $X{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await FX(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jX(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await HX(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KX{create(e,n,r){return new YX(e,n,r)}}class YX{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XR="x-goog-api-key";class WX{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(XR)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(XR,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JX="gl-node/";class XX{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=C$(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new WX(this.apiKey);this.apiClient=new dJ({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:JX+"web",uploader:new $X,downloader:new UX}),this.models=new PJ(this.apiClient),this.live=new wJ(this.apiClient,i,new KX),this.batches=new nK(this.apiClient),this.chats=new UK(this.models,this.apiClient),this.caches=new kK(this.apiClient),this.files=new KK(this.apiClient),this.operations=new MJ(this.apiClient),this.authTokens=new YJ(this.apiClient),this.tunings=new LX(this.apiClient),this.fileSearchStores=new yX(this.apiClient)}}const f4="AIzaSyAW-X7Hd6zQ-4D3nfXfHTVCXVWo9Eg5-40";console.log("DEBUG: VITE_GEMINI_API_KEY available:",!0);console.log("DEBUG: apiKey length:",f4.length);const Vd=new XX({apiKey:f4}),QX=async(t,e)=>{try{const r=[{text:`
      Act as an expert CrossFit coach and nutritionist.
      Analyze the provided WOD (Workout of the Day) information.
      The input might be an image of a whiteboard, a PDF document, or raw text pasted by the user.

      User Profile for Context:
      - Weight: ${e.weight}kg
      - Height: ${e.height}cm
      - Age: ${e.age}
      - Gender: ${e.gender}
      - Level: ${e.fitnessLevel}

      Tasks:
      1. Identify the name of the workout (if any, otherwise create a short descriptive name).
      2. Extract or summarize the exercises.
      3. Estimate the duration in minutes (if not specified, estimate based on average Rx times for this user level).
      4. CALCULATE the estimated calories burned for THIS SPECIFIC USER performing this workout. Be precise with the physics of their body weight and intensity.

      IMPORTANT: RESPOND IN SPANISH.
      Return the response in strict JSON format.
    `}];t.text?r.push({text:`WOD Text Description:
${t.text}`}):t.file&&r.push({inlineData:{mimeType:t.file.mimeType,data:t.file.data}});const o=(await Vd.models.generateContent({model:"gemini-2.5-flash",contents:{parts:r},config:{responseMimeType:"application/json",responseSchema:{type:rt.OBJECT,properties:{name:{type:rt.STRING},description:{type:rt.STRING},durationMinutes:{type:rt.NUMBER},calories:{type:rt.NUMBER},exercises:{type:rt.ARRAY,items:{type:rt.OBJECT,properties:{name:{type:rt.STRING},weight:{type:rt.STRING},reps:{type:rt.STRING}}}}},required:["name","description","durationMinutes","calories","exercises"]}}})).text;if(!o)throw new Error("No response from AI");return JSON.parse(o)}catch(n){throw console.error("Error analyzing WOD:",n),n}},ZX=async(t,e)=>{try{const n=`
      Evaluate the user's performance in this CrossFit workout to award XP and determine if they should level up.

      User Profile:
      - Current Level: ${e.fitnessLevel}
      - Current XP: ${e.xp}
      - Weight: ${e.weight}kg
      - Gender: ${e.gender}

      Workout Performed:
      - Name: ${t.name}
      - Description: ${t.description}
      - Duration: ${t.durationMinutes} min
      - Exercises & Weights: ${JSON.stringify(t.exercises)}

      Levels Scale (Reference):
      - Beginner: Learning movements, low weights.
      - Intermediate: Consistent movements, moderate weights (e.g., Thruster 30kg).
      - Rx: Standard competition weights (e.g., Thruster 43/30kg, Pull-ups).
      - Elite: Advanced skills (Muscle-ups), heavy weights.

      Task:
      1. Calculate XP earned based on intensity, duration, and weights used relative to their body weight and current level. Base XP is 100. Bonus for heavy weights or PRs.
      2. Determine if the user qualifies for the NEXT level based on this performance (e.g., if Beginner uses Rx weights).
      3. Provide a short, motivating feedback message (max 2 sentences).

      IMPORTANT: RESPOND IN SPANISH.
      Return JSON.
    `,i=(await Vd.models.generateContent({model:"gemini-2.5-flash",contents:n,config:{responseMimeType:"application/json",responseSchema:{type:rt.OBJECT,properties:{xpEarned:{type:rt.NUMBER},newLevel:{type:rt.STRING,enum:["beginner","intermediate","rx","elite",null],nullable:!0},feedback:{type:rt.STRING}},required:["xpEarned","feedback"]}}})).text;if(!i)throw new Error("No response from AI");return JSON.parse(i)}catch(n){return console.error("Error evaluating performance:",n),{xpEarned:50,newLevel:null,feedback:"Buen trabajo! Sigue as."}}},eQ=async(t,e)=>{try{const n=`
      Create a challenging Home CrossFit Workout for this user:
      - Age: ${t.age}
      - Gender: ${t.gender}
      - Fitness Level: ${e||t.fitnessLevel} (IMPORTANT: Adjust intensity to this specific level)
      - Available Equipment: ${t.equipment&&t.equipment.length>0?t.equipment.join(", "):"None (Bodyweight only)"}
      - Location: ${t.country||"General"}

      The workout should follow a standard CrossFit structure: Warmup, Skill/Strength, WOD, and Cooldown.
      
      IMPORTANT:
      1. If the user has equipment, incorporate it intelligently into the workout.
      2. Ensure the workout is DIFFERENT from typical bodyweight routines if equipment is available.
      3. Focus on variety and high intensity.
      4. **Difficulty Level**: The user explicitly requested a **${e||t.fitnessLevel}** workout. Ensure the scaling, reps, and movements match this level perfectly.

      IMPORTANT: Return a structured JSON with a 'sections' array.
      Each section (Warmup, Skill, WOD, Cooldown) must have an 'exercises' array.
      Each exercise must have:
      - name: string
      - instruction: string (reps, sets, or specific details)
      - durationSeconds: number (0 if it's for reps, otherwise the time in seconds for the timer)
      
      Provide a motivational quote at the end in 'tips'.
      IMPORTANT: RESPOND IN SPANISH.
    `,i=(await Vd.models.generateContent({model:"gemini-2.5-flash",contents:n,config:{responseMimeType:"application/json",responseSchema:{type:rt.OBJECT,properties:{title:{type:rt.STRING},estimatedCalories:{type:rt.NUMBER},tips:{type:rt.STRING},sections:{type:rt.ARRAY,items:{type:rt.OBJECT,properties:{name:{type:rt.STRING},exercises:{type:rt.ARRAY,items:{type:rt.OBJECT,properties:{name:{type:rt.STRING},instruction:{type:rt.STRING},durationSeconds:{type:rt.NUMBER}}}}}}}}}}})).text;if(!i)throw new Error("No response from AI");return JSON.parse(i)}catch(n){throw console.error("Error generating workout:",n),n}},tQ=async t=>{try{const e=`
      Act as an expert nutritionist. Analyze this image of a meal.
      Identify the food items present.
      Estimate the total calories and breakdown of macronutrients (Protein, Carbs, Fat).
      Provide a brief, actionable health tip regarding this meal.

      CRITICAL INSTRUCTION: If the image is blurry, dark, or the food is not clearly identifiable, DO NOT FAIL.
      Instead, make your BEST EXPERT GUESS based on the general context, colors, and shapes.
      Assume standard portion sizes if not clear.
      It is better to provide an estimation than to say "I cannot analyze this".

      IMPORTANT: Return ONLY a valid JSON object with this structure:
      {
        "foodItems": ["item1", "item2"],
        "calories": number,
        "macros": {
          "protein": number,
          "carbs": number,
          "fat": number
        },
        "tips": "string"
      }
      Respond in Spanish.
    `,n=t.split(",")[1]||t,i=(await Vd.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{text:e},{inlineData:{mimeType:"image/jpeg",data:n}}]},config:{responseMimeType:"application/json"}})).text;if(!i)throw new Error("No response from AI");return JSON.parse(i)}catch(e){throw console.error("Error analyzing food:",e),e}},nQ=async(t,e)=>{try{const n=`
      Act as an expert sports nutritionist. Create a daily diet plan for a CrossFit athlete.
      
      User Profile:
      - Weight: ${t.weight}kg
      - Height: ${t.height}cm
      - Age: ${t.age}
      - Gender: ${t.gender}
      - Activity Level: High (CrossFit)
      - Location/Country: ${t.country||"General"}
      - Goal: ${e} (lose_weight, gain_muscle, maintain, performance)

      Tasks:
      1. Calculate target daily calories and macros (Protein, Carbs, Fat) for this specific goal.
      2. Suggest 4 meals (Breakfast, Lunch, Dinner, Snack) that fit these macros.
      3. **CRITICAL**: The menu MUST be based on the cuisine and available ingredients of **${t.country||"the user's region"}**.
      4. **CRITICAL**: Generate a **UNIQUE and DIFFERENT** menu every time this is called. Do not repeat generic suggestions. Be creative with the daily menu.

      IMPORTANT: Return ONLY a valid JSON object with this structure:
      {
        "goal": "${e}",
        "dailyCalories": number,
        "macros": {
          "protein": number,
          "carbs": number,
          "fat": number
        },
        "meals": [
          { "name": "Meal Name", "description": "Brief description of ingredients (Local style)", "calories": number }
        ]
      }
      Respond in Spanish.
    `,i=(await Vd.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{text:n}]},config:{responseMimeType:"application/json"}})).text;if(!i)throw new Error("No response from AI");return JSON.parse(i)}catch(n){throw console.error("Error generating diet plan:",n),n}},rQ=({user:t,onAddLog:e,onUpdateUser:n})=>{const[r,i]=N.useState("upload"),[o,l]=N.useState(!1),[u,f]=N.useState(null),[d,h]=N.useState(null),[m,_]=N.useState(null),[E,w]=N.useState(null),[S,C]=N.useState(!1),P=N.useRef(null),U=N.useRef(null),[O,H]=N.useState(""),[F,G]=N.useState(null),[M,D]=N.useState(new Date().toISOString().split("T")[0]);N.useRef(null),N.useEffect(()=>()=>{B()},[]);const k=async()=>{f(null);try{const le=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});P.current&&(P.current.srcObject=le,C(!0))}catch(le){console.error(le),f("No se pudo acceder a la cmara. Asegrate de dar permisos.")}},B=()=>{P.current&&P.current.srcObject&&(P.current.srcObject.getTracks().forEach(Q=>Q.stop()),P.current.srcObject=null,C(!1))},z=()=>{if(P.current&&U.current){const le=P.current,Q=U.current;Q.width=le.videoWidth,Q.height=le.videoHeight;const be=Q.getContext("2d");if(be){be.drawImage(le,0,0,Q.width,Q.height);const $=Q.toDataURL("image/jpeg");B();const te=$.split(",")[1];h($),w({mimeType:"image/jpeg",data:te}),_(null),j(te)}}},j=async le=>{l(!0),G(null),ge({file:{mimeType:"image/jpeg",data:le}})},L=async le=>{var $;const Q=($=le.target.files)==null?void 0:$[0];if(!Q)return;const be=new FileReader;be.onloadend=()=>{const te=be.result,pe=te.split(",")[1];h(Q.type.startsWith("image/")?te:null),_(Q.name),w({mimeType:Q.type,data:pe}),ge({file:{mimeType:Q.type,data:pe}})},be.readAsDataURL(Q)},de=()=>{O.trim()&&ge({text:O})},ge=async le=>{l(!0),f(null);try{const Q=await QX(le,t);G(Q),i("upload")}catch(Q){f("No se pudo analizar el WOD. Intenta de nuevo."),console.error(Q)}finally{l(!1)}},K=()=>{h(null),_(null),w(null),G(null),H("")},ne=async()=>{if(!F)return;l(!0);const[le,Q,be]=M.split("-").map(Number),$=new Date(le,Q-1,be,12,0,0),te={id:Date.now().toString(),date:$.toISOString(),name:F.name||"WOD Sin Nombre",description:F.description||"WOD Analizado",calories:F.calories||0,durationMinutes:F.durationMinutes||0,type:"image-scan",exercises:F.exercises};try{const pe=await ZX(te,t),_e={...te,xpEarned:pe.xpEarned};e(_e);let Ee=(t.xp||0)+pe.xpEarned,Re=t.fitnessLevel,Ie=(t.levelProgress||0)+pe.xpEarned/10;Ie>=100&&(Ie=Ie%100,pe.newLevel&&pe.newLevel!==t.fitnessLevel&&(Re=pe.newLevel)),n({...t,xp:Ee,levelProgress:Ie,fitnessLevel:Re}),alert(`WOD Registrado!
XP Ganada: ${pe.xpEarned}
${pe.feedback}
${pe.newLevel?"HAS SUBIDO DE NIVEL A "+pe.newLevel.toUpperCase()+"!":""}`),G(null),H(""),K()}catch(pe){console.error("Error saving log:",pe),e(te),G(null),K()}finally{l(!1)}};return T.jsxs("div",{className:"animate-fade-in h-full overflow-y-auto custom-scrollbar p-1",children:[S&&T.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col",children:[T.jsxs("div",{className:"relative flex-1",children:[T.jsx("video",{ref:P,autoPlay:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover"}),T.jsx("canvas",{ref:U,className:"hidden"}),T.jsxs("div",{className:"absolute inset-0 border-2 border-white/30 m-8 rounded-3xl pointer-events-none",children:[T.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-[var(--color-primary)] -mt-1 -ml-1 rounded-tl-xl"}),T.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-[var(--color-primary)] -mt-1 -mr-1 rounded-tr-xl"}),T.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-[var(--color-primary)] -mb-1 -ml-1 rounded-bl-xl"}),T.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-[var(--color-primary)] -mb-1 -mr-1 rounded-br-xl"})]})]}),T.jsxs("div",{className:"p-8 bg-black/80 flex justify-between items-center",children:[T.jsx("button",{onClick:B,className:"p-4 rounded-full bg-gray-800 text-white hover:bg-gray-700 transition-colors",children:T.jsx(kx,{size:24})}),T.jsx("button",{onClick:z,className:"p-6 rounded-full bg-white border-4 border-gray-300 hover:scale-105 transition-transform shadow-lg shadow-white/20",children:T.jsx("div",{className:"w-16 h-16 rounded-full bg-[var(--color-primary)] border-4 border-white"})}),T.jsx("div",{className:"w-14"})," "]})]}),!F&&!o&&T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"text-center space-y-2",children:[T.jsx("h2",{className:"text-2xl font-bold text-[var(--color-text)]",children:"Registrar WOD"}),T.jsx("p",{className:"text-gray-400",children:"Analiza tu pizarra o escribe tu entrenamiento"})]}),T.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[T.jsxs("button",{onClick:k,className:"p-6 bg-[var(--color-card)] border border-[var(--color-primary)] rounded-2xl flex flex-col items-center gap-3 hover:bg-[var(--color-primary)]/10 transition-all group",children:[T.jsx("div",{className:"p-3 bg-[var(--color-primary)]/20 rounded-full group-hover:scale-110 transition-transform",children:T.jsx(Hg,{size:32,className:"text-[var(--color-primary)]"})}),T.jsx("span",{className:"font-bold text-[var(--color-text)]",children:"Sacar Foto a Pizarra"})]}),T.jsxs("label",{className:"p-6 bg-[var(--color-card)] border border-gray-700 rounded-2xl flex flex-col items-center gap-3 hover:bg-gray-800 transition-all cursor-pointer group",children:[T.jsx("div",{className:"p-3 bg-gray-700 rounded-full group-hover:scale-110 transition-transform",children:T.jsx(yk,{size:32,className:"text-gray-400"})}),T.jsx("span",{className:"font-bold text-gray-300",children:"Subir Foto / Archivo"}),T.jsx("input",{type:"file",accept:"image/*,.pdf",className:"hidden",onChange:L})]})]}),T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("div",{className:"w-full border-t border-gray-800"})}),T.jsx("div",{className:"relative flex justify-center text-sm",children:T.jsx("span",{className:"px-2 bg-[var(--color-bg)] text-gray-500",children:"O escribe manualmente"})})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("textarea",{value:O,onChange:le=>H(le.target.value),placeholder:"Ej: AMRAP 20 min: 5 Pull-ups, 10 Push-ups, 15 Squats...",className:"w-full h-32 bg-[var(--color-card)] border border-gray-700 rounded-xl p-4 text-[var(--color-text)] placeholder-gray-500 focus:border-[var(--color-primary)] focus:ring-1 focus:ring-[var(--color-primary)] outline-none resize-none"}),T.jsxs("button",{onClick:de,className:"mt-4 w-full bg-[var(--color-primary)] hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-4 rounded-xl flex items-center justify-center gap-2 transition-all shadow-lg",children:[T.jsx(YC,{size:20}),"Analizar Texto"]})]})]}),o&&T.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4 animate-fade-in",children:[T.jsx(Am,{size:48,className:"text-[var(--color-primary)] animate-spin"}),T.jsx("p",{className:"text-gray-400 animate-pulse",children:"Analizando WOD con IA..."})]}),F&&!o&&T.jsxs("div",{className:"bg-[var(--color-card)] p-6 rounded-2xl border border-[var(--color-primary)] shadow-2xl animate-slide-up",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-700",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[d?T.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden border border-gray-600",children:T.jsx("img",{src:d,alt:"Preview",className:"w-full h-full object-cover"})}):m?T.jsx("div",{className:"w-12 h-12 rounded-lg bg-red-900/30 flex items-center justify-center border border-red-500/50",children:T.jsx(mk,{size:24,className:"text-red-400"})}):T.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-800 flex items-center justify-center border border-gray-600",children:T.jsx(fB,{size:24,className:"text-gray-400"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"Fuente"}),T.jsx("p",{className:"text-sm font-medium truncate max-w-[150px]",children:m||(d?"Imagen":"Texto Manual")})]})]}),T.jsx("button",{onClick:K,className:"text-red-400 hover:text-red-300 p-2 hover:bg-red-900/20 rounded-lg transition-colors",children:T.jsx(Bu,{size:20})})]}),T.jsxs("div",{className:"flex justify-between items-start mb-4",children:[T.jsx("h3",{className:"text-2xl font-bold text-[var(--color-text)]",children:F.name}),T.jsxs("span",{className:"bg-[var(--color-primary)] text-white text-xs font-bold px-3 py-1 rounded-full whitespace-nowrap",children:["~ ",F.durationMinutes," min"]})]}),T.jsx("div",{className:"bg-[var(--color-bg)] p-4 rounded-xl border border-gray-700 mb-6",children:T.jsx("p",{className:"text-gray-300 text-sm whitespace-pre-line leading-relaxed",children:F.description})}),T.jsx("div",{className:"flex items-center justify-between mb-4",children:T.jsxs("div",{className:"flex flex-col",children:[T.jsx("span",{className:"text-gray-400 text-xs uppercase tracking-wider mb-1",children:"Caloras Estimadas"}),T.jsxs("div",{className:"flex items-baseline gap-1",children:[T.jsx("span",{className:"text-4xl font-black text-[var(--color-primary)]",children:F.calories}),T.jsx("span",{className:"text-sm font-medium text-gray-400",children:"kcal"})]})]})}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-2",children:"Fecha del Entrenamiento"}),T.jsxs("div",{className:"flex items-center gap-2 bg-[var(--color-bg)] p-3 rounded-xl border border-gray-700 focus-within:border-[var(--color-primary)] transition-colors",children:[T.jsx(ed,{size:20,className:"text-gray-400"}),T.jsx("input",{type:"date",value:M,onChange:le=>D(le.target.value),className:"bg-transparent text-[var(--color-text)] w-full focus:outline-none font-medium"})]})]}),T.jsxs("button",{onClick:ne,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-4 rounded-xl flex items-center justify-center gap-2 transition-all shadow-lg hover:scale-[1.02]",children:[T.jsx(YC,{size:22}),"Guardar Entrenamiento"]})]}),u&&T.jsxs("div",{className:"bg-red-900/30 p-4 rounded-xl border border-red-500/50 flex items-start gap-3 animate-fade-in mt-4",children:[T.jsx(yq,{className:"text-red-400 shrink-0 mt-0.5",size:20}),T.jsx("span",{className:"text-red-200 text-sm",children:u})]})]})};function d4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=d4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Pt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=d4(t))&&(r&&(r+=" "),r+=e);return r}var iQ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function VT(t){if(typeof t!="string")return!1;var e=iQ;return e.includes(t)}var oQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],aQ=new Set(oQ);function h4(t){return typeof t!="string"?!1:aQ.has(t)}function p4(t){return typeof t=="string"&&t.startsWith("data-")}function Zo(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(h4(n)||p4(n))&&(e[n]=t[n]);return e}function zT(t){if(t==null)return null;if(N.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Zo(e)}return typeof t=="object"&&!Array.isArray(t)?Zo(t):null}function ii(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(h4(n)||p4(n)||VT(n))&&(e[n]=t[n]);return e}var sQ=["children","width","height","viewBox","className","style","title","desc"];function LE(){return LE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LE.apply(null,arguments)}function lQ(t,e){if(t==null)return{};var n,r,i=uQ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var m4=N.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:u,title:f,desc:d}=t,h=lQ(t,sQ),m=o||{width:r,height:i,x:0,y:0},_=Pt("recharts-surface",l);return N.createElement("svg",LE({},ii(h),{className:_,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),N.createElement("title",null,f),N.createElement("desc",null,d),n)}),cQ=["children","className"];function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UE.apply(null,arguments)}function fQ(t,e){if(t==null)return{};var n,r,i=dQ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ea=N.forwardRef((t,e)=>{var{children:n,className:r}=t,i=fQ(t,cQ),o=Pt("recharts-layer",r);return N.createElement("g",UE({className:o},ii(i),{ref:e}),n)}),g4=fk(),hQ=N.createContext(null);function St(t){return function(){return t}}const y4=Math.cos,Zm=Math.sin,ki=Math.sqrt,eg=Math.PI,py=2*eg,VE=Math.PI,zE=2*VE,Zs=1e-6,pQ=zE-Zs;function v4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function mQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return v4;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class gQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?v4:mQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,f=r-e,d=i-n,h=l-e,m=u-n,_=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(_>Zs)if(!(Math.abs(m*f-d*h)>Zs)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let E=r-l,w=i-u,S=f*f+d*d,C=E*E+w*w,P=Math.sqrt(S),U=Math.sqrt(_),O=o*Math.tan((VE-Math.acos((S+_-C)/(2*P*U)))/2),H=O/U,F=O/P;Math.abs(H-1)>Zs&&this._append`L${e+H*h},${n+H*m}`,this._append`A${o},${o},0,0,${+(m*E>h*w)},${this._x1=e+F*f},${this._y1=n+F*d}`}}arc(e,n,r,i,o,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),d=e+u,h=n+f,m=1^l,_=l?i-o:o-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Zs||Math.abs(this._y1-h)>Zs)&&this._append`L${d},${h}`,r&&(_<0&&(_=_%zE+zE),_>pQ?this._append`A${r},${r},0,1,${m},${e-u},${n-f}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:_>Zs&&this._append`A${r},${r},0,${+(_>=VE)},${m},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function qT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new gQ(e)}function BT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _4(t){this._context=t}_4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function my(t){return new _4(t)}function b4(t){return t[0]}function E4(t){return t[1]}function x4(t,e){var n=St(!0),r=null,i=my,o=null,l=qT(u);t=typeof t=="function"?t:t===void 0?b4:St(t),e=typeof e=="function"?e:e===void 0?E4:St(e);function u(f){var d,h=(f=BT(f)).length,m,_=!1,E;for(r==null&&(o=i(E=l())),d=0;d<=h;++d)!(d<h&&n(m=f[d],d,f))===_&&((_=!_)?o.lineStart():o.lineEnd()),_&&o.point(+t(m,d,f),+e(m,d,f));if(E)return o=null,E+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:St(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:St(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:St(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),u):r},u}function jp(t,e,n){var r=null,i=St(!0),o=null,l=my,u=null,f=qT(d);t=typeof t=="function"?t:t===void 0?b4:St(+t),e=typeof e=="function"?e:St(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?E4:St(+n);function d(m){var _,E,w,S=(m=BT(m)).length,C,P=!1,U,O=new Array(S),H=new Array(S);for(o==null&&(u=l(U=f())),_=0;_<=S;++_){if(!(_<S&&i(C=m[_],_,m))===P)if(P=!P)E=_,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=_-1;w>=E;--w)u.point(O[w],H[w]);u.lineEnd(),u.areaEnd()}P&&(O[_]=+t(C,_,m),H[_]=+e(C,_,m),u.point(r?+r(C,_,m):O[_],n?+n(C,_,m):H[_]))}if(U)return u=null,U+""||null}function h(){return x4().defined(i).curve(l).context(o)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:St(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:St(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:St(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:St(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:St(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:St(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:St(!!m),d):i},d.curve=function(m){return arguments.length?(l=m,o!=null&&(u=l(o)),d):l},d.context=function(m){return arguments.length?(m==null?o=u=null:u=l(o=m),d):o},d}class T4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function yQ(t){return new T4(t,!0)}function vQ(t){return new T4(t,!1)}const FT={draw(t,e){const n=ki(e/eg);t.moveTo(n,0),t.arc(0,0,n,0,py)}},_Q={draw(t,e){const n=ki(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},S4=ki(1/3),bQ=S4*2,EQ={draw(t,e){const n=ki(e/bQ),r=n*S4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},xQ={draw(t,e){const n=ki(e),r=-n/2;t.rect(r,r,n,n)}},TQ=.8908130915292852,w4=Zm(eg/10)/Zm(7*eg/10),SQ=Zm(py/10)*w4,wQ=-y4(py/10)*w4,AQ={draw(t,e){const n=ki(e*TQ),r=SQ*n,i=wQ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const l=py*o/5,u=y4(l),f=Zm(l);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},y_=ki(3),CQ={draw(t,e){const n=-ki(e/(y_*3));t.moveTo(0,n*2),t.lineTo(-y_*n,-n),t.lineTo(y_*n,-n),t.closePath()}},Xr=-.5,Qr=ki(3)/2,qE=1/ki(12),IQ=(qE/2+1)*3,NQ={draw(t,e){const n=ki(e/IQ),r=n/2,i=n*qE,o=r,l=n*qE+n,u=-o,f=l;t.moveTo(r,i),t.lineTo(o,l),t.lineTo(u,f),t.lineTo(Xr*r-Qr*i,Qr*r+Xr*i),t.lineTo(Xr*o-Qr*l,Qr*o+Xr*l),t.lineTo(Xr*u-Qr*f,Qr*u+Xr*f),t.lineTo(Xr*r+Qr*i,Xr*i-Qr*r),t.lineTo(Xr*o+Qr*l,Xr*l-Qr*o),t.lineTo(Xr*u+Qr*f,Xr*f-Qr*u),t.closePath()}};function RQ(t,e){let n=null,r=qT(i);t=typeof t=="function"?t:St(t||FT),e=typeof e=="function"?e:St(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:St(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:St(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function tg(){}function ng(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function A4(t){this._context=t}A4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ng(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function PQ(t){return new A4(t)}function C4(t){this._context=t}C4.prototype={areaStart:tg,areaEnd:tg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function MQ(t){return new C4(t)}function I4(t){this._context=t}I4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function DQ(t){return new I4(t)}function N4(t){this._context=t}N4.prototype={areaStart:tg,areaEnd:tg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function kQ(t){return new N4(t)}function QR(t){return t<0?-1:1}function ZR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(o*i+l*r)/(r+i);return(QR(o)+QR(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function eP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function v_(t,e,n){var r=t._x0,i=t._y0,o=t._x1,l=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,l-u*n,o,l)}function rg(t){this._context=t}rg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:v_(this,this._t0,eP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,v_(this,eP(this,n=ZR(this,t,e)),n);break;default:v_(this,this._t0,n=ZR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function R4(t){this._context=new P4(t)}(R4.prototype=Object.create(rg.prototype)).point=function(t,e){rg.prototype.point.call(this,e,t)};function P4(t){this._context=t}P4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function OQ(t){return new rg(t)}function LQ(t){return new R4(t)}function M4(t){this._context=t}M4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=tP(t),i=tP(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function tP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function UQ(t){return new M4(t)}function gy(t,e){this._context=t,this._t=e}gy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function VQ(t){return new gy(t,.5)}function zQ(t){return new gy(t,0)}function qQ(t){return new gy(t,1)}function Ju(t,e){if((l=t.length)>1)for(var n=1,r,i,o=t[e[0]],l,u=o.length;n<l;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function BE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function BQ(t,e){return t[e]}function FQ(t){const e=[];return e.key=t,e}function jQ(){var t=St([]),e=BE,n=Ju,r=BQ;function i(o){var l=Array.from(t.apply(this,arguments),FQ),u,f=l.length,d=-1,h;for(const m of o)for(u=0,++d;u<f;++u)(l[u][d]=[0,+r(m,l[u].key,d,o)]).data=m;for(u=0,h=BT(e(l));u<f;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:St(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:St(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?BE:typeof o=="function"?o:St(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Ju,i):n},i}function HQ(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Ju(t,e)}}function GQ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}Ju(t,e)}}function $Q(t,e){if(!(!((l=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var u=0,f=0,d=0;u<l;++u){for(var h=t[e[u]],m=h[r][1]||0,_=h[r-1][1]||0,E=(m-_)/2,w=0;w<u;++w){var S=t[e[w]],C=S[r][1]||0,P=S[r-1][1]||0;E+=C-P}f+=m,d+=E*m}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,Ju(t,e)}}var __={},b_={},nP;function KQ(){return nP||(nP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(b_)),b_}var E_={},rP;function D4(){return rP||(rP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(E_)),E_}var x_={},iP;function jT(){return iP||(iP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(x_)),x_}var T_={},S_={},oP;function YQ(){return oP||(oP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(S_)),S_}var aP;function HT(){return aP||(aP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YQ(),n=jT();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],l=i.length;if(l===0)return o;let u=0,f="",d="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<l;){const m=i[u];d?m==="\\"&&u+1<l?(u++,f+=i[u]):m===d?d="":f+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,o.push(f),f=""):f+=m:m==="["?(h=!0,f&&(o.push(f),f="")):m==="."?f&&(o.push(f),f=""):f+=m,u++}return f&&o.push(f),o}t.toPath=r})(T_)),T_}var sP;function GT(){return sP||(sP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KQ(),n=D4(),r=jT(),i=HT();function o(u,f,d){if(u==null)return d;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?n.isDeepKey(f)?o(u,i.toPath(f),d):d:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=u[f];return h===void 0?d:h}default:{if(Array.isArray(f))return l(u,f,d);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?d:h}}}function l(u,f,d){if(f.length===0)return d;let h=u;for(let m=0;m<f.length;m++){if(h==null||e.isUnsafeProperty(f[m]))return d;h=h[f[m]]}return h===void 0?d:h}t.get=o})(__)),__}var w_,lP;function WQ(){return lP||(lP=1,w_=GT().get),w_}var JQ=WQ();const Xu=yo(JQ);var yr=t=>t===0?0:t>0?1:-1,Ri=t=>typeof t=="number"&&t!=+t,ta=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Pe=t=>(typeof t=="number"||t instanceof Number)&&!Ri(t),po=t=>Pe(t)||typeof t=="string",XQ=0,fd=t=>{var e=++XQ;return"".concat(t||"").concat(e)},Pi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(e)&&typeof e!="string")return r;var o;if(ta(e)){if(n==null)return r;var l=e.indexOf("%");o=n*parseFloat(e.slice(0,l))/100}else o=+e;return Ri(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},k4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function zn(t,e,n){return Pe(t)&&Pe(e)?t+n*(e-t):e}function QQ(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Xu(r,e))===n)}var In=t=>t===null||typeof t>"u",zd=t=>In(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function ZQ(t){return t!=null}function qd(){}var eZ=["type","size","sizeType"];function FE(){return FE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FE.apply(null,arguments)}function uP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(n),!0).forEach(function(r){tZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tZ(t,e,n){return(e=nZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nZ(t){var e=rZ(t,"string");return typeof e=="symbol"?e:e+""}function rZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iZ(t,e){if(t==null)return{};var n,r,i=oZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var O4={symbolCircle:FT,symbolCross:_Q,symbolDiamond:EQ,symbolSquare:xQ,symbolStar:AQ,symbolTriangle:CQ,symbolWye:NQ},aZ=Math.PI/180,sZ=t=>{var e="symbol".concat(zd(t));return O4[e]||FT},lZ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*aZ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},uZ=(t,e)=>{O4["symbol".concat(zd(t))]=e},L4=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=iZ(t,eZ),o=cP(cP({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var _=sZ(l),E=RQ().type(_).size(lZ(n,r,l)),w=E();if(w!==null)return w},{className:f,cx:d,cy:h}=o,m=ii(o);return Pe(d)&&Pe(h)&&Pe(n)?N.createElement("path",FE({},m,{className:Pt("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};L4.registerSymbol=uZ;var U4=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,cZ=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{VT(i)&&(r[i]=(o=>n[i](n,o)))}),r},fZ=(t,e,n)=>r=>(t(e,n,r),null),$T=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];VT(i)&&typeof o=="function"&&(r||(r={}),r[i]=fZ(o,e,n))}),r};function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){hZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hZ(t,e,n){return(e=pZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pZ(t){var e=mZ(t,"string");return typeof e=="symbol"?e:e+""}function mZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ur(t,e){var n=dZ({},t),r=e,i=Object.keys(e),o=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return o}var A_={},C_={},dP;function gZ(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(C_)),C_}var I_={},hP;function V4(){return hP||(hP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(I_)),I_}var N_={},R_={},P_={},pP;function yZ(){return pP||(pP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(P_)),P_}var mP;function KT(){return mP||(mP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yZ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(R_)),R_}var M_={},gP;function vZ(){return gP||(gP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(M_)),M_}var yP;function _Z(){return yP||(yP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KT(),n=vZ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(N_)),N_}var D_={},k_={},vP;function bZ(){return vP||(vP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GT();function n(r){return function(i){return e.get(i,r)}}t.property=n})(k_)),k_}var O_={},L_={},U_={},V_={},_P;function z4(){return _P||(_P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(V_)),V_}var z_={},bP;function q4(){return bP||(bP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(z_)),z_}var q_={},EP;function B4(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(q_)),q_}var xP;function EZ(){return xP||(xP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z4(),n=q4(),r=B4();function i(h,m,_){return typeof _!="function"?i(h,m,()=>{}):o(h,m,function E(w,S,C,P,U,O){const H=_(w,S,C,P,U,O);return H!==void 0?!!H:o(w,S,E,O)},new Map)}function o(h,m,_,E){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,_,E);case"function":return Object.keys(m).length>0?o(h,{...m},_,E):r.eq(h,m);default:return e.isObject(h)?typeof m=="string"?m==="":!0:r.eq(h,m)}}function l(h,m,_,E){if(m==null)return!0;if(Array.isArray(m))return f(h,m,_,E);if(m instanceof Map)return u(h,m,_,E);if(m instanceof Set)return d(h,m,_,E);const w=Object.keys(m);if(h==null)return w.length===0;if(w.length===0)return!0;if(E!=null&&E.has(m))return E.get(m)===h;E==null||E.set(m,h);try{for(let S=0;S<w.length;S++){const C=w[S];if(!n.isPrimitive(h)&&!(C in h)||m[C]===void 0&&h[C]!==void 0||m[C]===null&&h[C]!==null||!_(h[C],m[C],C,h,m,E))return!1}return!0}finally{E==null||E.delete(m)}}function u(h,m,_,E){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[w,S]of m.entries()){const C=h.get(w);if(_(C,S,w,h,m,E)===!1)return!1}return!0}function f(h,m,_,E){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const w=new Set;for(let S=0;S<m.length;S++){const C=m[S];let P=!1;for(let U=0;U<h.length;U++){if(w.has(U))continue;const O=h[U];let H=!1;if(_(O,C,S,h,m,E)&&(H=!0),H){w.add(U),P=!0;break}}if(!P)return!1}return!0}function d(h,m,_,E){return m.size===0?!0:h instanceof Set?f([...h],[...m],_,E):!1}t.isMatchWith=i,t.isSetMatch=d})(U_)),U_}var TP;function F4(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EZ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(L_)),L_}var B_={},F_={},j_={},SP;function xZ(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(j_)),j_}var H_={},wP;function j4(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(H_)),H_}var G_={},AP;function H4(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",_="[object ArrayBuffer]",E="[object Object]",w="[object Error]",S="[object DataView]",C="[object Uint8Array]",P="[object Uint8ClampedArray]",U="[object Uint16Array]",O="[object Uint32Array]",H="[object BigUint64Array]",F="[object Int8Array]",G="[object Int16Array]",M="[object Int32Array]",D="[object BigInt64Array]",k="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=_,t.arrayTag=h,t.bigInt64ArrayTag=D,t.bigUint64ArrayTag=H,t.booleanTag=i,t.dataViewTag=S,t.dateTag=u,t.errorTag=w,t.float32ArrayTag=k,t.float64ArrayTag=B,t.functionTag=m,t.int16ArrayTag=G,t.int32ArrayTag=M,t.int8ArrayTag=F,t.mapTag=f,t.numberTag=r,t.objectTag=E,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=U,t.uint32ArrayTag=O,t.uint8ArrayTag=C,t.uint8ClampedArrayTag=P})(G_)),G_}var $_={},CP;function TZ(){return CP||(CP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})($_)),$_}var IP;function G4(){return IP||(IP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xZ(),n=j4(),r=H4(),i=q4(),o=TZ();function l(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,_,E=new Map,w=void 0){const S=w==null?void 0:w(h,m,_,E);if(S!==void 0)return S;if(i.isPrimitive(h))return h;if(E.has(h))return E.get(h);if(Array.isArray(h)){const C=new Array(h.length);E.set(h,C);for(let P=0;P<h.length;P++)C[P]=u(h[P],P,_,E,w);return Object.hasOwn(h,"index")&&(C.index=h.index),Object.hasOwn(h,"input")&&(C.input=h.input),C}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const C=new RegExp(h.source,h.flags);return C.lastIndex=h.lastIndex,C}if(h instanceof Map){const C=new Map;E.set(h,C);for(const[P,U]of h)C.set(P,u(U,P,_,E,w));return C}if(h instanceof Set){const C=new Set;E.set(h,C);for(const P of h)C.add(u(P,void 0,_,E,w));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const C=new(Object.getPrototypeOf(h)).constructor(h.length);E.set(h,C);for(let P=0;P<h.length;P++)C[P]=u(h[P],P,_,E,w);return C}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const C=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return E.set(h,C),f(C,h,_,E,w),C}if(typeof File<"u"&&h instanceof File){const C=new File([h],h.name,{type:h.type});return E.set(h,C),f(C,h,_,E,w),C}if(typeof Blob<"u"&&h instanceof Blob){const C=new Blob([h],{type:h.type});return E.set(h,C),f(C,h,_,E,w),C}if(h instanceof Error){const C=new h.constructor;return E.set(h,C),C.message=h.message,C.name=h.name,C.stack=h.stack,C.cause=h.cause,f(C,h,_,E,w),C}if(h instanceof Boolean){const C=new Boolean(h.valueOf());return E.set(h,C),f(C,h,_,E,w),C}if(h instanceof Number){const C=new Number(h.valueOf());return E.set(h,C),f(C,h,_,E,w),C}if(h instanceof String){const C=new String(h.valueOf());return E.set(h,C),f(C,h,_,E,w),C}if(typeof h=="object"&&d(h)){const C=Object.create(Object.getPrototypeOf(h));return E.set(h,C),f(C,h,_,E,w),C}return h}function f(h,m,_=h,E,w){const S=[...Object.keys(m),...e.getSymbols(m)];for(let C=0;C<S.length;C++){const P=S[C],U=Object.getOwnPropertyDescriptor(h,P);(U==null||U.writable)&&(h[P]=u(m[P],P,_,E,w))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=f})(F_)),F_}var NP;function SZ(){return NP||(NP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G4();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(B_)),B_}var RP;function wZ(){return RP||(RP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F4(),n=SZ();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(O_)),O_}var K_={},Y_={},W_={},PP;function AZ(){return PP||(PP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G4(),n=H4();function r(i,o){return e.cloneDeepWith(i,(l,u,f,d)=>{const h=o==null?void 0:o(l,u,f,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(m,i),m}case n.argumentsTag:{const m={};return e.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}t.cloneDeepWith=r})(W_)),W_}var MP;function CZ(){return MP||(MP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AZ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Y_)),Y_}var J_={},X_={},DP;function $4(){return DP||(DP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(X_)),X_}var Q_={},kP;function IZ(){return kP||(kP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j4();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Q_)),Q_}var OP;function NZ(){return OP||(OP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D4(),n=$4(),r=IZ(),i=HT();function o(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&(l==null?void 0:l[u])==null?f=i.toPath(u):f=[u],f.length===0)return!1;let d=l;for(let h=0;h<f.length;h++){const m=f[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}t.has=o})(J_)),J_}var LP;function RZ(){return LP||(LP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F4(),n=jT(),r=CZ(),i=GT(),o=NZ();function l(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(d){const h=i.get(d,u);return h===void 0?o.has(d,u):f===void 0?h===void 0:e.isMatch(h,f)}}t.matchesProperty=l})(K_)),K_}var UP;function PZ(){return UP||(UP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V4(),n=bZ(),r=wZ(),i=RZ();function o(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=o})(D_)),D_}var VP;function MZ(){return VP||(VP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gZ(),n=V4(),r=_Z(),i=PZ();function o(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=o})(A_)),A_}var Z_,zP;function DZ(){return zP||(zP=1,Z_=MZ().uniqBy),Z_}var kZ=DZ();const qP=yo(kZ);function OZ(t,e,n){return e===!0?qP(t,n):typeof e=="function"?qP(t,e):t}var eb={exports:{}},tb={},nb={exports:{}},rb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BP;function LZ(){if(BP)return rb;BP=1;var t=sc();function e(m,_){return m===_&&(m!==0||1/m===1/_)||m!==m&&_!==_}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function u(m,_){var E=_(),w=r({inst:{value:E,getSnapshot:_}}),S=w[0].inst,C=w[1];return o(function(){S.value=E,S.getSnapshot=_,f(S)&&C({inst:S})},[m,E,_]),i(function(){return f(S)&&C({inst:S}),m(function(){f(S)&&C({inst:S})})},[m]),l(E),E}function f(m){var _=m.getSnapshot;m=m.value;try{var E=_();return!n(m,E)}catch{return!0}}function d(m,_){return _()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return rb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,rb}var FP;function UZ(){return FP||(FP=1,nb.exports=LZ()),nb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jP;function VZ(){if(jP)return tb;jP=1;var t=sc(),e=UZ();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,u=t.useMemo,f=t.useDebugValue;return tb.useSyncExternalStoreWithSelector=function(d,h,m,_,E){var w=o(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=u(function(){function P(G){if(!U){if(U=!0,O=G,G=_(G),E!==void 0&&S.hasValue){var M=S.value;if(E(M,G))return H=M}return H=G}if(M=H,r(O,G))return M;var D=_(G);return E!==void 0&&E(M,D)?(O=G,M):(O=G,H=D)}var U=!1,O,H,F=m===void 0?null:m;return[function(){return P(h())},F===null?void 0:function(){return P(F())}]},[h,m,_,E]);var C=i(d,w[0],w[1]);return l(function(){S.hasValue=!0,S.value=C},[C]),f(C),C},tb}var HP;function zZ(){return HP||(HP=1,eb.exports=VZ()),eb.exports}var qZ=zZ(),YT=N.createContext(null),BZ=t=>t,Jt=()=>{var t=N.useContext(YT);return t?t.store.dispatch:BZ},_m=()=>{},FZ=()=>_m,jZ=(t,e)=>t===e;function De(t){var e=N.useContext(YT);return qZ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:FZ,e?e.store.getState:_m,e?e.store.getState:_m,e?t:_m,jZ)}function HZ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function GZ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function $Z(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var GP=t=>Array.isArray(t)?t:[t];function KZ(t){const e=Array.isArray(t[0])?t[0]:t;return $Z(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function YZ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var WZ=class{constructor(t){this.value=t}deref(){return this.value}},JZ=typeof WeakRef<"u"?WeakRef:WZ,XZ=0,$P=1;function Hp(){return{s:XZ,v:void 0,o:null,p:null}}function K4(t,e={}){let n=Hp();const{resultEqualityCheck:r}=e;let i,o=0;function l(){var m;let u=n;const{length:f}=arguments;for(let _=0,E=f;_<E;_++){const w=arguments[_];if(typeof w=="function"||typeof w=="object"&&w!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const C=S.get(w);C===void 0?(u=Hp(),S.set(w,u)):u=C}else{let S=u.p;S===null&&(u.p=S=new Map);const C=S.get(w);C===void 0?(u=Hp(),S.set(w,u)):u=C}}const d=u;let h;if(u.s===$P)h=u.v;else if(h=t.apply(null,arguments),o++,r){const _=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;_!=null&&r(_,h)&&(h=_,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new JZ(h):h}return d.s=$P,d.v=h,h}return l.clearCache=()=>{n=Hp(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function QZ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,l=0,u,f={},d=i.pop();typeof d=="object"&&(f=d,d=i.pop()),HZ(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...f},{memoize:m,memoizeOptions:_=[],argsMemoize:E=K4,argsMemoizeOptions:w=[]}=h,S=GP(_),C=GP(w),P=KZ(i),U=m(function(){return o++,d.apply(null,arguments)},...S),O=E(function(){l++;const F=YZ(P,arguments);return u=U.apply(null,F),u},...C);return Object.assign(O,{resultFunc:d,memoizedResultFunc:U,dependencies:P,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:E})};return Object.assign(r,{withTypes:()=>r}),r}var ae=QZ(K4),ZZ=Object.assign((t,e=ae)=>{GZ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((l,u,f)=>(l[n[f]]=u,l),{}))},{withTypes:()=>ZZ}),ib={},ob={},ab={},KP;function eee(){return KP||(KP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-l:l-u}return 0};t.compareValues=n})(ab)),ab}var sb={},lb={},YP;function Y4(){return YP||(YP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(lb)),lb}var WP;function tee(){return WP||(WP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}t.isKey=i})(sb)),sb}var JP;function nee(){return JP||(JP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eee(),n=tee(),r=HT();function i(o,l,u,f){if(o==null)return[];u=f?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(E=>String(E));const d=(E,w)=>{let S=E;for(let C=0;C<w.length&&S!=null;++C)S=S[w[C]];return S},h=(E,w)=>w==null||E==null?w:typeof E=="object"&&"key"in E?Object.hasOwn(w,E.key)?w[E.key]:d(w,E.path):typeof E=="function"?E(w):Array.isArray(E)?d(w,E):typeof w=="object"?w[E]:w,m=l.map(E=>(Array.isArray(E)&&E.length===1&&(E=E[0]),E==null||typeof E=="function"||Array.isArray(E)||n.isKey(E)?E:{key:E,path:r.toPath(E)}));return o.map(E=>({original:E,criteria:m.map(w=>h(w,E))})).slice().sort((E,w)=>{for(let S=0;S<m.length;S++){const C=e.compareValues(E.criteria[S],w.criteria[S],u[S]);if(C!==0)return C}return 0}).map(E=>E.original)}t.orderBy=i})(ob)),ob}var ub={},XP;function ree(){return XP||(XP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),l=(u,f)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&f<o?l(h,f+1):i.push(h)}};return l(n,0),i}t.flatten=e})(ub)),ub}var cb={},QP;function W4(){return QP||(QP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$4(),n=KT(),r=z4(),i=B4();function o(l,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],l):!1}t.isIterateeCall=o})(cb)),cb}var ZP;function iee(){return ZP||(ZP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nee(),n=ree(),r=W4();function i(o,...l){const u=l.length;return u>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(o,n.flatten(l),["asc"])}t.sortBy=i})(ib)),ib}var fb,eM;function oee(){return eM||(eM=1,fb=iee().sortBy),fb}var aee=oee();const yy=yo(aee);var J4=t=>t.legend.settings,see=t=>t.legend.size,lee=t=>t.legend.payload;ae([lee,J4],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?yy(r,n):r});var Gp=1;function uee(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=N.useState({height:0,left:0,top:0,width:0}),r=N.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-e.height)>Gp||Math.abs(l.left-e.left)>Gp||Math.abs(l.top-e.top)>Gp||Math.abs(l.width-e.width)>Gp)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Un(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var cee=typeof Symbol=="function"&&Symbol.observable||"@@observable",tM=cee,db=()=>Math.random().toString(36).substring(7).split("").join("."),fee={INIT:`@@redux/INIT${db()}`,REPLACE:`@@redux/REPLACE${db()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${db()}`},ig=fee;function WT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function X4(t,e,n){if(typeof t!="function")throw new Error(Un(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Un(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Un(1));return n(X4)(t,e)}let r=t,i=e,o=new Map,l=o,u=0,f=!1;function d(){l===o&&(l=new Map,o.forEach((C,P)=>{l.set(P,C)}))}function h(){if(f)throw new Error(Un(3));return i}function m(C){if(typeof C!="function")throw new Error(Un(4));if(f)throw new Error(Un(5));let P=!0;d();const U=u++;return l.set(U,C),function(){if(P){if(f)throw new Error(Un(6));P=!1,d(),l.delete(U),o=null}}}function _(C){if(!WT(C))throw new Error(Un(7));if(typeof C.type>"u")throw new Error(Un(8));if(typeof C.type!="string")throw new Error(Un(17));if(f)throw new Error(Un(9));try{f=!0,i=r(i,C)}finally{f=!1}return(o=l).forEach(U=>{U()}),C}function E(C){if(typeof C!="function")throw new Error(Un(10));r=C,_({type:ig.REPLACE})}function w(){const C=m;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(Un(11));function U(){const H=P;H.next&&H.next(h())}return U(),{unsubscribe:C(U)}},[tM](){return this}}}return _({type:ig.INIT}),{dispatch:_,subscribe:m,getState:h,replaceReducer:E,[tM]:w}}function dee(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ig.INIT})>"u")throw new Error(Un(12));if(typeof n(void 0,{type:ig.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Un(13))})}function Q4(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const l=e[o];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{dee(n)}catch(o){i=o}return function(l={},u){if(i)throw i;let f=!1;const d={};for(let h=0;h<r.length;h++){const m=r[h],_=n[m],E=l[m],w=_(E,u);if(typeof w>"u")throw u&&u.type,new Error(Un(14));d[m]=w,f=f||w!==E}return f=f||r.length!==Object.keys(l).length,f?d:l}}function og(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function hee(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Un(15))};const l={getState:i.getState,dispatch:(f,...d)=>o(f,...d)},u=t.map(f=>f(l));return o=og(...u)(i.dispatch),{...i,dispatch:o}}}function Z4(t){return WT(t)&&"type"in t&&typeof t.type=="string"}var eU=Symbol.for("immer-nothing"),nM=Symbol.for("immer-draftable"),ir=Symbol.for("immer-state");function Ti(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var kr=Object,Qu=kr.getPrototypeOf,ag="constructor",vy="prototype",jE="configurable",sg="enumerable",bm="writable",dd="value",na=t=>!!t&&!!t[ir];function Mi(t){var e;return t?tU(t)||_y(t)||!!t[nM]||!!((e=t[ag])!=null&&e[nM])||by(t)||Ey(t):!1}var pee=kr[vy][ag].toString(),rM=new WeakMap;function tU(t){if(!t||!JT(t))return!1;const e=Qu(t);if(e===null||e===kr[vy])return!0;const n=kr.hasOwnProperty.call(e,ag)&&e[ag];if(n===Object)return!0;if(!Au(n))return!1;let r=rM.get(n);return r===void 0&&(r=Function.toString.call(n),rM.set(n,r)),r===pee}function Bd(t,e,n=!0){Fd(t)===0?(n?Reflect.ownKeys(t):kr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Fd(t){const e=t[ir];return e?e.type_:_y(t)?1:by(t)?2:Ey(t)?3:0}var iM=(t,e,n=Fd(t))=>n===2?t.has(e):kr[vy].hasOwnProperty.call(t,e),HE=(t,e,n=Fd(t))=>n===2?t.get(e):t[e],lg=(t,e,n,r=Fd(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function mee(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var _y=Array.isArray,by=t=>t instanceof Map,Ey=t=>t instanceof Set,JT=t=>typeof t=="object",Au=t=>typeof t=="function",hb=t=>typeof t=="boolean",Vo=t=>t.copy_||t.base_,XT=t=>t.modified_?t.copy_:t.base_;function GE(t,e){if(by(t))return new Map(t);if(Ey(t))return new Set(t);if(_y(t))return Array[vy].slice.call(t);const n=tU(t);if(e===!0||e==="class_only"&&!n){const r=kr.getOwnPropertyDescriptors(t);delete r[ir];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u[bm]===!1&&(u[bm]=!0,u[jE]=!0),(u.get||u.set)&&(r[l]={[jE]:!0,[bm]:!0,[sg]:u[sg],[dd]:t[l]})}return kr.create(Qu(t),r)}else{const r=Qu(t);if(r!==null&&n)return{...t};const i=kr.create(r);return kr.assign(i,t)}}function QT(t,e=!1){return xy(t)||na(t)||!Mi(t)||(Fd(t)>1&&kr.defineProperties(t,{set:$p,add:$p,clear:$p,delete:$p}),kr.freeze(t),e&&Bd(t,(n,r)=>{QT(r,!0)},!1)),t}function gee(){Ti(2)}var $p={[dd]:gee};function xy(t){return t===null||!JT(t)?!0:kr.isFrozen(t)}var ug="MapSet",$E="Patches",nU={};function Zu(t){const e=nU[t];return e||Ti(0,t),e}var yee=t=>!!nU[t],hd,rU=()=>hd,vee=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:yee(ug)?Zu(ug):void 0});function oM(t,e){e&&(t.patchPlugin_=Zu($E),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function KE(t){YE(t),t.drafts_.forEach(_ee),t.drafts_=null}function YE(t){t===hd&&(hd=t.parent_)}var aM=t=>hd=vee(hd,t);function _ee(t){const e=t[ir];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function sM(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[ir].modified_&&(KE(e),Ti(4)),Mi(t)&&(t=lM(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[ir].base_,t,e)}else t=lM(e,n);return bee(e,t,!0),KE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==eU?t:void 0}function lM(t,e){if(xy(e))return e;const n=e[ir];if(!n)return ZT(e,t.handledSet_,t);if(!Ty(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);aU(n,t)}return n.copy_}function bee(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&QT(e,n)}function iU(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Ty=(t,e)=>t.scope_===e,Eee=[];function oU(t,e,n,r){const i=Vo(t),o=t.type_;if(r!==void 0&&HE(i,r,o)===e){lg(i,r,n,o);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;Bd(i,(f,d)=>{if(na(d)){const h=u.get(d)||[];h.push(f),u.set(d,h)}})}const l=t.draftLocations_.get(e)??Eee;for(const u of l)lg(i,u,n,o)}function xee(t,e,n){t.callbacks_.push(function(i){var u;const o=e;if(!o||!Ty(o,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(o);const l=XT(o);oU(t,o.draft_??o,l,n),aU(o,i)})}function aU(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const o=i.getPath(t);o&&i.generatePatches_(t,o,e)}iU(t)}}function Tee(t,e,n){const{scope_:r}=t;if(na(n)){const i=n[ir];Ty(i,r)&&i.callbacks_.push(function(){Em(t);const l=XT(i);oU(t,n,l,e)})}else Mi(n)&&t.callbacks_.push(function(){const o=Vo(t);HE(o,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&ZT(HE(t.copy_,e,t.type_),r.handledSet_,r)})}function ZT(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||na(t)||e.has(t)||!Mi(t)||xy(t)||(e.add(t),Bd(t,(r,i)=>{if(na(i)){const o=i[ir];if(Ty(o,n)){const l=XT(o);lg(t,r,l,t.type_),iU(o)}}else Mi(i)&&ZT(i,e,n)})),t}function See(t,e){const n=_y(t),r={type_:n?1:0,scope_:e?e.scope_:rU(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=eS;n&&(i=[r],o=pd);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,[u,r]}var eS={get(t,e){if(e===ir)return t;const n=Vo(t);if(!iM(n,e,t.type_))return wee(t,n,e);const r=n[e];if(t.finalized_||!Mi(r))return r;if(r===pb(t.base_,e)){Em(t);const i=t.type_===1?+e:e,o=JE(t.scope_,r,t,i);return t.copy_[i]=o}return r},has(t,e){return e in Vo(t)},ownKeys(t){return Reflect.ownKeys(Vo(t))},set(t,e,n){const r=sU(Vo(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=pb(Vo(t),e),o=i==null?void 0:i[ir];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(mee(n,i)&&(n!==void 0||iM(t.base_,e,t.type_)))return!0;Em(t),WE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Tee(t,e,n)),!0},deleteProperty(t,e){return Em(t),pb(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),WE(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Vo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[bm]:!0,[jE]:t.type_!==1||e!=="length",[sg]:r[sg],[dd]:n[e]}},defineProperty(){Ti(11)},getPrototypeOf(t){return Qu(t.base_)},setPrototypeOf(){Ti(12)}},pd={};Bd(eS,(t,e)=>{pd[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});pd.deleteProperty=function(t,e){return pd.set.call(this,t,e,void 0)};pd.set=function(t,e,n){return eS.set.call(this,t[0],e,n,t[0])};function pb(t,e){const n=t[ir];return(n?Vo(n):t)[e]}function wee(t,e,n){var i;const r=sU(e,n);return r?dd in r?r[dd]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function sU(t,e){if(!(e in t))return;let n=Qu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Qu(n)}}function WE(t){t.modified_||(t.modified_=!0,t.parent_&&WE(t.parent_))}function Em(t){t.copy_||(t.assigned_=new Map,t.copy_=GE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Aee=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Au(n)&&!Au(r)){const l=r;r=n;const u=this;return function(d=l,...h){return u.produce(d,m=>r.call(this,m,...h))}}Au(r)||Ti(6),i!==void 0&&!Au(i)&&Ti(7);let o;if(Mi(n)){const l=aM(this),u=JE(l,n,void 0);let f=!0;try{o=r(u),f=!1}finally{f?KE(l):YE(l)}return oM(l,i),sM(o,l)}else if(!n||!JT(n)){if(o=r(n),o===void 0&&(o=n),o===eU&&(o=void 0),this.autoFreeze_&&QT(o,!0),i){const l=[],u=[];Zu($E).generateReplacementPatches_(n,o,{patches_:l,inversePatches_:u}),i(l,u)}return o}else Ti(1,n)},this.produceWithPatches=(n,r)=>{if(Au(n))return(u,...f)=>this.produceWithPatches(u,d=>n(d,...f));let i,o;return[this.produce(n,r,(u,f)=>{i=u,o=f}),i,o]},hb(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),hb(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),hb(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Mi(e)||Ti(8),na(e)&&(e=Ii(e));const n=aM(this),r=JE(n,e,void 0);return r[ir].isManual_=!0,YE(n),r}finishDraft(e,n){const r=e&&e[ir];(!r||!r.isManual_)&&Ti(9);const{scope_:i}=r;return oM(i,n),sM(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(n=n.slice(r+1));const i=Zu($E).applyPatches_;return na(e)?i(e,n):this.produce(e,o=>i(o,n))}};function JE(t,e,n,r){const[i,o]=by(e)?Zu(ug).proxyMap_(e,n):Ey(e)?Zu(ug).proxySet_(e,n):See(e,n);return((n==null?void 0:n.scope_)??rU()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?xee(n,o,r):o.callbacks_.push(function(f){var h;(h=f.mapSetPlugin_)==null||h.fixSetContents(o);const{patchPlugin_:d}=f;o.modified_&&d&&d.generatePatches_(o,[],f)}),i}function Ii(t){return na(t)||Ti(10,t),lU(t)}function lU(t){if(!Mi(t)||xy(t))return t;const e=t[ir];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=GE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=GE(t,!0);return Bd(n,(i,o)=>{lg(n,i,lU(o))},r),e&&(e.finalized_=!1),n}var Cee=new Aee,uU=Cee.produce;function cU(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var Iee=cU(),Nee=cU,Ree=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?og:og.apply(null,arguments)};function oi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Or(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Z4(r)&&r.type===t,n}var fU=class Hf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Hf.prototype)}static get[Symbol.species](){return Hf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Hf(...e[0].concat(this)):new Hf(...e.concat(this))}};function uM(t){return Mi(t)?uU(t,()=>{}):t}function Kp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Pee(t){return typeof t=="boolean"}var Mee=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let l=new fU;return n&&(Pee(n)?l.push(Iee):l.push(Nee(n.extraArgument))),l},dU="RTK_autoBatch",Ot=()=>t=>({payload:t,meta:{[dU]:!0}}),cM=t=>e=>{setTimeout(e,t)},hU=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,l=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:cM(10):t.type==="callback"?t.queueNotification:cM(t.timeout),d=()=>{l=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),_=r.subscribe(m);return u.add(h),()=>{_(),u.delete(h)}},dispatch(h){var m;try{return i=!((m=h==null?void 0:h.meta)!=null&&m[dU]),o=!i,o&&(l||(l=!0,f(d))),r.dispatch(h)}finally{i=!0}}})},Dee=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new fU(t);return r&&i.push(hU(typeof r=="object"?r:void 0)),i};function kee(t){const e=Mee(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(WT(n))u=Q4(n);else throw new Error(Or(1));let f;typeof r=="function"?f=r(e):f=e();let d=og;i&&(d=Ree({trace:!1,...typeof i=="object"&&i}));const h=hee(...f),m=Dee(h);let _=typeof l=="function"?l(m):m();const E=d(..._);return X4(u,o,E)}function pU(t){const e={},n=[];let r;const i={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Or(28));if(u in e)throw new Error(Or(29));return e[u]=l,i},addAsyncThunk(o,l){return l.pending&&(e[o.pending.type]=l.pending),l.rejected&&(e[o.rejected.type]=l.rejected),l.fulfilled&&(e[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function Oee(t){return typeof t=="function"}function Lee(t,e){let[n,r,i]=pU(e),o;if(Oee(t))o=()=>uM(t());else{const u=uM(t);o=()=>u}function l(u=o(),f){let d=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,m)=>{if(m)if(na(h)){const E=m(h,f);return E===void 0?h:E}else{if(Mi(h))return uU(h,_=>m(_,f));{const _=m(h,f);if(_===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return _}}return h},u)}return l.getInitialState=o,l}var Uee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Vee=(t=21)=>{let e="",n=t;for(;n--;)e+=Uee[Math.random()*64|0];return e},zee=Symbol.for("rtk-slice-createasyncthunk");function qee(t,e){return`${t}/${e}`}function Bee({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[zee];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(Or(11));const u=(typeof i.reducers=="function"?i.reducers(jee()):i.reducers)||{},f=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(H,F){const G=typeof H=="string"?H:H.type;if(!G)throw new Error(Or(12));if(G in d.sliceCaseReducersByType)throw new Error(Or(13));return d.sliceCaseReducersByType[G]=F,h},addMatcher(H,F){return d.sliceMatchers.push({matcher:H,reducer:F}),h},exposeAction(H,F){return d.actionCreators[H]=F,h},exposeCaseReducer(H,F){return d.sliceCaseReducersByName[H]=F,h}};f.forEach(H=>{const F=u[H],G={reducerName:H,type:qee(o,H),createNotation:typeof i.reducers=="function"};Gee(F)?Kee(G,F,h,e):Hee(G,F,h)});function m(){const[H={},F=[],G=void 0]=typeof i.extraReducers=="function"?pU(i.extraReducers):[i.extraReducers],M={...H,...d.sliceCaseReducersByType};return Lee(i.initialState,D=>{for(let k in M)D.addCase(k,M[k]);for(let k of d.sliceMatchers)D.addMatcher(k.matcher,k.reducer);for(let k of F)D.addMatcher(k.matcher,k.reducer);G&&D.addDefaultCase(G)})}const _=H=>H,E=new Map,w=new WeakMap;let S;function C(H,F){return S||(S=m()),S(H,F)}function P(){return S||(S=m()),S.getInitialState()}function U(H,F=!1){function G(D){let k=D[H];return typeof k>"u"&&F&&(k=Kp(w,G,P)),k}function M(D=_){const k=Kp(E,F,()=>new WeakMap);return Kp(k,D,()=>{const B={};for(const[z,j]of Object.entries(i.selectors??{}))B[z]=Fee(j,D,()=>Kp(w,D,P),F);return B})}return{reducerPath:H,getSelectors:M,get selectors(){return M(G)},selectSlice:G}}const O={name:o,reducer:C,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:P,...U(l),injectInto(H,{reducerPath:F,...G}={}){const M=F??l;return H.inject({reducerPath:M,reducer:C},G),{...O,...U(M,!0)}}};return O}}function Fee(t,e,n,r){function i(o,...l){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var _r=Bee();function jee(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Hee({type:t,reducerName:e,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!$ee(r))throw new Error(Or(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,l?oi(t,l):oi(t))}function Gee(t){return t._reducerDefinitionType==="asyncThunk"}function $ee(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Kee({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Or(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:f,settled:d,options:h}=n,m=i(t,o,h);r.exposeAction(e,m),l&&r.addCase(m.fulfilled,l),u&&r.addCase(m.pending,u),f&&r.addCase(m.rejected,f),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:l||Yp,pending:u||Yp,rejected:f||Yp,settled:d||Yp})}function Yp(){}var Yee="task",mU="listener",gU="completed",tS="cancelled",Wee=`task-${tS}`,Jee=`task-${gU}`,XE=`${mU}-${tS}`,Xee=`${mU}-${gU}`,Sy=class{constructor(t){W0(this,"name","TaskAbortError");W0(this,"message");this.code=t,this.message=`${Yee} ${tS} (reason: ${t})`}},nS=(t,e)=>{if(typeof t!="function")throw new TypeError(Or(32))},cg=()=>{},yU=(t,e=cg)=>(t.catch(e),t),vU=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),fl=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},dl=t=>{if(t.aborted){const{reason:e}=t;throw new Sy(e)}};function _U(t,e){let n=cg;return new Promise((r,i)=>{const o=()=>i(new Sy(t.reason));if(t.aborted){o();return}n=vU(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=cg})}var Qee=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Sy?"cancelled":"rejected",error:n}}finally{e==null||e()}},fg=t=>e=>yU(_U(t,e).then(n=>(dl(t),n))),bU=t=>{const e=fg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Vu}=Object,fM={},wy="listenerMiddleware",Zee=(t,e)=>{const n=r=>vU(t,()=>fl(r,t.reason));return(r,i)=>{nS(r);const o=new AbortController;n(o);const l=Qee(async()=>{dl(t),dl(o.signal);const u=await r({pause:fg(o.signal),delay:bU(o.signal),signal:o.signal});return dl(o.signal),u},()=>fl(o,Jee));return i!=null&&i.autoJoin&&e.push(l.catch(cg)),{result:fg(t)(l),cancel(){fl(o,Wee)}}}},ete=(t,e)=>{const n=async(r,i)=>{dl(e);let o=()=>{};const u=[new Promise((f,d)=>{let h=t({predicate:r,effect:(m,_)=>{_.unsubscribe(),f([m,_.getState(),_.getOriginalState()])}});o=()=>{h(),d()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await _U(e,Promise.race(u));return dl(e),f}finally{o()}};return(r,i)=>yU(n(r,i))},EU=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=oi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Or(21));return nS(o),{predicate:i,type:e,effect:o}},xU=Vu(t=>{const{type:e,predicate:n,effect:r}=EU(t);return{id:Vee(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Or(22))}}},{withTypes:()=>xU}),dM=(t,e)=>{const{type:n,effect:r,predicate:i}=EU(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},QE=t=>{t.pending.forEach(e=>{fl(e,XE)})},tte=(t,e)=>()=>{for(const n of e.keys())QE(n);t.clear()},hM=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},TU=Vu(oi(`${wy}/add`),{withTypes:()=>TU}),nte=oi(`${wy}/removeAll`),SU=Vu(oi(`${wy}/remove`),{withTypes:()=>SU}),rte=(...t)=>{console.error(`${wy}/error`,...t)},jd=(t={})=>{const e=new Map,n=new Map,r=E=>{const w=n.get(E)??0;n.set(E,w+1)},i=E=>{const w=n.get(E)??1;w===1?n.delete(E):n.set(E,w-1)},{extra:o,onError:l=rte}=t;nS(l);const u=E=>(E.unsubscribe=()=>e.delete(E.id),e.set(E.id,E),w=>{E.unsubscribe(),w!=null&&w.cancelActive&&QE(E)}),f=E=>{const w=dM(e,E)??xU(E);return u(w)};Vu(f,{withTypes:()=>f});const d=E=>{const w=dM(e,E);return w&&(w.unsubscribe(),E.cancelActive&&QE(w)),!!w};Vu(d,{withTypes:()=>d});const h=async(E,w,S,C)=>{const P=new AbortController,U=ete(f,P.signal),O=[];try{E.pending.add(P),r(E),await Promise.resolve(E.effect(w,Vu({},S,{getOriginalState:C,condition:(H,F)=>U(H,F).then(Boolean),take:U,delay:bU(P.signal),pause:fg(P.signal),extra:o,signal:P.signal,fork:Zee(P.signal,O),unsubscribe:E.unsubscribe,subscribe:()=>{e.set(E.id,E)},cancelActiveListeners:()=>{E.pending.forEach((H,F,G)=>{H!==P&&(fl(H,XE),G.delete(H))})},cancel:()=>{fl(P,XE),E.pending.delete(P)},throwIfCancelled:()=>{dl(P.signal)}})))}catch(H){H instanceof Sy||hM(l,H,{raisedBy:"effect"})}finally{await Promise.all(O),fl(P,Xee),i(E),E.pending.delete(P)}},m=tte(e,n);return{middleware:E=>w=>S=>{if(!Z4(S))return w(S);if(TU.match(S))return f(S.payload);if(nte.match(S)){m();return}if(SU.match(S))return d(S.payload);let C=E.getState();const P=()=>{if(C===fM)throw new Error(Or(23));return C};let U;try{if(U=w(S),e.size>0){const O=E.getState(),H=Array.from(e.values());for(const F of H){let G=!1;try{G=F.predicate(S,O,C)}catch(M){G=!1,hM(l,M,{raisedBy:"predicate"})}G&&h(F,S,E,P)}}}finally{C=fM}return U},startListening:f,stopListening:d,clearListeners:m}};function Or(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ite={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},wU=_r({name:"chartLayout",initialState:ite,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:ote,setLayout:ate,setChartSize:ste,setScale:lte}=wU.actions,ute=wU.reducer;function AU(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){cte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cte(t,e,n){return(e=fte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fte(t){var e=dte(t,"string");return typeof e=="symbol"?e:e+""}function dte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xn(t,e,n){return In(t)||In(e)?n:po(e)?Xu(t,e,n):typeof e=="function"?e(t):n}var hte=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&o!=="center"&&Pe(t[o]))return Iu(Iu({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&l!=="middle"&&Pe(t[l]))return Iu(Iu({},t),{},{[l]:t[l]+(i||0)})}return t},Il=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",CU=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,o,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||l.push(e),o||l.push(n),l},IU=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:u,isCategorical:f,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:_,axisType:E}=t;if(!l)return null;var w=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=i==="category"&&l.bandwidth?l.bandwidth()/w:0;if(S=E==="angleAxis"&&o&&o.length>=2?yr(o[0]-o[1])*2*S:S,m||_){var C=(m||_||[]).map((P,U)=>{var O=r?r.indexOf(P):P;return{coordinate:l(O)+S,value:P,offset:S,index:U}});return C.filter(P=>!Ri(P.coordinate))}return f&&d?d.map((P,U)=>({coordinate:l(P)+S,value:P,index:U,offset:S})):l.ticks&&h!=null?l.ticks(h).map((P,U)=>({coordinate:l(P)+S,value:P,offset:S,index:U})):l.domain().map((P,U)=>({coordinate:l(P)+S,value:r?r[P]:P,index:U,offset:S}))},mM=1e-4,pte=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-mM,o=Math.max(r[0],r[1])+mM,l=t(e[0]),u=t(e[n-1]);(l<i||l>o||u<i||u>o)&&t.domain([e[0],e[n-1]])}},mte=(t,e)=>{if(!e||e.length!==2||!Pe(e[0])||!Pe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Pe(t[0])||t[0]<n)&&(i[0]=n),(!Pe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},gte=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,l=0;l<e;++l){var u=Ri(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=i,t[l][n][1]=i+u,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+u,o=t[l][n][1])}},yte=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var l=Ri(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},vte={sign:gte,expand:HQ,none:Ju,silhouette:GQ,wiggle:$Q,positive:yte},_te=(t,e,n)=>{var r=vte[n],i=jQ().keys(e).value((o,l)=>Number(Xn(o,l,0))).order(BE).offset(r);return i(t)};function bte(t){return t==null?void 0:String(t)}var gM=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=Xn(o,e.dataKey,e.scale.domain()[l]);return In(u)?null:e.scale(u)-i/2+r},Ete=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},xte=t=>{var e=t.flat(2).filter(Pe);return[Math.min(...e),Math.max(...e)]},Tte=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Ste=(t,e,n)=>{if(t!=null)return Tte(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:l}=o,u=l.reduce((f,d)=>{var h=AU(d,e,n),m=xte(h);return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},yM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dg=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=yy(e,h=>h.coordinate),o=1/0,l=1,u=i.length;l<u;l++){var f=i[l],d=i[l-1];o=Math.min((f.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function _M(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Iu(Iu({},e),{},{dataKey:n,payload:r,value:i,name:o})}function NU(t,e){if(t)return String(t);if(typeof e=="string")return e}var wte=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Ate=(t,e)=>e==="centric"?t.angle:t.radius,fa=t=>t.layout.width,da=t=>t.layout.height,Cte=t=>t.layout.scale,RU=t=>t.layout.margin,Ay=ae(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Cy=ae(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Ite="data-recharts-item-index",Nte="data-recharts-item-data-key",Hd=60;function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){Rte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rte(t,e,n){return(e=Pte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pte(t){var e=Mte(t,"string");return typeof e=="symbol"?e:e+""}function Mte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dte=t=>t.brush.height;function kte(t){var e=Cy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Hd;return n+i}return n},0)}function Ote(t){var e=Cy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Hd;return n+i}return n},0)}function Lte(t){var e=Ay(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Ute(t){var e=Ay(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Nn=ae([fa,da,RU,Dte,kte,Ote,Lte,Ute,J4,see],(t,e,n,r,i,o,l,u,f,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},m={top:(n.top||0)+l,bottom:(n.bottom||0)+u},_=Wp(Wp({},m),h),E=_.bottom;_.bottom+=r,_=hte(_,f,d);var w=t-_.left-_.right,S=e-_.top-_.bottom;return Wp(Wp({brushBottom:E},_),{},{width:Math.max(w,0),height:Math.max(S,0)})}),Vte=ae(Nn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),rS=ae(fa,da,(t,e)=>({x:0,y:0,width:t,height:e})),zte=N.createContext(null),br=()=>N.useContext(zte)!=null,Iy=t=>t.brush,Ny=ae([Iy,Nn,RU],(t,e,n)=>({height:t.height,x:Pe(t.x)?t.x:e.left,y:Pe(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Pe(t.width)?t.width:e.width})),mb={},gb={},yb={},EM;function qte(){return EM||(EM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let l,u=null;const f=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},m=()=>{d&&h(),S()};let _=null;const E=()=>{_!=null&&clearTimeout(_),_=setTimeout(()=>{_=null,m()},r)},w=()=>{_!==null&&(clearTimeout(_),_=null)},S=()=>{w(),l=void 0,u=null},C=()=>{h()},P=function(...U){if(i!=null&&i.aborted)return;l=this,u=U;const O=_==null;E(),f&&O&&h()};return P.schedule=E,P.cancel=S,P.flush=C,i==null||i.addEventListener("abort",S,{once:!0}),P}t.debounce=e})(yb)),yb}var xM;function Bte(){return xM||(xM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qte();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:u=!0,maxWait:f}=o,d=Array(2);l&&(d[0]="leading"),u&&(d[1]="trailing");let h,m=null;const _=e.debounce(function(...S){h=r.apply(this,S),m=null},i,{edges:d}),E=function(...S){return f!=null&&(m===null&&(m=Date.now()),Date.now()-m>=f)?(h=r.apply(this,S),m=Date.now(),_.cancel(),_.schedule(),h):(_.apply(this,S),h)},w=()=>(_.flush(),h);return E.cancel=_.cancel,E.flush=w,E}t.debounce=n})(gb)),gb}var TM;function Fte(){return TM||(TM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bte();function n(r,i=0,o={}){const{leading:l=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(mb)),mb}var vb,SM;function jte(){return SM||(SM=1,vb=Fte().throttle),vb}var Hte=jte();const Gte=yo(Hte);var hg=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},PU=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:l}=n,u=ta(r)?t:Number(r),f=ta(i)?e:Number(i);return o&&o>0&&(u?f=u/o:f&&(u=f*o),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:u,calculatedHeight:f}},$te={width:0,height:0,overflow:"visible"},Kte={width:0,overflowX:"visible"},Yte={height:0,overflowY:"visible"},Wte={},Jte=t=>{var{width:e,height:n}=t,r=ta(e),i=ta(n);return r&&i?$te:r?Kte:i?Yte:Wte};function Xte(t){var{width:e,height:n,aspect:r}=t,i=e,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function Wt(t){return Number.isFinite(t)}function mo(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function ZE(){return ZE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZE.apply(null,arguments)}function wM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(n),!0).forEach(function(r){Qte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qte(t,e,n){return(e=Zte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zte(t){var e=ene(t,"string");return typeof e=="symbol"?e:e+""}function ene(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MU=N.createContext({width:-1,height:-1});function tne(t){return mo(t.width)&&mo(t.height)}function DU(t){var{children:e,width:n,height:r}=t,i=N.useMemo(()=>({width:n,height:r}),[n,r]);return tne(i)?N.createElement(MU.Provider,{value:i},e):null}var iS=()=>N.useContext(MU),nne=N.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:l=0,minHeight:u,maxHeight:f,children:d,debounce:h=0,id:m,className:_,onResize:E,style:w={}}=t,S=N.useRef(null),C=N.useRef();C.current=E,N.useImperativeHandle(e,()=>S.current);var[P,U]=N.useState({containerWidth:r.width,containerHeight:r.height}),O=N.useCallback((D,k)=>{U(B=>{var z=Math.round(D),j=Math.round(k);return B.containerWidth===z&&B.containerHeight===j?B:{containerWidth:z,containerHeight:j}})},[]);N.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return qd;var D=j=>{var L,{width:de,height:ge}=j[0].contentRect;O(de,ge),(L=C.current)===null||L===void 0||L.call(C,de,ge)};h>0&&(D=Gte(D,h,{trailing:!0,leading:!1}));var k=new ResizeObserver(D),{width:B,height:z}=S.current.getBoundingClientRect();return O(B,z),k.observe(S.current),()=>{k.disconnect()}},[O,h]);var{containerWidth:H,containerHeight:F}=P;hg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:G,calculatedHeight:M}=PU(H,F,{width:i,height:o,aspect:n,maxHeight:f});return hg(G!=null&&G>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,M,i,o,l,u,n),N.createElement("div",{id:m?"".concat(m):void 0,className:Pt("recharts-responsive-container",_),style:AM(AM({},w),{},{width:i,height:o,minWidth:l,minHeight:u,maxHeight:f}),ref:S},N.createElement("div",{style:Jte({width:i,height:o})},N.createElement(DU,{width:G,height:M},d)))}),rne=N.forwardRef((t,e)=>{var n=iS();if(mo(n.width)&&mo(n.height))return t.children;var{width:r,height:i}=Xte({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:l}=PU(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Pe(o)&&Pe(l)?N.createElement(DU,{width:o,height:l},t.children):N.createElement(nne,ZE({},t,{width:r,height:i,ref:e}))});function kU(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Ry=()=>{var t,e=br(),n=De(Vte),r=De(Ny),i=(t=De(Iy))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},ine={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},OU=()=>{var t;return(t=De(Nn))!==null&&t!==void 0?t:ine},LU=()=>De(fa),UU=()=>De(da),gt=t=>t.layout.layoutType,Py=()=>De(gt),one=()=>{var t=Py();return t!==void 0},My=t=>{var e=Jt(),n=br(),{width:r,height:i}=t,o=iS(),l=r,u=i;return o&&(l=o.width>0?o.width:r,u=o.height>0?o.height:i),N.useEffect(()=>{!n&&mo(l)&&mo(u)&&e(ste({width:l,height:u}))},[e,n,l,u]),null},VU=Symbol.for("immer-nothing"),CM=Symbol.for("immer-draftable"),Lr=Symbol.for("immer-state");function Si(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var md=Object.getPrototypeOf;function ec(t){return!!t&&!!t[Lr]}function bl(t){var e;return t?zU(t)||Array.isArray(t)||!!t[CM]||!!((e=t.constructor)!=null&&e[CM])||Gd(t)||ky(t):!1}var ane=Object.prototype.constructor.toString(),IM=new WeakMap;function zU(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=IM.get(n);return r===void 0&&(r=Function.toString.call(n),IM.set(n,r)),r===ane}function pg(t,e,n=!0){Dy(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Dy(t){const e=t[Lr];return e?e.type_:Array.isArray(t)?1:Gd(t)?2:ky(t)?3:0}function ex(t,e){return Dy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function qU(t,e,n){const r=Dy(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function sne(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Gd(t){return t instanceof Map}function ky(t){return t instanceof Set}function el(t){return t.copy_||t.base_}function tx(t,e){if(Gd(t))return new Map(t);if(ky(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=zU(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Lr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(md(t),r)}else{const r=md(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function oS(t,e=!1){return Oy(t)||ec(t)||!bl(t)||(Dy(t)>1&&Object.defineProperties(t,{set:Jp,add:Jp,clear:Jp,delete:Jp}),Object.freeze(t),e&&Object.values(t).forEach(n=>oS(n,!0))),t}function lne(){Si(2)}var Jp={value:lne};function Oy(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var une={};function El(t){const e=une[t];return e||Si(0,t),e}var gd;function BU(){return gd}function cne(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function NM(t,e){e&&(El("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function nx(t){rx(t),t.drafts_.forEach(fne),t.drafts_=null}function rx(t){t===gd&&(gd=t.parent_)}function RM(t){return gd=cne(gd,t)}function fne(t){const e=t[Lr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function PM(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Lr].modified_&&(nx(e),Si(4)),bl(t)&&(t=mg(e,t),e.parent_||gg(e,t)),e.patches_&&El("Patches").generateReplacementPatches_(n[Lr].base_,t,e.patches_,e.inversePatches_)):t=mg(e,n,[]),nx(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==VU?t:void 0}function mg(t,e,n){if(Oy(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Lr];if(!i)return pg(e,(o,l)=>MM(t,i,e,o,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return gg(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,u=!1;i.type_===3&&(l=new Set(o),o.clear(),u=!0),pg(l,(f,d)=>MM(t,i,o,f,d,n,u),r),gg(t,o,!1),n&&t.patches_&&El("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function MM(t,e,n,r,i,o,l){if(i==null||typeof i!="object"&&!l)return;const u=Oy(i);if(!(u&&!l)){if(ec(i)){const f=o&&e&&e.type_!==3&&!ex(e.assigned_,r)?o.concat(r):void 0,d=mg(t,i,f);if(qU(n,r,d),ec(d))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(bl(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;mg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Gd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&gg(t,i)}}}function gg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&oS(e,n)}function dne(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:BU(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=aS;n&&(i=[r],o=yd);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,u}var aS={get(t,e){if(e===Lr)return t;const n=el(t);if(!ex(n,e))return hne(t,n,e);const r=n[e];return t.finalized_||!bl(r)?r:r===_b(t.base_,e)?(bb(t),t.copy_[e]=ox(r,t)):r},has(t,e){return e in el(t)},ownKeys(t){return Reflect.ownKeys(el(t))},set(t,e,n){const r=FU(el(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=_b(el(t),e),o=i==null?void 0:i[Lr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(sne(n,i)&&(n!==void 0||ex(t.base_,e)))return!0;bb(t),ix(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return _b(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,bb(t),ix(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=el(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Si(11)},getPrototypeOf(t){return md(t.base_)},setPrototypeOf(){Si(12)}},yd={};pg(aS,(t,e)=>{yd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});yd.deleteProperty=function(t,e){return yd.set.call(this,t,e,void 0)};yd.set=function(t,e,n){return aS.set.call(this,t[0],e,n,t[0])};function _b(t,e){const n=t[Lr];return(n?el(n):t)[e]}function hne(t,e,n){var i;const r=FU(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function FU(t,e){if(!(e in t))return;let n=md(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=md(n)}}function ix(t){t.modified_||(t.modified_=!0,t.parent_&&ix(t.parent_))}function bb(t){t.copy_||(t.copy_=tx(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var pne=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const l=this;return function(f=o,...d){return l.produce(f,h=>n.call(this,h,...d))}}typeof n!="function"&&Si(6),r!==void 0&&typeof r!="function"&&Si(7);let i;if(bl(e)){const o=RM(this),l=ox(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?nx(o):rx(o)}return NM(o,r),PM(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===VU&&(i=void 0),this.autoFreeze_&&oS(i,!0),r){const o=[],l=[];El("Patches").generateReplacementPatches_(e,i,o,l),r(o,l)}return i}else Si(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,f=>e(f,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){bl(t)||Si(8),ec(t)&&(t=mne(t));const e=RM(this),n=ox(t,void 0);return n[Lr].isManual_=!0,rx(e),n}finishDraft(t,e){const n=t&&t[Lr];(!n||!n.isManual_)&&Si(9);const{scope_:r}=n;return NM(r,e),PM(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=El("Patches").applyPatches_;return ec(t)?r(t,e):this.produce(t,i=>r(i,e))}};function ox(t,e){const n=Gd(t)?El("MapSet").proxyMap_(t,e):ky(t)?El("MapSet").proxySet_(t,e):dne(t,e);return(e?e.scope_:BU()).drafts_.push(n),n}function mne(t){return ec(t)||Si(10,t),jU(t)}function jU(t){if(!bl(t)||Oy(t))return t;const e=t[Lr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=tx(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=tx(t,!0);return pg(n,(i,o)=>{qU(n,i,jU(o))},r),e&&(e.finalized_=!1),n}var gne=new pne;gne.produce;var yne={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},HU=_r({name:"legend",initialState:yne,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Ot()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ii(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Ot()},removeLegendPayload:{reducer(t,e){var n=Ii(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Ot()}}}),{setLegendSize:Fme,setLegendSettings:jme,addLegendPayload:vne,replaceLegendPayload:_ne,removeLegendPayload:bne}=HU.actions,Ene=HU.reducer;function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ax.apply(null,arguments)}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){xne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xne(t,e,n){return(e=Tne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tne(t){var e=Sne(t,"string");return typeof e=="symbol"?e:e+""}function Sne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wne(t){return Array.isArray(t)&&po(t[0])&&po(t[1])?t.join(" ~ "):t}var Ane=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:_=!1}=t,E=()=>{if(o&&o.length){var F={padding:0,margin:0},G=(u?yy(o,u):o).map((M,D)=>{if(M.type==="none")return null;var k=M.formatter||l||wne,{value:B,name:z}=M,j=B,L=z;if(k){var de=k(B,z,M,D,o);if(Array.isArray(de))[j,L]=de;else if(de!=null)j=de;else return null}var ge=Eb({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:ge},po(L)?N.createElement("span",{className:"recharts-tooltip-item-name"},L):null,po(L)?N.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,N.createElement("span",{className:"recharts-tooltip-item-value"},j),N.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:F},G)}return null},w=Eb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=Eb({margin:0},i),C=!In(h),P=C?h:"",U=Pt("recharts-default-tooltip",f),O=Pt("recharts-tooltip-label",d);C&&m&&o!==void 0&&o!==null&&(P=m(h,o));var H=_?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",ax({className:U,style:w},H),N.createElement("p",{className:O,style:S},N.isValidElement(P)?P:"".concat(P)),E())},Mf="recharts-tooltip-wrapper",Cne={visibility:"hidden"};function Ine(t){var{coordinate:e,translateX:n,translateY:r}=t;return Pt(Mf,{["".concat(Mf,"-right")]:Pe(n)&&e&&Pe(e.x)&&n>=e.x,["".concat(Mf,"-left")]:Pe(n)&&e&&Pe(e.x)&&n<e.x,["".concat(Mf,"-bottom")]:Pe(r)&&e&&Pe(e.y)&&r>=e.y,["".concat(Mf,"-top")]:Pe(r)&&e&&Pe(e.y)&&r<e.y})}function kM(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:d}=t;if(o&&Pe(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),m=n[r]+i;if(e[r])return l[r]?h:m;var _=f[r];if(_==null)return 0;if(l[r]){var E=h,w=_;return E<w?Math.max(m,_):Math.max(h,_)}if(d==null)return 0;var S=m+u,C=_+d;return S>C?Math.max(h,_):Math.max(m,_)}function Nne(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Rne(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:u,viewBox:f}=t,d,h,m;return l.height>0&&l.width>0&&n?(h=kM({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),m=kM({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),d=Nne({translateX:h,translateY:m,useTranslate3d:u})):d=Cne,{cssProperties:d,cssClasses:Ine({translateX:h,translateY:m,coordinate:n})}}function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){sx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sx(t,e,n){return(e=Pne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pne(t){var e=Mne(t,"string");return typeof e=="symbol"?e:e+""}function Mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Dne extends N.PureComponent{constructor(){super(...arguments),sx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),sx(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:u,isAnimationActive:f,offset:d,position:h,reverseDirection:m,useTranslate3d:_,viewBox:E,wrapperStyle:w,lastBoundingBox:S,innerRef:C,hasPortalFromProps:P}=this.props,{cssClasses:U,cssProperties:O}=Rne({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:{height:S.height,width:S.width},useTranslate3d:_,viewBox:E}),H=P?{}:Xp(Xp({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),F=Xp(Xp({},H),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},w);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:U,style:F,ref:C},o)}}var GU=()=>{var t;return(t=De(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lx.apply(null,arguments)}function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){kne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kne(t,e,n){return(e=One(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function One(t){var e=Lne(t,"string");return typeof e=="symbol"?e:e+""}function Lne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VM={curveBasisClosed:MQ,curveBasisOpen:DQ,curveBasis:PQ,curveBumpX:yQ,curveBumpY:vQ,curveLinearClosed:kQ,curveLinear:my,curveMonotoneX:OQ,curveMonotoneY:LQ,curveNatural:UQ,curveStep:VQ,curveStepAfter:qQ,curveStepBefore:zQ},yg=t=>Wt(t.x)&&Wt(t.y),zM=t=>t.base!=null&&yg(t.base)&&yg(t),Df=t=>t.x,kf=t=>t.y,Une=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(zd(t));return(n==="curveMonotone"||n==="curveBump")&&e?VM["".concat(n).concat(e==="vertical"?"Y":"X")]:VM[n]||my},Vne=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,l=Une(e,i),u=o?n.filter(yg):n,f;if(Array.isArray(r)){var d=n.map((E,w)=>UM(UM({},E),{},{base:r[w]}));i==="vertical"?f=jp().y(kf).x1(Df).x0(E=>E.base.x):f=jp().x(Df).y1(kf).y0(E=>E.base.y);var h=f.defined(zM).curve(l),m=o?d.filter(zM):d;return h(m)}i==="vertical"&&Pe(r)?f=jp().y(kf).x1(Df).x0(r):Pe(r)?f=jp().x(Df).y1(kf).y0(r):f=x4().x(Df).y(kf);var _=f.defined(yg).curve(l);return _(u)},$U=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?Vne(t):r;return N.createElement("path",lx({},Zo(t),cZ(t),{className:Pt("recharts-curve",e),d:o===null?void 0:o,ref:i}))},zne=["x","y","top","left","width","height","className"];function ux(){return ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ux.apply(null,arguments)}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){Bne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bne(t,e,n){return(e=Fne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fne(t){var e=jne(t,"string");return typeof e=="symbol"?e:e+""}function jne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hne(t,e){if(t==null)return{};var n,r,i=Gne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $ne=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),Kne=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:u}=t,f=Hne(t,zne),d=qne({x:e,y:n,top:r,left:i,width:o,height:l},f);return!Pe(e)||!Pe(n)||!Pe(o)||!Pe(l)||!Pe(r)||!Pe(i)?null:N.createElement("path",ux({},ii(d),{className:Pt("recharts-cross",u),d:$ne(e,n,o,l,r,i)}))};function Yne(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){Wne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wne(t,e,n){return(e=Jne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jne(t){var e=Xne(t,"string");return typeof e=="symbol"?e:e+""}function Xne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qne=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),KU=(t,e,n)=>t.map(r=>"".concat(Qne(r)," ").concat(e,"ms ").concat(n)).join(","),Zne=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),vd=(t,e)=>Object.keys(e).reduce((n,r)=>FM(FM({},n),{},{[r]:t(r,e[r])}),{});function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){ere(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ere(t,e,n){return(e=tre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tre(t){var e=nre(t,"string");return typeof e=="symbol"?e:e+""}function nre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vg=(t,e,n)=>t+(e-t)*n,cx=t=>{var{from:e,to:n}=t;return e!==n},YU=(t,e,n)=>{var r=vd((i,o)=>{if(cx(o)){var[l,u]=t(o.from,o.to,o.velocity);return hn(hn({},o),{},{from:l,velocity:u})}return o},e);return n<1?vd((i,o)=>cx(o)?hn(hn({},o),{},{velocity:vg(o.velocity,r[i].velocity,n),from:vg(o.from,r[i].from,n)}):o,e):YU(t,r,n-1)};function rre(t,e,n,r,i,o){var l,u=r.reduce((_,E)=>hn(hn({},_),{},{[E]:{from:t[E],velocity:0,to:e[E]}}),{}),f=()=>vd((_,E)=>E.from,u),d=()=>!Object.values(u).filter(cx).length,h=null,m=_=>{l||(l=_);var E=_-l,w=E/n.dt;u=YU(n,u,w),i(hn(hn(hn({},t),e),f())),l=_,d()||(h=o.setTimeout(m))};return()=>(h=o.setTimeout(m),()=>{var _;(_=h)===null||_===void 0||_()})}function ire(t,e,n,r,i,o,l){var u=null,f=i.reduce((m,_)=>hn(hn({},m),{},{[_]:[t[_],e[_]]}),{}),d,h=m=>{d||(d=m);var _=(m-d)/r,E=vd((S,C)=>vg(...C,n(_)),f);if(o(hn(hn(hn({},t),e),E)),_<1)u=l.setTimeout(h);else{var w=vd((S,C)=>vg(...C,n(1)),f);o(hn(hn(hn({},t),e),w))}};return()=>(u=l.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const ore=(t,e,n,r,i,o)=>{var l=Zne(t,e);return n==null?()=>(i(hn(hn({},t),e)),()=>{}):n.isStepper===!0?rre(t,e,n,l,i,o):ire(t,e,n,r,l,i,o)};var _g=1e-4,WU=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],JU=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),HM=(t,e)=>n=>{var r=WU(t,e);return JU(r,n)},are=(t,e)=>n=>{var r=WU(t,e),i=[...r.map((o,l)=>o*l).slice(1),0];return JU(i,n)},sre=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,o=n[0].split("(");if(o[0]==="cubic-bezier"&&((i=o[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=o[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},lre=(t,e,n,r)=>{var i=HM(t,n),o=HM(e,r),l=are(t,n),u=d=>d>1?1:d<0?0:d,f=d=>{for(var h=d>1?1:d,m=h,_=0;_<8;++_){var E=i(m)-h,w=l(m);if(Math.abs(E-h)<_g||w<_g)return o(m);m=u(m-E/w)}return o(m)};return f.isStepper=!1,f},GM=function(){return lre(...sre(...arguments))},ure=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(l,u,f)=>{var d=-(l-u)*n,h=f*r,m=f+(d-h)*i/1e3,_=f*i/1e3+l;return Math.abs(_-u)<_g&&Math.abs(m)<_g?[u,0]:[_,m]};return o.isStepper=!0,o.dt=i,o},cre=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return GM(t);case"spring":return ure();default:if(t.split("(")[0]==="cubic-bezier")return GM(t)}return typeof t=="function"?t:null};function fre(t){var e,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...d]=u;if(typeof f=="number"){i=t.setTimeout(o.bind(null,d),f);return}o(f),i=t.setTimeout(o.bind(null,d));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class dre{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function hre(){return fre(new dre)}var pre=N.createContext(hre);function mre(t,e){var n=N.useContext(pre);return N.useMemo(()=>e??n(t),[t,e,n])}var gre=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),$d={devToolsEnabled:!1,isSsr:gre()},yre={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},$M={t:0},xb={t:1};function sS(t){var e=Ur(t,yre),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:u,onAnimationStart:f,children:d}=e,h=n==="auto"?!$d.isSsr:n,m=mre(e.animationId,e.animationManager),[_,E]=N.useState(h?$M:xb),w=N.useRef(null);return N.useEffect(()=>{h||E(xb)},[h]),N.useEffect(()=>{if(!h||!r)return qd;var S=ore($M,xb,cre(o),i,E,m.getTimeoutController()),C=()=>{w.current=S()};return m.start([f,l,C,i,u]),()=>{m.stop(),w.current&&w.current(),u()}},[h,r,i,o,l,f,u,m]),d(_.t)}function lS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=N.useRef(fd(e)),r=N.useRef(t);return r.current!==t&&(n.current=fd(e),r.current=t),n.current}var vre=["radius"],_re=["radius"];function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bre(t,e,n){return(e=Ere(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ere(t){var e=xre(t,"string");return typeof e=="symbol"?e:e+""}function xre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(null,arguments)}function WM(t,e){if(t==null)return{};var n,r,i=Tre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var JM=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,_=4;m<_;m++)h[m]=i[m]>o?o:i[m];d="M".concat(t,",").concat(e+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(t+u*h[0],",").concat(e)),d+="L ".concat(t+n-u*h[1],",").concat(e),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+l*h[1])),d+="L ".concat(t+n,",").concat(e+r-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(t+n-u*h[2],",").concat(e+r)),d+="L ".concat(t+u*h[3],",").concat(e+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-l*h[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var E=Math.min(o,i);d="M ".concat(t,",").concat(e+l*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(t+u*E,",").concat(e,`
            L `).concat(t+n-u*E,",").concat(e,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(t+n,",").concat(e+l*E,`
            L `).concat(t+n,",").concat(e+r-l*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(t+n-u*E,",").concat(e+r,`
            L `).concat(t+u*E,",").concat(e+r,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(t,",").concat(e+r-l*E," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},XM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XU=t=>{var e=Ur(t,XM),n=N.useRef(null),[r,i]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ne=n.current.getTotalLength();ne&&i(ne)}catch{}},[]);var{x:o,y:l,width:u,height:f,radius:d,className:h}=e,{animationEasing:m,animationDuration:_,animationBegin:E,isAnimationActive:w,isUpdateAnimationActive:S}=e,C=N.useRef(u),P=N.useRef(f),U=N.useRef(o),O=N.useRef(l),H=N.useMemo(()=>({x:o,y:l,width:u,height:f,radius:d}),[o,l,u,f,d]),F=lS(H,"rectangle-");if(o!==+o||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var G=Pt("recharts-rectangle",h);if(!S){var M=ii(e),{radius:D}=M,k=WM(M,vre);return N.createElement("path",bg({},k,{radius:typeof d=="number"?d:void 0,className:G,d:JM(o,l,u,f,d)}))}var B=C.current,z=P.current,j=U.current,L=O.current,de="0px ".concat(r===-1?1:r,"px"),ge="".concat(r,"px 0px"),K=KU(["strokeDasharray"],_,typeof m=="string"?m:XM.animationEasing);return N.createElement(sS,{animationId:F,key:F,canBegin:r>0,duration:_,easing:m,isActive:S,begin:E},ne=>{var le=zn(B,u,ne),Q=zn(z,f,ne),be=zn(j,o,ne),$=zn(L,l,ne);n.current&&(C.current=le,P.current=Q,U.current=be,O.current=$);var te;w?ne>0?te={transition:K,strokeDasharray:ge}:te={strokeDasharray:de}:te={strokeDasharray:ge};var pe=ii(e),{radius:_e}=pe,Ee=WM(pe,_re);return N.createElement("path",bg({},Ee,{radius:typeof d=="number"?d:void 0,className:G,d:JM(be,$,le,Q,d),ref:n,style:YM(YM({},te),e.style)}))})};function QM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QM(Object(n),!0).forEach(function(r){Sre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sre(t,e,n){return(e=wre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wre(t){var e=Are(t,"string");return typeof e=="symbol"?e:e+""}function Are(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eg=Math.PI/180,Cre=t=>t*180/Math.PI,Bn=(t,e,n,r)=>({x:t+Math.cos(-Eg*r)*n,y:e+Math.sin(-Eg*r)*n}),Ire=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Nre=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},Rre=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,l=Nre({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,f=Math.acos(u);return r>o&&(f=2*Math.PI-f),{radius:l,angle:Cre(f),angleInRadian:f}},Pre=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},Mre=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return t+l*360},Dre=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:o}=Rre({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:f,endAngle:d}=Pre(e),h=o,m;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}return m?ZM(ZM({},e),{},{radius:i,angle:Mre(h,e)}):null};function QU(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,l=Bn(e,n,r,i),u=Bn(e,n,r,o);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function fx(){return fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fx.apply(null,arguments)}var kre=(t,e)=>{var n=yr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Qp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:u,cornerIsExternal:f}=t,d=u*(l?1:-1)+r,h=Math.asin(u/d)/Eg,m=f?i:i+o*h,_=Bn(e,n,d,m),E=Bn(e,n,r,m),w=f?i-o*h:i,S=Bn(e,n,d*Math.cos(h*Eg),w);return{center:_,circleTangency:E,lineTangency:S,theta:h}},ZU=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=t,u=kre(o,l),f=o+u,d=Bn(e,n,i,o),h=Bn(e,n,i,f),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var _=Bn(e,n,r,o),E=Bn(e,n,r,f);m+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=f),`,
            `).concat(_.x,",").concat(_.y," Z")}else m+="L ".concat(e,",").concat(n," Z");return m},Ore=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}=t,h=yr(d-f),{circleTangency:m,lineTangency:_,theta:E}=Qp({cx:e,cy:n,radius:i,angle:f,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:w,lineTangency:S,theta:C}=Qp({cx:e,cy:n,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:u}),P=u?Math.abs(f-d):Math.abs(f-d)-E-C;if(P<0)return l?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):ZU({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:d});var U="M ".concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(P>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:H,theta:F}=Qp({cx:e,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:G,lineTangency:M,theta:D}=Qp({cx:e,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),k=u?Math.abs(f-d):Math.abs(f-d)-F-D;if(k<0&&o===0)return"".concat(U,"L").concat(e,",").concat(n,"Z");U+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(G.x,",").concat(G.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(h>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(H.x,",").concat(H.y,"Z")}else U+="L".concat(e,",").concat(n,"Z");return U},Lre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eV=t=>{var e=Ur(t,Lre),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h,className:m}=e;if(o<i||d===h)return null;var _=Pt("recharts-sector",m),E=o-i,w=Pi(l,E,0,!0),S;return w>0&&Math.abs(d-h)<360?S=Ore({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,E/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h}):S=ZU({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),N.createElement("path",fx({},ii(e),{className:_,d:S}))};function Ure(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(U4(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:l,angle:u}=e,f=Bn(r,i,o,u),d=Bn(r,i,l,u);return[{x:f.x,y:f.y},{x:d.x,y:d.y}]}return QU(e)}}var Tb={},Sb={},wb={},eD;function Vre(){return eD||(eD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y4();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(wb)),wb}var tD;function zre(){return tD||(tD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vre();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Sb)),Sb}var nD;function qre(){return nD||(nD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W4(),n=zre();function r(i,o,l){l&&typeof l!="number"&&e.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((o-i)/(l||1)),0),f=new Array(u);for(let d=0;d<u;d++)f[d]=i,i+=l;return f}t.range=r})(Tb)),Tb}var Ab,rD;function Bre(){return rD||(rD=1,Ab=qre().range),Ab}var Fre=Bre();const tV=yo(Fre);function us(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uS(t){let e,n,r;t.length!==2?(e=us,n=(u,f)=>us(t(u),f),r=(u,f)=>t(u)-f):(e=t===us||t===jre?t:Hre,n=t,r=t);function i(u,f,d=0,h=u.length){if(d<h){if(e(f,f)!==0)return h;do{const m=d+h>>>1;n(u[m],f)<0?d=m+1:h=m}while(d<h)}return d}function o(u,f,d=0,h=u.length){if(d<h){if(e(f,f)!==0)return h;do{const m=d+h>>>1;n(u[m],f)<=0?d=m+1:h=m}while(d<h)}return d}function l(u,f,d=0,h=u.length){const m=i(u,f,d,h-1);return m>d&&r(u[m-1],f)>-r(u[m],f)?m-1:m}return{left:i,center:l,right:o}}function Hre(){return 0}function nV(t){return t===null?NaN:+t}function*Gre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const $re=uS(us),Kd=$re.right;uS(nV).center;class iD extends Map{constructor(e,n=Wre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(oD(this,e))}has(e){return super.has(oD(this,e))}set(e,n){return super.set(Kre(this,e),n)}delete(e){return super.delete(Yre(this,e))}}function oD({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Kre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Yre({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Wre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Jre(t=us){if(t===us)return rV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function rV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Xre=Math.sqrt(50),Qre=Math.sqrt(10),Zre=Math.sqrt(2);function xg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=Xre?10:o>=Qre?5:o>=Zre?2:1;let u,f,d;return i<0?(d=Math.pow(10,-i)/l,u=Math.round(t*d),f=Math.round(e*d),u/d<t&&++u,f/d>e&&--f,d=-d):(d=Math.pow(10,i)*l,u=Math.round(t/d),f=Math.round(e/d),u*d<t&&++u,f*d>e&&--f),f<u&&.5<=n&&n<2?xg(t,e,n*2):[u,f,d]}function dx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,l]=r?xg(e,t,n):xg(t,e,n);if(!(o>=i))return[];const u=o-i+1,f=new Array(u);if(r)if(l<0)for(let d=0;d<u;++d)f[d]=(o-d)/-l;else for(let d=0;d<u;++d)f[d]=(o-d)*l;else if(l<0)for(let d=0;d<u;++d)f[d]=(i+d)/-l;else for(let d=0;d<u;++d)f[d]=(i+d)*l;return f}function hx(t,e,n){return e=+e,t=+t,n=+n,xg(t,e,n)[2]}function px(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?hx(e,t,n):hx(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function aD(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function sD(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function iV(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?rV:Jre(i);r>n;){if(r-n>600){const f=r-n+1,d=e-n+1,h=Math.log(f),m=.5*Math.exp(2*h/3),_=.5*Math.sqrt(h*m*(f-m)/f)*(d-f/2<0?-1:1),E=Math.max(n,Math.floor(e-d*m/f+_)),w=Math.min(r,Math.floor(e+(f-d)*m/f+_));iV(t,e,E,w,i)}const o=t[e];let l=n,u=r;for(Of(t,n,e),i(t[r],o)>0&&Of(t,n,r);l<u;){for(Of(t,l,u),++l,--u;i(t[l],o)<0;)++l;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?Of(t,n,u):(++u,Of(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Of(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function eie(t,e,n){if(t=Float64Array.from(Gre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return sD(t);if(e>=1)return aD(t);var r,i=(r-1)*e,o=Math.floor(i),l=aD(iV(t,o).subarray(0,o+1)),u=sD(t.subarray(o+1));return l+(u-l)*(i-o)}}function tie(t,e,n=nV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),l=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return l+(u-l)*(i-o)}}function nie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function si(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ha(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const mx=Symbol("implicit");function cS(){var t=new iD,e=[],n=[],r=mx;function i(o){let l=t.get(o);if(l===void 0){if(r!==mx)return r;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new iD;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return cS(e,n).unknown(r)},si.apply(i,arguments),i}function fS(){var t=cS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,l,u=!1,f=0,d=0,h=.5;delete t.unknown;function m(){var _=e().length,E=i<r,w=E?i:r,S=E?r:i;o=(S-w)/Math.max(1,_-f+d*2),u&&(o=Math.floor(o)),w+=(S-w-o*(_-f))*h,l=o*(1-f),u&&(w=Math.round(w),l=Math.round(l));var C=nie(_).map(function(P){return w+o*P});return n(E?C.reverse():C)}return t.domain=function(_){return arguments.length?(e(_),m()):e()},t.range=function(_){return arguments.length?([r,i]=_,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(_){return[r,i]=_,r=+r,i=+i,u=!0,m()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(_){return arguments.length?(u=!!_,m()):u},t.padding=function(_){return arguments.length?(f=Math.min(1,d=+_),m()):f},t.paddingInner=function(_){return arguments.length?(f=Math.min(1,_),m()):f},t.paddingOuter=function(_){return arguments.length?(d=+_,m()):d},t.align=function(_){return arguments.length?(h=Math.max(0,Math.min(1,_)),m()):h},t.copy=function(){return fS(e(),[r,i]).round(u).paddingInner(f).paddingOuter(d).align(h)},si.apply(m(),arguments)}function oV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return oV(e())},t}function rie(){return oV(fS.apply(null,arguments).paddingInner(1))}function dS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function aV(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Yd(){}var _d=.7,Tg=1/_d,zu="\\s*([+-]?\\d+)\\s*",bd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",co="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iie=/^#([0-9a-f]{3,8})$/,oie=new RegExp(`^rgb\\(${zu},${zu},${zu}\\)$`),aie=new RegExp(`^rgb\\(${co},${co},${co}\\)$`),sie=new RegExp(`^rgba\\(${zu},${zu},${zu},${bd}\\)$`),lie=new RegExp(`^rgba\\(${co},${co},${co},${bd}\\)$`),uie=new RegExp(`^hsl\\(${bd},${co},${co}\\)$`),cie=new RegExp(`^hsla\\(${bd},${co},${co},${bd}\\)$`),lD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dS(Yd,Ed,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:uD,formatHex:uD,formatHex8:fie,formatHsl:die,formatRgb:cD,toString:cD});function uD(){return this.rgb().formatHex()}function fie(){return this.rgb().formatHex8()}function die(){return sV(this).formatHsl()}function cD(){return this.rgb().formatRgb()}function Ed(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=iie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?fD(e):n===3?new vr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=oie.exec(t))?new vr(e[1],e[2],e[3],1):(e=aie.exec(t))?new vr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=sie.exec(t))?Zp(e[1],e[2],e[3],e[4]):(e=lie.exec(t))?Zp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=uie.exec(t))?pD(e[1],e[2]/100,e[3]/100,1):(e=cie.exec(t))?pD(e[1],e[2]/100,e[3]/100,e[4]):lD.hasOwnProperty(t)?fD(lD[t]):t==="transparent"?new vr(NaN,NaN,NaN,0):null}function fD(t){return new vr(t>>16&255,t>>8&255,t&255,1)}function Zp(t,e,n,r){return r<=0&&(t=e=n=NaN),new vr(t,e,n,r)}function hie(t){return t instanceof Yd||(t=Ed(t)),t?(t=t.rgb(),new vr(t.r,t.g,t.b,t.opacity)):new vr}function gx(t,e,n,r){return arguments.length===1?hie(t):new vr(t,e,n,r??1)}function vr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}dS(vr,gx,aV(Yd,{brighter(t){return t=t==null?Tg:Math.pow(Tg,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?_d:Math.pow(_d,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vr(hl(this.r),hl(this.g),hl(this.b),Sg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dD,formatHex:dD,formatHex8:pie,formatRgb:hD,toString:hD}));function dD(){return`#${il(this.r)}${il(this.g)}${il(this.b)}`}function pie(){return`#${il(this.r)}${il(this.g)}${il(this.b)}${il((isNaN(this.opacity)?1:this.opacity)*255)}`}function hD(){const t=Sg(this.opacity);return`${t===1?"rgb(":"rgba("}${hl(this.r)}, ${hl(this.g)}, ${hl(this.b)}${t===1?")":`, ${t})`}`}function Sg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function hl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function il(t){return t=hl(t),(t<16?"0":"")+t.toString(16)}function pD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new wi(t,e,n,r)}function sV(t){if(t instanceof wi)return new wi(t.h,t.s,t.l,t.opacity);if(t instanceof Yd||(t=Ed(t)),!t)return new wi;if(t instanceof wi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,u=o-i,f=(o+i)/2;return u?(e===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-e)/u+2:l=(e-n)/u+4,u/=f<.5?o+i:2-o-i,l*=60):u=f>0&&f<1?0:l,new wi(l,u,f,t.opacity)}function mie(t,e,n,r){return arguments.length===1?sV(t):new wi(t,e,n,r??1)}function wi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}dS(wi,mie,aV(Yd,{brighter(t){return t=t==null?Tg:Math.pow(Tg,t),new wi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?_d:Math.pow(_d,t),new wi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new vr(Cb(t>=240?t-240:t+120,i,r),Cb(t,i,r),Cb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new wi(mD(this.h),em(this.s),em(this.l),Sg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Sg(this.opacity);return`${t===1?"hsl(":"hsla("}${mD(this.h)}, ${em(this.s)*100}%, ${em(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mD(t){return t=(t||0)%360,t<0?t+360:t}function em(t){return Math.max(0,Math.min(1,t||0))}function Cb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const hS=t=>()=>t;function gie(t,e){return function(n){return t+n*e}}function yie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function vie(t){return(t=+t)==1?lV:function(e,n){return n-e?yie(e,n,t):hS(isNaN(e)?n:e)}}function lV(t,e){var n=e-t;return n?gie(t,n):hS(isNaN(t)?e:t)}const gD=(function t(e){var n=vie(e);function r(i,o){var l=n((i=gx(i)).r,(o=gx(o)).r),u=n(i.g,o.g),f=n(i.b,o.b),d=lV(i.opacity,o.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=f(h),i.opacity=d(h),i+""}}return r.gamma=t,r})(1);function _ie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function bie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Eie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=_c(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function xie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function wg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Tie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=_c(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var yx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ib=new RegExp(yx.source,"g");function Sie(t){return function(){return t}}function wie(t){return function(e){return t(e)+""}}function Aie(t,e){var n=yx.lastIndex=Ib.lastIndex=0,r,i,o,l=-1,u=[],f=[];for(t=t+"",e=e+"";(r=yx.exec(t))&&(i=Ib.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,f.push({i:l,x:wg(r,i)})),n=Ib.lastIndex;return n<e.length&&(o=e.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?f[0]?wie(f[0].x):Sie(e):(e=f.length,function(d){for(var h=0,m;h<e;++h)u[(m=f[h]).i]=m.x(d);return u.join("")})}function _c(t,e){var n=typeof e,r;return e==null||n==="boolean"?hS(e):(n==="number"?wg:n==="string"?(r=Ed(e))?(e=r,gD):Aie:e instanceof Ed?gD:e instanceof Date?xie:bie(e)?_ie:Array.isArray(e)?Eie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Tie:wg)(t,e)}function pS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Cie(t,e){e===void 0&&(e=t,t=_c);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[u](l-u)}}function Iie(t){return function(){return t}}function Ag(t){return+t}var yD=[0,1];function nr(t){return t}function vx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Iie(isNaN(e)?NaN:.5)}function Nie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Rie(t,e,n){var r=t[0],i=t[1],o=e[0],l=e[1];return i<r?(r=vx(i,r),o=n(l,o)):(r=vx(r,i),o=n(o,l)),function(u){return o(r(u))}}function Pie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=vx(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(u){var f=Kd(t,u,1,r)-1;return o[f](i[f](u))}}function Wd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ly(){var t=yD,e=yD,n=_c,r,i,o,l=nr,u,f,d;function h(){var _=Math.min(t.length,e.length);return l!==nr&&(l=Nie(t[0],t[_-1])),u=_>2?Pie:Rie,f=d=null,m}function m(_){return _==null||isNaN(_=+_)?o:(f||(f=u(t.map(r),e,n)))(r(l(_)))}return m.invert=function(_){return l(i((d||(d=u(e,t.map(r),wg)))(_)))},m.domain=function(_){return arguments.length?(t=Array.from(_,Ag),h()):t.slice()},m.range=function(_){return arguments.length?(e=Array.from(_),h()):e.slice()},m.rangeRound=function(_){return e=Array.from(_),n=pS,h()},m.clamp=function(_){return arguments.length?(l=_?!0:nr,h()):l!==nr},m.interpolate=function(_){return arguments.length?(n=_,h()):n},m.unknown=function(_){return arguments.length?(o=_,m):o},function(_,E){return r=_,i=E,h()}}function mS(){return Ly()(nr,nr)}function Mie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Cg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function tc(t){return t=Cg(Math.abs(t)),t?t[1]:NaN}function Die(t,e){return function(n,r){for(var i=n.length,o=[],l=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[l=(l+1)%t.length];return o.reverse().join(e)}}function kie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Oie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xd(t){if(!(e=Oie.exec(t)))throw new Error("invalid format: "+t);var e;return new gS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}xd.prototype=gS.prototype;function gS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}gS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var uV;function Uie(t,e){var n=Cg(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(uV=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Cg(t,Math.max(0,e+o-1))[0]}function vD(t,e){var n=Cg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const _D={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Mie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>vD(t*100,e),r:vD,s:Uie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function bD(t){return t}var ED=Array.prototype.map,xD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Vie(t){var e=t.grouping===void 0||t.thousands===void 0?bD:Die(ED.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?bD:kie(ED.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(m){m=xd(m);var _=m.fill,E=m.align,w=m.sign,S=m.symbol,C=m.zero,P=m.width,U=m.comma,O=m.precision,H=m.trim,F=m.type;F==="n"?(U=!0,F="g"):_D[F]||(O===void 0&&(O=12),H=!0,F="g"),(C||_==="0"&&E==="=")&&(C=!0,_="0",E="=");var G=S==="$"?n:S==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",M=S==="$"?r:/[%p]/.test(F)?l:"",D=_D[F],k=/[defgprs%]/.test(F);O=O===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function B(z){var j=G,L=M,de,ge,K;if(F==="c")L=D(z)+L,z="";else{z=+z;var ne=z<0||1/z<0;if(z=isNaN(z)?f:D(Math.abs(z),O),H&&(z=Lie(z)),ne&&+z==0&&w!=="+"&&(ne=!1),j=(ne?w==="("?w:u:w==="-"||w==="("?"":w)+j,L=(F==="s"?xD[8+uV/3]:"")+L+(ne&&w==="("?")":""),k){for(de=-1,ge=z.length;++de<ge;)if(K=z.charCodeAt(de),48>K||K>57){L=(K===46?i+z.slice(de+1):z.slice(de))+L,z=z.slice(0,de);break}}}U&&!C&&(z=e(z,1/0));var le=j.length+z.length+L.length,Q=le<P?new Array(P-le+1).join(_):"";switch(U&&C&&(z=e(Q+z,Q.length?P-L.length:1/0),Q=""),E){case"<":z=j+z+L+Q;break;case"=":z=j+Q+z+L;break;case"^":z=Q.slice(0,le=Q.length>>1)+j+z+L+Q.slice(le);break;default:z=Q+j+z+L;break}return o(z)}return B.toString=function(){return m+""},B}function h(m,_){var E=d((m=xd(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(tc(_)/3)))*3,S=Math.pow(10,-w),C=xD[8+w/3];return function(P){return E(S*P)+C}}return{format:d,formatPrefix:h}}var tm,yS,cV;zie({thousands:",",grouping:[3],currency:["$",""]});function zie(t){return tm=Vie(t),yS=tm.format,cV=tm.formatPrefix,tm}function qie(t){return Math.max(0,-tc(Math.abs(t)))}function Bie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tc(e)/3)))*3-tc(Math.abs(t)))}function Fie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,tc(e)-tc(t))+1}function fV(t,e,n,r){var i=px(t,e,n),o;switch(r=xd(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Bie(i,l))&&(r.precision=o),cV(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Fie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=qie(i))&&(r.precision=o-(r.type==="%")*2);break}}return yS(r)}function bs(t){var e=t.domain;return t.ticks=function(n){var r=e();return dx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return fV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,l=r[i],u=r[o],f,d,h=10;for(u<l&&(d=l,l=u,u=d,d=i,i=o,o=d);h-- >0;){if(d=hx(l,u,n),d===f)return r[i]=l,r[o]=u,e(r);if(d>0)l=Math.floor(l/d)*d,u=Math.ceil(u/d)*d;else if(d<0)l=Math.ceil(l*d)/d,u=Math.floor(u*d)/d;else break;f=d}return t},t}function dV(){var t=mS();return t.copy=function(){return Wd(t,dV())},si.apply(t,arguments),bs(t)}function hV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ag),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return hV(t).unknown(e)},t=arguments.length?Array.from(t,Ag):[0,1],bs(n)}function pV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),t[n]=e.floor(i),t[r]=e.ceil(o),t}function TD(t){return Math.log(t)}function SD(t){return Math.exp(t)}function jie(t){return-Math.log(-t)}function Hie(t){return-Math.exp(-t)}function Gie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $ie(t){return t===10?Gie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Kie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function wD(t){return(e,n)=>-t(-e,n)}function vS(t){const e=t(TD,SD),n=e.domain;let r=10,i,o;function l(){return i=Kie(r),o=$ie(r),n()[0]<0?(i=wD(i),o=wD(o),t(jie,Hie)):t(TD,SD),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const f=n();let d=f[0],h=f[f.length-1];const m=h<d;m&&([d,h]=[h,d]);let _=i(d),E=i(h),w,S;const C=u==null?10:+u;let P=[];if(!(r%1)&&E-_<C){if(_=Math.floor(_),E=Math.ceil(E),d>0){for(;_<=E;++_)for(w=1;w<r;++w)if(S=_<0?w/o(-_):w*o(_),!(S<d)){if(S>h)break;P.push(S)}}else for(;_<=E;++_)for(w=r-1;w>=1;--w)if(S=_>0?w/o(-_):w*o(_),!(S<d)){if(S>h)break;P.push(S)}P.length*2<C&&(P=dx(d,h,C))}else P=dx(_,E,Math.min(E-_,C)).map(o);return m?P.reverse():P},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=xd(f)).precision==null&&(f.trim=!0),f=yS(f)),u===1/0)return f;const d=Math.max(1,r*u/e.ticks().length);return h=>{let m=h/o(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?f(h):""}},e.nice=()=>n(pV(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function mV(){const t=vS(Ly()).domain([1,10]);return t.copy=()=>Wd(t,mV()).base(t.base()),si.apply(t,arguments),t}function AD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function CD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function _S(t){var e=1,n=t(AD(e),CD(e));return n.constant=function(r){return arguments.length?t(AD(e=+r),CD(e)):e},bs(n)}function gV(){var t=_S(Ly());return t.copy=function(){return Wd(t,gV()).constant(t.constant())},si.apply(t,arguments)}function ID(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Yie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Wie(t){return t<0?-t*t:t*t}function bS(t){var e=t(nr,nr),n=1;function r(){return n===1?t(nr,nr):n===.5?t(Yie,Wie):t(ID(n),ID(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},bs(e)}function ES(){var t=bS(Ly());return t.copy=function(){return Wd(t,ES()).exponent(t.exponent())},si.apply(t,arguments),t}function Jie(){return ES.apply(null,arguments).exponent(.5)}function ND(t){return Math.sign(t)*t*t}function Xie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function yV(){var t=mS(),e=[0,1],n=!1,r;function i(o){var l=Xie(t(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return t.invert(ND(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Ag)).map(ND)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return yV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},si.apply(i,arguments),bs(i)}function vV(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=tie(t,l/u);return o}function o(l){return l==null||isNaN(l=+l)?r:e[Kd(n,l)]}return o.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(us),i()},o.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return vV().domain(t).range(e).unknown(r)},si.apply(o,arguments)}function _V(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function l(f){return f!=null&&f<=f?i[Kd(r,f,0,n)]:o}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},l.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},l.unknown=function(f){return arguments.length&&(o=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return _V().domain([t,e]).range(i).unknown(o)},si.apply(bs(l),arguments)}function bV(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Kd(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return bV().domain(t).range(e).unknown(n)},si.apply(i,arguments)}const Nb=new Date,Rb=new Date;function mn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const f=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return f;let d;do f.push(d=new Date(+o)),e(o,u),t(o);while(d<o&&o<l);return f},i.filter=o=>mn(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!o(l););else for(;--u>=0;)for(;e(l,1),!o(l););}),n&&(i.count=(o,l)=>(Nb.setTime(+o),Rb.setTime(+l),t(Nb),t(Rb),Math.floor(n(Nb,Rb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Ig=mn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ig.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?mn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ig);Ig.range;const Ho=1e3,ti=Ho*60,Go=ti*60,ra=Go*24,xS=ra*7,RD=ra*30,Pb=ra*365,ol=mn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ho)},(t,e)=>(e-t)/Ho,t=>t.getUTCSeconds());ol.range;const TS=mn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ho)},(t,e)=>{t.setTime(+t+e*ti)},(t,e)=>(e-t)/ti,t=>t.getMinutes());TS.range;const SS=mn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ti)},(t,e)=>(e-t)/ti,t=>t.getUTCMinutes());SS.range;const wS=mn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ho-t.getMinutes()*ti)},(t,e)=>{t.setTime(+t+e*Go)},(t,e)=>(e-t)/Go,t=>t.getHours());wS.range;const AS=mn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Go)},(t,e)=>(e-t)/Go,t=>t.getUTCHours());AS.range;const Jd=mn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ti)/ra,t=>t.getDate()-1);Jd.range;const Uy=mn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ra,t=>t.getUTCDate()-1);Uy.range;const EV=mn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ra,t=>Math.floor(t/ra));EV.range;function Nl(t){return mn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ti)/xS)}const Vy=Nl(0),Ng=Nl(1),Qie=Nl(2),Zie=Nl(3),nc=Nl(4),eoe=Nl(5),toe=Nl(6);Vy.range;Ng.range;Qie.range;Zie.range;nc.range;eoe.range;toe.range;function Rl(t){return mn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/xS)}const zy=Rl(0),Rg=Rl(1),noe=Rl(2),roe=Rl(3),rc=Rl(4),ioe=Rl(5),ooe=Rl(6);zy.range;Rg.range;noe.range;roe.range;rc.range;ioe.range;ooe.range;const CS=mn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());CS.range;const IS=mn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());IS.range;const ia=mn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ia.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ia.range;const oa=mn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());oa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});oa.range;function xV(t,e,n,r,i,o){const l=[[ol,1,Ho],[ol,5,5*Ho],[ol,15,15*Ho],[ol,30,30*Ho],[o,1,ti],[o,5,5*ti],[o,15,15*ti],[o,30,30*ti],[i,1,Go],[i,3,3*Go],[i,6,6*Go],[i,12,12*Go],[r,1,ra],[r,2,2*ra],[n,1,xS],[e,1,RD],[e,3,3*RD],[t,1,Pb]];function u(d,h,m){const _=h<d;_&&([d,h]=[h,d]);const E=m&&typeof m.range=="function"?m:f(d,h,m),w=E?E.range(d,+h+1):[];return _?w.reverse():w}function f(d,h,m){const _=Math.abs(h-d)/m,E=uS(([,,C])=>C).right(l,_);if(E===l.length)return t.every(px(d/Pb,h/Pb,m));if(E===0)return Ig.every(Math.max(px(d,h,m),1));const[w,S]=l[_/l[E-1][2]<l[E][2]/_?E-1:E];return w.every(S)}return[u,f]}const[aoe,soe]=xV(oa,IS,zy,EV,AS,SS),[loe,uoe]=xV(ia,CS,Vy,Jd,wS,TS);function Mb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Db(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Lf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function coe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,l=t.shortDays,u=t.months,f=t.shortMonths,d=Uf(i),h=Vf(i),m=Uf(o),_=Vf(o),E=Uf(l),w=Vf(l),S=Uf(u),C=Vf(u),P=Uf(f),U=Vf(f),O={a:ne,A:le,b:Q,B:be,c:null,d:LD,e:LD,f:Doe,g:joe,G:Goe,H:Roe,I:Poe,j:Moe,L:TV,m:koe,M:Ooe,p:$,q:te,Q:zD,s:qD,S:Loe,u:Uoe,U:Voe,V:zoe,w:qoe,W:Boe,x:null,X:null,y:Foe,Y:Hoe,Z:$oe,"%":VD},H={a:pe,A:_e,b:Ee,B:Re,c:null,d:UD,e:UD,f:Joe,g:aae,G:lae,H:Koe,I:Yoe,j:Woe,L:wV,m:Xoe,M:Qoe,p:Ie,q:it,Q:zD,s:qD,S:Zoe,u:eae,U:tae,V:nae,w:rae,W:iae,x:null,X:null,y:oae,Y:sae,Z:uae,"%":VD},F={a:B,A:z,b:j,B:L,c:de,d:kD,e:kD,f:Aoe,g:DD,G:MD,H:OD,I:OD,j:xoe,L:woe,m:Eoe,M:Toe,p:k,q:boe,Q:Ioe,s:Noe,S:Soe,u:moe,U:goe,V:yoe,w:poe,W:voe,x:ge,X:K,y:DD,Y:MD,Z:_oe,"%":Coe};O.x=G(n,O),O.X=G(r,O),O.c=G(e,O),H.x=G(n,H),H.X=G(r,H),H.c=G(e,H);function G(ce,Oe){return function(ue){var se=[],et=-1,Be=0,zt=ce.length,Mt,jn,li;for(ue instanceof Date||(ue=new Date(+ue));++et<zt;)ce.charCodeAt(et)===37&&(se.push(ce.slice(Be,et)),(jn=PD[Mt=ce.charAt(++et)])!=null?Mt=ce.charAt(++et):jn=Mt==="e"?" ":"0",(li=Oe[Mt])&&(Mt=li(ue,jn)),se.push(Mt),Be=et+1);return se.push(ce.slice(Be,et)),se.join("")}}function M(ce,Oe){return function(ue){var se=Lf(1900,void 0,1),et=D(se,ce,ue+="",0),Be,zt;if(et!=ue.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(Oe&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(Be=Db(Lf(se.y,0,1)),zt=Be.getUTCDay(),Be=zt>4||zt===0?Rg.ceil(Be):Rg(Be),Be=Uy.offset(Be,(se.V-1)*7),se.y=Be.getUTCFullYear(),se.m=Be.getUTCMonth(),se.d=Be.getUTCDate()+(se.w+6)%7):(Be=Mb(Lf(se.y,0,1)),zt=Be.getDay(),Be=zt>4||zt===0?Ng.ceil(Be):Ng(Be),Be=Jd.offset(Be,(se.V-1)*7),se.y=Be.getFullYear(),se.m=Be.getMonth(),se.d=Be.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),zt="Z"in se?Db(Lf(se.y,0,1)).getUTCDay():Mb(Lf(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(zt+5)%7:se.w+se.U*7-(zt+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,Db(se)):Mb(se)}}function D(ce,Oe,ue,se){for(var et=0,Be=Oe.length,zt=ue.length,Mt,jn;et<Be;){if(se>=zt)return-1;if(Mt=Oe.charCodeAt(et++),Mt===37){if(Mt=Oe.charAt(et++),jn=F[Mt in PD?Oe.charAt(et++):Mt],!jn||(se=jn(ce,ue,se))<0)return-1}else if(Mt!=ue.charCodeAt(se++))return-1}return se}function k(ce,Oe,ue){var se=d.exec(Oe.slice(ue));return se?(ce.p=h.get(se[0].toLowerCase()),ue+se[0].length):-1}function B(ce,Oe,ue){var se=E.exec(Oe.slice(ue));return se?(ce.w=w.get(se[0].toLowerCase()),ue+se[0].length):-1}function z(ce,Oe,ue){var se=m.exec(Oe.slice(ue));return se?(ce.w=_.get(se[0].toLowerCase()),ue+se[0].length):-1}function j(ce,Oe,ue){var se=P.exec(Oe.slice(ue));return se?(ce.m=U.get(se[0].toLowerCase()),ue+se[0].length):-1}function L(ce,Oe,ue){var se=S.exec(Oe.slice(ue));return se?(ce.m=C.get(se[0].toLowerCase()),ue+se[0].length):-1}function de(ce,Oe,ue){return D(ce,e,Oe,ue)}function ge(ce,Oe,ue){return D(ce,n,Oe,ue)}function K(ce,Oe,ue){return D(ce,r,Oe,ue)}function ne(ce){return l[ce.getDay()]}function le(ce){return o[ce.getDay()]}function Q(ce){return f[ce.getMonth()]}function be(ce){return u[ce.getMonth()]}function $(ce){return i[+(ce.getHours()>=12)]}function te(ce){return 1+~~(ce.getMonth()/3)}function pe(ce){return l[ce.getUTCDay()]}function _e(ce){return o[ce.getUTCDay()]}function Ee(ce){return f[ce.getUTCMonth()]}function Re(ce){return u[ce.getUTCMonth()]}function Ie(ce){return i[+(ce.getUTCHours()>=12)]}function it(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Oe=G(ce+="",O);return Oe.toString=function(){return ce},Oe},parse:function(ce){var Oe=M(ce+="",!1);return Oe.toString=function(){return ce},Oe},utcFormat:function(ce){var Oe=G(ce+="",H);return Oe.toString=function(){return ce},Oe},utcParse:function(ce){var Oe=M(ce+="",!0);return Oe.toString=function(){return ce},Oe}}}var PD={"-":"",_:" ",0:"0"},Rn=/^\s*\d+/,foe=/^%/,doe=/[\\^$*+?|[\]().{}]/g;function lt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function hoe(t){return t.replace(doe,"\\$&")}function Uf(t){return new RegExp("^(?:"+t.map(hoe).join("|")+")","i")}function Vf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function poe(t,e,n){var r=Rn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function moe(t,e,n){var r=Rn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function goe(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function yoe(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function voe(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function MD(t,e,n){var r=Rn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function DD(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _oe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function boe(t,e,n){var r=Rn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Eoe(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function kD(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function xoe(t,e,n){var r=Rn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function OD(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Toe(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Soe(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function woe(t,e,n){var r=Rn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Aoe(t,e,n){var r=Rn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Coe(t,e,n){var r=foe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ioe(t,e,n){var r=Rn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Noe(t,e,n){var r=Rn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function LD(t,e){return lt(t.getDate(),e,2)}function Roe(t,e){return lt(t.getHours(),e,2)}function Poe(t,e){return lt(t.getHours()%12||12,e,2)}function Moe(t,e){return lt(1+Jd.count(ia(t),t),e,3)}function TV(t,e){return lt(t.getMilliseconds(),e,3)}function Doe(t,e){return TV(t,e)+"000"}function koe(t,e){return lt(t.getMonth()+1,e,2)}function Ooe(t,e){return lt(t.getMinutes(),e,2)}function Loe(t,e){return lt(t.getSeconds(),e,2)}function Uoe(t){var e=t.getDay();return e===0?7:e}function Voe(t,e){return lt(Vy.count(ia(t)-1,t),e,2)}function SV(t){var e=t.getDay();return e>=4||e===0?nc(t):nc.ceil(t)}function zoe(t,e){return t=SV(t),lt(nc.count(ia(t),t)+(ia(t).getDay()===4),e,2)}function qoe(t){return t.getDay()}function Boe(t,e){return lt(Ng.count(ia(t)-1,t),e,2)}function Foe(t,e){return lt(t.getFullYear()%100,e,2)}function joe(t,e){return t=SV(t),lt(t.getFullYear()%100,e,2)}function Hoe(t,e){return lt(t.getFullYear()%1e4,e,4)}function Goe(t,e){var n=t.getDay();return t=n>=4||n===0?nc(t):nc.ceil(t),lt(t.getFullYear()%1e4,e,4)}function $oe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+lt(e/60|0,"0",2)+lt(e%60,"0",2)}function UD(t,e){return lt(t.getUTCDate(),e,2)}function Koe(t,e){return lt(t.getUTCHours(),e,2)}function Yoe(t,e){return lt(t.getUTCHours()%12||12,e,2)}function Woe(t,e){return lt(1+Uy.count(oa(t),t),e,3)}function wV(t,e){return lt(t.getUTCMilliseconds(),e,3)}function Joe(t,e){return wV(t,e)+"000"}function Xoe(t,e){return lt(t.getUTCMonth()+1,e,2)}function Qoe(t,e){return lt(t.getUTCMinutes(),e,2)}function Zoe(t,e){return lt(t.getUTCSeconds(),e,2)}function eae(t){var e=t.getUTCDay();return e===0?7:e}function tae(t,e){return lt(zy.count(oa(t)-1,t),e,2)}function AV(t){var e=t.getUTCDay();return e>=4||e===0?rc(t):rc.ceil(t)}function nae(t,e){return t=AV(t),lt(rc.count(oa(t),t)+(oa(t).getUTCDay()===4),e,2)}function rae(t){return t.getUTCDay()}function iae(t,e){return lt(Rg.count(oa(t)-1,t),e,2)}function oae(t,e){return lt(t.getUTCFullYear()%100,e,2)}function aae(t,e){return t=AV(t),lt(t.getUTCFullYear()%100,e,2)}function sae(t,e){return lt(t.getUTCFullYear()%1e4,e,4)}function lae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?rc(t):rc.ceil(t),lt(t.getUTCFullYear()%1e4,e,4)}function uae(){return"+0000"}function VD(){return"%"}function zD(t){return+t}function qD(t){return Math.floor(+t/1e3)}var _u,CV,IV;cae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cae(t){return _u=coe(t),CV=_u.format,_u.parse,IV=_u.utcFormat,_u.utcParse,_u}function fae(t){return new Date(t)}function dae(t){return t instanceof Date?+t:+new Date(+t)}function NS(t,e,n,r,i,o,l,u,f,d){var h=mS(),m=h.invert,_=h.domain,E=d(".%L"),w=d(":%S"),S=d("%I:%M"),C=d("%I %p"),P=d("%a %d"),U=d("%b %d"),O=d("%B"),H=d("%Y");function F(G){return(f(G)<G?E:u(G)<G?w:l(G)<G?S:o(G)<G?C:r(G)<G?i(G)<G?P:U:n(G)<G?O:H)(G)}return h.invert=function(G){return new Date(m(G))},h.domain=function(G){return arguments.length?_(Array.from(G,dae)):_().map(fae)},h.ticks=function(G){var M=_();return t(M[0],M[M.length-1],G??10)},h.tickFormat=function(G,M){return M==null?F:d(M)},h.nice=function(G){var M=_();return(!G||typeof G.range!="function")&&(G=e(M[0],M[M.length-1],G??10)),G?_(pV(M,G)):h},h.copy=function(){return Wd(h,NS(t,e,n,r,i,o,l,u,f,d))},h}function hae(){return si.apply(NS(loe,uoe,ia,CS,Vy,Jd,wS,TS,ol,CV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function pae(){return si.apply(NS(aoe,soe,oa,IS,zy,Uy,AS,SS,ol,IV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qy(){var t=0,e=1,n,r,i,o,l=nr,u=!1,f;function d(m){return m==null||isNaN(m=+m)?f:l(i===0?.5:(m=(o(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(u=!!m,d):u},d.interpolator=function(m){return arguments.length?(l=m,d):l};function h(m){return function(_){var E,w;return arguments.length?([E,w]=_,l=m(E,w),d):[l(0),l(1)]}}return d.range=h(_c),d.rangeRound=h(pS),d.unknown=function(m){return arguments.length?(f=m,d):f},function(m){return o=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function Es(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function NV(){var t=bs(qy()(nr));return t.copy=function(){return Es(t,NV())},ha.apply(t,arguments)}function RV(){var t=vS(qy()).domain([1,10]);return t.copy=function(){return Es(t,RV()).base(t.base())},ha.apply(t,arguments)}function PV(){var t=_S(qy());return t.copy=function(){return Es(t,PV()).constant(t.constant())},ha.apply(t,arguments)}function RS(){var t=bS(qy());return t.copy=function(){return Es(t,RS()).exponent(t.exponent())},ha.apply(t,arguments)}function mae(){return RS.apply(null,arguments).exponent(.5)}function MV(){var t=[],e=nr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Kd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(us),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>eie(t,o/r))},n.copy=function(){return MV(e).domain(t)},ha.apply(n,arguments)}function By(){var t=0,e=.5,n=1,r=1,i,o,l,u,f,d=nr,h,m=!1,_;function E(S){return isNaN(S=+S)?_:(S=.5+((S=+h(S))-o)*(r*S<r*o?u:f),d(m?Math.max(0,Math.min(1,S)):S))}E.domain=function(S){return arguments.length?([t,e,n]=S,i=h(t=+t),o=h(e=+e),l=h(n=+n),u=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,E):[t,e,n]},E.clamp=function(S){return arguments.length?(m=!!S,E):m},E.interpolator=function(S){return arguments.length?(d=S,E):d};function w(S){return function(C){var P,U,O;return arguments.length?([P,U,O]=C,d=Cie(S,[P,U,O]),E):[d(0),d(.5),d(1)]}}return E.range=w(_c),E.rangeRound=w(pS),E.unknown=function(S){return arguments.length?(_=S,E):_},function(S){return h=S,i=S(t),o=S(e),l=S(n),u=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,E}}function DV(){var t=bs(By()(nr));return t.copy=function(){return Es(t,DV())},ha.apply(t,arguments)}function kV(){var t=vS(By()).domain([.1,1,10]);return t.copy=function(){return Es(t,kV()).base(t.base())},ha.apply(t,arguments)}function OV(){var t=_S(By());return t.copy=function(){return Es(t,OV()).constant(t.constant())},ha.apply(t,arguments)}function PS(){var t=bS(By());return t.copy=function(){return Es(t,PS()).exponent(t.exponent())},ha.apply(t,arguments)}function gae(){return PS.apply(null,arguments).exponent(.5)}const Gf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:fS,scaleDiverging:DV,scaleDivergingLog:kV,scaleDivergingPow:PS,scaleDivergingSqrt:gae,scaleDivergingSymlog:OV,scaleIdentity:hV,scaleImplicit:mx,scaleLinear:dV,scaleLog:mV,scaleOrdinal:cS,scalePoint:rie,scalePow:ES,scaleQuantile:vV,scaleQuantize:_V,scaleRadial:yV,scaleSequential:NV,scaleSequentialLog:RV,scaleSequentialPow:RS,scaleSequentialQuantile:MV,scaleSequentialSqrt:mae,scaleSequentialSymlog:PV,scaleSqrt:Jie,scaleSymlog:gV,scaleThreshold:bV,scaleTime:hae,scaleUtc:pae,tickFormat:fV},Symbol.toStringTag,{value:"Module"}));var xs=t=>t.chartData,yae=ae([xs],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),MS=(t,e,n,r)=>r?yae(t):xs(t);function gs(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Wt(e)&&Wt(n))return!0}return!1}function BD(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function LV(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(Wt(n))i=n;else if(typeof n=="function")return;if(Wt(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(gs(l))return l}}function vae(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(gs(r))return BD(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Pe(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&yM.test(i)){var f=yM.exec(i);if(f==null||e==null)l=void 0;else{var d=+f[1];l=e[0]-d}}else l=e==null?void 0:e[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(Pe(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&vM.test(o)){var h=vM.exec(o);if(h==null||e==null)u=void 0;else{var m=+h[1];u=e[1]+m}}else u=e==null?void 0:e[1];var _=[l,u];if(gs(_))return e==null?_:BD(_,e,n)}}}var bc=1e9,_ae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kS,Lt=!0,ai="[DecimalError] ",pl=ai+"Invalid argument: ",DS=ai+"Exponent out of range: ",Ec=Math.floor,tl=Math.pow,bae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mr,An=1e7,Nt=7,UV=9007199254740991,Pg=Ec(UV/Nt),Ae={};Ae.absoluteValue=Ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ae.comparedTo=Ae.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Nt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ae.dividedBy=Ae.div=function(t){return $o(this,new this.constructor(t))};Ae.dividedToIntegerBy=Ae.idiv=function(t){var e=this,n=e.constructor;return Tt($o(e,new n(t),0,1),n.precision)};Ae.equals=Ae.eq=function(t){return!this.cmp(t)};Ae.exponent=function(){return fn(this)};Ae.greaterThan=Ae.gt=function(t){return this.cmp(t)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(t){return this.cmp(t)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(t){return this.cmp(t)<0};Ae.lessThanOrEqualTo=Ae.lte=function(t){return this.cmp(t)<1};Ae.logarithm=Ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Mr))throw Error(ai+"NaN");if(n.s<1)throw Error(ai+(n.s?"NaN":"-Infinity"));return n.eq(Mr)?new r(0):(Lt=!1,e=$o(Td(n,o),Td(t,o),o),Lt=!0,Tt(e,i))};Ae.minus=Ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qV(e,t):VV(e,(t.s=-t.s,t))};Ae.modulo=Ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ai+"NaN");return n.s?(Lt=!1,e=$o(n,t,0,1).times(t),Lt=!0,n.minus(e)):Tt(new r(n),i)};Ae.naturalExponential=Ae.exp=function(){return zV(this)};Ae.naturalLogarithm=Ae.ln=function(){return Td(this)};Ae.negated=Ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ae.plus=Ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?VV(e,t):qV(e,(t.s=-t.s,t))};Ae.precision=Ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(pl+t);if(e=fn(i)+1,r=i.d.length-1,n=r*Nt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ae.squareRoot=Ae.sqrt=function(){var t,e,n,r,i,o,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(ai+"NaN")}for(t=fn(u),Lt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=io(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ec((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(o=r,r=o.plus($o(u,o,l+2)).times(.5),io(o.d).slice(0,l)===(e=io(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Tt(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;l+=4}return Lt=!0,Tt(r,n)};Ae.times=Ae.mul=function(t){var e,n,r,i,o,l,u,f,d,h=this,m=h.constructor,_=h.d,E=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,f=_.length,d=E.length,f<d&&(o=_,_=E,E=o,l=f,f=d,d=l),o=[],l=f+d,r=l;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,i=f+r;i>r;)u=o[i]+E[r]*_[i-r-1]+e,o[i--]=u%An|0,e=u/An|0;o[i]=(o[i]+e)%An|0}for(;!o[--l];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Lt?Tt(t,m.precision):t};Ae.toDecimalPlaces=Ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(go(t,0,bc),e===void 0?e=r.rounding:go(e,0,8),Tt(n,t+fn(n)+1,e))};Ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=xl(r,!0):(go(t,0,bc),e===void 0?e=i.rounding:go(e,0,8),r=Tt(new i(r),t+1,e),n=xl(r,!0,t+1)),n};Ae.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?xl(i):(go(t,0,bc),e===void 0?e=o.rounding:go(e,0,8),r=Tt(new o(i),t+fn(i)+1,e),n=xl(r.abs(),!1,t+fn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ae.toInteger=Ae.toint=function(){var t=this,e=t.constructor;return Tt(new e(t),fn(t)+1,e.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(t){var e,n,r,i,o,l,u=this,f=u.constructor,d=12,h=+(t=new f(t));if(!t.s)return new f(Mr);if(u=new f(u),!u.s){if(t.s<1)throw Error(ai+"Infinity");return u}if(u.eq(Mr))return u;if(r=f.precision,t.eq(Mr))return Tt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,o=u.s,l){if((n=h<0?-h:h)<=UV){for(i=new f(Mr),e=Math.ceil(r/Nt+4),Lt=!1;n%2&&(i=i.times(u),jD(i.d,e)),n=Ec(n/2),n!==0;)u=u.times(u),jD(u.d,e);return Lt=!0,t.s<0?new f(Mr).div(i):Tt(i,r)}}else if(o<0)throw Error(ai+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Lt=!1,i=t.times(Td(u,r+d)),Lt=!0,i=zV(i),i.s=o,i};Ae.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=fn(i),r=xl(i,n<=o.toExpNeg||n>=o.toExpPos)):(go(t,1,bc),e===void 0?e=o.rounding:go(e,0,8),i=Tt(new o(i),t,e),n=fn(i),r=xl(i,t<=n||n<=o.toExpNeg,t)),r};Ae.toSignificantDigits=Ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(go(t,1,bc),e===void 0?e=r.rounding:go(e,0,8)),Tt(new r(n),t,e)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=fn(t),n=t.constructor;return xl(t,e<=n.toExpNeg||e>=n.toExpPos)};function VV(t,e){var n,r,i,o,l,u,f,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Lt?Tt(e,m):e;if(f=t.d,d=e.d,l=t.e,i=e.e,f=f.slice(),o=l-i,o){for(o<0?(r=f,o=-o,u=d.length):(r=d,i=l,u=f.length),l=Math.ceil(m/Nt),u=l>u?l+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=f.length,o=d.length,u-o<0&&(o=u,r=d,d=f,f=r),n=0;o;)n=(f[--o]=f[o]+d[o]+n)/An|0,f[o]%=An;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,Lt?Tt(e,m):e}function go(t,e,n){if(t!==~~t||t<e||t>n)throw Error(pl+t)}function io(t){var e,n,r,i=t.length-1,o="",l=t[0];if(i>0){for(o+=l,e=1;e<i;e++)r=t[e]+"",n=Nt-r.length,n&&(o+=Xa(n)),o+=r;l=t[e],r=l+"",n=Nt-r.length,n&&(o+=Xa(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var $o=(function(){function t(r,i){var o,l=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+l,r[u]=o%An|0,l=o/An|0;return l&&r.unshift(l),r}function e(r,i,o,l){var u,f;if(o!=l)f=o>l?1:-1;else for(u=f=0;u<o;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*An+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var u,f,d,h,m,_,E,w,S,C,P,U,O,H,F,G,M,D,k=r.constructor,B=r.s==i.s?1:-1,z=r.d,j=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(ai+"Division by zero");for(f=r.e-i.e,M=j.length,F=z.length,E=new k(B),w=E.d=[],d=0;j[d]==(z[d]||0);)++d;if(j[d]>(z[d]||0)&&--f,o==null?U=o=k.precision:l?U=o+(fn(r)-fn(i))+1:U=o,U<0)return new k(0);if(U=U/Nt+2|0,d=0,M==1)for(h=0,j=j[0],U++;(d<F||h)&&U--;d++)O=h*An+(z[d]||0),w[d]=O/j|0,h=O%j|0;else{for(h=An/(j[0]+1)|0,h>1&&(j=t(j,h),z=t(z,h),M=j.length,F=z.length),H=M,S=z.slice(0,M),C=S.length;C<M;)S[C++]=0;D=j.slice(),D.unshift(0),G=j[0],j[1]>=An/2&&++G;do h=0,u=e(j,S,M,C),u<0?(P=S[0],M!=C&&(P=P*An+(S[1]||0)),h=P/G|0,h>1?(h>=An&&(h=An-1),m=t(j,h),_=m.length,C=S.length,u=e(m,S,_,C),u==1&&(h--,n(m,M<_?D:j,_))):(h==0&&(u=h=1),m=j.slice()),_=m.length,_<C&&m.unshift(0),n(S,m,C),u==-1&&(C=S.length,u=e(j,S,M,C),u<1&&(h++,n(S,M<C?D:j,C))),C=S.length):u===0&&(h++,S=[0]),w[d++]=h,u&&S[0]?S[C++]=z[H]||0:(S=[z[H]],C=1);while((H++<F||S[0]!==void 0)&&U--)}return w[0]||w.shift(),E.e=f,Tt(E,l?o+fn(E)+1:o)}})();function zV(t,e){var n,r,i,o,l,u,f=0,d=0,h=t.constructor,m=h.precision;if(fn(t)>16)throw Error(DS+fn(t));if(!t.s)return new h(Mr);for(Lt=!1,u=m,l=new h(.03125);t.abs().gte(.1);)t=t.times(l),d+=5;for(r=Math.log(tl(2,d))/Math.LN10*2+5|0,u+=r,n=i=o=new h(Mr),h.precision=u;;){if(i=Tt(i.times(t),u),n=n.times(++f),l=o.plus($o(i,n,u)),io(l.d).slice(0,u)===io(o.d).slice(0,u)){for(;d--;)o=Tt(o.times(o),u);return h.precision=m,e==null?(Lt=!0,Tt(o,m)):o}o=l}}function fn(t){for(var e=t.e*Nt,n=t.d[0];n>=10;n/=10)e++;return e}function kb(t,e,n){if(e>t.LN10.sd())throw Lt=!0,n&&(t.precision=n),Error(ai+"LN10 precision limit exceeded");return Tt(new t(t.LN10),e)}function Xa(t){for(var e="";t--;)e+="0";return e}function Td(t,e){var n,r,i,o,l,u,f,d,h,m=1,_=10,E=t,w=E.d,S=E.constructor,C=S.precision;if(E.s<1)throw Error(ai+(E.s?"NaN":"-Infinity"));if(E.eq(Mr))return new S(0);if(e==null?(Lt=!1,d=C):d=e,E.eq(10))return e==null&&(Lt=!0),kb(S,d);if(d+=_,S.precision=d,n=io(w),r=n.charAt(0),o=fn(E),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)E=E.times(t),n=io(E.d),r=n.charAt(0),m++;o=fn(E),r>1?(E=new S("0."+n),o++):E=new S(r+"."+n.slice(1))}else return f=kb(S,d+2,C).times(o+""),E=Td(new S(r+"."+n.slice(1)),d-_).plus(f),S.precision=C,e==null?(Lt=!0,Tt(E,C)):E;for(u=l=E=$o(E.minus(Mr),E.plus(Mr),d),h=Tt(E.times(E),d),i=3;;){if(l=Tt(l.times(h),d),f=u.plus($o(l,new S(i),d)),io(f.d).slice(0,d)===io(u.d).slice(0,d))return u=u.times(2),o!==0&&(u=u.plus(kb(S,d+2,C).times(o+""))),u=$o(u,new S(m),d),S.precision=C,e==null?(Lt=!0,Tt(u,C)):u;u=f,i+=2}}function FD(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ec(n/Nt),t.d=[],r=(n+1)%Nt,n<0&&(r+=Nt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Nt;r<i;)t.d.push(+e.slice(r,r+=Nt));e=e.slice(r),r=Nt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Lt&&(t.e>Pg||t.e<-Pg))throw Error(DS+n)}else t.s=0,t.e=0,t.d=[0];return t}function Tt(t,e,n){var r,i,o,l,u,f,d,h,m=t.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(r=e-l,r<0)r+=Nt,i=e,d=m[h=0];else{if(h=Math.ceil((r+1)/Nt),o=m.length,h>=o)return t;for(d=o=m[h],l=1;o>=10;o/=10)l++;r%=Nt,i=r-Nt+l}if(n!==void 0&&(o=tl(10,l-i-1),u=d/o%10|0,f=e<0||m[h+1]!==void 0||d%o,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?d/tl(10,l-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return f?(o=fn(t),m.length=1,e=e-o-1,m[0]=tl(10,(Nt-e%Nt)%Nt),t.e=Ec(-e/Nt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,o=1,h--):(m.length=h+1,o=tl(10,Nt-r),m[h]=i>0?(d/tl(10,l-i)%tl(10,i)|0)*o:0),f)for(;;)if(h==0){(m[0]+=o)==An&&(m[0]=1,++t.e);break}else{if(m[h]+=o,m[h]!=An)break;m[h--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(Lt&&(t.e>Pg||t.e<-Pg))throw Error(DS+fn(t));return t}function qV(t,e){var n,r,i,o,l,u,f,d,h,m,_=t.constructor,E=_.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new _(t),Lt?Tt(e,E):e;if(f=t.d,m=e.d,r=e.e,d=t.e,f=f.slice(),l=d-r,l){for(h=l<0,h?(n=f,l=-l,u=m.length):(n=m,r=d,u=f.length),i=Math.max(Math.ceil(E/Nt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(f[i]!=m[i]){h=f[i]<m[i];break}l=0}for(h&&(n=f,f=m,m=n,e.s=-e.s),u=f.length,i=m.length-u;i>0;--i)f[u++]=0;for(i=m.length;i>l;){if(f[--i]<m[i]){for(o=i;o&&f[--o]===0;)f[o]=An-1;--f[o],f[i]+=An}f[i]-=m[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Lt?Tt(e,E):e):new _(0)}function xl(t,e,n){var r,i=fn(t),o=io(t.d),l=o.length;return e?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+Xa(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Xa(-i-1)+o,n&&(r=n-l)>0&&(o+=Xa(r))):i>=l?(o+=Xa(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+Xa(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=Xa(r))),t.s<0?"-"+o:o}function jD(t,e){if(t.length>e)return t.length=e,!0}function BV(t){var e,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(pl+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return FD(l,o.toString())}else if(typeof o!="string")throw Error(pl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,bae.test(o))FD(l,o);else throw Error(pl+o)}if(i.prototype=Ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=BV,i.config=i.set=Eae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Eae(t){if(!t||typeof t!="object")throw Error(ai+"Object expected");var e,n,r,i=["precision",1,bc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ec(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(pl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(pl+n+": "+r);return this}var kS=BV(_ae);Mr=new kS(1);const mt=kS;var xae=t=>t,FV={},jV=t=>t===FV,HD=t=>function e(){return arguments.length===0||arguments.length===1&&jV(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},HV=(t,e)=>t===1?e:HD(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(l=>l!==FV).length;return o>=t?e(...r):HV(t-o,HD(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var d=r.map(h=>jV(h)?u.shift():h);return e(...d,...u)}))}),Tae=t=>HV(t.length,t),_x=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Sae=Tae((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),wae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return xae;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((u,f)=>f(u),o(...arguments))}},bx=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function GV(t){var e;return t===0?e=1:e=Math.floor(new mt(t).abs().log(10).toNumber())+1,e}function $V(t,e,n){for(var r=new mt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var KV=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},YV=(t,e,n)=>{if(t.lte(0))return new mt(0);var r=GV(t.toNumber()),i=new mt(10).pow(r),o=t.div(i),l=r!==1?.05:.1,u=new mt(Math.ceil(o.div(l).toNumber())).add(n).mul(l),f=u.mul(i);return e?new mt(f.toNumber()):new mt(Math.ceil(f.toNumber()))},Aae=(t,e,n)=>{var r=new mt(1),i=new mt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new mt(10).pow(GV(t)-1),i=new mt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new mt(Math.floor(t)))}else t===0?i=new mt(Math.floor((e-1)/2)):n||(i=new mt(Math.floor(t)));var l=Math.floor((e-1)/2),u=wae(Sae(f=>i.add(new mt(f-l).mul(r)).toNumber()),_x);return u(0,e)},WV=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var l=YV(new mt(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new mt(0):(u=new mt(e).add(n).div(2),u=u.sub(new mt(u).mod(l)));var f=Math.ceil(u.sub(e).div(l).toNumber()),d=Math.ceil(new mt(n).sub(u).div(l).toNumber()),h=f+d+1;return h>r?WV(e,n,r,i,o+1):(h<r&&(d=n>0?d+(r-h):d,f=n>0?f:f+(r-h)),{step:l,tickMin:u.sub(new mt(f).mul(l)),tickMax:u.add(new mt(d).mul(l))})},Cae=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,f]=KV([n,r]);if(u===-1/0||f===1/0){var d=f===1/0?[u,..._x(0,i-1).map(()=>1/0)]:[..._x(0,i-1).map(()=>-1/0),f];return n>r?bx(d):d}if(u===f)return Aae(u,i,o);var{step:h,tickMin:m,tickMax:_}=WV(u,f,l,o,0),E=$V(m,_.add(new mt(.1).mul(h)),h);return n>r?bx(E):E},Iae=function(e,n){var[r,i]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=KV([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(n,2),d=YV(new mt(u).sub(l).div(f-1),o,0),h=[...$V(new mt(l),new mt(u),d),u];return o===!1&&(h=h.map(m=>Math.round(m))),r>i?bx(h):h},JV=t=>t.rootProps.maxBarSize,Nae=t=>t.rootProps.barGap,XV=t=>t.rootProps.barCategoryGap,Rae=t=>t.rootProps.barSize,Fy=t=>t.rootProps.stackOffset,QV=t=>t.rootProps.reverseStackOrder,OS=t=>t.options.chartName,LS=t=>t.rootProps.syncId,ZV=t=>t.rootProps.syncMethod,US=t=>t.options.eventEmitter,rr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},qo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Pr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},jy=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Pae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:qo.angleAxisId,includeHidden:!1,name:void 0,reversed:qo.reversed,scale:qo.scale,tick:qo.tick,tickCount:void 0,ticks:void 0,type:qo.type,unit:void 0},Mae={allowDataOverflow:Pr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Pr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pr.scale,tick:Pr.tick,tickCount:Pr.tickCount,ticks:void 0,type:Pr.type,unit:void 0},Dae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:qo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qo.scale,tick:qo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},kae={allowDataOverflow:Pr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Pr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pr.scale,tick:Pr.tick,tickCount:Pr.tickCount,ticks:void 0,type:"category",unit:void 0},VS=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Dae:Pae,zS=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?kae:Mae,Hy=t=>t.polarOptions,qS=ae([fa,da,Nn],Ire),e3=ae([Hy,qS],(t,e)=>{if(t!=null)return Pi(t.innerRadius,e,0)}),t3=ae([Hy,qS],(t,e)=>{if(t!=null)return Pi(t.outerRadius,e,e*.8)}),Oae=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},n3=ae([Hy],Oae);ae([VS,n3],jy);var r3=ae([qS,e3,t3],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ae([zS,r3],jy);var i3=ae([gt,Hy,e3,t3,fa,da],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:f,endAngle:d}=e;return{cx:Pi(l,i,i/2),cy:Pi(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),gn=(t,e)=>e,Gy=(t,e,n)=>n;function BS(t){return t==null?void 0:t.id}function o3(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return t.forEach(u=>{var f,d=(f=u.data)!==null&&f!==void 0?f:r;if(!(d==null||d.length===0)){var h=BS(u);d.forEach((m,_)=>{var E=o==null||i?_:String(Xn(m,o,null)),w=Xn(m,u.dataKey,0),S;l.has(E)?S=l.get(E):S={},Object.assign(S,{[h]:w}),l.set(E,S)})}}),Array.from(l.values())}function $y(t){return t.stackId!=null&&t.dataKey!=null}var Ky=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Yy(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Lae(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var yn=t=>{var e=gt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},xc=t=>t.tooltip.settings.axisId;function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){Uae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uae(t,e,n){return(e=Vae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vae(t){var e=zae(t,"string");return typeof e=="symbol"?e:e+""}function zae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ex=[0,"auto"],Tn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},a3=(t,e)=>t.cartesianAxis.xAxis[e],pa=(t,e)=>{var n=a3(t,e);return n??Tn},Sn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ex,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Hd},s3=(t,e)=>t.cartesianAxis.yAxis[e],ma=(t,e)=>{var n=s3(t,e);return n??Sn},qae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},FS=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??qae},or=(t,e,n)=>{switch(e){case"xAxis":return pa(t,n);case"yAxis":return ma(t,n);case"zAxis":return FS(t,n);case"angleAxis":return VS(t,n);case"radiusAxis":return zS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Bae=(t,e,n)=>{switch(e){case"xAxis":return pa(t,n);case"yAxis":return ma(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Xd=(t,e,n)=>{switch(e){case"xAxis":return pa(t,n);case"yAxis":return ma(t,n);case"angleAxis":return VS(t,n);case"radiusAxis":return zS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},l3=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function u3(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var jS=t=>t.graphicalItems.cartesianItems,Fae=ae([gn,Gy],u3),c3=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Qd=ae([jS,or,Fae],c3,{memoizeOptions:{resultEqualityCheck:Yy}}),f3=ae([Qd],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter($y)),d3=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),jae=ae([Qd],d3),h3=t=>t.map(e=>e.data).filter(Boolean).flat(1),Hae=ae([Qd],h3,{memoizeOptions:{resultEqualityCheck:Yy}}),p3=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},HS=ae([Hae,MS],p3),m3=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Xn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Xn(i,r)}))):t.map(r=>({value:r})),Wy=ae([HS,or,Qd],m3);function g3(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function xm(t){if(po(t)||t instanceof Date){var e=Number(t);if(Wt(e))return e}}function $D(t){if(Array.isArray(t)){var e=[xm(t[0]),xm(t[1])];return gs(e)?e:void 0}var n=xm(t);if(n!=null)return[n,n]}function aa(t){return t.map(xm).filter(ZQ)}function Gae(t,e,n){return!n||typeof e!="number"||Ri(e)?[]:n.length?aa(n.flatMap(r=>{var i=Xn(t,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!Wt(o)||!Wt(l)))return[e-o,e+l]})):[]}var vn=t=>{var e=yn(t),n=xc(t);return Xd(t,e,n)},Zd=ae([vn],t=>t==null?void 0:t.dataKey),$ae=ae([f3,MS,vn],o3),y3=(t,e,n,r)=>{var i={},o=e.reduce((l,u)=>(u.stackId==null||(l[u.stackId]==null&&(l[u.stackId]=[]),l[u.stackId].push(u)),l),i);return Object.fromEntries(Object.entries(o).map(l=>{var[u,f]=l,d=r?[...f].reverse():f,h=d.map(BS);return[u,{stackedData:_te(t,h,n),graphicalItems:d}]}))},xx=ae([$ae,f3,Fy,QV],y3),v3=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var l=Ste(t,i,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Kae=ae([or],t=>t.allowDataOverflow),GS=t=>{var e;if(t==null||!("domain"in t))return Ex;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=aa(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Ex},_3=ae([or],GS),b3=ae([_3,Kae],LV),Yae=ae([xx,xs,gn,b3],v3,{memoizeOptions:{resultEqualityCheck:Ky}}),$S=t=>t.errorBars,Wae=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>g3(n,r)),Dg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),u=Math.max(...o);return[l,u]}},E3=(t,e,n,r,i)=>{var o,l;if(n.length>0&&t.forEach(u=>{n.forEach(f=>{var d,h,m=(d=r[f.id])===null||d===void 0?void 0:d.filter(P=>g3(i,P)),_=Xn(u,(h=e.dataKey)!==null&&h!==void 0?h:f.dataKey),E=Gae(u,_,m);if(E.length>=2){var w=Math.min(...E),S=Math.max(...E);(o==null||w<o)&&(o=w),(l==null||S>l)&&(l=S)}var C=$D(_);C!=null&&(o=o==null?C[0]:Math.min(o,C[0]),l=l==null?C[1]:Math.max(l,C[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(u=>{var f=$D(Xn(u,e.dataKey));f!=null&&(o=o==null?f[0]:Math.min(o,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Wt(o)&&Wt(l))return[o,l]},Jae=ae([HS,or,jae,$S,gn],E3,{memoizeOptions:{resultEqualityCheck:Ky}});function Xae(t){var{value:e}=t;if(po(e)||e instanceof Date)return e}var Qae=(t,e,n)=>{var r=t.map(Xae).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&k4(r))?tV(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},x3=t=>t.referenceElements.dots,Tc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Zae=ae([x3,gn,Gy],Tc),T3=t=>t.referenceElements.areas,ese=ae([T3,gn,Gy],Tc),S3=t=>t.referenceElements.lines,tse=ae([S3,gn,Gy],Tc),w3=(t,e)=>{var n=aa(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},nse=ae(Zae,gn,w3),A3=(t,e)=>{var n=aa(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},rse=ae([ese,gn],A3);function ise(t){var e;if(t.x!=null)return aa([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:aa(n)}function ose(t){var e;if(t.y!=null)return aa([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:aa(n)}var C3=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?ise(r):ose(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ase=ae([tse,gn],C3),sse=ae(nse,ase,rse,(t,e,n)=>Dg(t,n,e)),I3=(t,e,n,r,i,o,l,u)=>{if(n!=null)return n;var f=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",d=f?Dg(r,o,i):Dg(o,i);return vae(e,d,t.allowDataOverflow)},lse=ae([or,_3,b3,Yae,Jae,sse,gt,gn],I3,{memoizeOptions:{resultEqualityCheck:Ky}}),use=[0,1],N3=(t,e,n,r,i,o,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:f}=t,d=Il(e,o);if(d&&u==null){var h;return tV(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return f==="category"?Qae(r,t,d):i==="expand"?use:l}},KS=ae([or,gt,HS,Wy,Fy,gn,lse],N3),R3=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:l}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(zd(o));return u in Gf?u:"point"}}},eh=ae([or,gt,l3,OS,gn],R3);function cse(t){if(t!=null){if(t in Gf)return Gf[t]();var e="scale".concat(zd(t));if(e in Gf)return Gf[e]()}}function YS(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=cse(e);if(i!=null){var o=i.domain(n).range(r);return pte(o),o}}}var P3=(t,e,n)=>{var r=GS(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&gs(t))return Cae(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&gs(t))return Iae(t,e.tickCount,e.allowDecimals)}},WS=ae([KS,Xd,eh],P3),M3=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&gs(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,o),Math.max(l,u)]}return e},fse=ae([or,KS,WS,gn],M3),dse=ae(Wy,or,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(aa(t.map(u=>u.value))).sort((u,f)=>u-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/i}}),D3=ae(dse,gt,XV,Nn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Wt(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var l=Pi(n,t*o),u=t*o/2;return u-l-(u-l)/o*l}return 0}),hse=(t,e)=>{var n=pa(t,e);return n==null||typeof n.padding!="string"?0:D3(t,"xAxis",e,n.padding)},pse=(t,e)=>{var n=ma(t,e);return n==null||typeof n.padding!="string"?0:D3(t,"yAxis",e,n.padding)},mse=ae(pa,hse,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),gse=ae(ma,pse,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),yse=ae([Nn,mse,Ny,Iy,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),vse=ae([Nn,gt,gse,Ny,Iy,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),th=(t,e,n,r)=>{var i;switch(e){case"xAxis":return yse(t,n,r);case"yAxis":return vse(t,n,r);case"zAxis":return(i=FS(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return n3(t);case"radiusAxis":return r3(t,n);default:return}},k3=ae([or,th],jy),Sc=ae([or,eh,fse,k3],YS);ae([Qd,$S,gn],Wae);function O3(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Jy=(t,e)=>e,Xy=(t,e,n)=>n,_se=ae(Ay,Jy,Xy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(O3)),bse=ae(Cy,Jy,Xy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(O3)),L3=(t,e)=>({width:t.width,height:e.height}),Ese=(t,e)=>{var n=typeof e.width=="number"?e.width:Hd;return{width:n,height:t.height}},U3=ae(Nn,pa,L3),xse=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Tse=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Sse=ae(da,Nn,_se,Jy,Xy,(t,e,n,r,i)=>{var o={},l;return n.forEach(u=>{var f=L3(e,u);l==null&&(l=xse(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;o[u.id]=l-Number(d)*f.height,l+=(d?-1:1)*f.height}),o}),wse=ae(fa,Nn,bse,Jy,Xy,(t,e,n,r,i)=>{var o={},l;return n.forEach(u=>{var f=Ese(e,u);l==null&&(l=Tse(e,r,t));var d=r==="left"&&!i||r==="right"&&i;o[u.id]=l-Number(d)*f.width,l+=(d?-1:1)*f.width}),o}),Ase=(t,e)=>{var n=pa(t,e);if(n!=null)return Sse(t,n.orientation,n.mirror)},Cse=ae([Nn,pa,Ase,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Ise=(t,e)=>{var n=ma(t,e);if(n!=null)return wse(t,n.orientation,n.mirror)},Nse=ae([Nn,ma,Ise,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),V3=ae(Nn,ma,(t,e)=>{var n=typeof e.width=="number"?e.width:Hd;return{width:n,height:t.height}}),KD=(t,e,n)=>{switch(e){case"xAxis":return U3(t,n).width;case"yAxis":return V3(t,n).height;default:return}},z3=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,u=Il(t,r),f=e.map(d=>d.value);if(l&&u&&o==="category"&&i&&k4(f))return f}},JS=ae([gt,Wy,or,gn],z3),q3=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=Il(t,r);if(l&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},XS=ae([gt,Wy,Xd,gn],q3),YD=ae([gt,Bae,eh,Sc,JS,XS,th,WS,gn],(t,e,n,r,i,o,l,u,f)=>{if(e!=null){var d=Il(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:u,range:l,realScaleType:n,scale:r}}}),Rse=(t,e,n,r,i,o,l,u,f)=>{if(!(e==null||r==null)){var d=Il(t,f),{type:h,ticks:m,tickCount:_}=e,E=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=h==="category"&&r.bandwidth?r.bandwidth()/E:0;w=f==="angleAxis"&&o!=null&&o.length>=2?yr(o[0]-o[1])*2*w:w;var S=m||i;if(S){var C=S.map((P,U)=>{var O=l?l.indexOf(P):P;return{index:U,coordinate:r(O)+w,value:P,offset:w}});return C.filter(P=>Wt(P.coordinate))}return d&&u?u.map((P,U)=>({coordinate:r(P)+w,value:P,index:U,offset:w})).filter(P=>Wt(P.coordinate)):r.ticks?r.ticks(_).map(P=>({coordinate:r(P)+w,value:P,offset:w})):r.domain().map((P,U)=>({coordinate:r(P)+w,value:l?l[P]:P,index:U,offset:w}))}},B3=ae([gt,Xd,eh,Sc,WS,th,JS,XS,gn],Rse),Pse=(t,e,n,r,i,o,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Il(t,l),{tickCount:f}=e,d=0;return d=l==="angleAxis"&&(r==null?void 0:r.length)>=2?yr(r[0]-r[1])*2*d:d,u&&o?o.map((h,m)=>({coordinate:n(h)+d,value:h,index:m,offset:d})):n.ticks?n.ticks(f).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,m)=>({coordinate:n(h)+d,value:i?i[h]:h,index:m,offset:d}))}},ic=ae([gt,Xd,Sc,th,JS,XS,gn],Pse),oc=ae(or,Sc,(t,e)=>{if(!(t==null||e==null))return Mg(Mg({},t),{},{scale:e})}),Mse=ae([or,eh,KS,k3],YS);ae((t,e,n)=>FS(t,n),Mse,(t,e)=>{if(!(t==null||e==null))return Mg(Mg({},t),{},{scale:e})});var Dse=ae([gt,Ay,Cy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),F3=t=>t.options.defaultTooltipEventType,j3=t=>t.options.validateTooltipEventTypes;function H3(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function QS(t,e){var n=F3(t),r=j3(t);return H3(e,n,r)}function kse(t){return De(e=>QS(e,t))}var G3=(t,e)=>{var n,r=Number(e);if(!(Ri(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Ose=t=>t.tooltip.settings,ns={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Lse={itemInteraction:{click:ns,hover:ns},axisInteraction:{click:ns,hover:ns},keyboardInteraction:ns,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},$3=_r({name:"tooltip",initialState:Lse,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Ot()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ii(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Ot()},removeTooltipEntrySettings:{reducer(t,e){var n=Ii(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Ot()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Use,replaceTooltipEntrySettings:Vse,removeTooltipEntrySettings:zse,setTooltipSettingsState:qse,setActiveMouseOverItemIndex:K3,mouseLeaveItem:Bse,mouseLeaveChart:Y3,setActiveClickItemIndex:Fse,setMouseOverAxisIndex:W3,setMouseClickAxisIndex:jse,setSyncInteraction:Tx,setKeyboardInteraction:Sx}=$3.actions,Hse=$3.reducer;function WD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WD(Object(n),!0).forEach(function(r){Gse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gse(t,e,n){return(e=$se(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $se(t){var e=Kse(t,"string");return typeof e=="symbol"?e:e+""}function Kse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yse(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Wse(t){return t.index!=null}var J3=(t,e,n,r)=>{if(e==null)return ns;var i=Yse(t,e,n);if(i==null)return ns;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(Wse(i)){if(o)return nm(nm({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return nm(nm({},ns),{},{coordinate:i.coordinate})};function Jse(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Xse(t,e){var n=Jse(t),r=e[0],i=e[1];if(n===void 0)return!1;var o=Math.min(r,i),l=Math.max(r,i);return n>=o&&n<=l}function Qse(t,e,n){if(n==null||e==null)return!0;var r=Xn(t,e);return r==null||!gs(n)?!0:Xse(r,n)}var ZS=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var o=Number(i);if(!Wt(o))return i;var l=0,u=1/0;e.length>0&&(u=e.length-1);var f=Math.max(l,Math.min(o,u)),d=e[f];return d==null||Qse(d,n,r)?String(f):null},X3=(t,e,n,r,i,o,l,u)=>{if(!(o==null||u==null)){var f=l[0],d=f==null?void 0:u(f.positions,o);if(d!=null)return d;var h=i==null?void 0:i[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},Q3=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===i})},nh=t=>t.options.tooltipPayloadSearcher,wc=t=>t.tooltip;function JD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(n),!0).forEach(function(r){Zse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zse(t,e,n){return(e=ele(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ele(t){var e=tle(t,"string");return typeof e=="symbol"?e:e+""}function tle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nle(t,e){return t??e}var Z3=(t,e,n,r,i,o,l)=>{if(!(e==null||o==null)){var{chartData:u,computedData:f,dataStartIndex:d,dataEndIndex:h}=n,m=[];return t.reduce((_,E)=>{var w,{dataDefinedOnItem:S,settings:C}=E,P=nle(S,u),U=Array.isArray(P)?AU(P,d,h):P,O=(w=C==null?void 0:C.dataKey)!==null&&w!==void 0?w:r,H=C==null?void 0:C.nameKey,F;if(r&&Array.isArray(U)&&!Array.isArray(U[0])&&l==="axis"?F=QQ(U,r,i):F=o(U,e,f,H),Array.isArray(F))F.forEach(M=>{var D=XD(XD({},C),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});_.push(_M({tooltipEntrySettings:D,dataKey:M.dataKey,payload:M.payload,value:Xn(M.payload,M.dataKey),name:M.name}))});else{var G;_.push(_M({tooltipEntrySettings:C,dataKey:O,payload:F,value:Xn(F,O),name:(G=Xn(F,H))!==null&&G!==void 0?G:C==null?void 0:C.name}))}return _},m)}},ew=ae([vn,gt,l3,OS,yn],R3),rle=ae([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),ile=ae([yn,xc],u3),rh=ae([rle,vn,ile],c3,{memoizeOptions:{resultEqualityCheck:Yy}}),ole=ae([rh],t=>t.filter($y)),ale=ae([rh],h3,{memoizeOptions:{resultEqualityCheck:Yy}}),Ac=ae([ale,xs],p3),sle=ae([ole,xs,vn],o3),tw=ae([Ac,vn,rh],m3),e6=ae([vn],GS),lle=ae([vn],t=>t.allowDataOverflow),t6=ae([e6,lle],LV),ule=ae([rh],t=>t.filter($y)),cle=ae([sle,ule,Fy,QV],y3),fle=ae([cle,xs,yn,t6],v3),dle=ae([rh],d3),hle=ae([Ac,vn,dle,$S,yn],E3,{memoizeOptions:{resultEqualityCheck:Ky}}),ple=ae([x3,yn,xc],Tc),mle=ae([ple,yn],w3),gle=ae([T3,yn,xc],Tc),yle=ae([gle,yn],A3),vle=ae([S3,yn,xc],Tc),_le=ae([vle,yn],C3),ble=ae([mle,_le,yle],Dg),Ele=ae([vn,e6,t6,fle,hle,ble,gt,yn],I3),ih=ae([vn,gt,Ac,tw,Fy,yn,Ele],N3),xle=ae([ih,vn,ew],P3),Tle=ae([vn,ih,xle,yn],M3),n6=t=>{var e=yn(t),n=xc(t),r=!1;return th(t,e,n,r)},r6=ae([vn,n6],jy),i6=ae([vn,ew,Tle,r6],YS),Sle=ae([gt,tw,vn,yn],z3),wle=ae([gt,tw,vn,yn],q3),Ale=(t,e,n,r,i,o,l,u)=>{if(e){var{type:f}=e,d=Il(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?yr(i[0]-i[1])*2*m:m,d&&l?l.map((_,E)=>({coordinate:r(_)+m,value:_,index:E,offset:m})):r.domain().map((_,E)=>({coordinate:r(_)+m,value:o?o[_]:_,index:E,offset:m}))}}},ga=ae([gt,vn,ew,i6,n6,Sle,wle,yn],Ale),nw=ae([F3,j3,Ose],(t,e,n)=>H3(n.shared,t,e)),o6=t=>t.tooltip.settings.trigger,rw=t=>t.tooltip.settings.defaultIndex,oh=ae([wc,nw,o6,rw],J3),ac=ae([oh,Ac,Zd,ih],ZS),a6=ae([ga,ac],G3),s6=ae([oh],t=>{if(t)return t.dataKey});ae([oh],t=>{if(t)return t.graphicalItemId});var l6=ae([wc,nw,o6,rw],Q3),Cle=ae([fa,da,gt,Nn,ga,rw,l6,nh],X3),Ile=ae([oh,Cle],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Nle=ae([oh],t=>t.active),Rle=ae([l6,ac,xs,Zd,a6,nh,nw],Z3);ae([Rle],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function QD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QD(Object(n),!0).forEach(function(r){Ple(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ple(t,e,n){return(e=Mle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mle(t){var e=Dle(t,"string");return typeof e=="symbol"?e:e+""}function Dle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kle=()=>De(vn),Ole=()=>{var t=kle(),e=De(ga),n=De(i6);return dg(!t||!n?void 0:ZD(ZD({},t),{},{scale:n}),e)};function e2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(n),!0).forEach(function(r){Lle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lle(t,e,n){return(e=Ule(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ule(t){var e=Vle(t,"string");return typeof e=="symbol"?e:e+""}function Vle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zle=(t,e,n,r)=>{var i=e.find(o=>o&&o.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},qle=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var o=i.coordinate,{radius:l}=r;return bu(bu(bu({},r),Bn(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,{angle:f}=r;return bu(bu(bu({},r),Bn(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Ble(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var u6=(t,e,n,r,i)=>{var o,l=-1,u=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var d=f>0?n[f-1].coordinate:n[u-1].coordinate,h=n[f].coordinate,m=f>=u-1?n[0].coordinate:n[f+1].coordinate,_=void 0;if(yr(h-d)!==yr(m-h)){var E=[];if(yr(m-h)===yr(i[1]-i[0])){_=m;var w=h+i[1]-i[0];E[0]=Math.min(w,(w+d)/2),E[1]=Math.max(w,(w+d)/2)}else{_=d;var S=m+i[1]-i[0];E[0]=Math.min(h,(S+h)/2),E[1]=Math.max(h,(S+h)/2)}var C=[Math.min(h,(_+h)/2),Math.max(h,(_+h)/2)];if(t>C[0]&&t<=C[1]||t>=E[0]&&t<=E[1]){({index:l}=n[f]);break}}else{var P=Math.min(d,m),U=Math.max(d,m);if(t>(P+h)/2&&t<=(U+h)/2){({index:l}=n[f]);break}}}else if(e){for(var O=0;O<u;O++)if(O===0&&t<=(e[O].coordinate+e[O+1].coordinate)/2||O>0&&O<u-1&&t>(e[O].coordinate+e[O-1].coordinate)/2&&t<=(e[O].coordinate+e[O+1].coordinate)/2||O===u-1&&t>(e[O].coordinate+e[O-1].coordinate)/2){({index:l}=e[O]);break}}return l},Fle=()=>De(OS),iw=(t,e)=>e,c6=(t,e,n)=>n,ow=(t,e,n,r)=>r,jle=ae(ga,t=>yy(t,e=>e.coordinate)),aw=ae([wc,iw,c6,ow],J3),sw=ae([aw,Ac,Zd,ih],ZS),Hle=(t,e,n)=>{if(e!=null){var r=wc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},f6=ae([wc,iw,c6,ow],Q3),kg=ae([fa,da,gt,Nn,ga,ow,f6,nh],X3),Gle=ae([aw,kg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),d6=ae([ga,sw],G3),$le=ae([f6,sw,xs,Zd,d6,nh,iw],Z3),Kle=ae([aw,sw],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Yle=(t,e,n,r,i,o,l)=>{if(!(!t||!n||!r||!i)&&Ble(t,l)){var u=wte(t,e),f=u6(u,o,i,n,r),d=zle(e,i,f,t);return{activeIndex:String(f),activeCoordinate:d}}},Wle=(t,e,n,r,i,o,l)=>{if(!(!t||!r||!i||!o||!n)){var u=Dre(t,n);if(u){var f=Ate(u,e),d=u6(f,l,o,r,i),h=qle(e,o,d,u);return{activeIndex:String(d),activeCoordinate:h}}}},Jle=(t,e,n,r,i,o,l,u)=>{if(!(!t||!e||!r||!i||!o))return e==="horizontal"||e==="vertical"?Yle(t,e,r,i,o,l,u):Wle(t,e,n,r,i,o,l)},Xle=ae(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Qle=ae(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(rr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Lae}});function t2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(n),!0).forEach(function(r){Zle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zle(t,e,n){return(e=eue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eue(t){var e=tue(t,"string");return typeof e=="symbol"?e:e+""}function tue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nue={},rue={zIndexMap:Object.values(rr).reduce((t,e)=>n2(n2({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),nue)},iue=new Set(Object.values(rr));function oue(t){return iue.has(t)}var h6=_r({name:"zIndex",initialState:rue,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ot()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!oue(n)&&delete t.zIndexMap[n])},prepare:Ot()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Ot()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Ot()}}}),{registerZIndexPortal:aue,unregisterZIndexPortal:sue,registerZIndexPortalId:lue,unregisterZIndexPortalId:uue}=h6.actions,cue=h6.reducer;function ya(t){var{zIndex:e,children:n}=t,r=one(),i=r&&e!==void 0&&e!==0,o=br(),l=Jt();N.useLayoutEffect(()=>i?(l(aue({zIndex:e})),()=>{l(sue({zIndex:e}))}):qd,[l,e,i]);var u=De(d=>Xle(d,e,o));if(!i)return n;if(!u)return null;var f=document.getElementById(u);return f?g4.createPortal(n,f):null}function wx(){return wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wx.apply(null,arguments)}function r2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(n),!0).forEach(function(r){fue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fue(t,e,n){return(e=due(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function due(t){var e=hue(t,"string");return typeof e=="symbol"?e:e+""}function hue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pue(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return N.isValidElement(e)?N.cloneElement(e,r):N.createElement(n,r)}function mue(t){var e,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:l,layout:u,cursor:f,tooltipEventType:d,chartName:h}=t,m=n,_=r,E=i;if(!f||!m||h!=="ScatterChart"&&d!=="axis")return null;var w,S,C;if(h==="ScatterChart")w=m,S=Kne,C=rr.cursorLine;else if(h==="BarChart")w=Yne(u,m,o,l),S=XU,C=rr.cursorRectangle;else if(u==="radial"&&U4(m)){var{cx:P,cy:U,radius:O,startAngle:H,endAngle:F}=QU(m);w={cx:P,cy:U,startAngle:H,endAngle:F,innerRadius:O,outerRadius:O},S=eV,C=rr.cursorLine}else w={points:Ure(u,m,o)},S=$U,C=rr.cursorLine;var G=typeof f=="object"&&"className"in f?f.className:void 0,M=rm(rm(rm(rm({stroke:"#ccc",pointerEvents:"none"},o),w),zT(f)),{},{payload:_,payloadIndex:E,className:Pt("recharts-tooltip-cursor",G)});return N.createElement(ya,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:C},N.createElement(pue,{cursor:f,cursorComp:S,cursorProps:M}))}function gue(t){var e=Ole(),n=OU(),r=Py(),i=Fle();return e==null||n==null||r==null||i==null?null:N.createElement(mue,wx({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var p6=N.createContext(null),yue=()=>N.useContext(p6),Ob={exports:{}},i2;function vue(){return i2||(i2=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,h){this.fn=f,this.context=d,this.once=h||!1}function o(f,d,h,m,_){if(typeof h!="function")throw new TypeError("The listener must be a function");var E=new i(h,m||f,_),w=n?n+d:d;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],E]:f._events[w].push(E):(f._events[w]=E,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)e.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var _=0,E=m.length,w=new Array(E);_<E;_++)w[_]=m[_].fn;return w},u.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(d,h,m,_,E,w){var S=n?n+d:d;if(!this._events[S])return!1;var C=this._events[S],P=arguments.length,U,O;if(C.fn){switch(C.once&&this.removeListener(d,C.fn,void 0,!0),P){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,h),!0;case 3:return C.fn.call(C.context,h,m),!0;case 4:return C.fn.call(C.context,h,m,_),!0;case 5:return C.fn.call(C.context,h,m,_,E),!0;case 6:return C.fn.call(C.context,h,m,_,E,w),!0}for(O=1,U=new Array(P-1);O<P;O++)U[O-1]=arguments[O];C.fn.apply(C.context,U)}else{var H=C.length,F;for(O=0;O<H;O++)switch(C[O].once&&this.removeListener(d,C[O].fn,void 0,!0),P){case 1:C[O].fn.call(C[O].context);break;case 2:C[O].fn.call(C[O].context,h);break;case 3:C[O].fn.call(C[O].context,h,m);break;case 4:C[O].fn.call(C[O].context,h,m,_);break;default:if(!U)for(F=1,U=new Array(P-1);F<P;F++)U[F-1]=arguments[F];C[O].fn.apply(C[O].context,U)}}return!0},u.prototype.on=function(d,h,m){return o(this,d,h,m,!1)},u.prototype.once=function(d,h,m){return o(this,d,h,m,!0)},u.prototype.removeListener=function(d,h,m,_){var E=n?n+d:d;if(!this._events[E])return this;if(!h)return l(this,E),this;var w=this._events[E];if(w.fn)w.fn===h&&(!_||w.once)&&(!m||w.context===m)&&l(this,E);else{for(var S=0,C=[],P=w.length;S<P;S++)(w[S].fn!==h||_&&!w[S].once||m&&w[S].context!==m)&&C.push(w[S]);C.length?this._events[E]=C.length===1?C[0]:C:l(this,E)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(Ob)),Ob.exports}var _ue=vue();const bue=yo(_ue);var Sd=new bue,Ax="recharts.syncEvent.tooltip",o2="recharts.syncEvent.brush";function Eue(t,e){if(e){var n=Number.parseInt(e,10);if(!Ri(n))return t==null?void 0:t[n]}}var xue={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},m6=_r({name:"options",initialState:xue,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Tue=m6.reducer,{createEventEmitter:Sue}=m6.actions;function wue(t){return t.tooltip.syncInteraction}var Aue={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},g6=_r({name:"chartData",initialState:Aue,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:a2,setDataStartEndIndexes:Cue,setComputedData:Hme}=g6.actions,Iue=g6.reducer,Nue=["x","y"];function s2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s2(Object(n),!0).forEach(function(r){Rue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rue(t,e,n){return(e=Pue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pue(t){var e=Mue(t,"string");return typeof e=="symbol"?e:e+""}function Mue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Due(t,e){if(t==null)return{};var n,r,i=kue(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Oue(){var t=De(LS),e=De(US),n=Jt(),r=De(ZV),i=De(ga),o=Py(),l=Ry(),u=De(f=>f.rootProps.className);N.useEffect(()=>{if(t==null)return qd;var f=(d,h,m)=>{if(e!==m&&t===d){if(r==="index"){var _;if(l&&h!==null&&h!==void 0&&(_=h.payload)!==null&&_!==void 0&&_.coordinate&&h.payload.sourceViewBox){var E=h.payload.coordinate,{x:w,y:S}=E,C=Due(E,Nue),{x:P,y:U,width:O,height:H}=h.payload.sourceViewBox,F=Eu(Eu({},C),{},{x:l.x+(O?(w-P)/O:0)*l.width,y:l.y+(H?(S-U)/H:0)*l.height});n(Eu(Eu({},h),{},{payload:Eu(Eu({},h.payload),{},{coordinate:F})}))}else n(h);return}if(i!=null){var G;if(typeof r=="function"){var M={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},D=r(i,M);G=i[D]}else r==="value"&&(G=i.find(K=>String(K.value)===h.payload.label));var{coordinate:k}=h.payload;if(G==null||h.payload.active===!1||k==null||l==null){n(Tx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:B,y:z}=k,j=Math.min(B,l.x+l.width),L=Math.min(z,l.y+l.height),de={x:o==="horizontal"?G.coordinate:j,y:o==="horizontal"?L:G.coordinate},ge=Tx({active:h.payload.active,coordinate:de,dataKey:h.payload.dataKey,index:String(G.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(ge)}}};return Sd.on(Ax,f),()=>{Sd.off(Ax,f)}},[u,n,e,t,r,i,o,l])}function Lue(){var t=De(LS),e=De(US),n=Jt();N.useEffect(()=>{if(t==null)return qd;var r=(i,o,l)=>{e!==l&&t===i&&n(Cue(o))};return Sd.on(o2,r),()=>{Sd.off(o2,r)}},[n,e,t])}function Uue(){var t=Jt();N.useEffect(()=>{t(Sue())},[t]),Oue(),Lue()}function Vue(t,e,n,r,i,o){var l=De(E=>Hle(E,t,e)),u=De(US),f=De(LS),d=De(ZV),h=De(wue),m=h==null?void 0:h.active,_=Ry();N.useEffect(()=>{if(!m&&f!=null&&u!=null){var E=Tx({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:_,graphicalItemId:void 0});Sd.emit(Ax,f,E,u)}},[m,n,l,i,r,u,f,d,o,_])}function l2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(n),!0).forEach(function(r){zue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zue(t,e,n){return(e=que(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function que(t){var e=Bue(t,"string");return typeof e=="symbol"?e:e+""}function Bue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fue(t){return t.dataKey}function jue(t,e){return N.isValidElement(t)?N.cloneElement(t,e):typeof t=="function"?N.createElement(t,e):N.createElement(Ane,e)}var c2=[],Hue={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Gue(t){var e,n,r=Ur(t,Hue),{active:i,allowEscapeViewBox:o,animationDuration:l,animationEasing:u,content:f,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:_,position:E,reverseDirection:w,useTranslate3d:S,wrapperStyle:C,cursor:P,shared:U,trigger:O,defaultIndex:H,portal:F,axisId:G}=r,M=Jt(),D=typeof H=="number"?String(H):H;N.useEffect(()=>{M(qse({shared:U,trigger:O,axisId:G,active:i,defaultIndex:D}))},[M,U,O,G,i,D]);var k=Ry(),B=GU(),z=kse(U),{activeIndex:j,isActive:L}=(e=De(Ie=>Kle(Ie,z,O,D)))!==null&&e!==void 0?e:{},de=De(Ie=>$le(Ie,z,O,D)),ge=De(Ie=>d6(Ie,z,O,D)),K=De(Ie=>Gle(Ie,z,O,D)),ne=de,le=yue(),Q=(n=i??L)!==null&&n!==void 0?n:!1,[be,$]=uee([ne,Q]),te=z==="axis"?ge:void 0;Vue(z,O,K,te,j,Q);var pe=F??le;if(pe==null||k==null||z==null)return null;var _e=ne??c2;Q||(_e=c2),d&&_e.length&&(_e=OZ(_e.filter(Ie=>Ie.value!=null&&(Ie.hide!==!0||r.includeHidden)),_,Fue));var Ee=_e.length>0,Re=N.createElement(Dne,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:h,active:Q,coordinate:K,hasPayload:Ee,offset:m,position:E,reverseDirection:w,useTranslate3d:S,viewBox:k,wrapperStyle:C,lastBoundingBox:be,innerRef:$,hasPortalFromProps:!!F},jue(f,u2(u2({},r),{},{payload:_e,label:te,active:Q,activeIndex:j,coordinate:K,accessibilityLayer:B})));return N.createElement(N.Fragment,null,g4.createPortal(Re,pe),Q&&N.createElement(gue,{cursor:P,tooltipEventType:z,coordinate:K,payload:_e,index:j}))}var y6=t=>null;y6.displayName="Cell";function $ue(t,e,n){return(e=Kue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kue(t){var e=Yue(t,"string");return typeof e=="symbol"?e:e+""}function Yue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Wue{constructor(e){$ue(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function f2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(n),!0).forEach(function(r){Xue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xue(t,e,n){return(e=Que(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Que(t){var e=Zue(t,"string");return typeof e=="symbol"?e:e+""}function Zue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ece={cacheSize:2e3,enableCache:!0},v6=Jue({},ece),d2=new Wue(v6.cacheSize),tce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},h2="recharts_measurement_span";function nce(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(u)}var p2=(t,e)=>{try{var n=document.getElementById(h2);n||(n=document.createElement("span"),n.setAttribute("id",h2),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,tce,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Zf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||$d.isSsr)return{width:0,height:0};if(!v6.enableCache)return p2(e,n);var r=nce(e,n),i=d2.get(r);if(i)return i;var o=p2(e,n);return d2.set(r,o),o},m2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,g2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ice=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},oce=Object.keys(_6),Nu="NaN";function ace(t,e){return t*_6[e]}class pr{static parse(e){var n,[,r,i]=(n=ice.exec(e))!==null&&n!==void 0?n:[];return new pr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ri(e)&&(this.unit=""),n!==""&&!rce.test(n)&&(this.num=NaN,this.unit=""),oce.includes(n)&&(this.num=ace(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new pr(NaN,""):new pr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new pr(NaN,""):new pr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new pr(NaN,""):new pr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new pr(NaN,""):new pr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ri(this.num)}}function b6(t){if(t.includes(Nu))return Nu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=m2.exec(e))!==null&&n!==void 0?n:[],l=pr.parse(r??""),u=pr.parse(o??""),f=i==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return Nu;e=e.replace(m2,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,h,m,_]=(d=g2.exec(e))!==null&&d!==void 0?d:[],E=pr.parse(h??""),w=pr.parse(_??""),S=m==="+"?E.add(w):E.subtract(w);if(S.isNaN())return Nu;e=e.replace(g2,S.toString())}return e}var y2=/\(([^()]*)\)/;function sce(t){for(var e=t,n;(n=y2.exec(e))!=null;){var[,r]=n;e=e.replace(y2,b6(r))}return e}function lce(t){var e=t.replace(/\s+/g,"");return e=sce(e),e=b6(e),e}function uce(t){try{return lce(t)}catch{return Nu}}function Lb(t){var e=uce(t.slice(5,-1));return e===Nu?"":e}var cce=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],fce=["dx","dy","angle","className","breakAll"];function Cx(){return Cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cx.apply(null,arguments)}function v2(t,e){if(t==null)return{};var n,r,i=dce(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var E6=/[ \f\n\r\t\v\u2028\u2029]+/,x6=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];In(e)||(n?i=e.toString().split(""):i=e.toString().split(E6));var o=i.map(u=>({word:u,width:Zf(u,r).width})),l=n?0:Zf("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}};function hce(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var T6=(t,e,n,r)=>t.reduce((i,o)=>{var{word:l,width:u}=o,f=i[i.length-1];if(f&&u!=null&&(e==null||r||f.width+u+n<Number(e)))f.words.push(l),f.width+=u+n;else{var d={words:[l],width:u};i.push(d)}return i},[]),S6=t=>t.reduce((e,n)=>e.width>n.width?e:n),pce="",_2=(t,e,n,r,i,o,l,u)=>{var f=t.slice(0,e),d=x6({breakAll:n,style:r,children:f+pce});if(!d)return[!1,[]];var h=T6(d.wordsWithComputedWidth,o,l,u),m=h.length>i||S6(h).width>Number(o);return[m,h]},mce=(t,e,n,r,i)=>{var{maxLines:o,children:l,style:u,breakAll:f}=t,d=Pe(o),h=String(l),m=T6(e,r,n,i);if(!d||i)return m;var _=m.length>o||S6(m).width>Number(r);if(!_)return m;for(var E=0,w=h.length-1,S=0,C;E<=w&&S<=h.length-1;){var P=Math.floor((E+w)/2),U=P-1,[O,H]=_2(h,U,f,u,o,r,n,i),[F]=_2(h,P,f,u,o,r,n,i);if(!O&&!F&&(E=P+1),O&&F&&(w=P-1),!O&&F){C=H;break}S++}return C||m},b2=t=>{var e=In(t)?[]:t.toString().split(E6);return[{words:e,width:void 0}]},gce=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=t;if((e||n)&&!$d.isSsr){var u,f,d=x6({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;u=h,f=m}else return b2(r);return mce({breakAll:o,children:r,maxLines:l,style:i},u,f,e,!!n)}return b2(r)},w6="#808080",yce={angle:0,breakAll:!1,capHeight:"0.71em",fill:w6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},lw=N.forwardRef((t,e)=>{var n=Ur(t,yce),{x:r,y:i,lineHeight:o,capHeight:l,fill:u,scaleToFit:f,textAnchor:d,verticalAnchor:h}=n,m=v2(n,cce),_=N.useMemo(()=>gce({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:f,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,f,m.style,m.width]),{dx:E,dy:w,angle:S,className:C,breakAll:P}=m,U=v2(m,fce);if(!po(r)||!po(i)||_.length===0)return null;var O=Number(r)+(Pe(E)?E:0),H=Number(i)+(Pe(w)?w:0);if(!Wt(O)||!Wt(H))return null;var F;switch(h){case"start":F=Lb("calc(".concat(l,")"));break;case"middle":F=Lb("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:F=Lb("calc(".concat(_.length-1," * -").concat(o,")"));break}var G=[];if(f){var M=_[0].width,{width:D}=m;G.push("scale(".concat(Pe(D)&&Pe(M)?D/M:1,")"))}return S&&G.push("rotate(".concat(S,", ").concat(O,", ").concat(H,")")),G.length&&(U.transform=G.join(" ")),N.createElement("text",Cx({},ii(U),{ref:e,x:O,y:H,className:Pt("recharts-text",C),textAnchor:d,fill:u.includes("url")?w6:u}),_.map((k,B)=>{var z=k.words.join(P?"":" ");return N.createElement("tspan",{x:O,dy:B===0?F:o,key:"".concat(z,"-").concat(B)},z)}))});lw.displayName="Text";var vce=["labelRef"];function _ce(t,e){if(t==null)return{};var n,r,i=bce(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(r){Ece(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ece(t,e,n){return(e=xce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xce(t){var e=Tce(t,"string");return typeof e=="symbol"?e:e+""}function Tce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bo(){return Bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bo.apply(null,arguments)}var A6=N.createContext(null),Sce=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:l,children:u}=t,f=N.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:l}),[e,n,r,i,o,l]);return N.createElement(A6.Provider,{value:f},u)},C6=()=>{var t=N.useContext(A6),e=Ry();return t||kU(e)},wce=N.createContext(null),Ace=()=>{var t=N.useContext(wce),e=De(i3);return t||e},Cce=t=>{var{value:e,formatter:n}=t,r=In(t.children)?e:t.children;return typeof n=="function"?n(r):r},uw=t=>t!=null&&typeof t=="function",Ice=(t,e)=>{var n=yr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Nce=(t,e,n,r,i)=>{var{offset:o,className:l}=t,{cx:u,cy:f,innerRadius:d,outerRadius:h,startAngle:m,endAngle:_,clockWise:E}=i,w=(d+h)/2,S=Ice(m,_),C=S>=0?1:-1,P,U;switch(e){case"insideStart":P=m+C*o,U=E;break;case"insideEnd":P=_-C*o,U=!E;break;case"end":P=_+C*o,U=E;break;default:throw new Error("Unsupported position ".concat(e))}U=S<=0?U:!U;var O=Bn(u,f,w,P),H=Bn(u,f,w,P+(U?1:-1)*359),F="M".concat(O.x,",").concat(O.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(U?0:1,`,
    `).concat(H.x,",").concat(H.y),G=In(t.id)?fd("recharts-radial-line-"):t.id;return N.createElement("text",Bo({},r,{dominantBaseline:"central",className:Pt("recharts-radial-bar-label",l)}),N.createElement("defs",null,N.createElement("path",{id:G,d:F})),N.createElement("textPath",{xlinkHref:"#".concat(G)},n))},Rce=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:u,endAngle:f}=t,d=(u+f)/2;if(n==="outside"){var{x:h,y:m}=Bn(r,i,l+e,d);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var _=(o+l)/2,{x:E,y:w}=Bn(r,i,_,d);return{x:E,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Ix=t=>"cx"in t&&Pe(t.cx),Pce=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,o;n!=null&&!Ix(n)&&(o=n);var{x:l,y:u,upperWidth:f,lowerWidth:d,height:h}=e,m=l,_=l+(f-d)/2,E=(m+_)/2,w=(f+d)/2,S=m+f/2,C=h>=0?1:-1,P=C*r,U=C>0?"end":"start",O=C>0?"start":"end",H=f>=0?1:-1,F=H*r,G=H>0?"end":"start",M=H>0?"start":"end";if(i==="top"){var D={x:m+f/2,y:u-P,textAnchor:"middle",verticalAnchor:U};return Kt(Kt({},D),o?{height:Math.max(u-o.y,0),width:f}:{})}if(i==="bottom"){var k={x:_+d/2,y:u+h+P,textAnchor:"middle",verticalAnchor:O};return Kt(Kt({},k),o?{height:Math.max(o.y+o.height-(u+h),0),width:d}:{})}if(i==="left"){var B={x:E-F,y:u+h/2,textAnchor:G,verticalAnchor:"middle"};return Kt(Kt({},B),o?{width:Math.max(B.x-o.x,0),height:h}:{})}if(i==="right"){var z={x:E+w+F,y:u+h/2,textAnchor:M,verticalAnchor:"middle"};return Kt(Kt({},z),o?{width:Math.max(o.x+o.width-z.x,0),height:h}:{})}var j=o?{width:w,height:h}:{};return i==="insideLeft"?Kt({x:E+F,y:u+h/2,textAnchor:M,verticalAnchor:"middle"},j):i==="insideRight"?Kt({x:E+w-F,y:u+h/2,textAnchor:G,verticalAnchor:"middle"},j):i==="insideTop"?Kt({x:m+f/2,y:u+P,textAnchor:"middle",verticalAnchor:O},j):i==="insideBottom"?Kt({x:_+d/2,y:u+h-P,textAnchor:"middle",verticalAnchor:U},j):i==="insideTopLeft"?Kt({x:m+F,y:u+P,textAnchor:M,verticalAnchor:O},j):i==="insideTopRight"?Kt({x:m+f-F,y:u+P,textAnchor:G,verticalAnchor:O},j):i==="insideBottomLeft"?Kt({x:_+F,y:u+h-P,textAnchor:M,verticalAnchor:U},j):i==="insideBottomRight"?Kt({x:_+d-F,y:u+h-P,textAnchor:G,verticalAnchor:U},j):i&&typeof i=="object"&&(Pe(i.x)||ta(i.x))&&(Pe(i.y)||ta(i.y))?Kt({x:l+Pi(i.x,w),y:u+Pi(i.y,h),textAnchor:"end",verticalAnchor:"end"},j):Kt({x:S,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},j)},Mce={angle:0,offset:5,zIndex:rr.label,position:"middle",textBreakAll:!1};function Qa(t){var e=Ur(t,Mce),{viewBox:n,position:r,value:i,children:o,content:l,className:u="",textBreakAll:f,labelRef:d}=e,h=Ace(),m=C6(),_=r==="center"?m:h??m,E,w,S;if(n==null?E=_:Ix(n)?E=n:E=kU(n),!E||In(i)&&In(o)&&!N.isValidElement(l)&&typeof l!="function")return null;var C=Kt(Kt({},e),{},{viewBox:E});if(N.isValidElement(l)){var{labelRef:P}=C,U=_ce(C,vce);return N.cloneElement(l,U)}if(typeof l=="function"){if(w=N.createElement(l,C),N.isValidElement(w))return w}else w=Cce(e);var O=ii(e);if(Ix(E)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Nce(e,r,w,O,E);S=Rce(E,e.offset,e.position)}else S=Pce(e,E);return N.createElement(ya,{zIndex:e.zIndex},N.createElement(lw,Bo({ref:d,className:Pt("recharts-label",u)},O,S,{textAnchor:hce(O.textAnchor)?O.textAnchor:S.textAnchor,breakAll:f}),w))}Qa.displayName="Label";var Dce=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?N.createElement(Qa,Bo({key:"label-implicit"},r)):po(t)?N.createElement(Qa,Bo({key:"label-implicit",value:t},r)):N.isValidElement(t)?t.type===Qa?N.cloneElement(t,Kt({key:"label-implicit"},r)):N.createElement(Qa,Bo({key:"label-implicit",content:t},r)):uw(t)?N.createElement(Qa,Bo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?N.createElement(Qa,Bo({},t,{key:"label-implicit"},r)):null};function kce(t){var{label:e,labelRef:n}=t,r=C6();return Dce(e,r,n)||null}var Ub={},Vb={},x2;function Oce(){return x2||(x2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Vb)),Vb}var zb={},T2;function Lce(){return T2||(T2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(zb)),zb}var S2;function Uce(){return S2||(S2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Oce(),n=Lce(),r=KT();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(Ub)),Ub}var qb,w2;function Vce(){return w2||(w2=1,qb=Uce().last),qb}var zce=Vce();const qce=yo(zce);var Bce=["valueAccessor"],Fce=["dataKey","clockWise","id","textBreakAll","zIndex"];function Og(){return Og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Og.apply(null,arguments)}function A2(t,e){if(t==null)return{};var n,r,i=jce(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hce=t=>Array.isArray(t.value)?qce(t.value):t.value,I6=N.createContext(void 0),Gce=I6.Provider,N6=N.createContext(void 0);N6.Provider;function $ce(){return N.useContext(I6)}function Kce(){return N.useContext(N6)}function Tm(t){var{valueAccessor:e=Hce}=t,n=A2(t,Bce),{dataKey:r,clockWise:i,id:o,textBreakAll:l,zIndex:u}=n,f=A2(n,Fce),d=$ce(),h=Kce(),m=d||h;return!m||!m.length?null:N.createElement(ya,{zIndex:u??rr.label},N.createElement(ea,{className:"recharts-label-list"},m.map((_,E)=>{var w,S=In(r)?e(_,E):Xn(_&&_.payload,r),C=In(o)?{}:{id:"".concat(o,"-").concat(E)};return N.createElement(Qa,Og({key:"label-".concat(E)},ii(_),f,C,{fill:(w=n.fill)!==null&&w!==void 0?w:_.fill,parentViewBox:_.parentViewBox,value:S,textBreakAll:l,viewBox:_.viewBox,index:E,zIndex:0}))})))}Tm.displayName="LabelList";function Yce(t){var{label:e}=t;return e?e===!0?N.createElement(Tm,{key:"labelList-implicit"}):N.isValidElement(e)||uw(e)?N.createElement(Tm,{key:"labelList-implicit",content:e}):typeof e=="object"?N.createElement(Tm,Og({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Wce={radiusAxis:{},angleAxis:{}},R6=_r({name:"polarAxis",initialState:Wce,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Gme,removeRadiusAxis:$me,addAngleAxis:Kme,removeAngleAxis:Yme}=R6.actions,Jce=R6.reducer,Bb={exports:{}},Et={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C2;function Xce(){if(C2)return Et;C2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.for("react.view_transition"),E=Symbol.for("react.client.reference");function w(S){if(typeof S=="object"&&S!==null){var C=S.$$typeof;switch(C){case t:switch(S=S.type,S){case n:case i:case r:case f:case d:case _:return S;default:switch(S=S&&S.$$typeof,S){case l:case u:case m:case h:return S;case o:return S;default:return C}}case e:return C}}}return Et.ContextConsumer=o,Et.ContextProvider=l,Et.Element=t,Et.ForwardRef=u,Et.Fragment=n,Et.Lazy=m,Et.Memo=h,Et.Portal=e,Et.Profiler=i,Et.StrictMode=r,Et.Suspense=f,Et.SuspenseList=d,Et.isContextConsumer=function(S){return w(S)===o},Et.isContextProvider=function(S){return w(S)===l},Et.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},Et.isForwardRef=function(S){return w(S)===u},Et.isFragment=function(S){return w(S)===n},Et.isLazy=function(S){return w(S)===m},Et.isMemo=function(S){return w(S)===h},Et.isPortal=function(S){return w(S)===e},Et.isProfiler=function(S){return w(S)===i},Et.isStrictMode=function(S){return w(S)===r},Et.isSuspense=function(S){return w(S)===f},Et.isSuspenseList=function(S){return w(S)===d},Et.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===f||S===d||typeof S=="object"&&S!==null&&(S.$$typeof===m||S.$$typeof===h||S.$$typeof===l||S.$$typeof===o||S.$$typeof===u||S.$$typeof===E||S.getModuleId!==void 0)},Et.typeOf=w,Et}var I2;function Qce(){return I2||(I2=1,Bb.exports=Xce()),Bb.exports}var Zce=Qce(),N2=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",R2=null,Fb=null,P6=t=>{if(t===R2&&Array.isArray(Fb))return Fb;var e=[];return N.Children.forEach(t,n=>{In(n)||(Zce.isFragment(n)?e=e.concat(P6(n.props.children)):e.push(n))}),Fb=e,R2=t,e};function efe(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>N2(i)):r=[N2(e)],P6(t).forEach(i=>{var o=Xu(i,"type.displayName")||Xu(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var jb={},P2;function tfe(){return P2||(P2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(jb)),jb}var Hb,M2;function nfe(){return M2||(M2=1,Hb=tfe().isPlainObject),Hb}var rfe=nfe();const ife=yo(rfe);function D2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(n),!0).forEach(function(r){ofe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ofe(t,e,n){return(e=afe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function afe(t){var e=sfe(t,"string");return typeof e=="symbol"?e:e+""}function sfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lg(){return Lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lg.apply(null,arguments)}var O2=(t,e,n,r,i)=>{var o=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-o/2,",").concat(e+i),l+="L ".concat(t+n-o/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},lfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ufe=t=>{var e=Ur(t,lfe),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:u}=e,{animationEasing:f,animationDuration:d,animationBegin:h,isUpdateAnimationActive:m}=e,_=N.useRef(null),[E,w]=N.useState(-1),S=N.useRef(i),C=N.useRef(o),P=N.useRef(l),U=N.useRef(n),O=N.useRef(r),H=lS(t,"trapezoid-");if(N.useEffect(()=>{if(_.current&&_.current.getTotalLength)try{var de=_.current.getTotalLength();de&&w(de)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var F=Pt("recharts-trapezoid",u);if(!m)return N.createElement("g",null,N.createElement("path",Lg({},ii(e),{className:F,d:O2(n,r,i,o,l)})));var G=S.current,M=C.current,D=P.current,k=U.current,B=O.current,z="0px ".concat(E===-1?1:E,"px"),j="".concat(E,"px 0px"),L=KU(["strokeDasharray"],d,f);return N.createElement(sS,{animationId:H,key:H,canBegin:E>0,duration:d,easing:f,isActive:m,begin:h},de=>{var ge=zn(G,i,de),K=zn(M,o,de),ne=zn(D,l,de),le=zn(k,n,de),Q=zn(B,r,de);_.current&&(S.current=ge,C.current=K,P.current=ne,U.current=le,O.current=Q);var be=de>0?{transition:L,strokeDasharray:j}:{strokeDasharray:z};return N.createElement("path",Lg({},ii(e),{className:F,d:O2(le,Q,ge,K,ne),ref:_,style:k2(k2({},be),e.style)}))})},cfe=["option","shapeType","propTransformer","activeClassName"];function ffe(t,e){if(t==null)return{};var n,r,i=dfe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function L2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ug(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(n),!0).forEach(function(r){hfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hfe(t,e,n){return(e=pfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pfe(t){var e=mfe(t,"string");return typeof e=="symbol"?e:e+""}function mfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gfe(t,e){return Ug(Ug({},e),t)}function yfe(t,e){return t==="symbols"}function U2(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return N.createElement(XU,n);case"trapezoid":return N.createElement(ufe,n);case"sector":return N.createElement(eV,n);case"symbols":if(yfe(e))return N.createElement(L4,n);break;case"curve":return N.createElement($U,n);default:return null}}function vfe(t){return N.isValidElement(t)?t.props:t}function _fe(t){var{option:e,shapeType:n,propTransformer:r=gfe,activeClassName:i="recharts-active-shape"}=t,o=ffe(t,cfe),l;if(N.isValidElement(e))l=N.cloneElement(e,Ug(Ug({},o),vfe(e)));else if(typeof e=="function")l=e(o,o.index);else if(ife(e)&&typeof e!="boolean"){var u=r(e,o);l=N.createElement(U2,{shapeType:n,elementProps:u})}else{var f=o;l=N.createElement(U2,{shapeType:n,elementProps:f})}return o.isActive?N.createElement(ea,{className:i},l):l}var M6=(t,e,n)=>{var r=Jt();return(i,o)=>l=>{t==null||t(i,o,l),r(K3({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},D6=t=>{var e=Jt();return(n,r)=>i=>{t==null||t(n,r,i),e(Bse())}},k6=(t,e,n)=>{var r=Jt();return(i,o)=>l=>{t==null||t(i,o,l),r(Fse({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function bfe(t){var{tooltipEntrySettings:e}=t,n=Jt(),r=br(),i=N.useRef(null);return N.useLayoutEffect(()=>{r||(i.current===null?n(Use(e)):i.current!==e&&n(Vse({prev:i.current,next:e})),i.current=e)},[e,n,r]),N.useLayoutEffect(()=>()=>{i.current&&(n(zse(i.current)),i.current=null)},[n]),null}function Efe(t){var{legendPayload:e}=t,n=Jt(),r=br(),i=N.useRef(null);return N.useLayoutEffect(()=>{r||(i.current===null?n(vne(e)):i.current!==e&&n(_ne({prev:i.current,next:e})),i.current=e)},[n,r,e]),N.useLayoutEffect(()=>()=>{i.current&&(n(bne(i.current)),i.current=null)},[n]),null}var Gb,xfe=()=>{var[t]=N.useState(()=>fd("uid-"));return t},Tfe=(Gb=Gz.useId)!==null&&Gb!==void 0?Gb:xfe;function O6(t,e){var n=Tfe();return e||(t?"".concat(t,"-").concat(n):n)}var Sfe=N.createContext(void 0),wfe=t=>{var{id:e,type:n,children:r}=t,i=O6("recharts-".concat(n),e);return N.createElement(Sfe.Provider,{value:i},r(i))},Afe={cartesianItems:[],polarItems:[]},L6=_r({name:"graphicalItems",initialState:Afe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Ot()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ii(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Ot()},removeCartesianGraphicalItem:{reducer(t,e){var n=Ii(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Ot()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Ot()},removePolarGraphicalItem:{reducer(t,e){var n=Ii(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Ot()}}}),{addCartesianGraphicalItem:Cfe,replaceCartesianGraphicalItem:Ife,removeCartesianGraphicalItem:Nfe,addPolarGraphicalItem:Wme,removePolarGraphicalItem:Jme}=L6.actions,Rfe=L6.reducer,Pfe=t=>{var e=Jt(),n=N.useRef(null);return N.useLayoutEffect(()=>{n.current===null?e(Cfe(t)):n.current!==t&&e(Ife({prev:n.current,next:t})),n.current=t},[e,t]),N.useLayoutEffect(()=>()=>{n.current&&(e(Nfe(n.current)),n.current=null)},[e]),null},Mfe=N.memo(Pfe);function V2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(n),!0).forEach(function(r){Dfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dfe(t,e,n){return(e=kfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kfe(t){var e=Ofe(t,"string");return typeof e=="symbol"?e:e+""}function Ofe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lfe={xAxis:{},yAxis:{},zAxis:{}},U6=_r({name:"cartesianAxis",initialState:Lfe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Ot()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Ot()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Ot()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Ot()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Ot()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Ot()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Ot()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Ot()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Ot()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var l=[...o,r].slice(-3);t.yAxis[n]=z2(z2({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:Ufe,replaceXAxis:Vfe,removeXAxis:zfe,addYAxis:qfe,replaceYAxis:Bfe,removeYAxis:Ffe,addZAxis:Xme,replaceZAxis:Qme,removeZAxis:Zme,updateYAxisWidth:jfe}=U6.actions,Hfe=U6.reducer,Gfe=ae([Nn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),$fe=ae([Gfe,fa,da],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),V6=()=>De($fe),Kfe="Invariant failed";function Yfe(t,e){throw new Error(Kfe)}var Wfe=["x","y"];function Nx(){return Nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nx.apply(null,arguments)}function q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q2(Object(n),!0).forEach(function(r){Jfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jfe(t,e,n){return(e=Xfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xfe(t){var e=Qfe(t,"string");return typeof e=="symbol"?e:e+""}function Qfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zfe(t,e){if(t==null)return{};var n,r,i=ede(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ede(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tde(t,e){var{x:n,y:r}=t,i=Zfe(t,Wfe),o="".concat(n),l=parseInt(o,10),u="".concat(r),f=parseInt(u,10),d="".concat(e.height||i.height),h=parseInt(d,10),m="".concat(e.width||i.width),_=parseInt(m,10);return zf(zf(zf(zf(zf({},e),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:h,width:_,name:e.name,radius:e.radius})}function Vg(t){return N.createElement(_fe,Nx({shapeType:"rectangle",propTransformer:tde,activeClassName:"recharts-active-bar"},t))}var nde=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Pe(e))return e;var o=Pe(r)||In(r);return o?e(r,i):(o||Yfe(),n)}},rde={},z6=_r({name:"errorBars",initialState:rde,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:ege,replaceErrorBar:tge,removeErrorBar:nge}=z6.actions,ide=z6.reducer,ode=["children"];function ade(t,e){if(t==null)return{};var n,r,i=sde(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lde={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ude=N.createContext(lde);function cde(t){var{children:e}=t,n=ade(t,ode);return N.createElement(ude.Provider,{value:n},e)}function q6(t,e){var n,r,i=De(d=>pa(d,t)),o=De(d=>ma(d,e)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Tn.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:Sn.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function fde(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=V6(),{needClipX:o,needClipY:l,needClip:u}=q6(e,n);if(!u||!i)return null;var{x:f,y:d,width:h,height:m}=i;return N.createElement("clipPath",{id:"clipPath-".concat(r)},N.createElement("rect",{x:o?f:f-h/2,y:l?d:d-m/2,width:o?h:h*2,height:l?m:m*2}))}function dde(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Wt(t.zIndex)?t.zIndex:e}var $b={exports:{}},Kb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B2;function hde(){if(B2)return Kb;B2=1;var t=sc();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,u=t.useDebugValue;return Kb.useSyncExternalStoreWithSelector=function(f,d,h,m,_){var E=i(null);if(E.current===null){var w={hasValue:!1,value:null};E.current=w}else w=E.current;E=l(function(){function C(F){if(!P){if(P=!0,U=F,F=m(F),_!==void 0&&w.hasValue){var G=w.value;if(_(G,F))return O=G}return O=F}if(G=O,n(U,F))return G;var M=m(F);return _!==void 0&&_(G,M)?(U=F,G):(U=F,O=M)}var P=!1,U,O,H=h===void 0?null:h;return[function(){return C(d())},H===null?void 0:function(){return C(H())}]},[d,h,m,_]);var S=r(f,E[0],E[1]);return o(function(){w.hasValue=!0,w.value=S},[S]),u(S),S},Kb}var F2;function pde(){return F2||(F2=1,$b.exports=hde()),$b.exports}pde();function mde(t){t()}function gde(){let t=null,e=null;return{clear(){t=null,e=null},notify(){mde(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var j2={notify(){},get:()=>[]};function yde(t,e){let n,r=j2,i=0,o=!1;function l(S){h();const C=r.subscribe(S);let P=!1;return()=>{P||(P=!0,C(),m())}}function u(){r.notify()}function f(){w.onStateChange&&w.onStateChange()}function d(){return o}function h(){i++,n||(n=t.subscribe(f),r=gde())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=j2)}function _(){o||(o=!0,h())}function E(){o&&(o=!1,m())}const w={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:d,trySubscribe:_,tryUnsubscribe:E,getListeners:()=>r};return w}var vde=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_de=vde(),bde=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ede=bde(),xde=()=>_de||Ede?N.useLayoutEffect:N.useEffect,Tde=xde();function H2(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Sde(t,e){if(H2(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!H2(t[n[i]],e[n[i]]))return!1;return!0}var Yb=Symbol.for("react-redux-context"),Wb=typeof globalThis<"u"?globalThis:{};function wde(){if(!N.createContext)return{};const t=Wb[Yb]??(Wb[Yb]=new Map);let e=t.get(N.createContext);return e||(e=N.createContext(null),t.set(N.createContext,e)),e}var Ade=wde();function Cde(t){const{children:e,context:n,serverState:r,store:i}=t,o=N.useMemo(()=>{const f=yde(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=N.useMemo(()=>i.getState(),[i]);Tde(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,l]);const u=n||Ade;return N.createElement(u.Provider,{value:o},e)}var Ide=Cde,Nde=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Rde(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function cw(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Nde.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Sde(t[r],e[r]))return!1}else if(!Rde(t[r],e[r]))return!1;return!0}var Pde=["onMouseEnter","onMouseLeave","onClick"],Mde=["value","background","tooltipPosition"],Dde=["id"],kde=["onMouseEnter","onClick","onMouseLeave"];function sa(){return sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sa.apply(null,arguments)}function G2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(n),!0).forEach(function(r){Ode(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ode(t,e,n){return(e=Lde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lde(t){var e=Ude(t,"string");return typeof e=="symbol"?e:e+""}function Ude(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zg(t,e){if(t==null)return{};var n,r,i=Vde(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zde=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:NU(n,e),payload:t}]},qde=N.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:l,unit:u,tooltipType:f}=t,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:NU(o,e),hide:l,type:f,color:i,unit:u}};return N.createElement(bfe,{tooltipEntrySettings:d})});function Bde(t){var e=De(ac),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:l,onMouseLeave:u,onClick:f}=o,d=zg(o,Pde),h=M6(l,r),m=D6(u),_=k6(f,r);if(!i||n==null)return null;var E=zT(i);return N.createElement(ya,{zIndex:dde(i,rr.barBackground)},n.map((w,S)=>{var{value:C,background:P,tooltipPosition:U}=w,O=zg(w,Mde);if(!P)return null;var H=h(w,S),F=m(w,S),G=_(w,S),M=tr(tr(tr(tr(tr({option:i,isActive:String(S)===e},O),{},{fill:"#eee"},P),E),$T(d,w,S)),{},{onMouseEnter:H,onMouseLeave:F,onClick:G,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return N.createElement(Vg,sa({key:"background-bar-".concat(S)},M))}))}function Fde(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(o=>{var l={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return tr(tr({},l),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:l,fill:o.fill})});return N.createElement(Gce,{value:e?i:void 0},n)}function jde(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:o,dataKey:l}=t,u=De(ac),f=De(s6),d=n&&String(o)===u&&(f==null||l===f),h=d?n:e;return d?N.createElement(ya,{zIndex:rr.activeBar},N.createElement(Vg,sa({},r,{name:String(r.name)},i,{isActive:d,option:h,index:o,dataKey:l}))):N.createElement(Vg,sa({},r,{name:String(r.name)},i,{isActive:d,option:h,index:o,dataKey:l}))}function Hde(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:o}=t;return N.createElement(Vg,sa({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:o}))}function Gde(t){var e,{data:n,props:r}=t,i=(e=Zo(r))!==null&&e!==void 0?e:{},{id:o}=i,l=zg(i,Dde),{shape:u,dataKey:f,activeBar:d}=r,{onMouseEnter:h,onClick:m,onMouseLeave:_}=r,E=zg(r,kde),w=M6(h,f),S=D6(_),C=k6(m,f);return n?N.createElement(N.Fragment,null,n.map((P,U)=>N.createElement(ea,sa({key:"rectangle-".concat(P==null?void 0:P.x,"-").concat(P==null?void 0:P.y,"-").concat(P==null?void 0:P.value,"-").concat(U),className:"recharts-bar-rectangle"},$T(E,P,U),{onMouseEnter:w(P,U),onMouseLeave:S(P,U),onClick:C(P,U)}),d?N.createElement(jde,{shape:u,activeBar:d,baseProps:l,entry:P,index:U,dataKey:f}):N.createElement(Hde,{shape:u,baseProps:l,entry:P,index:U,dataKey:f})))):null}function $de(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:l,animationDuration:u,animationEasing:f,onAnimationEnd:d,onAnimationStart:h}=e,m=n.current,_=lS(e,"recharts-bar-"),[E,w]=N.useState(!1),S=!E,C=N.useCallback(()=>{typeof d=="function"&&d(),w(!1)},[d]),P=N.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return N.createElement(Fde,{showLabels:S,rects:r},N.createElement(sS,{animationId:_,begin:l,duration:u,isActive:o,easing:f,onAnimationEnd:C,onAnimationStart:P,key:_},U=>{var O=U===1?r:r==null?void 0:r.map((H,F)=>{var G=m&&m[F];if(G)return tr(tr({},H),{},{x:zn(G.x,H.x,U),y:zn(G.y,H.y,U),width:zn(G.width,H.width,U),height:zn(G.height,H.height,U)});if(i==="horizontal"){var M=zn(0,H.height,U),D=zn(H.stackedBarStart,H.y,U);return tr(tr({},H),{},{y:D,height:M})}var k=zn(0,H.width,U),B=zn(H.stackedBarStart,H.x,U);return tr(tr({},H),{},{width:k,x:B})});return U>0&&(n.current=O??null),O==null?null:N.createElement(ea,null,N.createElement(Gde,{props:e,data:O}))}),N.createElement(Yce,{label:e.label}),e.children)}function Kde(t){var e=N.useRef(null);return N.createElement($de,{previousRectanglesRef:e,props:t})}var B6=0,Yde=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Xn(t,e)}};class Wde extends N.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:l,needClip:u,background:f,id:d}=this.props;if(e||n==null)return null;var h=Pt("recharts-bar",i),m=d;return N.createElement(ea,{className:h,id:d},u&&N.createElement("defs",null,N.createElement(fde,{clipPathId:m,xAxisId:o,yAxisId:l})),N.createElement(ea,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(m,")"):void 0},N.createElement(Bde,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),N.createElement(Kde,this.props)))}}var Jde={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:B6,xAxisId:0,yAxisId:0,zIndex:rr.bar};function Xde(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:d,isAnimationActive:h}=t,{needClip:m}=q6(e,n),_=Py(),E=br(),w=efe(t.children,y6),S=De(U=>whe(U,e,n,E,t.id,w));if(_!=="vertical"&&_!=="horizontal")return null;var C,P=S==null?void 0:S[0];return P==null||P.height==null||P.width==null?C=0:C=_==="vertical"?P.height/2:P.width/2,N.createElement(cde,{xAxisId:e,yAxisId:n,data:S,dataPointFormatter:Yde,errorBarOffset:C},N.createElement(Wde,sa({},t,{layout:_,needClip:m,data:S,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:d,isAnimationActive:h})))}function Qde(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:l,yAxis:u,xAxisTicks:f,yAxisTicks:d,stackedData:h,displayedData:m,offset:_,cells:E,parentViewBox:w,dataStartIndex:S}=t,C=e==="horizontal"?u:l,P=h?C.scale.domain():null,U=Ete({numericAxis:C}),O=C.scale(U);return m.map((H,F)=>{var G,M,D,k,B,z;h?G=mte(h[F+S],P):(G=Xn(H,n),Array.isArray(G)||(G=[U,G]));var j=nde(r,B6)(G[1],F);if(e==="horizontal"){var L,[de,ge]=[u.scale(G[0]),u.scale(G[1])];M=gM({axis:l,ticks:f,bandSize:o,offset:i.offset,entry:H,index:F}),D=(L=ge??de)!==null&&L!==void 0?L:void 0,k=i.size;var K=de-ge;if(B=Ri(K)?0:K,z={x:M,y:_.top,width:k,height:_.height},Math.abs(j)>0&&Math.abs(B)<Math.abs(j)){var ne=yr(B||j)*(Math.abs(j)-Math.abs(B));D-=ne,B+=ne}}else{var[le,Q]=[l.scale(G[0]),l.scale(G[1])];if(M=le,D=gM({axis:u,ticks:d,bandSize:o,offset:i.offset,entry:H,index:F}),k=Q-le,B=i.size,z={x:_.left,y:D,width:_.width,height:B},Math.abs(j)>0&&Math.abs(k)<Math.abs(j)){var be=yr(k||j)*(Math.abs(j)-Math.abs(k));k+=be}}if(M==null||D==null||k==null||B==null)return null;var $=tr(tr({},H),{},{stackedBarStart:O,x:M,y:D,width:k,height:B,value:h?G:G[1],payload:H,background:z,tooltipPosition:{x:M+k/2,y:D+B/2},parentViewBox:w},E&&E[F]&&E[F].props);return $}).filter(Boolean)}function Zde(t){var e=Ur(t,Jde),n=br();return N.createElement(wfe,{id:e.id,type:"bar"},r=>N.createElement(N.Fragment,null,N.createElement(Efe,{legendPayload:zde(e)}),N.createElement(qde,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),N.createElement(Mfe,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:bte(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),N.createElement(ya,{zIndex:e.zIndex},N.createElement(Xde,sa({},e,{id:r})))))}var F6=N.memo(Zde,cw);F6.displayName="Bar";function $2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(n),!0).forEach(function(r){ehe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ehe(t,e,n){return(e=the(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function the(t){var e=nhe(t,"string");return typeof e=="symbol"?e:e+""}function nhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rhe=(t,e)=>e,ihe=(t,e,n)=>n,ohe=(t,e,n,r)=>r,ahe=(t,e,n,r,i)=>i,ah=ae([jS,ahe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),she=ae([ah],t=>t==null?void 0:t.maxBarSize),lhe=(t,e,n,r,i,o)=>o,K2=(t,e,n)=>{var r=n??t;if(!In(r))return Pi(r,e,0)},uhe=ae([gt,jS,rhe,ihe,ohe],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),che=(t,e,n,r)=>{var i=gt(t);return i==="horizontal"?xx(t,"yAxis",n,r):xx(t,"xAxis",e,r)},fhe=(t,e,n)=>{var r=gt(t);return r==="horizontal"?KD(t,"xAxis",e):KD(t,"yAxis",n)},dhe=(t,e,n)=>{var r={},i=t.filter($y),o=t.filter(d=>d.stackId==null),l=i.reduce((d,h)=>(d[h.stackId]||(d[h.stackId]=[]),d[h.stackId].push(h),d),r),u=Object.entries(l).map(d=>{var[h,m]=d,_=m.map(w=>w.dataKey),E=K2(e,n,m[0].barSize);return{stackId:h,dataKeys:_,barSize:E}}),f=o.map(d=>{var h=[d.dataKey].filter(_=>_!=null),m=K2(e,n,d.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...u,...f]},hhe=ae([uhe,Rae,fhe],dhe),phe=(t,e,n,r,i)=>{var o,l,u=ah(t,e,n,r,i);if(u!=null){var f=gt(t),d=JV(t),{maxBarSize:h}=u,m=In(h)?d:h,_,E;return f==="horizontal"?(_=oc(t,"xAxis",e,r),E=ic(t,"xAxis",e,r)):(_=oc(t,"yAxis",n,r),E=ic(t,"yAxis",n,r)),(o=(l=dg(_,E,!0))!==null&&l!==void 0?l:m)!==null&&o!==void 0?o:0}},j6=(t,e,n,r)=>{var i=gt(t),o,l;return i==="horizontal"?(o=oc(t,"xAxis",e,r),l=ic(t,"xAxis",e,r)):(o=oc(t,"yAxis",n,r),l=ic(t,"yAxis",n,r)),dg(o,l)};function mhe(t,e,n,r,i){var o=r.length;if(!(o<1)){var l=Pi(t,n,0,!0),u,f=[];if(Wt(r[0].barSize)){var d=!1,h=n/o,m=r.reduce((P,U)=>P+(U.barSize||0),0);m+=(o-1)*l,m>=n&&(m-=(o-1)*l,l=0),m>=n&&h>0&&(d=!0,h*=.9,m=o*h);var _=(n-m)/2>>0,E={offset:_-l,size:0};u=r.reduce((P,U)=>{var O,H={stackId:U.stackId,dataKeys:U.dataKeys,position:{offset:E.offset+E.size+l,size:d?h:(O=U.barSize)!==null&&O!==void 0?O:0}},F=[...P,H];return E=F[F.length-1].position,F},f)}else{var w=Pi(e,n,0,!0);n-2*w-(o-1)*l<=0&&(l=0);var S=(n-2*w-(o-1)*l)/o;S>1&&(S>>=0);var C=Wt(i)?Math.min(S,i):S;u=r.reduce((P,U,O)=>[...P,{stackId:U.stackId,dataKeys:U.dataKeys,position:{offset:w+(S+l)*O+(S-C)/2,size:C}}],f)}return u}}var ghe=(t,e,n,r,i,o,l)=>{var u=In(l)?e:l,f=mhe(n,r,i!==o?i:o,t,u);return i!==o&&f!=null&&(f=f.map(d=>im(im({},d),{},{position:im(im({},d.position),{},{offset:d.position.offset-i/2})}))),f},yhe=ae([hhe,JV,Nae,XV,phe,j6,she],ghe),vhe=(t,e,n,r)=>oc(t,"xAxis",e,r),_he=(t,e,n,r)=>oc(t,"yAxis",n,r),bhe=(t,e,n,r)=>ic(t,"xAxis",e,r),Ehe=(t,e,n,r)=>ic(t,"yAxis",n,r),xhe=ae([yhe,ah],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),The=(t,e)=>{var n=BS(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:o}=i;if(o)return o.find(l=>l.key===n)}}}},She=ae([che,ah],The),whe=ae([Nn,rS,vhe,_he,bhe,Ehe,xhe,gt,MS,j6,She,ah,lhe],(t,e,n,r,i,o,l,u,f,d,h,m,_)=>{var{chartData:E,dataStartIndex:w,dataEndIndex:S}=f;if(!(m==null||l==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||o==null||d==null)){var{data:C}=m,P;if(C!=null&&C.length>0?P=C:P=E==null?void 0:E.slice(w,S+1),P!=null)return Qde({layout:u,barSettings:m,pos:l,parentViewBox:e,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:h,displayedData:P,offset:t,cells:_,dataStartIndex:w})}}),Ahe=t=>{var{chartData:e}=t,n=Jt(),r=br();return N.useEffect(()=>r?()=>{}:(n(a2(e)),()=>{n(a2(void 0))}),[e,n,r]),null},Y2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},H6=_r({name:"brush",initialState:Y2,reducers:{setBrushSettings(t,e){return e.payload==null?Y2:e.payload}}}),{setBrushSettings:rge}=H6.actions,Che=H6.reducer;function Ihe(t,e,n){return(e=Nhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nhe(t){var e=Rhe(t,"string");return typeof e=="symbol"?e:e+""}function Rhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class fw{static create(e){return new fw(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Ihe(fw,"EPS",1e-4);function Phe(t){return(t%180+180)%180}var Mhe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Phe(i),l=o*Math.PI/180,u=Math.atan(r/n),f=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},Dhe={dots:[],areas:[],lines:[]},G6=_r({name:"referenceElements",initialState:Dhe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ii(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ii(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ii(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:ige,removeDot:oge,addArea:age,removeArea:sge,addLine:lge,removeLine:uge}=G6.actions,khe=G6.reducer,Ohe=N.createContext(void 0),Lhe=t=>{var{children:e}=t,[n]=N.useState("".concat(fd("recharts"),"-clip")),r=V6();if(r==null)return null;var{x:i,y:o,width:l,height:u}=r;return N.createElement(Ohe.Provider,{value:n},N.createElement("defs",null,N.createElement("clipPath",{id:n},N.createElement("rect",{x:i,y:o,height:u,width:l}))),e)};function $6(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Uhe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Mhe(r,n)}function Vhe(t,e,n){var r=n==="width",{x:i,y:o,width:l,height:u}=t;return e===1?{start:r?i:o,end:r?i+l:o+u}:{start:r?i+l:o+u,end:r?i:o}}function qg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function zhe(t,e){return $6(t,e+1)}function qhe(t,e,n,r,i){for(var o=(r||[]).slice(),{start:l,end:u}=e,f=0,d=1,h=l,m=function(){var w=r==null?void 0:r[f];if(w===void 0)return{v:$6(r,d)};var S=f,C,P=()=>(C===void 0&&(C=n(w,S)),C),U=w.coordinate,O=f===0||qg(t,U,P,h,u);O||(f=0,h=l,d+=1),O&&(h=U+t*(P()/2+i),f+=d)},_;d<=o.length;)if(_=m(),_)return _.v;return[]}function W2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(n),!0).forEach(function(r){Bhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bhe(t,e,n){return(e=Fhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fhe(t){var e=jhe(t,"string");return typeof e=="symbol"?e:e+""}function jhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hhe(t,e,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:u}=e,{end:f}=e,d=function(_){var E=o[_],w,S=()=>(w===void 0&&(w=n(E,_)),w);if(_===l-1){var C=t*(E.coordinate+t*S()/2-f);o[_]=E=$n($n({},E),{},{tickCoord:C>0?E.coordinate-C*t:E.coordinate})}else o[_]=E=$n($n({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var P=qg(t,E.tickCoord,S,u,f);P&&(f=E.tickCoord-t*(S()/2+i),o[_]=$n($n({},E),{},{isShow:!0}))}},h=l-1;h>=0;h--)d(h);return o}function Ghe(t,e,n,r,i,o){var l=(r||[]).slice(),u=l.length,{start:f,end:d}=e;if(o){var h=r[u-1],m=n(h,u-1),_=t*(h.coordinate+t*m/2-d);if(l[u-1]=h=$n($n({},h),{},{tickCoord:_>0?h.coordinate-_*t:h.coordinate}),h.tickCoord!=null){var E=qg(t,h.tickCoord,()=>m,f,d);E&&(d=h.tickCoord-t*(m/2+i),l[u-1]=$n($n({},h),{},{isShow:!0}))}}for(var w=o?u-1:u,S=function(U){var O=l[U],H,F=()=>(H===void 0&&(H=n(O,U)),H);if(U===0){var G=t*(O.coordinate-t*F()/2-f);l[U]=O=$n($n({},O),{},{tickCoord:G<0?O.coordinate-G*t:O.coordinate})}else l[U]=O=$n($n({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var M=qg(t,O.tickCoord,F,f,d);M&&(f=O.tickCoord+t*(F()/2+i),l[U]=$n($n({},O),{},{isShow:!0}))}},C=0;C<w;C++)S(C);return l}function dw(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:u,interval:f,tickFormatter:d,unit:h,angle:m}=t;if(!i||!i.length||!r)return[];if(Pe(f)||$d.isSsr){var _;return(_=zhe(i,Pe(f)?f:0))!==null&&_!==void 0?_:[]}var E=[],w=u==="top"||u==="bottom"?"width":"height",S=h&&w==="width"?Zf(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},C=(O,H)=>{var F=typeof d=="function"?d(O.value,H):O.value;return w==="width"?Uhe(Zf(F,{fontSize:e,letterSpacing:n}),S,m):Zf(F,{fontSize:e,letterSpacing:n})[w]},P=i.length>=2?yr(i[1].coordinate-i[0].coordinate):1,U=Vhe(o,P,w);return f==="equidistantPreserveStart"?qhe(P,U,C,i,l):(f==="preserveStart"||f==="preserveStartEnd"?E=Ghe(P,U,C,i,l,f==="preserveStartEnd"):E=Hhe(P,U,C,i,l),E.filter(O=>O.isShow))}var $he=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,l=0;if(e){Array.from(e).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+o,d=l+f+u+(n?r:0);return Math.round(d)}return 0},Khe=["axisLine","width","height","className","hide","ticks","axisType"];function Yhe(t,e){if(t==null)return{};var n,r,i=Whe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Whe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tl(){return Tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tl.apply(null,arguments)}function J2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J2(Object(n),!0).forEach(function(r){Jhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jhe(t,e,n){return(e=Xhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xhe(t){var e=Qhe(t,"string");return typeof e=="symbol"?e:e+""}function Qhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ko={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:rr.axis};function Zhe(t){var{x:e,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:u,otherSvgProps:f}=t;if(!u)return null;var d=sn(sn(sn({},f),Zo(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!l||o==="bottom"&&l);d=sn(sn({},d),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var m=+(o==="left"&&!l||o==="right"&&l);d=sn(sn({},d),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return N.createElement("line",Tl({},d,{className:Pt("recharts-cartesian-axis-line",Xu(u,"className"))}))}function epe(t,e,n,r,i,o,l,u,f){var d,h,m,_,E,w,S=u?-1:1,C=t.tickSize||l,P=Pe(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":d=h=t.coordinate,_=n+ +!u*i,m=_-S*C,w=m-S*f,E=P;break;case"left":m=_=t.coordinate,h=e+ +!u*r,d=h-S*C,E=d-S*f,w=P;break;case"right":m=_=t.coordinate,h=e+ +u*r,d=h+S*C,E=d+S*f,w=P;break;default:d=h=t.coordinate,_=n+ +u*i,m=_+S*C,w=m+S*f,E=P;break}return{line:{x1:d,y1:m,x2:h,y2:_},tick:{x:E,y:w}}}function tpe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function npe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function rpe(t){var{option:e,tickProps:n,value:r}=t,i,o=Pt(n.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(e))i=N.cloneElement(e,sn(sn({},n),{},{className:o}));else if(typeof e=="function")i=e(sn(sn({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=Pt(l,e==null?void 0:e.className)),i=N.createElement(lw,Tl({},n,{className:l}),r)}return i}var ipe=N.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:l,unit:u,padding:f,tickTextProps:d,orientation:h,mirror:m,x:_,y:E,width:w,height:S,tickSize:C,tickMargin:P,fontSize:U,letterSpacing:O,getTicksConfig:H,events:F,axisType:G}=t,M=dw(sn(sn({},H),{},{ticks:n}),U,O),D=tpe(h,m),k=npe(h,m),B=Zo(H),z=zT(r),j={};typeof i=="object"&&(j=i);var L=sn(sn({},B),{},{fill:"none"},j),de=M.map(ne=>sn({entry:ne},epe(ne,_,E,w,S,h,C,m,P))),ge=de.map(ne=>{var{entry:le,line:Q}=ne;return N.createElement(ea,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(le.value,"-").concat(le.coordinate,"-").concat(le.tickCoord)},i&&N.createElement("line",Tl({},L,Q,{className:Pt("recharts-cartesian-axis-tick-line",Xu(i,"className"))})))}),K=de.map((ne,le)=>{var{entry:Q,tick:be}=ne,$=sn(sn(sn(sn({textAnchor:D,verticalAnchor:k},B),{},{stroke:"none",fill:o},z),be),{},{index:le,payload:Q,visibleTicksCount:M.length,tickFormatter:l,padding:f},d);return N.createElement(ea,Tl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},$T(F,Q,le)),r&&N.createElement(rpe,{option:r,tickProps:$,value:"".concat(typeof l=="function"?l(Q.value,le):Q.value).concat(u||"")}))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(G,"-ticks")},K.length>0&&N.createElement(ya,{zIndex:rr.label},N.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(G,"-tick-labels"),ref:e},K)),ge.length>0&&N.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(G,"-tick-lines")},ge))}),ope=N.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:u,axisType:f}=t,d=Yhe(t,Khe),[h,m]=N.useState(""),[_,E]=N.useState(""),w=N.useRef(null);N.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var C;return $he({ticks:w.current,label:(C=t.labelRef)===null||C===void 0?void 0:C.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=N.useCallback(C=>{if(C){var P=C.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=P;var U=P[0];if(U){var O=window.getComputedStyle(U),H=O.fontSize,F=O.letterSpacing;(H!==h||F!==_)&&(m(H),E(F))}}},[h,_]);return l||r!=null&&r<=0||i!=null&&i<=0?null:N.createElement(ya,{zIndex:t.zIndex},N.createElement(ea,{className:Pt("recharts-cartesian-axis",o)},N.createElement(Zhe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Zo(t)}),N.createElement(ipe,{ref:S,axisType:f,events:d,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:_,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),N.createElement(Sce,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},N.createElement(kce,{label:t.label,labelRef:t.labelRef}),t.children)))}),hw=N.forwardRef((t,e)=>{var n=Ur(t,Ko);return N.createElement(ope,Tl({},n,{ref:e}))});hw.displayName="CartesianAxis";var ape=["x1","y1","x2","y2","key"],spe=["offset"],lpe=["xAxisId","yAxisId"],upe=["xAxisId","yAxisId"];function X2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(n),!0).forEach(function(r){cpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cpe(t,e,n){return(e=fpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fpe(t){var e=dpe(t,"string");return typeof e=="symbol"?e:e+""}function dpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function al(){return al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},al.apply(null,arguments)}function Bg(t,e){if(t==null)return{};var n,r,i=hpe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ppe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:u}=t;return N.createElement("rect",{x:r,y:i,ry:u,width:o,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function K6(t){var{option:e,lineItemProps:n}=t,r;if(N.isValidElement(e))r=N.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:o,y1:l,x2:u,y2:f,key:d}=n,h=Bg(n,ape),m=(i=Zo(h))!==null&&i!==void 0?i:{},{offset:_}=m,E=Bg(m,spe);r=N.createElement("line",al({},E,{x1:o,y1:l,x2:u,y2:f,fill:"none",key:d}))}return r}function mpe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=t,u=Bg(t,lpe),f=i.map((d,h)=>{var m=Wn(Wn({},u),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(h),index:h});return N.createElement(K6,{key:"line-".concat(h),option:r,lineItemProps:m})});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function gpe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=t,u=Bg(t,upe),f=i.map((d,h)=>{var m=Wn(Wn({},u),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(h),index:h});return N.createElement(K6,{option:r,lineItemProps:m,key:"line-".concat(h)})});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function ype(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length||u==null)return null;var d=u.map(m=>Math.round(m+i-i)).sort((m,_)=>m-_);i!==d[0]&&d.unshift(0);var h=d.map((m,_)=>{var E=!d[_+1],w=E?i+l-m:d[_+1]-m;if(w<=0)return null;var S=_%e.length;return N.createElement("rect",{key:"react-".concat(_),y:m,x:r,height:w,width:o,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function vpe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var d=f.map(m=>Math.round(m+i-i)).sort((m,_)=>m-_);i!==d[0]&&d.unshift(0);var h=d.map((m,_)=>{var E=!d[_+1],w=E?i+l-m:d[_+1]-m;if(w<=0)return null;var S=_%n.length;return N.createElement("rect",{key:"react-".concat(_),x:m,y:o,width:w,height:u,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var _pe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return CU(dw(Wn(Wn(Wn({},Ko),n),{},{ticks:IU(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},bpe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return CU(dw(Wn(Wn(Wn({},Ko),n),{},{ticks:IU(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},Epe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:rr.grid};function Y6(t){var e=LU(),n=UU(),r=OU(),i=Wn(Wn({},Ur(t,Epe)),{},{x:Pe(t.x)?t.x:r.left,y:Pe(t.y)?t.y:r.top,width:Pe(t.width)?t.width:r.width,height:Pe(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:l,x:u,y:f,width:d,height:h,syncWithTicks:m,horizontalValues:_,verticalValues:E}=i,w=br(),S=De(k=>YD(k,"xAxis",o,w)),C=De(k=>YD(k,"yAxis",l,w));if(!mo(d)||!mo(h)||!Pe(u)||!Pe(f))return null;var P=i.verticalCoordinatesGenerator||_pe,U=i.horizontalCoordinatesGenerator||bpe,{horizontalPoints:O,verticalPoints:H}=i;if((!O||!O.length)&&typeof U=="function"){var F=_&&_.length,G=U({yAxis:C?Wn(Wn({},C),{},{ticks:F?_:C.ticks}):void 0,width:e??d,height:n??h,offset:r},F?!0:m);hg(Array.isArray(G),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof G,"]")),Array.isArray(G)&&(O=G)}if((!H||!H.length)&&typeof P=="function"){var M=E&&E.length,D=P({xAxis:S?Wn(Wn({},S),{},{ticks:M?E:S.ticks}):void 0,width:e??d,height:n??h,offset:r},M?!0:m);hg(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(H=D)}return N.createElement(ya,{zIndex:i.zIndex},N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(ppe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),N.createElement(ype,al({},i,{horizontalPoints:O})),N.createElement(vpe,al({},i,{verticalPoints:H})),N.createElement(mpe,al({},i,{offset:r,horizontalPoints:O,xAxis:S,yAxis:C})),N.createElement(gpe,al({},i,{offset:r,verticalPoints:H,xAxis:S,yAxis:C}))))}Y6.displayName="CartesianGrid";var xpe=["domain","range"],Tpe=["domain","range"];function Q2(t,e){if(t==null)return{};var n,r,i=Spe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Spe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Z2(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function W6(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=Q2(t,xpe),{domain:o,range:l}=e,u=Q2(e,Tpe);return!Z2(n,o)||!Z2(r,l)?!1:cw(i,u)}var wpe=["dangerouslySetInnerHTML","ticks"],Ape=["id"];function Rx(){return Rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rx.apply(null,arguments)}function ek(t,e){if(t==null)return{};var n,r,i=Cpe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ipe(t){var e=Jt(),n=N.useRef(null);return N.useLayoutEffect(()=>{n.current===null?e(Ufe(t)):n.current!==t&&e(Vfe({prev:n.current,next:t})),n.current=t},[t,e]),N.useLayoutEffect(()=>()=>{n.current&&(e(zfe(n.current)),n.current=null)},[e]),null}var Npe=t=>{var{xAxisId:e,className:n}=t,r=De(rS),i=br(),o="xAxis",l=De(C=>Sc(C,o,e,i)),u=De(C=>B3(C,o,e,i)),f=De(C=>U3(C,e)),d=De(C=>Cse(C,e)),h=De(C=>a3(C,e));if(f==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:_}=t,E=ek(t,wpe),{id:w}=h,S=ek(h,Ape);return N.createElement(hw,Rx({},E,S,{scale:l,x:d.x,y:d.y,width:f.width,height:f.height,className:Pt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:u,axisType:o}))},Rpe={allowDataOverflow:Tn.allowDataOverflow,allowDecimals:Tn.allowDecimals,allowDuplicatedCategory:Tn.allowDuplicatedCategory,angle:Tn.angle,axisLine:Ko.axisLine,height:Tn.height,hide:!1,includeHidden:Tn.includeHidden,interval:Tn.interval,minTickGap:Tn.minTickGap,mirror:Tn.mirror,orientation:Tn.orientation,padding:Tn.padding,reversed:Tn.reversed,scale:Tn.scale,tick:Tn.tick,tickCount:Tn.tickCount,tickLine:Ko.tickLine,tickSize:Ko.tickSize,type:Tn.type,xAxisId:0},Ppe=t=>{var e=Ur(t,Rpe);return N.createElement(N.Fragment,null,N.createElement(Ipe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),N.createElement(Npe,e))},J6=N.memo(Ppe,W6);J6.displayName="XAxis";var Mpe=["dangerouslySetInnerHTML","ticks"],Dpe=["id"];function Px(){return Px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Px.apply(null,arguments)}function tk(t,e){if(t==null)return{};var n,r,i=kpe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ope(t){var e=Jt(),n=N.useRef(null);return N.useLayoutEffect(()=>{n.current===null?e(qfe(t)):n.current!==t&&e(Bfe({prev:n.current,next:t})),n.current=t},[t,e]),N.useLayoutEffect(()=>()=>{n.current&&(e(Ffe(n.current)),n.current=null)},[e]),null}var Lpe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,o=N.useRef(null),l=N.useRef(null),u=De(rS),f=br(),d=Jt(),h="yAxis",m=De(F=>Sc(F,h,e,f)),_=De(F=>V3(F,e)),E=De(F=>Nse(F,e)),w=De(F=>B3(F,h,e,f)),S=De(F=>s3(F,e));if(N.useLayoutEffect(()=>{if(!(r!=="auto"||!_||uw(i)||N.isValidElement(i)||S==null)){var F=o.current;if(F){var G=F.getCalculatedWidth();Math.round(_.width)!==Math.round(G)&&d(jfe({id:e,width:G}))}}},[w,_,d,i,e,r,S]),_==null||E==null||S==null)return null;var{dangerouslySetInnerHTML:C,ticks:P}=t,U=tk(t,Mpe),{id:O}=S,H=tk(S,Dpe);return N.createElement(hw,Px({},U,H,{ref:o,labelRef:l,scale:m,x:E.x,y:E.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:_.width,height:_.height,className:Pt("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:w,axisType:h}))},Upe={allowDataOverflow:Sn.allowDataOverflow,allowDecimals:Sn.allowDecimals,allowDuplicatedCategory:Sn.allowDuplicatedCategory,angle:Sn.angle,axisLine:Ko.axisLine,hide:!1,includeHidden:Sn.includeHidden,interval:Sn.interval,minTickGap:Sn.minTickGap,mirror:Sn.mirror,orientation:Sn.orientation,padding:Sn.padding,reversed:Sn.reversed,scale:Sn.scale,tick:Sn.tick,tickCount:Sn.tickCount,tickLine:Ko.tickLine,tickSize:Ko.tickSize,type:Sn.type,width:Sn.width,yAxisId:0},Vpe=t=>{var e=Ur(t,Upe);return N.createElement(N.Fragment,null,N.createElement(Ope,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),N.createElement(Lpe,e))},X6=N.memo(Vpe,W6);X6.displayName="YAxis";var zpe=(t,e)=>e,pw=ae([zpe,gt,i3,yn,r6,ga,jle,Nn],Jle),mw=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},Q6=oi("mouseClick"),Z6=jd();Z6.startListening({actionCreator:Q6,effect:(t,e)=>{var n=t.payload,r=pw(e.getState(),mw(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(jse({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Mx=oi("mouseMove"),e5=jd(),om=null;e5.startListening({actionCreator:Mx,effect:(t,e)=>{var n=t.payload;om!==null&&cancelAnimationFrame(om);var r=mw(n);om=requestAnimationFrame(()=>{var i=e.getState(),o=QS(i,i.tooltip.settings.shared);if(o==="axis"){var l=pw(i,r);(l==null?void 0:l.activeIndex)!=null?e.dispatch(W3({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(Y3())}om=null})}});var nk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},t5=_r({name:"rootProps",initialState:nk,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:nk.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),qpe=t5.reducer,{updateOptions:Bpe}=t5.actions,n5=_r({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:cge}=n5.actions,Fpe=n5.reducer,r5=oi("keyDown"),i5=oi("focus"),gw=jd();gw.startListening({actionCreator:r5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=ZS(i,Ac(n),Zd(n),ih(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var f=ga(n);if(o==="Enter"){var d=kg(n,"axis","hover",String(i.index));e.dispatch(Sx({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=Dse(n),m=h==="left-to-right"?1:-1,_=o==="ArrowRight"?1:-1,E=u+_*m;if(!(f==null||E>=f.length||E<0)){var w=kg(n,"axis","hover",String(E));e.dispatch(Sx({active:!0,activeIndex:E.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});gw.startListening({actionCreator:i5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=kg(n,"axis","hover",String(o));e.dispatch(Sx({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var Zr=oi("externalEvent"),o5=jd(),Jb=new Map;o5.startListening({actionCreator:Zr,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,o=Jb.get(i);o!==void 0&&cancelAnimationFrame(o);var l=requestAnimationFrame(()=>{try{var u=e.getState(),f={activeCoordinate:Ile(u),activeDataKey:s6(u),activeIndex:ac(u),activeLabel:a6(u),activeTooltipIndex:ac(u),isTooltipActive:Nle(u)};n(f,r)}finally{Jb.delete(i)}});Jb.set(i,l)}}});var jpe=ae([wc],t=>t.tooltipItemPayloads),Hpe=ae([jpe,nh,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var l=e(o,n);return l}}}),a5=oi("touchMove"),s5=jd();s5.startListening({actionCreator:a5,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=QS(r,r.tooltip.settings.shared);if(i==="axis"){var o=pw(r,mw({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(W3({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var d=f.getAttribute(Ite),h=(l=f.getAttribute(Nte))!==null&&l!==void 0?l:void 0,m=Hpe(e.getState(),d,h);e.dispatch(K3({activeDataKey:h,activeIndex:d,activeCoordinate:m}))}}}});var Gpe=Q4({brush:Che,cartesianAxis:Hfe,chartData:Iue,errorBars:ide,graphicalItems:Rfe,layout:ute,legend:Ene,options:Tue,polarAxis:Jce,polarOptions:Fpe,referenceElements:khe,rootProps:qpe,tooltip:Hse,zIndex:cue}),$pe=function(e){return kee({reducer:Gpe,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([Z6.middleware,e5.middleware,gw.middleware,o5.middleware,s5.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(hU({type:"raf"}))},devTools:$d.devToolsEnabled})};function Kpe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=br(),o=N.useRef(null);if(i)return n;o.current==null&&(o.current=$pe(e));var l=YT;return N.createElement(Ide,{context:l,store:o.current},n)}function Ype(t){var{layout:e,margin:n}=t,r=Jt(),i=br();return N.useEffect(()=>{i||(r(ate(e)),r(ote(n)))},[r,i,e,n]),null}var Wpe=N.memo(Ype,cw);function Jpe(t){var e=Jt();return N.useEffect(()=>{e(Bpe(t))},[e,t]),null}function rk(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=O6("".concat(r).concat(e)),o=Jt();return N.useLayoutEffect(()=>(o(lue({zIndex:e,elementId:i,isPanorama:n})),()=>{o(uue({zIndex:e,isPanorama:n}))}),[o,e,i,n]),N.createElement("g",{tabIndex:-1,id:i})}function ik(t){var{children:e,isPanorama:n}=t,r=De(Qle);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),o=r.filter(l=>l>0);return N.createElement(N.Fragment,null,i.map(l=>N.createElement(rk,{key:l,zIndex:l,isPanorama:n})),e,o.map(l=>N.createElement(rk,{key:l,zIndex:l,isPanorama:n})))}var Xpe=["children"];function Qpe(t,e){if(t==null)return{};var n,r,i=Zpe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fg(){return Fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fg.apply(null,arguments)}var eme={width:"100%",height:"100%",display:"block"},tme=N.forwardRef((t,e)=>{var n=LU(),r=UU(),i=GU();if(!mo(n)||!mo(r))return null;var{children:o,otherAttributes:l,title:u,desc:f}=t,d,h;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0),N.createElement(m4,Fg({},l,{title:u,desc:f,role:h,tabIndex:d,width:n,height:r,style:eme,ref:e}),o)}),nme=t=>{var{children:e}=t,n=De(Ny);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return N.createElement(m4,{width:r,height:i,x:l,y:o},e)},ok=N.forwardRef((t,e)=>{var{children:n}=t,r=Qpe(t,Xpe),i=br();return i?N.createElement(nme,null,N.createElement(ik,{isPanorama:!0},n)):N.createElement(tme,Fg({ref:e},r),N.createElement(ik,{isPanorama:!1},n))});function rme(){var t=Jt(),[e,n]=N.useState(null),r=De(Cte);return N.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;Wt(o)&&o!==r&&t(lte(o))}},[e,t,r]),n}function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ime(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){ome(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ome(t,e,n){return(e=ame(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ame(t){var e=sme(t,"string");return typeof e=="symbol"?e:e+""}function sme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sl(){return Sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sl.apply(null,arguments)}var lme=()=>(Uue(),null);function jg(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var ume=N.forwardRef((t,e)=>{var n,r,i=N.useRef(null),[o,l]=N.useState({containerWidth:jg((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:jg((r=t.style)===null||r===void 0?void 0:r.height)}),u=N.useCallback((d,h)=>{l(m=>{var _=Math.round(d),E=Math.round(h);return m.containerWidth===_&&m.containerHeight===E?m:{containerWidth:_,containerHeight:E}})},[]),f=N.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=d.getBoundingClientRect();u(h,m);var _=w=>{var{width:S,height:C}=w[0].contentRect;u(S,C)},E=new ResizeObserver(_);E.observe(d),i.current=E}},[e,u]);return N.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[u]),N.createElement(N.Fragment,null,N.createElement(My,{width:o.containerWidth,height:o.containerHeight}),N.createElement("div",Sl({ref:f},t)))}),cme=N.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,o]=N.useState({containerWidth:jg(n),containerHeight:jg(r)}),l=N.useCallback((f,d)=>{o(h=>{var m=Math.round(f),_=Math.round(d);return h.containerWidth===m&&h.containerHeight===_?h:{containerWidth:m,containerHeight:_}})},[]),u=N.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:d,height:h}=f.getBoundingClientRect();l(d,h)}},[e,l]);return N.createElement(N.Fragment,null,N.createElement(My,{width:i.containerWidth,height:i.containerHeight}),N.createElement("div",Sl({ref:u},t)))}),fme=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return N.createElement(N.Fragment,null,N.createElement(My,{width:n,height:r}),N.createElement("div",Sl({ref:e},t)))}),dme=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return ta(n)||ta(r)?N.createElement(cme,Sl({},t,{ref:e})):N.createElement(fme,Sl({},t,{ref:e}))});function hme(t){return t===!0?ume:dme}var pme=N.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:_,onTouchEnd:E,onTouchMove:w,onTouchStart:S,style:C,width:P,responsive:U,dispatchTouchEvents:O=!0}=t,H=N.useRef(null),F=Jt(),[G,M]=N.useState(null),[D,k]=N.useState(null),B=rme(),z=iS(),j=(z==null?void 0:z.width)>0?z.width:P,L=(z==null?void 0:z.height)>0?z.height:i,de=N.useCallback(ce=>{B(ce),typeof e=="function"&&e(ce),M(ce),k(ce),ce!=null&&(H.current=ce)},[B,e,M,k]),ge=N.useCallback(ce=>{F(Q6(ce)),F(Zr({handler:o,reactEvent:ce}))},[F,o]),K=N.useCallback(ce=>{F(Mx(ce)),F(Zr({handler:d,reactEvent:ce}))},[F,d]),ne=N.useCallback(ce=>{F(Y3()),F(Zr({handler:h,reactEvent:ce}))},[F,h]),le=N.useCallback(ce=>{F(Mx(ce)),F(Zr({handler:m,reactEvent:ce}))},[F,m]),Q=N.useCallback(()=>{F(i5())},[F]),be=N.useCallback(ce=>{F(r5(ce.key))},[F]),$=N.useCallback(ce=>{F(Zr({handler:l,reactEvent:ce}))},[F,l]),te=N.useCallback(ce=>{F(Zr({handler:u,reactEvent:ce}))},[F,u]),pe=N.useCallback(ce=>{F(Zr({handler:f,reactEvent:ce}))},[F,f]),_e=N.useCallback(ce=>{F(Zr({handler:_,reactEvent:ce}))},[F,_]),Ee=N.useCallback(ce=>{F(Zr({handler:S,reactEvent:ce}))},[F,S]),Re=N.useCallback(ce=>{O&&F(a5(ce)),F(Zr({handler:w,reactEvent:ce}))},[F,O,w]),Ie=N.useCallback(ce=>{F(Zr({handler:E,reactEvent:ce}))},[F,E]),it=hme(U);return N.createElement(p6.Provider,{value:G},N.createElement(hQ.Provider,{value:D},N.createElement(it,{width:j??(C==null?void 0:C.width),height:L??(C==null?void 0:C.height),className:Pt("recharts-wrapper",r),style:ime({position:"relative",cursor:"default",width:j,height:L},C),onClick:ge,onContextMenu:$,onDoubleClick:te,onFocus:Q,onKeyDown:be,onMouseDown:pe,onMouseEnter:K,onMouseLeave:ne,onMouseMove:le,onMouseUp:_e,onTouchEnd:Ie,onTouchMove:Re,onTouchStart:Ee,ref:de},N.createElement(lme,null),n)))}),mme=["width","height","responsive","children","className","style","compact","title","desc"];function gme(t,e){if(t==null)return{};var n,r,i=yme(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vme=N.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:o,className:l,style:u,compact:f,title:d,desc:h}=t,m=gme(t,mme),_=Zo(m);return f?N.createElement(N.Fragment,null,N.createElement(My,{width:n,height:r}),N.createElement(ok,{otherAttributes:_,title:d,desc:h},o)):N.createElement(pme,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},N.createElement(ok,{otherAttributes:_,title:d,desc:h,ref:e},N.createElement(Lhe,null,o)))});function Dx(){return Dx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dx.apply(null,arguments)}var _me={top:5,right:5,bottom:5,left:5},bme={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:_me,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Eme=N.forwardRef(function(e,n){var r,i=Ur(e.categoricalChartProps,bme),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:d}=e,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return N.createElement(Kpe,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:o},N.createElement(Ahe,{chartData:d.data}),N.createElement(Wpe,{layout:i.layout,margin:i.margin}),N.createElement(Jpe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),N.createElement(vme,Dx({},i,{ref:n})))}),xme=["axis","item"],Tme=N.forwardRef((t,e)=>N.createElement(Eme,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xme,tooltipPayloadSearcher:Eue,categoricalChartProps:t,ref:e}));const sk=({logs:t,user:e,nutritionLogs:n=[],onDeleteLog:r})=>{const[i,o]=N.useState(new Date),[l,u]=N.useState(null),f=()=>{o(E=>{const w=new Date(E);return w.setMonth(E.getMonth()+1),w})},d=()=>{o(E=>{const w=new Date(E);return w.setMonth(E.getMonth()-1),w})},h=N.useMemo(()=>{var j;const E=i.getMonth(),w=i.getFullYear(),S=t.filter(L=>{const de=new Date(L.date);return de.getMonth()===E&&de.getFullYear()===w}),C=S.reduce((L,de)=>L+Number(de.calories||0),0),P=S.length,U=new Date,O=[];for(let L=6;L>=0;L--){const de=new Date;de.setDate(U.getDate()-L),de.toISOString().split("T")[0];const K=t.filter(ne=>{const le=new Date(ne.date);return le.getDate()===de.getDate()&&le.getMonth()===de.getMonth()&&le.getFullYear()===de.getFullYear()}).reduce((ne,le)=>ne+Number(le.calories||0),0);O.push({name:de.toLocaleDateString("es-ES",{weekday:"short"}),cals:K})}const F=n.filter(L=>{const de=new Date(L.date);return de.getDate()===U.getDate()&&de.getMonth()===U.getMonth()&&de.getFullYear()===U.getFullYear()}).reduce((L,de)=>L+de.calories,0),M=t.filter(L=>{const de=new Date(L.date);return de.getDate()===U.getDate()&&de.getMonth()===U.getMonth()&&de.getFullYear()===U.getFullYear()}).reduce((L,de)=>L+Number(de.calories||0),0),D=((j=e.dietPlan)==null?void 0:j.dailyCalories)||2e3,k=F-M,B=k/D*100;let z="text-green-500";return B>100||B>85?z="text-red-500":B>50&&(z="text-yellow-500"),{totalCalories:C,workoutsCount:P,chartData:O,consumedCalories:F,burnedCaloriesToday:M,goalCalories:D,statusColor:z,netCalories:k}},[t,i,n,e.dietPlan]),m=N.useMemo(()=>{const E=i.getFullYear(),w=i.getMonth(),S=new Date(E,w+1,0).getDate(),C=new Date(E,w,1).getDay(),P=C===0?6:C-1,U=[];for(let O=0;O<P;O++)U.push({day:null,log:null});for(let O=1;O<=S;O++){`${E}${String(w+1).padStart(2,"0")}${String(O).padStart(2,"0")}`;const H=t.find(F=>{const G=new Date(F.date);return G.getDate()===O&&G.getMonth()===w&&G.getFullYear()===E});U.push({day:O,log:H})}return U},[t,i]),_=i.toLocaleDateString("es-ES",{month:"long",year:"numeric"});return T.jsxs("div",{className:"space-y-6 animate-fade-in relative",children:[l&&T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",children:T.jsxs("div",{className:"bg-[var(--color-card)] w-full max-w-lg rounded-3xl border border-[var(--color-primary)] shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[T.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-start bg-[var(--color-bg)]",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold mb-1",children:"Detalles del Entrenamiento"}),T.jsx("h3",{className:"text-2xl font-bold text-[var(--color-text)] leading-tight",children:l.name}),T.jsx("p",{className:"text-sm text-[var(--color-primary)] font-medium mt-1",children:new Date(l.date).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),T.jsx("button",{onClick:()=>u(null),className:"p-2 hover:bg-gray-700 rounded-full transition-colors text-gray-400 hover:text-[var(--color-text)]",children:T.jsx(kx,{size:24})})]}),T.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:[T.jsxs("div",{className:"flex gap-4 mb-6",children:[T.jsxs("div",{className:"flex-1 bg-[var(--color-bg)] p-4 rounded-xl border border-gray-700 flex flex-col items-center justify-center text-center",children:[T.jsx(Op,{size:24,className:"text-[var(--color-primary)] mb-2"}),T.jsx("span",{className:"text-2xl font-bold text-[var(--color-text)]",children:l.calories}),T.jsx("span",{className:"text-xs text-gray-500 uppercase",children:"Caloras"})]}),T.jsxs("div",{className:"flex-1 bg-[var(--color-bg)] p-4 rounded-xl border border-gray-700 flex flex-col items-center justify-center text-center",children:[T.jsx(pk,{size:24,className:"text-[var(--color-secondary)] mb-2"}),T.jsx("span",{className:"text-2xl font-bold text-[var(--color-text)]",children:l.durationMinutes}),T.jsx("span",{className:"text-xs text-gray-500 uppercase",children:"Minutos"})]})]}),T.jsxs("div",{className:"bg-[var(--color-bg)] p-5 rounded-xl border border-gray-700",children:[T.jsxs("h4",{className:"text-sm font-bold text-gray-300 mb-3 flex items-center gap-2",children:[T.jsx(wm,{size:16,className:"text-[var(--color-primary)]"}),"Ejercicios y Notas"]}),T.jsx("p",{className:"text-gray-300 text-sm whitespace-pre-line leading-relaxed",children:l.description})]})]}),T.jsxs("div",{className:"p-4 border-t border-gray-700 bg-[var(--color-bg)] flex gap-3",children:[r&&T.jsx("button",{onClick:()=>{r(l.id),u(null)},className:"p-3 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white font-bold rounded-xl transition-colors flex items-center justify-center",children:T.jsx(Bu,{size:20})}),T.jsx("button",{onClick:()=>u(null),className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 text-white font-bold rounded-xl transition-colors",children:"Cerrar"})]})]})}),T.jsx("div",{className:"flex justify-between items-center mb-6",children:T.jsxs("div",{children:[T.jsxs("h1",{className:"text-2xl font-bold text-[var(--color-text)] flex items-center gap-2",children:["Hola, ",e.name," ",T.jsx(wm,{className:"text-[var(--color-primary)]",size:28})]}),T.jsx("p",{className:"text-[var(--color-text-secondary)]",children:new Date().toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})}),T.jsxs("div",{className:"mt-2 w-48",children:[T.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 mb-1",children:[T.jsx("span",{className:"uppercase font-bold text-[var(--color-primary)]",children:e.fitnessLevel}),T.jsxs("span",{children:[Math.floor(e.levelProgress||0),"%"]})]}),T.jsx("div",{className:"h-1.5 bg-gray-800 rounded-full overflow-hidden",children:T.jsx("div",{className:"h-full bg-[var(--color-primary)] transition-all duration-500",style:{width:`${e.levelProgress||0}%`}})})]})]})}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[T.jsxs("div",{className:"bg-[var(--color-card)] p-4 rounded-2xl border border-[var(--color-secondary)] shadow-lg flex flex-col items-center justify-center text-center relative overflow-hidden group hover:scale-[1.02] transition-transform",children:[T.jsx("div",{className:"absolute right-0 top-0 p-2 opacity-5 group-hover:opacity-10 transition-opacity",children:T.jsx(Im,{size:40})}),T.jsx(Im,{size:24,className:"text-[var(--color-primary)] mb-2 relative z-10"}),T.jsx("span",{className:"text-2xl font-black text-[var(--color-text)] relative z-10",children:h.goalCalories}),T.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider relative z-10",children:"Meta Diaria"})]}),T.jsxs("div",{className:"bg-[var(--color-card)] p-4 rounded-2xl border border-[var(--color-secondary)] shadow-lg flex flex-col items-center justify-center text-center relative overflow-hidden group hover:scale-[1.02] transition-transform",children:[T.jsx("div",{className:"absolute right-0 top-0 p-2 opacity-5 group-hover:opacity-10 transition-opacity",children:T.jsx(td,{size:40})}),T.jsx(td,{size:24,className:"text-[var(--color-primary)] mb-2 relative z-10"}),T.jsx("span",{className:"text-2xl font-black text-[var(--color-text)] relative z-10",children:h.consumedCalories}),T.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider relative z-10",children:"Consumidas"})]}),T.jsxs("div",{className:"bg-[var(--color-card)] p-4 rounded-2xl border border-[var(--color-secondary)] shadow-lg flex flex-col items-center justify-center text-center relative overflow-hidden group hover:scale-[1.02] transition-transform",children:[T.jsx("div",{className:"absolute right-0 top-0 p-2 opacity-5 group-hover:opacity-10 transition-opacity",children:T.jsx(Op,{size:40})}),T.jsx(Op,{size:24,className:"text-[var(--color-secondary)] mb-2 relative z-10"}),T.jsx("span",{className:"text-2xl font-black text-[var(--color-text)] relative z-10",children:h.burnedCaloriesToday}),T.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider relative z-10",children:"Quemadas (Hoy)"})]}),T.jsxs("div",{className:"bg-[var(--color-card)] p-4 rounded-2xl border border-[var(--color-secondary)] shadow-lg flex flex-col items-center justify-center text-center relative overflow-hidden group hover:scale-[1.02] transition-transform",children:[T.jsx("div",{className:"absolute right-0 top-0 p-2 opacity-5 group-hover:opacity-10 transition-opacity",children:T.jsx(Zb,{size:40})}),T.jsx(Zb,{size:24,className:`${h.statusColor} mb-2 relative z-10`}),T.jsx("span",{className:`text-2xl font-black ${h.statusColor} relative z-10`,children:h.netCalories}),T.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider relative z-10",children:"Balance Neto"})]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"bg-[var(--color-card)] p-5 rounded-2xl border border-[var(--color-secondary)] shadow-lg relative overflow-hidden",children:[T.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:T.jsx(Op,{size:60})}),T.jsxs("p",{className:"text-gray-400 text-xs font-bold uppercase mb-1",children:["Caloras (",_,")"]}),T.jsx("h3",{className:"text-3xl font-extrabold text-[var(--color-primary)]",children:h.totalCalories}),T.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Kcal quemadas"})]}),T.jsxs("div",{className:"bg-[var(--color-card)] p-5 rounded-2xl border border-[var(--color-secondary)] shadow-lg relative overflow-hidden",children:[T.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:T.jsx(qu,{size:60})}),T.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase mb-1",children:"Entrenamientos"}),T.jsx("h3",{className:"text-3xl font-extrabold text-[var(--color-text)]",children:h.workoutsCount}),T.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Sesiones completadas"})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[T.jsxs("div",{className:"lg:col-span-2 bg-[var(--color-card)] p-6 rounded-2xl border border-[var(--color-secondary)] shadow-lg",children:[T.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[T.jsx(qu,{size:18,className:"text-[var(--color-primary)]"}),"Actividad Reciente (7 das)"]}),T.jsx("div",{className:"h-64 w-full",children:T.jsx(rne,{width:"100%",height:"100%",children:T.jsxs(Tme,{data:h.chartData,children:[T.jsx(Y6,{strokeDasharray:"3 3",vertical:!1,stroke:"#374151"}),T.jsx(J6,{dataKey:"name",tick:{fill:"#9ca3af",fontSize:12},axisLine:!1,tickLine:!1}),T.jsx(X6,{hide:!0}),T.jsx(Gue,{contentStyle:{backgroundColor:"#1f2937",borderColor:"#374151",color:"#fff"},itemStyle:{color:"var(--color-primary)"},cursor:{fill:"transparent"}}),T.jsx(F6,{dataKey:"cals",fill:"var(--color-primary)",radius:[4,4,0,0],barSize:30})]})})})]}),T.jsxs("div",{className:"bg-[var(--color-card)] p-6 rounded-2xl border border-[var(--color-secondary)] shadow-lg",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[T.jsx(ed,{size:18,className:"text-[var(--color-primary)]"}),"Calendario"]}),T.jsxs("div",{className:"flex gap-1",children:[T.jsx("button",{onClick:d,className:"p-1 hover:bg-gray-700 rounded-full transition-colors",children:T.jsx(Sm,{size:20,className:"text-gray-400"})}),T.jsx("button",{onClick:f,className:"p-1 hover:bg-gray-700 rounded-full transition-colors",children:T.jsx(Xb,{size:20,className:"text-gray-400"})})]})]}),T.jsx("div",{className:"text-center mb-4 font-bold text-[var(--color-text)] capitalize",children:_}),T.jsx("div",{className:"grid grid-cols-7 gap-2 text-center mb-2",children:["L","M","X","J","V","S","D"].map(E=>T.jsx("span",{className:"text-xs font-bold text-gray-500",children:E},E))}),T.jsx("div",{className:"grid grid-cols-7 gap-2",children:m.map((E,w)=>T.jsx("div",{onClick:()=>E.log&&u(E.log),className:`
                        aspect-square rounded-lg flex items-center justify-center text-sm font-medium transition-all
                        ${E.day?"":"invisible"}
                        ${E.log?"bg-[var(--color-primary)] text-white shadow-md shadow-[var(--color-primary)]/30 cursor-pointer hover:scale-110":"bg-[var(--color-bg)] text-gray-500 border border-gray-800"}
                    `,children:E.day},w))})]})]}),T.jsxs("div",{className:"bg-[var(--color-card)] rounded-2xl border border-[var(--color-secondary)] overflow-hidden",children:[T.jsx("div",{className:"p-4 border-b border-gray-700",children:T.jsx("h3",{className:"font-bold",children:"Historial Reciente"})}),T.jsxs("div",{children:[t.slice().reverse().slice(0,5).map(E=>T.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center hover:bg-[var(--color-bg)] transition-colors group",children:[T.jsxs("div",{onClick:()=>u(E),className:"flex-1 cursor-pointer",children:[T.jsx("p",{className:"font-bold text-sm text-[var(--color-text)] group-hover:text-[var(--color-primary)] transition-colors",children:E.name}),T.jsx("p",{className:"text-xs text-gray-500",children:new Date(E.date).toLocaleDateString()})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("div",{className:"text-right",children:[T.jsxs("span",{className:"text-[var(--color-primary)] font-bold text-sm",children:[E.calories," kcal"]}),T.jsx("p",{className:"text-[10px] text-gray-400 uppercase",children:E.type})]}),r&&T.jsx("button",{onClick:w=>{w.stopPropagation(),r(E.id)},className:"p-2 text-gray-500 hover:text-red-500 hover:bg-red-500/10 rounded-lg transition-colors",children:T.jsx(Bu,{size:16})})]})]},E.id)),t.length===0&&T.jsx("div",{className:"p-8 text-center text-gray-500 text-sm",children:"No hay registros an."})]})]})]})},Sme=()=>{const[t,e]=N.useState("stopwatch"),[n,r]=N.useState(!1),[i,o]=N.useState(!0),[l,u]=N.useState(!1),f=N.useRef(null),[d,h]=N.useState({time:0,rounds:0,tabataPhase:"Work",isWork:!0,totalRounds:8}),[m,_]=N.useState(1200),[E,w]=N.useState(60),[S,C]=N.useState(20),[P,U]=N.useState(10),[O,H]=N.useState(8),F=N.useRef(null);N.useEffect(()=>{f.current||(f.current=new(window.AudioContext||window.webkitAudioContext))},[]);const G=N.useCallback((L=800,de=.1,ge="sine")=>{if(!i||!f.current)return;f.current.state==="suspended"&&f.current.resume();const K=f.current.createOscillator(),ne=f.current.createGain();K.type=ge,K.frequency.setValueAtTime(L,f.current.currentTime),ne.gain.setValueAtTime(.1,f.current.currentTime),ne.gain.exponentialRampToValueAtTime(.001,f.current.currentTime+de),K.connect(ne),ne.connect(f.current.destination),K.start(),K.stop(f.current.currentTime+de)},[i]),M=()=>G(600,.1,"square"),D=()=>G(1200,.3,"square"),k=L=>{const de=Math.floor(L/60),ge=L%60;return`${de.toString().padStart(2,"0")}:${ge.toString().padStart(2,"0")}`};N.useEffect(()=>(n?F.current=window.setInterval(()=>{h(L=>{if(t==="stopwatch")return{...L,time:L.time+1};if(t==="fortime"){const de=L.time+1;return m>0&&de>=m?(D(),r(!1),{...L,time:m}):{...L,time:de}}if(t==="amrap")return L.time<=0?(D(),r(!1),{...L,time:0}):(L.time<=4&&L.time>1&&M(),L.time===1&&D(),{...L,time:L.time-1});if(t==="emom"){const de=L.time+1,ge=de%E;if(de>0&&ge===0)return D(),{...L,time:de,rounds:L.rounds+1};const K=E-ge;return K<=3&&K>0&&M(),{...L,time:de}}return t==="tabata"?L.rounds>=O&&L.tabataPhase==="Rest"&&L.time<=0?(D(),r(!1),L):L.time>0?(L.time<=3&&M(),{...L,time:L.time-1}):(D(),L.tabataPhase==="Work"?{...L,tabataPhase:"Rest",time:P,isWork:!1}:{...L,tabataPhase:"Work",time:S,rounds:L.rounds+1,isWork:!0}):L})},1e3):F.current&&clearInterval(F.current),()=>{F.current&&clearInterval(F.current)}),[n,t,E,S,P,m,O,G,M,D]);const B=()=>{r(!1);let L=0;t==="amrap"&&(L=m),t==="tabata"&&(L=S),h({time:L,rounds:0,tabataPhase:"Work",isWork:!0,totalRounds:O})},z=L=>{e(L),r(!1),u(!0);let de=0;L==="amrap"&&(de=m),L==="tabata"&&(de=S),h({time:de,rounds:0,tabataPhase:"Work",isWork:!0,totalRounds:O})};N.useEffect(()=>{n||(t==="amrap"&&h(L=>({...L,time:m})),t==="tabata"&&h(L=>({...L,time:S,totalRounds:O})))},[m,S,O,t,n]);const j=({label:L,value:de,onChange:ge,step:K=1,suffix:ne=""})=>T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsx("label",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider",children:L}),T.jsxs("div",{className:"flex items-center bg-[var(--color-bg)] rounded-xl border border-gray-800 p-1",children:[T.jsx("button",{onClick:()=>ge(Math.max(0,de-K)),className:"p-3 hover:bg-gray-700/50 rounded-lg text-gray-400 hover:text-[var(--color-text)] transition-colors",children:T.jsx(Oq,{size:16})}),T.jsxs("div",{className:"flex-1 text-center font-bold text-lg text-[var(--color-text)]",children:[de,ne]}),T.jsx("button",{onClick:()=>ge(de+K),className:"p-3 hover:bg-gray-700/50 rounded-lg text-gray-400 hover:text-[var(--color-text)] transition-colors",children:T.jsx(Yq,{size:16})})]})]});return T.jsxs("div",{className:"flex flex-col h-full animate-fade-in max-w-md mx-auto w-full relative",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4 shrink-0",children:[T.jsx("div",{className:"flex-1 overflow-x-auto no-scrollbar mask-gradient-r",children:T.jsx("div",{className:"flex gap-2 p-1",children:["stopwatch","fortime","amrap","emom","tabata"].map(L=>T.jsx("button",{onClick:()=>z(L),className:`
                  whitespace-nowrap px-4 py-2 rounded-full text-xs font-bold transition-all border
                  ${t===L?"bg-[var(--color-primary)] border-[var(--color-primary)] text-white shadow-[0_0_15px_var(--color-primary)]":"bg-transparent border-gray-800 text-gray-400 hover:border-gray-600 hover:text-[var(--color-text)]"}
                `,children:L==="fortime"?"For Time":L.toUpperCase()},L))})}),T.jsx("button",{onClick:()=>u(!l),className:`ml-2 p-2 rounded-full border transition-colors ${l?"bg-[var(--color-card)] border-[var(--color-primary)] text-[var(--color-primary)]":"border-transparent text-gray-500"}`,children:T.jsx(eB,{size:20})})]}),T.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out shrink-0 ${l?"max-h-80 opacity-100 mb-4":"max-h-0 opacity-0"}`,children:T.jsxs("div",{className:"bg-[var(--color-card)] rounded-2xl p-4 border border-[var(--color-secondary)]/50 shadow-lg grid grid-cols-2 gap-3",children:[(t==="amrap"||t==="fortime")&&T.jsx(j,{label:"Time Cap (min)",value:m/60,onChange:L=>_(L*60)}),t==="emom"&&T.jsx(j,{label:"Intervalo (seg)",value:E,onChange:w,step:5}),t==="tabata"&&T.jsxs(T.Fragment,{children:[T.jsx(j,{label:"Trabajo (seg)",value:S,onChange:C,step:5}),T.jsx(j,{label:"Descanso (seg)",value:P,onChange:U,step:5}),T.jsx(j,{label:"Rondas",value:O,onChange:H})]}),t==="stopwatch"&&T.jsx("div",{className:"col-span-2 text-center text-gray-500 text-sm py-4",children:"Cronmetro simple sin configuracin."})]})}),T.jsx("div",{className:"flex-1 flex flex-col items-center justify-center relative min-h-[250px]",children:T.jsxs("div",{className:`
          relative w-64 h-64 sm:w-80 sm:h-80 rounded-full flex flex-col items-center justify-center transition-all duration-500
          border-4
          ${n?d.isWork?"border-[var(--color-primary)] shadow-[0_0_50px_var(--color-primary)] bg-[var(--color-primary)]/5":"border-red-500 shadow-[0_0_50px_#ef4444] bg-red-500/5":"border-gray-800 bg-[var(--color-card)]"}
        `,children:[(t==="tabata"||t==="emom")&&T.jsx("div",{className:`
              absolute top-12 px-3 py-1 rounded-full text-xs font-black uppercase tracking-widest border
              ${d.isWork?"bg-[var(--color-primary)]/20 border-[var(--color-primary)] text-[var(--color-primary)]":"bg-red-500/20 border-red-500 text-red-500"}
            `,children:t==="emom"?"EMOM":d.tabataPhase}),T.jsx("div",{className:"text-6xl sm:text-7xl font-mono font-bold tracking-tighter text-[var(--color-text)] tabular-nums drop-shadow-2xl",children:k(d.time)}),(t==="emom"||t==="tabata")&&T.jsxs("div",{className:"absolute bottom-12 text-gray-400 text-sm font-medium bg-black/40 px-3 py-1 rounded-full backdrop-blur-sm",children:["Ronda ",d.rounds+1," ",T.jsxs("span",{className:"opacity-50",children:["/ ",t==="tabata"?O:"-"]})]})]})}),T.jsxs("div",{className:"mt-auto pt-6 pb-2 flex items-center justify-center gap-6 shrink-0",children:[T.jsx("button",{onClick:B,className:"p-4 rounded-2xl bg-[var(--color-card)] border border-gray-800 text-gray-400 hover:text-[var(--color-text)] hover:border-gray-600 transition-all active:scale-95",children:T.jsx(gk,{size:24})}),T.jsx("button",{onClick:()=>r(!n),className:`
            w-20 h-20 rounded-3xl flex items-center justify-center transition-all shadow-2xl active:scale-95
            ${n?"bg-red-500 text-white shadow-[0_0_30px_#ef4444]":"bg-[var(--color-primary)] text-black shadow-[0_0_30px_var(--color-primary)]"}
          `,children:n?T.jsx(Bq,{size:32,fill:"currentColor"}):T.jsx(Cm,{size:32,fill:"currentColor",className:"ml-1"})}),T.jsx("button",{onClick:()=>o(!i),className:`p-4 rounded-2xl border transition-all active:scale-95 ${i?"bg-[var(--color-card)] border-gray-800 text-[var(--color-text)]":"bg-red-900/20 border-red-900/50 text-red-500"}`,children:i?T.jsx(vB,{size:24}):T.jsx(bB,{size:24})})]})]})},wme={default:120,mqdefault:320,hqdefault:480,sddefault:640,maxresdefault:1280},Ame=(t,e,n,r="maxresdefault")=>{const[i,o]=N.useState("");return N.useEffect(()=>{const l=`https://img.youtube.com/${e}/${t}/${r}.${n}`,u=`https://img.youtube.com/${e}/${t}/hqdefault.${n}`,f=wme[r],d=new Image;d.onload=()=>{d.width<f?o(u):o(l)},d.onerror=()=>o(u),d.src=l},[t,e,n,r]),i};function Cme(t,e,n,r,i){const o={"@context":"https://schema.org","@type":"VideoObject",name:(i==null?void 0:i.name)||e,thumbnailUrl:[(i==null?void 0:i.thumbnailUrl)||n],embedUrl:(i==null?void 0:i.embedUrl)||`${r}/embed/${t}`,contentUrl:(i==null?void 0:i.contentUrl)||`https://www.youtube.com/watch?v=${t}`,...(i==null?void 0:i.description)&&{description:i.description},...(i==null?void 0:i.uploadDate)&&{uploadDate:i.uploadDate},...(i==null?void 0:i.duration)&&{duration:i.duration}};return JSON.stringify(o)}function Ime(t,e){const[n,r]=N.useState(!1),[i,o]=N.useState(t.alwaysLoadIframe||!1),l=encodeURIComponent(t.id),u=typeof t.playlistCoverId=="string"?encodeURIComponent(t.playlistCoverId):null,f=t.title,d=t.poster||"hqdefault",h=t.announce||"Watch",m=t.alwaysLoadIframe?t.autoplay&&t.muted:!0,_=N.useMemo(()=>{const ne=new URLSearchParams({...t.muted?{mute:"1"}:{},...m?{autoplay:"1"}:{},...t.enableJsApi?{enablejsapi:"1"}:{},...t.enableJsApi&&typeof window<"u"?{origin:window.location.origin}:{},...t.playlist?{list:l}:{}});return t.params&&new URLSearchParams(t.params.startsWith("&")?t.params.slice(1):t.params).forEach((le,Q)=>{ne.append(Q,le)}),ne},[t.muted,m,t.enableJsApi,t.playlist,l,t.params]),E=N.useMemo(()=>t.cookie?"https://www.youtube.com":"https://www.youtube-nocookie.com",[t.cookie]),w=N.useMemo(()=>t.playlist?`${E}/embed/videoseries?${_.toString()}`:`${E}/embed/${l}?${_.toString()}`,[t.playlist,E,l,_]),S=!t.thumbnail&&!t.playlist&&d==="maxresdefault",C=t.webp?"webp":"jpg",P=t.webp?"vi_webp":"vi",U=S?Ame(t.id,P,C,d):null,O=N.useMemo(()=>t.thumbnail||U||`https://i.ytimg.com/${P}/${t.playlist?u:l}/${d}.${C}`,[t.thumbnail,U,P,t.playlist,u,l,d,C]),H=t.activatedClass||"lyt-activated",F=t.adNetwork||!1,G=t.aspectHeight||9,M=t.aspectWidth||16,D=t.iframeClass||"",k=t.playerClass||"lty-playbtn",B=t.wrapperClass||"yt-lite",z=N.useCallback(t.onIframeAdded||function(){},[t.onIframeAdded]),j=t.rel?"prefetch":"preload",L=t.containerElement||"article",de=t.noscriptFallback!==!1,ge=()=>{n||r(!0)},K=()=>{i||o(!0)};return N.useEffect(()=>{i&&(z(),t.focusOnLoad&&typeof e=="object"&&(e!=null&&e.current)&&e.current.focus())},[i,z,t.focusOnLoad,e]),N.useEffect(()=>{var pe;if(!i||!t.enableJsApi||!(t.onReady||t.onStateChange||t.onError||t.onPlay||t.onPause||t.onEnd||t.onBuffering||t.onPlaybackRateChange||t.onPlaybackQualityChange))return;let ne=!1,le=!1;const Q=_e=>{var Re,Ie,it,ce,Oe,ue,se,et,Be,zt,Mt,jn,li,Ut,qt,ui,Pl,Ts,_n,Oi;if(_e.origin!=="https://www.youtube.com"&&_e.origin!=="https://www.youtube-nocookie.com")return;let Ee;try{Ee=typeof _e.data=="string"?JSON.parse(_e.data):_e.data}catch{return}switch(Ee.event){case"onReady":ne||(ne=!0,t.onReady&&t.onReady({videoId:t.id,title:f}));break;case"infoDelivery":if(((Re=Ee.info)==null?void 0:Re.playerState)!==void 0){const Er=Ee.info.playerState;switch(t.onStateChange&&t.onStateChange({state:Er,currentTime:Ee.info.currentTime,duration:Ee.info.duration}),Er){case 1:(Ie=t.onPlay)==null||Ie.call(t);break;case 2:(it=t.onPause)==null||it.call(t);break;case 0:(ce=t.onEnd)==null||ce.call(t),t.stopOnEnd&&typeof e=="object"&&((Oe=e==null?void 0:e.current)!=null&&Oe.contentWindow)&&e.current.contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*");break;case 3:(ue=t.onBuffering)==null||ue.call(t);break}}((se=Ee.info)==null?void 0:se.playbackRate)!==void 0&&((et=t.onPlaybackRateChange)==null||et.call(t,Ee.info.playbackRate)),((Be=Ee.info)==null?void 0:Be.playbackQuality)!==void 0&&((zt=t.onPlaybackQualityChange)==null||zt.call(t,Ee.info.playbackQuality));break;case"onStateChange":if(((Mt=Ee.info)==null?void 0:Mt.playerState)!==void 0){const Er=Ee.info.playerState;switch(t.onStateChange&&t.onStateChange({state:Er,currentTime:Ee.info.currentTime,duration:Ee.info.duration}),Er){case 1:(jn=t.onPlay)==null||jn.call(t);break;case 2:(li=t.onPause)==null||li.call(t);break;case 0:(Ut=t.onEnd)==null||Ut.call(t),t.stopOnEnd&&typeof e=="object"&&((qt=e==null?void 0:e.current)!=null&&qt.contentWindow)&&e.current.contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*");break;case 3:(ui=t.onBuffering)==null||ui.call(t);break}}break;case"onError":if(Ee.info&&"errorCode"in Ee.info){const Er=Ee.info.errorCode;t.onError&&t.onError(Er)}break;case"onPlaybackRateChange":((Pl=Ee.info)==null?void 0:Pl.playbackRate)!==void 0&&((Ts=t.onPlaybackRateChange)==null||Ts.call(t,Ee.info.playbackRate));break;case"onPlaybackQualityChange":((_n=Ee.info)==null?void 0:_n.playbackQuality)!==void 0&&((Oi=t.onPlaybackQualityChange)==null||Oi.call(t,Ee.info.playbackQuality));break}};window.addEventListener("message",Q);const be=[],$=()=>{var _e;typeof e=="object"&&((_e=e==null?void 0:e.current)!=null&&_e.contentWindow)&&e.current.contentWindow.postMessage('{"event":"listening","id":"'+l+'"}',"*")},te=()=>{le||(le=!0,$(),[100,300,600,1200,2400].forEach(_e=>{be.push(setTimeout($,_e))}))};return typeof e=="object"&&(e!=null&&e.current)?(e.current.addEventListener("load",te),((pe=e.current.contentDocument)==null?void 0:pe.readyState)==="complete"&&te()):[200,500,1e3,2e3,3e3].forEach(_e=>{be.push(setTimeout($,_e))}),()=>{window.removeEventListener("message",Q),be.forEach(clearTimeout),typeof e=="object"&&(e!=null&&e.current)&&e.current.removeEventListener("load",te)}},[i,t.enableJsApi,t.onReady,t.onStateChange,t.onError,t.onPlay,t.onPause,t.onEnd,t.onBuffering,t.onPlaybackRateChange,t.onPlaybackQualityChange,t.stopOnEnd,t.id,l,f,e]),T.jsxs(T.Fragment,{children:[!t.lazyLoad&&T.jsx("link",{rel:j,href:O,as:"image"}),T.jsx(T.Fragment,{children:n&&T.jsxs(T.Fragment,{children:[T.jsx("link",{rel:"preconnect",href:E}),T.jsx("link",{rel:"preconnect",href:"https://www.google.com"}),F&&T.jsxs(T.Fragment,{children:[T.jsx("link",{rel:"preconnect",href:"https://static.doubleclick.net"}),T.jsx("link",{rel:"preconnect",href:"https://googleads.g.doubleclick.net"})]})]})}),t.seo&&!t.playlist&&T.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:Cme(t.id,f,O,E,t.seo)}}),de&&!t.playlist&&T.jsx("noscript",{children:T.jsxs("a",{href:`https://www.youtube.com/watch?v=${t.id}`,"aria-label":`Watch ${f} on YouTube`,children:['Watch "',f,'" on YouTube']})}),T.jsxs(L,{onPointerOver:ge,onClick:K,className:`${B} ${i?H:""}`,"data-title":f,role:i?void 0:"img","aria-label":i?void 0:`${f} - YouTube video preview`,style:{...!t.lazyLoad&&{backgroundImage:`url(${O})`},"--aspect-ratio":`${G/M*100}%`,...t.style||{}},children:[t.lazyLoad&&!i&&T.jsx("img",{src:O,alt:`${f} - YouTube thumbnail`,className:"lty-thumbnail",loading:"lazy"}),t.playlist&&!i&&T.jsx("div",{className:"lty-playlist-icon","aria-hidden":"true"}),T.jsx("button",{type:"button",className:k,"aria-label":`${h} ${f}`,"aria-hidden":i||void 0,tabIndex:i?-1:0,onClick:K,children:T.jsx("span",{className:"lty-visually-hidden",children:h})}),i&&T.jsx("iframe",{ref:e,className:D,title:f,width:"560",height:"315",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,src:w,referrerPolicy:t.referrerPolicy||"strict-origin-when-cross-origin"})]})]})}const Nme=N.forwardRef(Ime),lk=[{id:"bq1",name:"Air Squat",category:"Bsicos",description:"La base de todos los movimientos de sentadilla.",videoId:"rMvwVtlqjTE",type:"Fuerza / Movilidad",muscles:"Cudriceps, Glteos, Isquios",keyPoints:["Romper paralelo (cadera bajo rodillas)","Peso en los talones","Pecho arriba","Rodillas hacia afuera"]},{id:"bq_back",name:"Back Squat",category:"Bsicos",description:"Sentadilla con barra en la espalda.",videoId:"4ZYCwYAuiwE",type:"Fuerza",muscles:"Cudriceps, Glteos",keyPoints:["Romper paralelo","Peso en talones","Pecho arriba","Respiracin abdominal"]},{id:"bq2",name:"Front Squat",category:"Bsicos",description:"Sentadilla con barra en posicin de rack frontal.",videoId:"m4ytaCJZpl0",type:"Fuerza",muscles:"Cudriceps, Core, Glteos",keyPoints:["Codos altos","Torso vertical","Talones pegados al suelo"]},{id:"bq3",name:"Overhead Squat",category:"Bsicos",description:"Sentadilla manteniendo la barra bloqueada sobre la cabeza.",videoId:"zDWiJ8l-R8I",type:"Fuerza / Estabilidad",muscles:"Hombros, Core, Piernas",keyPoints:["Axilas al frente","Barra sobre centro de gravedad","Empuje activo","Estabilidad media"]},{id:"bq4",name:"Deadlift",category:"Bsicos",description:"Levantamiento de peso muerto desde el suelo.",videoId:"wV_211i4i9o",type:"Fuerza",muscles:"Cadena Posterior",keyPoints:["Espalda neutra","Barra pegada a espinillas","Hombros delante de barra","Empujar suelo"]},{id:"bq5",name:"Shoulder Press",category:"Bsicos",description:"Press estricto de hombros.",videoId:"B-aVuyhvLHU",type:"Fuerza",muscles:"Deltoides, Trceps",keyPoints:["Cuerpo rgido","Trayectoria vertical","Cabeza se aparta","Bloqueo completo"]},{id:"bq6",name:"Push Press",category:"Bsicos",description:"Press de hombros con ayuda de las piernas (Dip & Drive).",videoId:"j9916671g-U",type:"Potencia",muscles:"Hombros, Piernas",keyPoints:["Dip vertical","Extensin explosiva de cadera","Talones apoyados en el dip"]},{id:"bq7",name:"Push Jerk",category:"Bsicos",description:"Press con recepcin en flexin de rodillas.",videoId:"V-hKuAfWNUw",type:"Potencia",muscles:"Hombros, Piernas",keyPoints:["Salto y recepcin","Brazos bloqueados al recibir","Cadera extendida antes de empujar"]},{id:"wl1",name:"Snatch",category:"Halterofilia",description:"Arrancada: barra del suelo a overhead en un movimiento.",videoId:"9xQp2sldyts",type:"Potencia / Tcnica",muscles:"Full Body",keyPoints:["Triple extensin","Recepcin profunda","Brazos relajados inicio","Velocidad"]},{id:"wl2",name:"Power Snatch",category:"Halterofilia",description:"Arrancada recibiendo la barra por encima del paralelo.",videoId:"82100-n_4-Q",type:"Potencia",muscles:"Full Body",keyPoints:["Recepcin alta","Velocidad de codos","Extensin completa"]},{id:"wl3",name:"Clean",category:"Halterofilia",description:"Cargada: barra del suelo a los hombros (Squat).",videoId:"Kz0K37h65Pe",type:"Potencia",muscles:"Trapecios, Piernas",keyPoints:["Codos rpidos","Extensin cadera","Contacto muslo","Recepcin slida"]},{id:"wl4",name:"Power Clean",category:"Halterofilia",description:"Cargada recibiendo por encima del paralelo.",videoId:"KjGvqhaxU70",type:"Potencia",muscles:"Trapecios, Piernas",keyPoints:["Recepcin parcial","Codos rpidos al frente","Espalda recta"]},{id:"wl5",name:"Clean & Jerk",category:"Halterofilia",description:"Dos tiempos: Cargada y Envin.",videoId:"8miqQQJEsO0",type:"Potencia",muscles:"Full Body",keyPoints:["Paciencia primer tirn","Dip vertical Jerk","Recepcin estable"]},{id:"wl6",name:"Split Jerk",category:"Halterofilia",description:"Envin con recepcin en tijera.",videoId:"Wp4BlxcftkE",type:"Potencia",muscles:"Hombros, Piernas",keyPoints:["Pie delantero plano","Taln trasero levantado","Torso vertical","Bloqueo slido"]},{id:"wl7",name:"Thruster",category:"Halterofilia",description:"Combinacin de Front Squat y Push Press. Devastador.",videoId:"L219ltL15kq",type:"Metablico / Fuerza",muscles:"Piernas, Hombros, Pulmones",keyPoints:["Un solo movimiento fluido","Respiracin rtmica","Extensin potente de cadera"]},{id:"gy1",name:"Pull-Up",category:"Gimnasia",description:"Dominada pasando la barbilla sobre la barra.",videoId:"aAgglkKyECo",type:"Gimnasia",muscles:"Dorsales, Bceps",keyPoints:["Kipping rtmico","Empuje lejos arriba","Barbilla supera barra"]},{id:"gy2",name:"Chest to Bar (C2B)",category:"Gimnasia",description:"Dominada donde el pecho toca la barra.",videoId:"4q7s3c3J2yE",type:"Gimnasia",muscles:"Dorsales, Bceps",keyPoints:["Tirn ms potente","Contacto fsico pecho-barra","Codos atrs"]},{id:"gy3",name:"Toes to Bar (T2B)",category:"Gimnasia",description:"Colgado, tocar la barra con ambos pies simultneamente.",videoId:"6dHdpbL9i5w",type:"Core / Gimnasia",muscles:"Abdominales, Flexores",keyPoints:["Kipping constante","Pies tocan barra","Hombros activos","Ritmo"]},{id:"gy4",name:"Bar Muscle-Up",category:"Gimnasia",description:"Subir todo el cuerpo por encima de la barra.",videoId:"OC7sX_5XjF0",type:"Gimnasia Avanzada",muscles:"Full Body",keyPoints:["Cadera a la barra","Transicin rpida","Press final"]},{id:"gy5",name:"Ring Muscle-Up",category:"Gimnasia",description:"Muscle-up en anillas.",videoId:"G8W0BhzrWcs",type:"Gimnasia Avanzada",muscles:"Full Body",keyPoints:["False grip (opcional)","Tirn al esternn","Transicin agresiva","Bloqueo"]},{id:"gy6",name:"Handstand Push-Up (HSPU)",category:"Gimnasia",description:"Flexin de pino invertido.",videoId:"0wDEO6shpVg",type:"Fuerza",muscles:"Hombros, Trceps",keyPoints:["Trpode","Kipping explosivo","Bloqueo cabeza metida"]},{id:"gy7",name:"Handstand Walk",category:"Gimnasia",description:"Caminar sobre las manos.",videoId:"0gX0j2x5j0k",type:"Equilibrio",muscles:"Hombros, Core",keyPoints:["Cuerpo apretado","Mirada al suelo","Pasos cortos"]},{id:"gy8",name:"Burpee",category:"Gimnasia",description:"Pecho al suelo y salto.",videoId:"auBLPXO8Fww",type:"Metablico",muscles:"Full Body",keyPoints:["Pecho suelo","Extensin cadera aire","Eficiencia"]},{id:"gy9",name:"Pistol Squat",category:"Gimnasia",description:"Sentadilla a una pierna.",videoId:"qDcniqddTeE",type:"Fuerza / Equilibrio",muscles:"Piernas",keyPoints:["Taln apoyado","Pie libre no toca suelo","Romper paralelo"]},{id:"gy10",name:"Ring Dip",category:"Gimnasia",description:"Fondo en anillas.",videoId:"c4DAnQ6DtF8",type:"Fuerza",muscles:"Pecho, Trceps",keyPoints:["Bceps toca anilla abajo","Bloqueo completo arriba","Estabilidad"]},{id:"gy11",name:"Rope Climb",category:"Gimnasia",description:"Subir la cuerda.",videoId:"lIEI0d5l8AI",type:"Tcnica",muscles:"Dorsales, Agarre",keyPoints:["Uso de pies (J-Hook)","Brazos estirados al reposicionar","Seguridad al bajar"]},{id:"ca1",name:"Double Under",category:"Cardio",description:"La cuerda pasa dos veces por salto.",videoId:"8XZGdbYP9fw",type:"Resistencia",muscles:"Gemelos, Hombros",keyPoints:["Salto vertical","Muecas rpidas","Codos pegados","Relajacin"]},{id:"ca2",name:"Box Jump",category:"Cardio",description:"Salto al cajn.",videoId:"kxxcD1u4d0c",type:"Potencia",muscles:"Piernas",keyPoints:["Despegue dos pies","Extensin cadera arriba","Aterrizaje suave"]},{id:"ca3",name:"Rowing",category:"Cardio",description:"Remo en ergmetro.",videoId:"H0r_ZCp88pY",type:"Resistencia",muscles:"Full Body",keyPoints:["Piernas-Cuerpo-Brazos","Cadena recta","Talones pegados al empujar"]},{id:"ca4",name:"Assault Bike",category:"Cardio",description:"Bicicleta de aire.",videoId:"O8tGrT-d8-M",type:"Metablico",muscles:"Piernas, Brazos",keyPoints:["Uso de brazos y piernas","Respiracin controlada","Ajuste silln"]},{id:"ca5",name:"Ski Erg",category:"Cardio",description:"Simulador de esqu nrdico.",videoId:"P7qpoJmX91I",type:"Resistencia",muscles:"Dorsales, Core, Trceps",keyPoints:["Triple extensin","Uso del peso corporal","Brazos estirados inicio"]},{id:"ac1",name:"Wall Ball",category:"Accesorios",description:"Lanzamiento de baln medicinal a la pared desde sentadilla.",videoId:"_KfCGKfP1_g",type:"Metablico",muscles:"Piernas, Hombros",keyPoints:["Sentadilla profunda","Lanzamiento al subir","Recibir baln cerca cara"]},{id:"ac2",name:"Kettlebell Swing",category:"Accesorios",description:"Balanceo de pesa rusa (Americano o Ruso).",videoId:"1cVT3ee9mgU",type:"Cadena Posterior",muscles:"Glteos, Isquios, Espalda",keyPoints:["Golpe de cadera","Espalda neutra","Brazos como correas"]},{id:"ac3",name:"Turkish Get Up",category:"Accesorios",description:"Levantarse del suelo con una pesa en alto.",videoId:"sgd8n917Zv0",type:"Estabilidad / Core",muscles:"Full Body",keyPoints:["Mirada a la pesa","Pasos controlados","Brazo siempre vertical"]},{id:"ac4",name:"Dumbbell Snatch",category:"Accesorios",description:"Arrancada con mancuerna a una mano.",videoId:"HHsOcHb_IFI",type:"Potencia",muscles:"Full Body",keyPoints:["Espalda recta","Extensin cadera","Bloqueo arriba"]},{id:"ac5",name:"Walking Lunge",category:"Accesorios",description:"Zancadas caminando.",videoId:"DlhojghkaQ0",type:"Fuerza Unilateral",muscles:"Piernas, Glteos",keyPoints:["Rodilla trasera toca suelo","Torso vertical","ngulo 90 grados"]}],Rme=()=>{const[t,e]=N.useState(""),[n,r]=N.useState("Todos"),[i,o]=N.useState(null),[l,u]=N.useState("video"),f=N.useMemo(()=>lk.filter(h=>{const m=h.name.toLowerCase().includes(t.toLowerCase()),_=n==="Todos"||h.category===n;return m&&_}),[t,n]),d=h=>{o(h),u("video")};return T.jsxs("div",{className:"animate-fade-in h-full flex flex-col",children:[T.jsxs("div",{className:`flex flex-col h-full ${i?"hidden":"block"}`,children:[T.jsxs("div",{className:"mb-6 flex-none",children:[T.jsx("h2",{className:"text-2xl font-bold text-[var(--color-primary)] mb-2",children:"Biblioteca de Movimientos"}),T.jsxs("p",{className:"opacity-70 text-sm mb-4",children:["Domina la tcnica perfecta. ",lk.length," movimientos disponibles."]}),T.jsxs("div",{className:"relative mb-3",children:[T.jsx(Qq,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),T.jsx("input",{type:"text",placeholder:"Buscar (ej. Snatch)...",value:t,onChange:h=>e(h.target.value),className:"w-full bg-[var(--color-card)] border border-[var(--color-secondary)] rounded-xl py-3 pl-10 pr-4 focus:outline-none focus:border-[var(--color-primary)] transition-colors"})]}),T.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar",children:["Todos","Bsicos","Halterofilia","Gimnasia","Cardio","Accesorios"].map(h=>T.jsx("button",{onClick:()=>r(h),className:`
                    px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap transition-all border
                    ${n===h?"bg-[var(--color-primary)] text-white border-[var(--color-primary)]":"bg-[var(--color-card)] text-gray-400 border-[var(--color-secondary)] hover:border-gray-500"}
                    `,children:h},h))})]}),T.jsx("div",{className:"flex-1 overflow-y-auto pr-1 custom-scrollbar pb-20",children:T.jsx("div",{className:"space-y-3",children:f.map(h=>T.jsxs("div",{onClick:()=>d(h),className:"group bg-[var(--color-card)] p-4 rounded-xl border border-[var(--color-secondary)] hover:border-[var(--color-primary)] transition-all cursor-pointer flex items-center justify-between shadow-sm",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"w-12 h-12 rounded-full bg-[var(--color-bg)] flex items-center justify-center border border-[var(--color-secondary)] group-hover:bg-[var(--color-primary)] group-hover:text-white transition-colors",children:T.jsx(Cm,{size:20,className:"ml-1"})}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-bold text-gray-500 group-hover:text-[var(--color-primary)] transition-colors",children:h.name}),T.jsx("p",{className:"text-xs text-gray-400 truncate max-w-[150px]",children:h.type})]})]}),T.jsx(aq,{size:20,className:"text-[var(--color-secondary)] group-hover:text-[var(--color-primary)] group-hover:translate-x-1 transition-all"})]},h.id))})})]}),i&&T.jsxs("div",{className:"fixed inset-0 z-50 bg-[#000] flex flex-col h-full w-full animate-slide-up overflow-hidden",children:[T.jsxs("div",{className:"flex items-center p-4 z-10 shrink-0",children:[T.jsx("button",{onClick:()=>o(null),className:"p-2 -ml-2 text-white hover:text-[var(--color-primary)] transition-colors",children:T.jsx(Sm,{size:32})}),T.jsx("h2",{className:"text-xl font-bold ml-2 text-white",children:i.name})]}),T.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar pb-8",children:T.jsxs("div",{className:"max-w-md mx-auto w-full px-6",children:[T.jsx("div",{className:"relative w-full aspect-video bg-[#111] rounded-3xl border border-gray-800 shadow-2xl overflow-hidden mb-4 group",children:l==="video"?T.jsx("div",{className:"w-full h-full",children:T.jsx(Nme,{id:i.videoId,title:i.name,poster:"maxresdefault",wrapperClass:"yt-lite"})}):i.infographic?T.jsx("img",{src:i.infographic,alt:"Infographic",className:"w-full h-full object-contain bg-gray-900"}):T.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 p-4 text-center",children:[T.jsx(Iq,{size:48,className:"mb-2 opacity-50"}),T.jsx("p",{children:"No hay infografa disponible"})]})}),i.infographic&&T.jsxs("div",{className:"flex bg-gray-800 p-1 rounded-xl mb-6 mx-auto max-w-[200px]",children:[T.jsxs("button",{onClick:()=>u("video"),className:`flex-1 py-2 rounded-lg flex items-center justify-center gap-2 text-xs font-bold transition-all ${l==="video"?"bg-[var(--color-primary)] text-white shadow-md":"text-gray-400 hover:text-white"}`,children:[T.jsx(gB,{size:14}),"Video"]}),T.jsxs("button",{onClick:()=>u("infographic"),className:`flex-1 py-2 rounded-lg flex items-center justify-center gap-2 text-xs font-bold transition-all ${l==="infographic"?"bg-[var(--color-primary)] text-white shadow-md":"text-gray-400 hover:text-white"}`,children:[T.jsx(mk,{size:14}),"Info"]})]}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"text-gray-500 text-sm mb-1",children:"Tipo"}),T.jsx("p",{className:"text-xl font-medium text-white",children:i.type})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"text-gray-500 text-sm mb-1",children:"Msculos"}),T.jsx("p",{className:"text-xl font-medium text-white",children:i.muscles})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"text-gray-500 text-sm mb-3",children:"Puntos Clave:"}),T.jsx("ul",{className:"space-y-3",children:i.keyPoints.map((h,m)=>T.jsxs("li",{className:"flex items-start gap-3",children:[T.jsx("div",{className:"mt-1.5 w-2 h-2 rounded-full bg-[var(--color-primary)] shrink-0 shadow-[0_0_8px_var(--color-primary)]"}),T.jsx("span",{className:"text-lg text-gray-200 leading-snug",children:h})]},m))})]})]})]})}),T.jsx("div",{className:"p-6 bg-gradient-to-t from-black via-black to-transparent shrink-0",children:T.jsx("button",{onClick:()=>o(null),className:"w-full bg-[var(--color-primary)] text-black font-bold text-lg py-4 rounded-2xl hover:brightness-110 active:scale-95 transition-all shadow-lg shadow-[var(--color-primary)]/20",children:"Entendido"})})]})]})},Pme=[{id:"jump_rope",name:"Soga de Saltar",icon:""},{id:"dumbbells",name:"Mancuernas",icon:""},{id:"kettlebell",name:"Kettlebell",icon:""},{id:"pull_up_bar",name:"Barra de Dominadas",icon:""},{id:"box",name:"Cajn (Box)",icon:""},{id:"rings",name:"Anillas",icon:""},{id:"barbell",name:"Barra Olmpica",icon:""},{id:"wall_ball",name:"Baln Medicinal",icon:""},{id:"rower",name:"Remo",icon:""},{id:"bike",name:"Bici (Air Bike)",icon:""}],Mme=({user:t,onAddLog:e,onUpdateUser:n})=>{const[r,i]=N.useState(!1),[o,l]=N.useState(()=>{const Q=localStorage.getItem("cf_current_workout");return Q?JSON.parse(Q):null}),[u,f]=N.useState(new Date().toISOString().split("T")[0]),[d,h]=N.useState(!1),[m,_]=N.useState(t.fitnessLevel||"intermedio"),[E,w]=N.useState(!1),S=Q=>{if(!n)return;const be=t.equipment||[];let $;be.includes(Q)?$=be.filter(te=>te!==Q):$=[...be,Q],n({...t,equipment:$})};N.useEffect(()=>{o?localStorage.setItem("cf_current_workout",JSON.stringify(o)):localStorage.removeItem("cf_current_workout")},[o]);const[C,P]=N.useState(!1),[U,O]=N.useState(0),[H,F]=N.useState(0),[G,M]=N.useState(0),[D,k]=N.useState(!1),B=N.useRef(null);N.useEffect(()=>{B.current||(B.current=new(window.AudioContext||window.webkitAudioContext))},[]);const z=(Q=800)=>{if(!B.current)return;B.current.state==="suspended"&&B.current.resume();const be=B.current.createOscillator(),$=B.current.createGain();be.frequency.setValueAtTime(Q,B.current.currentTime),$.gain.setValueAtTime(.1,B.current.currentTime),$.gain.exponentialRampToValueAtTime(.001,B.current.currentTime+.1),be.connect($),$.connect(B.current.destination),be.start(),be.stop(B.current.currentTime+.1)},j=async()=>{i(!0),l(null);try{const Q=await eQ(t,m);l(Q)}catch(Q){alert("Error generando entrenamiento. Intenta de nuevo."),console.error(Q)}finally{i(!1)}},L=()=>{if(!o)return;const Q=new Date,[be,$,te]=u.split("-").map(Number),pe=new Date(be,$-1,te,Q.getHours(),Q.getMinutes()),_e={id:crypto.randomUUID(),date:pe.toISOString(),name:o.title||"Entrenamiento en Casa",description:"Generado por IA",calories:o.estimatedCalories||300,durationMinutes:45,type:"home-ai"};e(_e),alert("Entrenamiento registrado en tu calendario!"),l(null),P(!1)},de=()=>{w(!0)},ge=()=>{l(null),P(!1),w(!1)},K=()=>{var be;P(!0),O(0),F(0);const Q=(be=o==null?void 0:o.sections[0])==null?void 0:be.exercises[0];Q!=null&&Q.durationSeconds?M(Q.durationSeconds):M(0),k(!1)},ne=()=>{if(!o)return;const Q=o.sections[U];if(H<Q.exercises.length-1){F($=>$+1);const be=Q.exercises[H+1];M(be.durationSeconds||0)}else if(U<o.sections.length-1){O($=>$+1),F(0);const be=o.sections[U+1].exercises[0];M(be.durationSeconds||0)}else alert("Entrenamiento Completado!"),P(!1);k(!1)},le=()=>{if(o){if(H>0){F(be=>be-1);const Q=o.sections[U].exercises[H-1];M(Q.durationSeconds||0)}else if(U>0){O($=>$-1);const Q=o.sections[U-1];F(Q.exercises.length-1);const be=Q.exercises[Q.exercises.length-1];M(be.durationSeconds||0)}k(!1)}};if(N.useEffect(()=>{let Q;return D&&G>0&&(Q=window.setInterval(()=>{M(be=>be<=1?(z(1200),k(!1),0):(be<=4&&z(600),be-1))},1e3)),()=>clearInterval(Q)},[D,G]),C&&o){const Q=o.sections[U],be=Q.exercises[H];return(U*100+(H+1)/Q.exercises.length*100)/o.sections.length,T.jsxs("div",{className:"flex flex-col h-full w-full bg-black relative overflow-hidden",children:[T.jsxs("div",{className:"flex justify-between items-center p-3 bg-black/40 backdrop-blur-md z-20 shrink-0 border-b border-white/5",children:[T.jsx("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-white transition-colors p-1",children:T.jsx(Sm,{size:24})}),T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsx("h3",{className:"font-bold text-[var(--color-primary)] uppercase tracking-wider text-xs md:text-sm truncate max-w-[200px]",children:Q.name}),T.jsx("div",{className:"flex gap-1 mt-1",children:Q.exercises.map(($,te)=>T.jsx("div",{className:`h-1 w-3 rounded-full ${te===H?"bg-[var(--color-primary)]":"bg-gray-800"}`},te))})]}),T.jsx("div",{className:"w-8"})," "]}),T.jsxs("div",{className:"flex-1 flex flex-col relative z-10",children:[T.jsxs("div",{className:"px-4 pt-4 pb-2 text-center shrink-0",children:[T.jsx("h2",{className:"text-2xl md:text-4xl font-black text-white leading-none mb-2",children:be.name}),T.jsx("p",{className:"text-sm md:text-base text-gray-400 font-medium line-clamp-2 leading-tight",children:be.instruction})]}),T.jsx("div",{className:"flex-1 flex items-center justify-center p-4 min-h-0",children:be.durationSeconds>0?T.jsxs("div",{className:"relative w-full h-full flex items-center justify-center max-h-[35vh] aspect-square",children:[T.jsxs("svg",{className:"transform -rotate-90 w-full h-full max-h-full",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid meet",children:[T.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"4",fill:"transparent",className:"text-gray-800"}),T.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"4",fill:"transparent",strokeDasharray:2*Math.PI*45,strokeDashoffset:2*Math.PI*45-G/(be.durationSeconds||1)*(2*Math.PI*45),strokeLinecap:"round",className:`text-[var(--color-primary)] transition-all duration-1000 ease-linear ${D?"drop-shadow-[0_0_10px_rgba(255,50,50,0.5)]":""}`})]}),T.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[T.jsxs("div",{className:`font-mono font-bold tabular-nums leading-none select-none text-[20vw] md:text-8xl tracking-tighter ${D?"text-white":"text-gray-500"}`,children:[Math.floor(G/60),":",(G%60).toString().padStart(2,"0")]}),T.jsx("div",{className:"text-[3vw] md:text-sm font-bold uppercase tracking-[0.3em] text-gray-600 mt-2",children:D?"Tiempo Restante":"En Pausa"})]})]}):T.jsx("div",{className:"w-full max-w-[80%] aspect-square rounded-full border-4 border-dashed border-gray-800 flex items-center justify-center bg-gray-900/30 backdrop-blur-sm",children:T.jsxs("div",{className:"text-center",children:[T.jsx("span",{className:"block text-[15vw] md:text-8xl font-black text-gray-700 tracking-tighter",children:"REPS"}),T.jsx("span",{className:"text-xs md:text-sm text-gray-500 uppercase tracking-widest font-bold block mt-2",children:"Completar"})]})})})]}),T.jsx("div",{className:"bg-gray-900/90 backdrop-blur-xl border-t border-white/10 p-4 pb-20 md:pb-4 shrink-0 z-30 shadow-[0_-4px_20px_rgba(0,0,0,0.5)]",children:T.jsxs("div",{className:"max-w-md mx-auto flex items-center justify-between gap-4",children:[T.jsx("button",{onClick:le,disabled:U===0&&H===0,className:"p-4 rounded-2xl bg-gray-800 text-white disabled:opacity-20 hover:bg-gray-700 transition-all active:scale-95",children:T.jsx(Sm,{size:24})}),be.durationSeconds>0?T.jsxs("div",{className:"flex-1 flex gap-3",children:[T.jsx("button",{onClick:()=>{M(be.durationSeconds),k(!1)},className:"p-4 rounded-2xl bg-gray-800 text-gray-400 hover:text-white transition-all active:scale-95",children:T.jsx(gk,{size:24})}),T.jsx("button",{onClick:()=>k(!D),className:`flex-1 rounded-2xl font-bold text-lg flex items-center justify-center gap-2 transition-all active:scale-95 shadow-lg ${D?"bg-red-500/20 text-red-500 border border-red-500/50":"bg-[var(--color-primary)] text-black"}`,children:D?T.jsxs("span",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-3 h-3 bg-current rounded-sm"})," PAUSAR"]}):T.jsxs("span",{className:"flex items-center gap-2",children:[T.jsx(Cm,{fill:"currentColor",size:20})," INICIAR"]})})]}):T.jsxs("button",{onClick:ne,className:"flex-1 bg-[var(--color-primary)] text-black font-bold py-4 rounded-2xl flex items-center justify-center gap-2 hover:brightness-110 transition-all shadow-lg active:scale-95",children:["SIGUIENTE ",T.jsx(Xb,{size:20})]}),be.durationSeconds>0&&T.jsx("button",{onClick:ne,className:"p-4 rounded-2xl bg-gray-800 text-white hover:bg-gray-700 transition-all active:scale-95",children:T.jsx(Xb,{size:24})})]})}),T.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[150vw] h-[150vw] bg-[var(--color-primary)]/5 blur-[120px] rounded-full pointer-events-none z-0"})]})}return T.jsxs("div",{className:"flex flex-col flex-1 w-full max-w-3xl mx-auto p-4 md:p-6 min-h-0",children:[!o&&!r&&T.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4 text-center",children:[T.jsx("button",{onClick:()=>h(!d),className:"mb-6 text-sm text-[var(--color-primary)] font-bold underline decoration-dotted hover:text-white transition-colors",children:t.equipment&&t.equipment.length>0?`Equipamiento: ${t.equipment.length} items`:"+ Aadir mi equipamiento"}),d&&T.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:T.jsxs("div",{className:"bg-[var(--color-card)] border border-[var(--color-secondary)] rounded-2xl p-6 max-w-sm w-full shadow-2xl",children:[T.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"Tu Gimnasio"}),T.jsx("p",{className:"text-sm text-gray-400 mb-4 text-center",children:"Selecciona lo que tienes disponible. La IA lo usar para variar tus rutinas."}),T.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-[50vh] overflow-y-auto custom-scrollbar mb-6",children:Pme.map(Q=>{var be;return T.jsxs("button",{onClick:()=>S(Q.id),className:`p-3 rounded-xl border text-left text-sm font-medium transition-all flex items-center gap-2 ${(be=t.equipment)!=null&&be.includes(Q.id)?"bg-[var(--color-primary)]/20 border-[var(--color-primary)] text-white":"bg-gray-900 border-gray-700 text-gray-400 hover:border-gray-500"}`,children:[T.jsx("span",{children:Q.icon}),Q.name]},Q.id)})}),T.jsx("button",{onClick:()=>h(!1),className:"w-full bg-[var(--color-primary)] text-black font-bold py-3 rounded-xl hover:brightness-110 transition-all",children:"Guardar y Cerrar"})]})}),T.jsx("div",{className:"bg-[var(--color-secondary)]/20 p-4 rounded-full mb-4 md:mb-6 md:p-6",children:T.jsx(wm,{size:32,className:"text-[var(--color-primary)] md:w-12 md:h-12"})}),T.jsx("h3",{className:"text-xl font-bold mb-2 md:mb-4",children:"Listo para sudar?"}),T.jsx("p",{className:"text-gray-400 mb-6 max-w-sm text-sm md:text-base",children:"La IA crear una rutina personalizada basada en tu nivel y edad."}),T.jsxs("div",{className:"mb-6 w-full max-w-xs",children:[T.jsx("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-2 text-left",children:"Nivel de Intensidad"}),T.jsx("div",{className:"grid grid-cols-2 gap-2",children:["principiante","intermedio","avanzado","experto"].map(Q=>T.jsx("button",{onClick:()=>_(Q),className:`p-2 rounded-lg text-sm font-bold capitalize transition-all ${m===Q?"bg-[var(--color-primary)] text-black shadow-lg scale-105":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:Q},Q))})]}),T.jsxs("button",{onClick:j,className:"bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)] text-white font-bold py-3 px-6 md:py-4 md:px-8 rounded-full shadow-lg hover:scale-105 transition-transform flex items-center gap-2 text-sm md:text-base",children:[T.jsx(nB,{size:18,className:"md:w-5 md:h-5"}),"Generar WOD Ahora"]})]}),r&&T.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[T.jsx(Am,{className:"animate-spin text-[var(--color-primary)]",size:60}),T.jsx("p",{className:"mt-4 text-lg font-medium",children:"Diseando tu sufrimiento..."})]}),o&&T.jsxs("div",{className:"flex-1 overflow-y-auto bg-[var(--color-card)] rounded-2xl border border-[var(--color-secondary)] p-4 md:p-6 shadow-2xl animate-slide-up relative custom-scrollbar",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)]"}),T.jsxs("div",{className:"flex justify-between items-start mb-6",children:[T.jsx("h3",{className:"text-xl md:text-2xl font-black uppercase italic text-[var(--color-text)] leading-tight",children:o.title}),T.jsx("button",{onClick:de,className:"text-red-400 hover:text-red-300 p-1",children:T.jsx(Bu,{size:20})})]}),T.jsxs("div",{className:"space-y-6",children:[o.sections.map((Q,be)=>T.jsxs("div",{className:"p-4 bg-[var(--color-bg)] rounded-xl border-l-4 border-[var(--color-primary)]",children:[T.jsx("h4",{className:"font-bold text-[var(--color-primary)] text-xs uppercase mb-3",children:Q.name}),T.jsx("ul",{className:"space-y-2",children:Q.exercises.map(($,te)=>T.jsxs("li",{className:"flex flex-col sm:flex-row sm:justify-between text-sm border-b border-gray-800 pb-3 last:border-0 gap-1",children:[T.jsx("span",{className:"text-[var(--color-text)] font-bold",children:$.name}),T.jsx("span",{className:"text-gray-500 sm:text-right text-xs sm:text-sm",children:$.instruction})]},te))})]},be)),T.jsxs("div",{className:"mt-8 text-center italic text-gray-500 text-sm",children:['"',o.tips,'"']}),T.jsx("div",{className:"flex gap-3 mt-6",children:T.jsxs("button",{onClick:K,className:"flex-1 bg-[var(--color-primary)] text-black font-bold py-3 rounded-lg flex items-center justify-center gap-2 hover:brightness-110 transition-all shadow-lg",children:[T.jsx(Cm,{size:20}),"EMPEZAR ENTRENAMIENTO"]})}),T.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-800",children:[T.jsx("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-2",children:"Fecha del Entrenamiento"}),T.jsxs("div",{className:"flex items-center gap-2 bg-[var(--color-bg)] p-3 rounded-xl border border-gray-700 focus-within:border-[var(--color-primary)] transition-colors mb-4",children:[T.jsx(ed,{size:20,className:"text-gray-400"}),T.jsx("input",{type:"date",value:u,onChange:Q=>f(Q.target.value),className:"bg-transparent text-[var(--color-text)] w-full focus:outline-none font-medium"})]}),T.jsxs("button",{onClick:L,className:"w-full bg-gray-800 hover:bg-gray-700 text-white font-bold py-3 rounded-lg flex items-center justify-center gap-2 transition-all",children:[T.jsx(hk,{size:20}),"Solo Registrar (Sin Guiar)"]})]})]})]}),E&&T.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:T.jsxs("div",{className:"bg-[var(--color-card)] border border-[var(--color-secondary)] rounded-2xl p-6 max-w-sm w-full shadow-2xl",children:[T.jsx("h3",{className:"text-xl font-bold mb-4 text-center text-[var(--color-text)]",children:"Descartar entrenamiento?"}),T.jsx("p",{className:"text-sm text-gray-400 mb-6 text-center",children:"Si lo descartas, perders esta rutina generada."}),T.jsxs("div",{className:"flex gap-3",children:[T.jsx("button",{onClick:()=>w(!1),className:"flex-1 py-3 rounded-xl font-bold bg-gray-800 text-white hover:bg-gray-700 transition-colors",children:"Cancelar"}),T.jsx("button",{onClick:ge,className:"flex-1 py-3 rounded-xl font-bold bg-red-500/20 text-red-500 border border-red-500/50 hover:bg-red-500/30 transition-colors",children:"S, Descartar"})]})]})})]})},Dme=({user:t,nutritionLogs:e=[],onAddLog:n,onUpdateUser:r,onDeleteLog:i})=>{const[o,l]=N.useState("plan"),[u,f]=N.useState(null),[d,h]=N.useState(!1),[m,_]=N.useState(null),[E,w]=N.useState(!1),[S,C]=N.useState(null),[P,U]=N.useState("lunch"),[O,H]=N.useState(new Date().toISOString().split("T")[0]),F=N.useRef(null),[G,M]=N.useState(!1),[D,k]=N.useState(""),[B,z]=N.useState(""),[j,L]=N.useState({protein:"",carbs:"",fat:""}),[de,ge]=N.useState(t.nutritionGoal||"maintain"),[K,ne]=N.useState(!1),[le,Q]=N.useState(""),be=ue=>{var et;const se=(et=ue.target.files)==null?void 0:et[0];if(se){const Be=new FileReader;Be.onloadend=()=>{f(Be.result),_(null)},Be.readAsDataURL(se)}},$=async()=>{if(u){h(!0);try{const ue=await tQ(u);_({...ue,mealType:P})}catch(ue){console.error("Error analyzing food:",ue),alert(`No pude analizar la comida. Error: ${ue.message||"Desconocido"}`)}finally{h(!1)}}},te=()=>{m&&(C({...m}),w(!0))},pe=()=>{S&&(_(S),w(!1))},_e=()=>{if(m&&n){const ue={id:Date.now().toString()+Math.random().toString(36).substr(2,9),date:new Date(O+"T"+new Date().toTimeString().split(" ")[0]).toISOString(),mealType:P,foodItems:m.foodItems,description:m.foodItems.join(", "),calories:m.calories,macros:m.macros,tips:m.tips||"Anlisis con IA"};n(ue),alert("Comida registrada!"),_(null),f(null)}},Ee=()=>{if(!D||!B){alert("Por favor ingresa una descripcin y las caloras.");return}if(n){const ue={id:Date.now().toString()+Math.random().toString(36).substr(2,9),date:new Date(O+"T"+new Date().toTimeString().split(" ")[0]).toISOString(),mealType:P,foodItems:[D],description:D,calories:parseFloat(B)||0,macros:{protein:parseFloat(j.protein)||0,carbs:parseFloat(j.carbs)||0,fat:parseFloat(j.fat)||0},tips:"Registro manual"};n(ue),alert("Comida registrada manualmente!"),k(""),z(""),L({protein:"",carbs:"",fat:""}),M(!1)}},Re=async()=>{ne(!0);try{const ue=await nQ(t,de);r({...t,nutritionGoal:de,dietPlan:ue})}catch(ue){console.error("Error generating plan:",ue),alert("Error al generar el plan.")}finally{ne(!1)}},Ie=()=>{const ue=parseFloat(le);if(!isNaN(ue)){const se={date:new Date().toISOString(),weight:ue},et=[...t.weightHistory||[],se];r({...t,weight:ue,weightHistory:et}),Q(""),alert("Peso registrado.")}},it=e.filter(ue=>{const se=new Date(ue.date),et=new Date;return se.getDate()===et.getDate()&&se.getMonth()===et.getMonth()&&se.getFullYear()===et.getFullYear()}),ce=it.reduce((ue,se)=>ue+se.calories,0),Oe=ue=>{switch(ue){case"breakfast":return"Desayuno";case"lunch":return"Almuerzo";case"dinner":return"Cena";case"snack":return"Colacin";default:return ue}};return T.jsxs("div",{className:"flex flex-col h-full w-full animate-fade-in",children:[T.jsx("div",{className:"p-4 md:p-6 text-center shrink-0",children:T.jsxs("h2",{className:"text-2xl font-bold flex items-center justify-center gap-2",children:[T.jsx(td,{className:"text-[var(--color-primary)]"}),"Nutricionista ",T.jsx("span",{className:"text-[var(--color-primary)]",children:"AI"})]})}),T.jsxs("div",{className:"flex justify-center gap-2 px-4 mb-4 shrink-0",children:[T.jsx("button",{onClick:()=>l("plan"),className:`px-4 py-2 rounded-full font-bold text-sm transition-all ${o==="plan"?"bg-[var(--color-primary)] text-black":"bg-gray-800 text-gray-400"}`,children:"Objetivos"}),T.jsx("button",{onClick:()=>l("today"),className:`px-4 py-2 rounded-full font-bold text-sm transition-all ${o==="today"?"bg-[var(--color-primary)] text-black":"bg-gray-800 text-gray-400"}`,children:"Registros"}),T.jsx("button",{onClick:()=>l("progress"),className:`px-4 py-2 rounded-full font-bold text-sm transition-all ${o==="progress"?"bg-[var(--color-primary)] text-black":"bg-gray-800 text-gray-400"}`,children:"Progreso"})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-6 pb-4 max-w-3xl mx-auto w-full",children:[o==="today"&&T.jsxs("div",{className:"flex flex-col gap-6",children:[T.jsxs("div",{className:"bg-[var(--color-card)] p-4 rounded-xl border border-[var(--color-secondary)]/30 flex justify-between items-center",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-[var(--color-primary)] font-bold text-sm uppercase",children:"Hoy"}),T.jsxs("div",{className:"text-2xl font-black text-[var(--color-text)]",children:[ce," ",T.jsx("span",{className:"text-sm font-normal text-gray-400",children:"kcal"})]})]}),t.dietPlan&&T.jsxs("div",{className:"text-right",children:[T.jsx("h3",{className:"text-gray-400 font-bold text-sm uppercase",children:"Meta"}),T.jsxs("div",{className:"text-xl font-bold text-gray-300",children:[t.dietPlan.dailyCalories," ",T.jsx("span",{className:"text-sm font-normal text-gray-500",children:"kcal"})]})]})]}),T.jsxs("div",{className:"bg-[var(--color-card)] rounded-2xl border-2 border-dashed border-gray-700 p-6 flex flex-col items-center justify-center relative overflow-hidden min-h-[300px]",children:[!u&&!m&&T.jsxs("div",{className:"absolute top-4 right-4 z-20 flex bg-gray-800 rounded-lg p-1",children:[T.jsx("button",{onClick:()=>M(!1),className:`px-3 py-1 rounded-md text-xs font-bold transition-all ${G?"text-gray-400":"bg-[var(--color-primary)] text-black"}`,children:"Foto"}),T.jsx("button",{onClick:()=>M(!0),className:`px-3 py-1 rounded-md text-xs font-bold transition-all ${G?"bg-[var(--color-primary)] text-black":"text-gray-400"}`,children:"Manual"})]}),G?T.jsxs("div",{className:"w-full max-w-md space-y-4 z-10",children:[T.jsx("h3",{className:"text-lg font-bold text-[var(--color-text)] text-center mb-4",children:"Registro Manual"}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Fecha"}),T.jsx("input",{type:"date",value:O,onChange:ue=>H(ue.target.value),className:"w-full bg-gray-900 text-white p-3 rounded-xl border border-gray-700 focus:border-[var(--color-primary)] outline-none"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Descripcin"}),T.jsx("textarea",{value:D,onChange:ue=>k(ue.target.value),placeholder:"Ej: Ensalada de pollo con palta...",className:"w-full bg-gray-900 text-white p-3 rounded-xl border border-gray-700 focus:border-[var(--color-primary)] outline-none resize-none h-24"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Tipo de Comida"}),T.jsx("div",{className:"grid grid-cols-4 gap-2",children:["breakfast","lunch","snack","dinner"].map(ue=>T.jsx("button",{onClick:()=>U(ue),className:`p-2 rounded-lg text-xs font-bold transition-all truncate ${P===ue?"bg-[var(--color-primary)] text-black":"bg-gray-800 text-gray-400"}`,children:Oe(ue)},ue))})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Caloras"}),T.jsx("input",{type:"number",value:B,onChange:ue=>z(ue.target.value),placeholder:"0",className:"w-full bg-gray-900 text-white p-3 rounded-xl border border-gray-700 focus:border-[var(--color-primary)] outline-none"})]}),T.jsxs("div",{className:"col-span-2 grid grid-cols-3 gap-2",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Prot (g)"}),T.jsx("input",{type:"number",value:j.protein,onChange:ue=>L({...j,protein:ue.target.value}),className:"w-full bg-gray-900 text-blue-400 p-2 rounded-lg border border-gray-800 text-center font-bold text-sm",placeholder:"0"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Carbs (g)"}),T.jsx("input",{type:"number",value:j.carbs,onChange:ue=>L({...j,carbs:ue.target.value}),className:"w-full bg-gray-900 text-green-400 p-2 rounded-lg border border-gray-800 text-center font-bold text-sm",placeholder:"0"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Grasas (g)"}),T.jsx("input",{type:"number",value:j.fat,onChange:ue=>L({...j,fat:ue.target.value}),className:"w-full bg-gray-900 text-yellow-400 p-2 rounded-lg border border-gray-800 text-center font-bold text-sm",placeholder:"0"})]})]})]}),T.jsxs("button",{onClick:Ee,className:"w-full bg-[var(--color-primary)] text-black font-bold py-3 rounded-xl hover:brightness-110 transition-all flex items-center justify-center gap-2 mt-4",children:[T.jsx(Qb,{size:18})," Guardar Registro"]})]}):u?T.jsxs(T.Fragment,{children:[T.jsx("img",{src:u,alt:"Plato",className:"absolute inset-0 w-full h-full object-cover opacity-50"}),T.jsxs("div",{className:"relative z-10 flex flex-col gap-4 w-full max-w-xs",children:[!m&&!d&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"bg-black/80 p-2 rounded-xl backdrop-blur-sm",children:[T.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1 text-center",children:"Tipo de Comida"}),T.jsx("div",{className:"grid grid-cols-2 gap-2",children:["breakfast","lunch","snack","dinner"].map(ue=>T.jsx("button",{onClick:()=>U(ue),className:`p-2 rounded-lg text-xs font-bold transition-all ${P===ue?"bg-[var(--color-primary)] text-black":"bg-gray-700 text-gray-300"}`,children:Oe(ue)},ue))})]}),T.jsxs("button",{onClick:$,className:"bg-[var(--color-primary)] text-black font-bold py-3 px-8 rounded-full shadow-lg hover:scale-105 transition-transform flex items-center justify-center gap-2 w-full",children:[T.jsx(td,{size:20})," Analizar Plato"]})]}),T.jsx("button",{onClick:()=>f(null),className:"bg-black/50 text-white text-sm py-2 px-4 rounded-full backdrop-blur-md hover:bg-black/70 w-full",children:"Cambiar Foto"})]})]}):T.jsxs("div",{className:"text-center space-y-4",children:[T.jsx("div",{className:"w-20 h-20 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx(Hg,{size:40,className:"text-[var(--color-primary)]"})}),T.jsx("h3",{className:"text-lg font-bold text-[var(--color-text)]",children:"Registrar Comida"}),T.jsxs("button",{onClick:()=>{var ue;return(ue=F.current)==null?void 0:ue.click()},className:"bg-[var(--color-secondary)] text-white font-bold py-2 px-6 rounded-xl hover:brightness-110 transition-all flex items-center gap-2 mx-auto",children:[T.jsx(yk,{size:18})," Subir Foto"]})]}),T.jsx("input",{type:"file",ref:F,onChange:be,accept:"image/*",className:"hidden"})]}),d&&T.jsxs("div",{className:"text-center py-8 animate-pulse",children:[T.jsx(Am,{size:40,className:"animate-spin text-[var(--color-primary)] mx-auto mb-4"}),T.jsx("p",{className:"text-lg font-medium text-[var(--color-text)]",children:"Analizando ingredientes..."})]}),m&&T.jsxs("div",{className:"bg-[var(--color-card)] p-6 rounded-2xl border border-[var(--color-secondary)]/50 animate-fade-in space-y-4",children:[T.jsxs("div",{className:"flex justify-between items-center bg-gray-900/30 p-3 rounded-xl",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(ed,{size:16,className:"text-[var(--color-primary)]"}),T.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Fecha del registro"})]}),T.jsx("input",{type:"date",value:O,onChange:ue=>H(ue.target.value),className:"bg-gray-800 text-white text-xs font-bold px-3 py-1.5 rounded-lg border border-gray-700 outline-none focus:border-[var(--color-primary)]"})]}),T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("h3",{className:"text-lg font-bold text-[var(--color-text)]",children:"Anlisis Nutricional"}),E?T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("input",{type:"number",value:S==null?void 0:S.calories,onChange:ue=>C(se=>se?{...se,calories:Number(ue.target.value)}:null),className:"bg-gray-800 text-white px-2 py-1 rounded w-20 text-right font-bold"}),T.jsx("span",{className:"text-xs font-bold text-[var(--color-primary)]",children:"kcal"})]}):T.jsxs("div",{className:"bg-[var(--color-primary)]/20 text-[var(--color-primary)] px-3 py-1 rounded-full text-xs font-bold",children:["~",m.calories," kcal"]})]}),T.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[T.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-xl text-center",children:[T.jsx("div",{className:"text-xs text-[var(--color-text)] opacity-70 uppercase font-bold mb-1",children:"Prot"}),E?T.jsx("input",{type:"number",value:S==null?void 0:S.macros.protein,onChange:ue=>C(se=>se?{...se,macros:{...se.macros,protein:Number(ue.target.value)}}:null),className:"bg-gray-800 text-blue-400 w-full text-center font-black rounded"}):T.jsxs("div",{className:"text-lg font-black text-blue-400",children:[m.macros.protein,"g"]})]}),T.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-xl text-center",children:[T.jsx("div",{className:"text-xs text-[var(--color-text)] opacity-70 uppercase font-bold mb-1",children:"Carbs"}),E?T.jsx("input",{type:"number",value:S==null?void 0:S.macros.carbs,onChange:ue=>C(se=>se?{...se,macros:{...se.macros,carbs:Number(ue.target.value)}}:null),className:"bg-gray-800 text-green-400 w-full text-center font-black rounded"}):T.jsxs("div",{className:"text-lg font-black text-green-400",children:[m.macros.carbs,"g"]})]}),T.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-xl text-center",children:[T.jsx("div",{className:"text-xs text-[var(--color-text)] opacity-70 uppercase font-bold mb-1",children:"Grasas"}),E?T.jsx("input",{type:"number",value:S==null?void 0:S.macros.fat,onChange:ue=>C(se=>se?{...se,macros:{...se.macros,fat:Number(ue.target.value)}}:null),className:"bg-gray-800 text-yellow-400 w-full text-center font-black rounded"}):T.jsxs("div",{className:"text-lg font-black text-yellow-400",children:[m.macros.fat,"g"]})]})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("h4",{className:"text-sm font-bold text-[var(--color-text)] opacity-80 mb-3 uppercase",children:"Alimentos"}),E?T.jsx("textarea",{value:S==null?void 0:S.foodItems.join(", "),onChange:ue=>C(se=>se?{...se,foodItems:ue.target.value.split(",").map(et=>et.trim())}:null),className:"w-full bg-gray-800 text-gray-300 p-2 rounded-lg text-sm",rows:3}):T.jsx("ul",{className:"space-y-2",children:m.foodItems.map((ue,se)=>T.jsxs("li",{className:"flex items-center gap-2 text-sm text-[var(--color-text)] opacity-80",children:[T.jsx(hk,{size:16,className:"text-[var(--color-primary)]"}),ue]},se))})]}),T.jsx("div",{className:"flex gap-3",children:E?T.jsxs("button",{onClick:pe,className:"flex-1 bg-green-600 text-white font-bold py-4 rounded-xl flex items-center justify-center gap-2",children:[T.jsx(Qb,{size:20})," Guardar"]}):T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:te,className:"bg-gray-800 text-white font-bold p-4 rounded-xl",children:T.jsx(Gq,{size:20})}),T.jsx("button",{onClick:_e,className:"flex-1 bg-[var(--color-primary)] text-black font-bold py-4 rounded-xl",children:"Registrar Comida"})]})})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("h3",{className:"text-lg font-bold text-[var(--color-text)] flex items-center gap-2",children:[T.jsx(pk,{size:20,className:"text-[var(--color-primary)]"}),"Historial de Hoy"]}),it.length>0?it.map(ue=>T.jsxs("div",{className:"bg-[var(--color-card)] p-4 rounded-xl border border-gray-800 flex justify-between items-center group",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[T.jsx("span",{className:"text-xs font-bold text-[var(--color-primary)] uppercase bg-[var(--color-primary)]/10 px-2 py-0.5 rounded",children:Oe(ue.mealType)}),T.jsx("span",{className:"text-xs text-gray-500",children:new Date(ue.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),T.jsx("p",{className:"text-sm text-[var(--color-text)] font-medium line-clamp-1",children:ue.foodItems.join(", ")})]}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsxs("div",{className:"text-right",children:[T.jsx("div",{className:"font-bold text-[var(--color-text)]",children:ue.calories}),T.jsx("div",{className:"text-xs text-gray-500",children:"kcal"})]}),i&&T.jsx("button",{onClick:se=>{se.stopPropagation(),i(ue.id)},className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/20 rounded-lg transition-colors relative z-10",children:T.jsx(Bu,{size:18})})]})]},ue.id)):T.jsx("div",{className:"text-center py-8 text-gray-500 bg-gray-900/30 rounded-xl border border-dashed border-gray-800",children:T.jsx("p",{children:"No has registrado comidas hoy."})})]})]}),o==="plan"&&T.jsxs("div",{className:"flex flex-col gap-6",children:[T.jsxs("div",{className:"bg-[var(--color-card)] p-6 rounded-2xl border border-[var(--color-secondary)]",children:[T.jsxs("h3",{className:"text-xl font-bold text-[var(--color-text)] mb-4 flex items-center gap-2",children:[T.jsx(Im,{className:"text-[var(--color-primary)]"})," Tu Objetivo"]}),T.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:["lose_weight","gain_muscle","maintain","performance"].map(ue=>T.jsxs("button",{onClick:()=>ge(ue),className:`p-3 rounded-xl text-sm font-bold border-2 transition-all ${de===ue?"border-[var(--color-primary)] bg-[var(--color-primary)]/10 text-[var(--color-primary)]":"border-gray-700 text-gray-400 hover:border-gray-500"}`,children:[ue==="lose_weight"&&"Perder Peso",ue==="gain_muscle"&&"Ganar Msculo",ue==="maintain"&&"Mantener",ue==="performance"&&"Rendimiento"]},ue))}),T.jsxs("button",{onClick:Re,disabled:K,className:"w-full bg-[var(--color-primary)] text-black font-bold py-4 rounded-xl hover:brightness-110 transition-all shadow-lg flex items-center justify-center gap-2",children:[K?T.jsx(Am,{className:"animate-spin"}):T.jsx(Im,{size:20}),t.dietPlan?"Regenerar Plan":"Generar Plan de Dieta"]})]}),t.dietPlan&&T.jsxs("div",{className:"bg-[var(--color-card)] p-6 rounded-2xl border border-[var(--color-secondary)] animate-slide-up",children:[T.jsx("h3",{className:"text-xl font-bold text-[var(--color-text)] mb-4",children:"Tu Plan Diario"}),T.jsxs("div",{className:"flex justify-between mb-6 bg-black/30 p-4 rounded-xl",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-2xl font-black text-[var(--color-primary)]",children:t.dietPlan.dailyCalories}),T.jsx("div",{className:"text-xs text-gray-400",children:"Kcal"})]}),T.jsxs("div",{className:"text-center",children:[T.jsxs("div",{className:"text-xl font-bold text-blue-400",children:[t.dietPlan.macros.protein,"g"]}),T.jsx("div",{className:"text-xs text-gray-400",children:"Prot"})]}),T.jsxs("div",{className:"text-center",children:[T.jsxs("div",{className:"text-xl font-bold text-green-400",children:[t.dietPlan.macros.carbs,"g"]}),T.jsx("div",{className:"text-xs text-gray-400",children:"Carbs"})]}),T.jsxs("div",{className:"text-center",children:[T.jsxs("div",{className:"text-xl font-bold text-yellow-400",children:[t.dietPlan.macros.fat,"g"]}),T.jsx("div",{className:"text-xs text-gray-400",children:"Grasas"})]})]}),T.jsx("div",{className:"space-y-4",children:t.dietPlan.meals.map((ue,se)=>T.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-xl",children:[T.jsxs("div",{className:"flex justify-between items-start mb-1",children:[T.jsx("h4",{className:"font-bold text-[var(--color-text)]",children:ue.name}),T.jsxs("span",{className:"text-xs font-bold text-[var(--color-primary)]",children:[ue.calories," kcal"]})]}),T.jsx("p",{className:"text-sm text-gray-400",children:ue.description})]},se))})]})]}),o==="progress"&&T.jsx("div",{className:"flex flex-col gap-6",children:T.jsxs("div",{className:"bg-[var(--color-card)] p-6 rounded-2xl border border-[var(--color-secondary)]",children:[T.jsxs("h3",{className:"text-xl font-bold text-[var(--color-text)] mb-4 flex items-center gap-2",children:[T.jsx(Zb,{className:"text-[var(--color-primary)]"})," Control de Peso"]}),T.jsxs("div",{className:"flex gap-3 mb-6",children:[T.jsx("input",{type:"number",value:le,onChange:ue=>Q(ue.target.value),placeholder:"Peso actual (kg)",className:"flex-1 bg-gray-900 text-white p-4 rounded-xl border border-gray-700 focus:border-[var(--color-primary)] outline-none"}),T.jsx("button",{onClick:Ie,className:"bg-[var(--color-primary)] text-black font-bold px-6 rounded-xl",children:"Registrar"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("h4",{className:"text-sm font-bold text-gray-400 uppercase mb-2",children:"Historial"}),t.weightHistory&&t.weightHistory.length>0?[...t.weightHistory].reverse().map((ue,se)=>T.jsxs("div",{className:"flex justify-between items-center bg-gray-900/30 p-3 rounded-lg",children:[T.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[T.jsx(ed,{size:16}),T.jsx("span",{className:"text-sm",children:new Date(ue.date).toLocaleDateString()})]}),T.jsxs("span",{className:"font-bold text-[var(--color-text)]",children:[ue.weight," kg"]})]},se)):T.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay registros an."})]})]})})]})]})},kme=()=>{const[t,e]=N.useState(null),n=async()=>{try{const r=new zo;await NG(NT,r)}catch(r){console.error("Login error:",r),e("Error: "+(r.message||"No se pudo iniciar sesin."))}};return T.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-black text-white p-4 relative overflow-hidden",children:[T.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0",children:[T.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-[#ff0033] rounded-full blur-[150px] opacity-20 animate-pulse"}),T.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-[#00ffff] rounded-full blur-[150px] opacity-20 animate-pulse delay-1000"})]}),T.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center max-w-md w-full",children:[T.jsxs("div",{className:"mb-8 flex items-center gap-3",children:[T.jsx(qu,{size:60,className:"text-[#ff0033]"}),T.jsxs("h1",{className:"text-5xl font-black tracking-tighter",children:["Crossfit-",T.jsx("span",{className:"text-[#ff0033]",children:"AI"})]})]}),T.jsx("p",{className:"text-gray-400 mb-12 text-lg",children:"Tu entrenador personal inteligente. Analiza tus WODs, controla tu nutricin y supera tus lmites."}),T.jsxs("button",{onClick:n,className:"w-full bg-white text-black font-bold py-4 px-6 rounded-2xl flex items-center justify-center gap-3 hover:scale-105 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.3)]",children:[T.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-6 h-6"}),T.jsx("span",{children:"Continuar con Google"})]}),t&&T.jsx("p",{className:"mt-4 text-red-500 text-sm font-bold bg-red-500/10 p-3 rounded-lg border border-red-500/20",children:t}),T.jsxs("div",{className:"mt-16 grid grid-cols-3 gap-4 text-center text-xs text-gray-500",children:[T.jsxs("div",{className:"flex flex-col items-center gap-2",children:[T.jsx(wm,{size:24,className:"text-[#ff0033]"}),T.jsx("span",{children:"WOD Analysis"})]}),T.jsxs("div",{className:"flex flex-col items-center gap-2",children:[T.jsx(qu,{size:24,className:"text-[#00ffff]"}),T.jsx("span",{children:"Progress Tracking"})]}),T.jsxs("div",{className:"flex flex-col items-center gap-2",children:[T.jsx("div",{className:"text-2xl",children:""}),T.jsx("span",{children:"AI Nutritionist"})]})]})]})]})},uk={name:"Atleta",age:25,weight:75,height:175,gender:"male",fitnessLevel:"principiante",xp:0,levelProgress:0,isRegistered:!1,language:"es"},Ome=am[0],Lme=()=>{const[t,e]=N.useState("dashboard"),[n,r]=N.useState("scan"),[i,o]=N.useState(()=>{const ge=localStorage.getItem("cf_theme");return ge?JSON.parse(ge):Ome}),[l,u]=N.useState(uk),[f,d]=N.useState([]),[h,m]=N.useState([]),[_,E]=N.useState(!0),[w,S]=N.useState(null),[C,P]=N.useState(""),[U,O]=N.useState({isOpen:!1,type:null,id:null});N.useEffect(()=>{const ge=uG(NT,K=>{if(S(K),K){P(K.uid);const ne=Uo(hr,"users",K.uid),le=d_(ne,pe=>{if(pe.exists())u(pe.data());else{const _e={...uk,name:K.displayName||"Atleta",avatar:K.photoURL||void 0};Rf(ne,_e),u(_e)}E(!1)}),Q=oN(Bp(hr,"workoutLogs"),aN("userId","==",K.uid)),be=d_(Q,pe=>{const _e=pe.docs.map(Ee=>({id:Ee.id,...Ee.data()}));d(_e)}),$=oN(Bp(hr,"nutritionLogs"),aN("userId","==",K.uid)),te=d_($,pe=>{const _e=pe.docs.map(Ee=>({id:Ee.id,...Ee.data()}));m(_e)});return()=>{le(),be(),te()}}else P(""),d([]),m([]),E(!1)});return()=>ge()},[]),N.useEffect(()=>localStorage.setItem("cf_theme",JSON.stringify(i)),[i]);const H=async ge=>{if(C)try{await Rf(Uo(hr,"users",C),ge,{merge:!0})}catch(K){console.error("Error updating user:",K)}};N.useEffect(()=>{const ge=()=>{if(!l.lastActiveDate||!l.xp)return;const K=new Date,ne=new Date(l.lastActiveDate),le=Math.abs(K.getTime()-ne.getTime());if(Math.ceil(le/(1e3*60*60*24))>3){const be=l.lastPenaltyDate?new Date(l.lastPenaltyDate):ne,$=Math.abs(K.getTime()-be.getTime()),te=Math.floor($/(1e3*60*60*24));if(te>0){const _e=te*20,Ee=Math.max(0,l.xp-_e);if(Ee!==l.xp){const{level:Re,progress:Ie}=F(Ee),it={...l,xp:Ee,fitnessLevel:Re,levelProgress:Ie,lastPenaltyDate:K.toISOString()};H(it),alert(`Has perdido ${_e} XP por inactividad! Entrena para recuperar tu nivel.`)}}}};ge(),ge()},[]),N.useEffect(()=>{let ge=!1;const K=f.map(le=>le.id?le:(ge=!0,{...le,id:crypto.randomUUID()})),ne=h.map(le=>le.id?le:(ge=!0,{...le,id:crypto.randomUUID()}));ge&&(d(K),m(ne),console.log("Fixed missing IDs in logs"))},[f.length,h.length]);const F=ge=>{const K={intermedio:1e3,avanzado:3e3,experto:7e3,master:15e3};return ge>=K.master?{level:"master",progress:100}:ge>=K.experto?{level:"experto",progress:(ge-K.experto)/(K.master-K.experto)*100}:ge>=K.avanzado?{level:"avanzado",progress:(ge-K.avanzado)/(K.experto-K.avanzado)*100}:ge>=K.intermedio?{level:"intermedio",progress:(ge-K.intermedio)/(K.avanzado-K.intermedio)*100}:{level:"principiante",progress:ge/K.intermedio*100}},G=ge=>{const K=100+(ge.xpEarned||0),ne=(l.xp||0)+K,{level:le,progress:Q}=F(ne),be={...l,xp:ne,fitnessLevel:le,levelProgress:Q,lastActiveDate:new Date().toISOString(),lastPenaltyDate:new Date().toISOString()};H(be);const $=Uo(Bp(hr,"workoutLogs"));Rf($,{...ge,id:$.id,userId:C}),e("dashboard")},M=ge=>{const K=Uo(Bp(hr,"nutritionLogs"));Rf(K,{...ge,id:K.id,userId:C})},D=ge=>{O({isOpen:!0,type:"workout",id:ge})},k=ge=>{O({isOpen:!0,type:"nutrition",id:ge})},B=async()=>{if(U.type==="workout"&&U.id){await Rf(Uo(hr,"workoutLogs",U.id),{},{merge:!1});const ge=p_(hr);ge.delete(Uo(hr,"workoutLogs",U.id)),await ge.commit()}else if(U.type==="nutrition"&&U.id){const ge=p_(hr);ge.delete(Uo(hr,"nutritionLogs",U.id)),await ge.commit()}else if(U.type==="reset"){const ge=Uo(hr,"users",C),K=p_(hr);K.update(ge,{xp:0,fitnessLevel:"principiante",levelProgress:0,lastActiveDate:uN(),lastPenaltyDate:uN()}),f.forEach(ne=>{K.delete(Uo(hr,"workoutLogs",ne.id))}),await K.commit(),alert("Progreso reiniciado correctamente!")}O({isOpen:!1,type:null,id:null})},z=()=>{O({isOpen:!0,type:"reset",id:null})},j=()=>{O({isOpen:!1,type:null,id:null})},L=()=>T.jsxs("div",{className:"h-full flex flex-col",children:[T.jsxs("div",{className:"flex bg-[var(--color-card)] p-1 rounded-lg mb-4 shrink-0",children:[T.jsx("button",{className:`flex-1 py-2 text-sm font-bold rounded-md transition-colors ${n==="scan"?"bg-[var(--color-primary)] text-white":"text-gray-400"}`,onClick:()=>r("scan"),children:"Escanear WOD"}),T.jsx("button",{className:`flex-1 py-2 text-sm font-bold rounded-md transition-colors ${n==="coach"?"bg-[var(--color-primary)] text-white":"text-gray-400"}`,onClick:()=>r("coach"),children:"AI Coach"})]}),T.jsx("div",{className:"flex-1 overflow-hidden relative flex flex-col min-h-0",children:n==="scan"?T.jsx(rQ,{user:l,onAddLog:G,onUpdateUser:H}):T.jsx(Mme,{user:l,onAddLog:G,onUpdateUser:H})})]}),de=()=>{switch(t){case"dashboard":return T.jsx(sk,{logs:f,user:l,nutritionLogs:h,onDeleteLog:D});case"workout":return L();case"timers":return T.jsx(Sme,{});case"movements":return T.jsx(Rme,{});case"nutrition":return T.jsx(Dme,{user:l,nutritionLogs:h,onAddLog:M,onUpdateUser:H,onDeleteLog:k});case"profile":return T.jsx(T$,{user:l,onUpdateUser:H,currentTheme:i,onUpdateTheme:o,onReset:z});default:return T.jsx(sk,{logs:f,user:l,nutritionLogs:h,onDeleteLog:D})}};return _?T.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#ff0033]"})}):w?T.jsxs(xB,{activeTab:t,setActiveTab:e,theme:i,children:[de(),U.isOpen&&T.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",children:T.jsxs("div",{className:"bg-[var(--color-card)] w-full max-w-sm rounded-2xl border border-[var(--color-secondary)] shadow-2xl p-6",children:[T.jsx("h3",{className:"text-xl font-bold text-[var(--color-text)] mb-2",children:U.type==="reset"?"Reiniciar Progreso?":"Eliminar registro?"}),T.jsx("p",{className:"text-gray-400 mb-6",children:U.type==="reset"?"Se eliminarn todos los entrenamientos y volvers al nivel Principiante. Esta accin no se puede deshacer.":"Esta accin no se puede deshacer. Ests seguro de que quieres continuar?"}),T.jsxs("div",{className:"flex gap-3",children:[T.jsx("button",{onClick:j,className:"flex-1 py-3 bg-gray-800 hover:bg-gray-700 text-white font-bold rounded-xl transition-colors",children:"Cancelar"}),T.jsx("button",{onClick:B,className:"flex-1 py-3 bg-red-500 hover:bg-red-600 text-white font-bold rounded-xl transition-colors",children:"Eliminar"})]})]})})]}):T.jsx(kme,{})},l5=document.getElementById("root");if(!l5)throw new Error("Could not find root element to mount to");const Ume=Qz.createRoot(l5);Ume.render(T.jsx(ck.StrictMode,{children:T.jsx(Lme,{})}));
